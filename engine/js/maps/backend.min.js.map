{"version":3,"sources":["mootools-core-1.4.5-full-compat-yc.js","mootools-1.2.5.1-more.js","mootools-1.2.5.1-more-delegation.js","Element.Data.js","picturefill.min.js","milkbox.js","berta.helpers.js","BertaBackToTop.js","BertaGallerySlideshow.js","BertaGalleryRow.js","BertaGalleryColumn.js","BertaGalleryPile.js","BertaGalleryLink.js","BertaPortfolio.js","Assets.js","BertaEditorBase.js","inline_edit.js","BertaEditor.js","tinymce.min.js","theme.min.js","icons.min.js","model.min.js","plugin.min.js","mooRainbow.1.2b2.js","lassocrop.js","polyfill.min.js","fetch.js","immutable.min.js","redux.min.js","redux-thunk.min.js","swiper.min.js"],"names":["this","MooTools","version","build","e","typeOf","i","$family","nodeName","nodeType","test","nodeValue","length","callee","u","instanceOf","w","v","$constructor","constructor","parent","hasOwnProperty","f","Function","r","q","toString","prototype","overloadSetter","x","y","call","z","overloadGetter","arguments","extend","implement","o","Array","slice","from","k","isEnumerable","Number","parseFloat","isFinite","String","hide","$hidden","protect","$protected","Type","toLowerCase","type","p","Object","b","d","h","A","t","apply","alias","mirror","push","c","E","B","F","D","C","propertyIsEnumerable","forEachMethod","J","I","G","H","RegExp","Date","Boolean","Math","floor","random","l","each","forEach","s","clone","a","merge","append","j","now","g","Hash","getClean","getLength","isObject","n","Native","name","initialize","m","$A","$arguments","$chk","$clear","clearTimeout","clearInterval","$defined","$each","$empty","$extend","$H","$merge","unshift","$lambda","$mixin","$random","$splat","$time","$type","$unlink","every","filter","indexOf","max","map","some","clean","invoke","associate","min","link","contains","getLast","getRandom","include","combine","erase","splice","empty","flatten","concat","pick","hexToRgb","toInt","rgbToHex","join","$pick","trim","replace","camelCase","charAt","toUpperCase","hyphenate","capitalize","escapeRegExp","parseInt","toFloat","match","substitute","limit","round","pow","toFixed","times","attempt","bind","pass","delay","setTimeout","periodical","setInterval","create","event","window","bindWithEvent","run","$try","subset","keys","values","keyOf","toQueryString","encodeURIComponent","has","hasValue","set","get","getKeys","getValues","document","navigator","userAgent","platform","documentMode","Browser","Platform","Features","xpath","air","query","json","Plugins","Request","XMLHttpRequest","ActiveXObject","xhr","plugins","description","GetVariable","Flash","exec","execScript","createElement","setAttribute","text","head","appendChild","removeChild","Document","Window","Element","Event","html","documentElement","getElementsByTagName","execCommand","attachEvent","addEventListener","detachEvent","childNodes","ios","ipod","Engine","ie","trident","firefox","gecko","safari","chrome","webkit","opera","presto","$exec","DOMEvent","$extended","shift","shiftKey","control","ctrlKey","alt","altKey","meta","metaKey","target","srcElement","parentNode","id","code","which","keyCode","key","Keys","fromCharCode","compatMode","body","page","pageX","clientX","scrollLeft","pageY","clientY","scrollTop","client","pageXOffset","pageYOffset","wheel","wheelDelta","detail","rightClick","button","relatedTarget","rotation","scale","targetTouches","changedTouches","touches","stop","preventDefault","stopPropagation","cancelBubble","returnValue","defineKey","defineKeys","38","40","37","39","27","32","8","9","46","13","Class","$prototyping","$caller","caller","Error","$name","$owner","$origin","Mutators","Extends","Implements","Chain","$chain","chain","callChain","clearChain","Events","$events","addEvent","internal","addEvents","fireEvent","removeEvent","removeEvents","Options","setOptions","options","expressions","reverseCombinator","combinator","tag","classList","classes","value","regexp","pseudos","attributes","operator","Slick","raw","reverse","parts","parse","exports","isNativeCode","isXML","xmlVersion","xml","setDocument","ownerDocument","getUIDXML","root","isXMLDocument","brokenStarGEBTN","starSelectsClosedQSA","idGetsName","brokenMixedCaseQSA","brokenGEBCN","brokenCheckedQSA","brokenEmptyAttributeQSA","isHTMLDocument","nativeMatchesSelector","innerHTML","getElementById","style","display","createComment","firstChild","getElementsByClassName","className","querySelectorAll","getAttribute","matchesSelector","mozMatchesSelector","webkitMatchesSelector","slick_expando","getUID","getUIDHTML","attributeGetters","getAttributeNode","hasAttribute","specified","compareDocumentPosition","documentSorter","sourceIndex","createRange","setStart","setEnd","compareBoundaryPoints","Range","START_TO_END","search","U","found","O","V","uniques","simpleSelectors","T","sort","querySelector","disableQSA","S","Q","removeAttribute","posNTH","posNTHLast","posNTHType","posNTHTypeLast","pushArray","pushUID","M","L","K","W","N","P","R","bitUniques","uidx","uidk","uniqueNumber","cacheNTH","matchNTH","parseNTHArgument","createNTHPseudo","matchSelector","matchNode","currentExpression","matchPseudo"," ","getById","all","getByClass",">","nextSibling","+","^","~","++","~~","!","!>","!+","previousSibling","!^","lastChild","!~","innerText","textContent","not","first-child","last-child","only-child","nth-child","nth-last-child","nth-of-type","nth-last-of-type","index","even","odd","first-of-type","last-of-type","only-of-type","enabled","disabled","checked","selected","focus","activeElement","href","for","htmlFor","cssText","tabindex","maxlength","MAXLENGTH","maxLength","find","defineAttributeGetter","lookupAttributeGetter","definePseudo","lookupPseudo","override","uidOf","Constructors","newElement","_fireEvent","Elements","Prototype","IFrame","properties","iframe","onload","uniqueID","contentWindow","frames","addListener","0","1","defaultChecked","newTextNode","createTextNode","getDocument","getWindow","string","element","tagName","object","toElement","textnode","whitespace","$","getElements","getElement","Selectors","Pseudo","getNext","getPrevious","getParent","getAllNext","getAllPrevious","getSiblings","getChildren","getParents","getFirst","$$","before","insertBefore","after","bottom","top","inside","class","setProperty","retrieve","setProperties","getProperty","expando","outerHTML","substr","getProperties","removeProperty","removeProperties","Properties","hasClass","addClass","removeClass","toggleClass","adopt","createDocumentFragment","appendText","grab","inject","replaces","replaceChild","wraps","getSelected","selectedIndex","clearAttributes","input","option","textarea","destroy","dispose","cloneNode","mergeAttributes","removeListener","removeEventListener","store","eliminate","CollectGarbage","split","table","select","tbody","tr","thead","tfoot","color","styles","setStyles","opacity","visibility","currentStyle","hasLayout","zoom","getComputedStyle","cssFloat","defaultView","getPropertyValue","setStyle","Styles","getStyle","ShortStyles","isNaN","getStyles","left","right","width","height","maxWidth","maxHeight","minWidth","minHeight","backgroundColor","backgroundPosition","fontSize","letterSpacing","lineHeight","clip","margin","padding","border","borderWidth","borderStyle","borderColor","zIndex","fontWeight","textIndent","setOpacity","getOpacity","events","onAdd","condition","base","NativeEvents","onRemove","cloneEvents","click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","gesturestart","gesturechange","gestureend","blur","change","reset","submit","paste","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll","mouseenter","mouseleave","prefix","propertychange","propertyName","focusin","focusout","capture","remove","forms","fns","listen","fn","delegator","offsetParent","scrollTo","getSize","offsetWidth","offsetHeight","getScrollSize","scrollWidth","scrollHeight","getScroll","getScrolls","getOffsetParent","getOffsets","getBoundingClientRect","clientLeft","clientTop","offsetLeft","offsetTop","getPosition","getCoordinates","computePosition","setPosition","clientWidth","clientHeight","position","getHeight","getWidth","getScrollTop","getScrollLeft","getScrollHeight","getScrollWidth","getTop","getLeft","Fx","fps","unit","duration","frameSkip","subject","getTransition","cos","PI","step","time","frameInterval","frame","transition","compute","to","check","isRunning","cancel","start","Durations","pause","resume","short","normal","long","CSS","prepare","pixelLeft","Parsers","parser","serve","render","Cache","styleSheets","domain","rules","cssRules","selectorText","Color","Tween","property","tween","fade","highlight","Morph","morph","Transitions","Sine","easeInOut","Transition","easeIn","easeOut","linear","Pow","Expo","Circ","sin","acos","Back","Bounce","Elastic","url","data","headers","X-Requested-With","Accept","async","format","method","isSuccess","emulation","urlEncoded","encoding","evalScripts","evalResponse","timeout","noCache","onStateChange","readyState","running","status","onreadystatechange","onprogress","onloadstart","timer","response","responseText","responseXML","success","failure","processScripts","getHeader","stripScripts","onSuccess","onFailure","loadstart","progress","setHeader","getResponseHeader","send","location","pathname","lastIndexOf","open","user","password","withCredentials","setRequestHeader","HTML","update","javascript","tree","elements","isString","JSON","stringify","special","\b","\t","\n","\f","\r","\"","\\","escape","chr","charCodeAt","validate","encode","obj","toJSON","decode","secure","eval","X-Request","Cookie","path","write","setTime","getTime","toGMTString","cookie","read","decodeURIComponent","loaded","doScroll","domready","Swiff","container","params","quality","allowScriptAccess","wMode","swLiveConnect","callBacks","vars","instance","CallBacks","self","callBack","flashVars","classid","movie","param","remote","rs","CallFunction","__flash__argumentsToXML","More","language","languages","en-US","cascades","lang","setLanguage","cascade","getCurrentLanguage","lambda","addLanguage","langData","list","refactor","_origin","previous","Binds","Occlude","occlude","occluded","wait","chains","pauseFx","Methods","ms","year","mo","sec","hr","increment","units","decrement","isLeapYear","clearTime","diff","getLastDayOfMonth","daysInMonth","getDayOfYear","UTC","day","getWeek","ceil","getOrdinal","getMsg","getTimezone","getGMTOffset","abs","setAMPM","getAMPM","isValid","valueOf","toISOString","db","compact","iso8601","rfc822","second","minute","hour","week","month","re","handler","parseDay","parseMonth","parseUTC","orderIndex","defineFormat","defineFormats","parsePatterns","defineParser","defineParsers","define2DigitYearStart","Y","source","getTimezoneOffset","timeDiffInWords","distanceOfTimeInWords","timeDiff","getTimePhrase","eon","Infinity","delta","getDay","getDate","getFromPath","cleanValues","reg","ue","UE","Z","th","TH","dh","DH","ss","oe","OE","ae","AE","*","'","...","-","--","&raquo;","standardize","repeat","pad","getTags","stripTags","tidy","parseQueryString","cleanQueryString","URI","regex","schemes","http","https","ftp","rtsp","mms","file","parsed","scheme","port","directory","parseDirectory","regs","directoryDot","endSlash","pop","host","fragment","setData","getData","go","toURI","clearData","toAbsolute","toRelative","measure","expose","getDimensions","computeSize","getComputedSize","plains","planes","mode","pin","unpin","togglepin","relativeTo","edge","offset","returnPos","relFixedPosition","ignoreMargins","ignoreScroll","allowNegative","computedRight","computedLeft","totalWidth","computedTop","computedBottom","totalHeight","isDisplayed","isVisible","toggle","show","swapClass","clearSelection","selection","getSelection","removeAllRanges","OverText","positionOptions","poll","pollInterval","wrap","attach","instances","textOverride","cursor","textHolder","enable","disable","assert","reposition","startPolling","pollingPaused","poller","stopPolling","hideAll","showAll","Reveal","hideInputs","Move","transitionOpacity","trident4","dissolve","hiding","showing","hidden","reveal","heightOverride","widthOverride","overflow","visiblity","nix","wink","Scroll","wheelStops","toTop","toLeft","toRight","toBottom","scrollIntoView","scrollToCenter","Slide","wrapper","hideOverflow","resetHeight","layout","webkit419","vertical","horizontal","slideIn","slideOut","slide","SmoothScroll","doc","links","useLink","hash","anchor","Sort","setDefaultOrder","currentOrder","rearrangeDOM","getDefaultOrder","forward","backward","sortByElements","swap","Drag","snap","grid","handle","invert","modifiers","handles","mouse","pos","bound","drag","eventStop","detach","_invert","sqrt","makeResizable","droppables","precalculate","includeMargins","checkDroppables","overed","calculateLimit","positions","checkAgainst","makeDraggable","Sortables","revert","constrain","lists","idle","addLists","effect","removeLists","addItems","removeItems","getClone","getDroppables","insert","onSnap","onEnter","onCancel","onComplete","end","serialize","modifier","Asset","onLoad","src","css","rel","media","image","onabort","onerror","Image","complete","images","onProgress","onError","hsbToRgb","hsb","rgb","rgbToHsb","hex","mix","setHue","setSaturation","setBrightness","$RGB","$HSB","$HEX","months","days","dateOrder","shortDate","shortTime","AM","PM","ordinal","lessThanMinuteAgo","minuteAgo","minutesAgo","hourAgo","hoursAgo","dayAgo","daysAgo","weekAgo","weeksAgo","monthAgo","monthsAgo","yearAgo","yearsAgo","lessThanMinuteUntil","minuteUntil","minutesUntil","hourUntil","hoursUntil","dayUntil","daysUntil","weekUntil","weeksUntil","monthUntil","monthsUntil","yearUntil","yearsUntil","selector","hasChild","HTMLElement","formatDataProperty","prop","rbrace","force","len","attribs","ii","hasData","define","amd","Milkbox","overlayOpacity","topPosition","initialWidth","initialHeight","canvasBorderWidth","canvasBorderColor","canvasPadding","resizeDuration","resizeTransition","autoPlay","autoPlayDelay","removeTitle","autoSize","imageOfText","onXmlGalleries","onClosed","onFileReady","autoPlayBkup","fullOptionsBkup","galleries","families","xmlFiles","loadedImages","currentFile","currentIndex","currentGallery","currentRequest","currentResponse","closed","busy","paused","fileReady","eventsok","first","activated","intObj","formtags","prepareGalleries","bertaGlobalOptions","galleryFullScreenBackground","saveOptions","initMilkbox","checkTags","prepareHTML","prepareEffects","prepareEvents","openMilkbox","gallery","overlay","center","loadFile","playpauseWidth","close","prev","next","galleryFullScreenImageNumbers","count","playpause","preloads","fileObj","swf","checkFileType","loadSwf","loadImage","preloadFiles","preloadImage","img","loadAux","swfObj","navigation","showFile","targetSize","canvasSize","canvasAddSize","gap","fileSize","centerSize","canvas","item","next_prev_aux","paddings","marginLeft","oSize","ratio","size","wSize","baseSize","showGallery","opt","fileIndex","getGallery","auto","autoplay","opened","startAutoPlay","addGalleries","xmlfile","autoCancel","onRequest","setGalleries","transport","alert","aplist","lx","setAutoPlay","trimmed","cleanName","setFileProps","propString","changeOptions","restoreOptions","reloadGalleries","removeGalleriesEvents","setGalleriesEvents","stopAutoPlay","closeMilkbox","specialDescription","currentCenterHeight","bottomSize","targetOffset","scrollSize","direction","_i","responseElements","milkbox_a","a_tags","title","rev","gMounted","galleryFullScreenCaptionAlign","cancelAllEffects","BertaHelpers","logoutUser","reload","postMessage","isMobile","agent","vendor","debounce","func","immediate","context","args","later","callNow","throttle","callback","updateQueryStringParameter","uri","separator","BertaBackToTop","backToTopEnabled","showTimeout","config","bufferSize","scrollSpeed","buttonShowTime","isTouchDevice","add","easeInOutQuad","scrollToPos","scrollingElement","currentTime","animateScroll","val","isButtonVisible","scrollPos","innerHeight","toggleButtonVisibility","BertaGallerySlideshow","imageContainer","gallerySwiper","navContainer","is_mobile_device","initOptions","loadFirst","fullscreen","asRowGallery","swiperOptions","loop","nav_highlightItem","li","swiperEl","videos","loadVideo","video","muted","play","unLoadVideo","galleryWrapper","setFullWidth","galleryPosition","init","centeredSlides","slidesPerView","spaceBetween","autoHeight","releaseOnEdges","fadeEffect","crossFade","nextEl","prevEl","Swiper","on","galleryItem","isNextEl","slideNext","isPrevEl","slidePrev","BertaGalleryFullscreen","reloadSwiper","activeIndex","slides","isImageSlide","$el","previousIndex","realIndex","nav_setEvents","bRotate","selectedLi","nav_onItemClick","linkElement","slideTo","getClassStoredValue","liElement","BertaGalleryRow","rowClearElement","newObjectInjectWhere","newObjectInjectPosition","currentSrc","preload","loadTimer","loadedItems","currentItem","layout_update","galleryEditButton","galleryLoader","environment","aEl","loadNext","nextLi","attachFullscreen","items","rowGalleryPadding","el","layout_inject","currentItemIsLoaded","picturefill","mType","mWidth","mHeight","videoPath","caption","xImgIndex","srcset","load_Render","altText","load_Finish","controls","controlsList","poster","videoType","BertaGalleryColumn","phase","imageFadeOutFx","imageResizeFx","imageShowFx","fistItemType","itmSize","bDeleteExisting","bDoContainerFade","currentVideoAutoPlay","currentCaption","loader","BertaGalleryPile","layout_pileOnHoverBinded","layout_pileOnHover","layout_rowTotalHeight","layout_rowTotalWidth","zPlus","BertaGalleryLink","BertaPortfolio","onDOMReady","onAddPortfolio","portfolioThumbnails","showEntry","entry","berta","initGallery","bertaEditor","entries","that","Singleton","flag","__instance","undefined","UnlinearProcessHandler","_processes","_observables","debug","addObservable","hasUnlinearProcessDispatcher","_onStart","_onEnd","removeObservable","getRunningTitles","retArray","hasRunning","initiator","isIdleOrWarnIfBusy","titles","processInitiator","processId","processTitle","console","log","started","UnlinearProcessDispatcher","unlinearProcess_getId","unlinearProcess_start","unlinearProcess_stop","ProgressBar","total","getIndex","exists","varName","setClassStoredValue","varValue","curValue","BertaEditorBase","xBertaEditorClassSimple","xBertaEditorClassColor","xBertaEditorClassSelect","xBertaEditorClassSelectRC","xBertaEditorClassFontSelect","xBertaEditorClassTA","xBertaEditorClassMCE","xBertaEditorClassMCESimple","xBertaEditorClassRC","xBertaEditorClassImage","xBertaEditorClassICO","xBertaEditorClassYesNo","xEditableRealCheck","xBertaEditorClassDragXY","xBertaEditorClassAction","xBertaEditorClassReset","xEmptyClass","updateUrl","tinyMCESettings","Base","simple","full","elementEdit_instances","shiftPressed","intialize","initConsoleReplacement","site","info","editor","fixDragHandlePos","handlePad","elementEdit_init","editorClass","onElementSave","bPlaceholderSet","makePlaceholderIfEmpty","makeEmptyIfEmpty","inlineEdit","elementEdit_save","EDITABLE_START","inlineIsEmpty","WYSIWYGSettings","initEditOwerlay","subtype","selectOptions","isSetToYes","aYes","aNo","eSup_onYesNoClick","fileNameContainer","aNew","aDelete","fileInput","eSup_onImageDeleteClick","paramNames","urlParamNames","session_id","allowedExtensions","updateComplete","updateAction","paths","engineRoot","dataset","path_arr","Actions","initUpdateSiteSettings","initUpdateSiteTemplateSettings","redux_store","dispatch","filename","inputFile","formData","FormData","fileName","files","fileExtension","results","background-color","colorValue","mooRainbow","MooRainbow","imgPath","currentColor","backupColor","backup","manualSet","checkEl","eSup_onRealCheckClick","xGuideLineX","xGuideLineY","handleEl","winSize","drawGuideLines","gridStep","allEntries","dragAll","xCoords","startTop","startLeft","entriesStartTop","entriesStartLeft","onDrag","movedTop","movedLeft","messyMess","copyrightStickToBottom","action","elementEdit_action","elementEdit_reset","editButton","checkBoxEl","resp","respRaw","error_message","responseBody","post","findEditByReplacement","replacementElement","editToReturn","edit","inputBox","elEditor","oldContent","oldContentText","newContent","newContentText","useCSSUnits","xUnits","isToPrice","isCartAttributes","noHTMLEntities","isLink","editorParams","entryInfo","getEntryInfoForElement","section","sectionName","isRequired","removeHTMLEntities","aele","cartAttributes","cartPrice","isList","selectBox","unescapeHtml","selectBoxOption","escapeForJSON","onElementEditComplete","new_callback","renameSite","initUpdateSite","initRenameSiteSection","initUpdateSiteSection","getCurrentSite","state","getState","template","siteSettings","sectionTypes","siteTemplates","type_params","getTypeHTML","order","siteTemplateSettings","detailsElement","editablesInit","initUpdateSectionEntry","entryId","before_real","format_modifier","content","makePlaceholder","elIsStillInDOM","oldValue","editInitializer","editting","curOption","real","setWmodeTransparent","onSave","EDITABLE_FINISH","confirm","resetSiteSection","elem","tinyMCE_onSave","mceInstance","tAElement","elInlineEdit","tinyMCE_ConfigurationsInit","license_key","promotion","branding","menubar","toolbar","save_enablewhendirty","save_onsavecallback","valid_elements","block_formats","convert_urls","relative_urls","str","temp","result","getEmptyPlaceholder","retObj","entryObj","listObj","entryNum","getSectionNameForElement","retString","settings","basePath","isResponsive","columns","entryMaxWidth","entryPadding","getOwnPropertyNames","param_name","ctx","html_before","formats","html_entities","css_units","allow_blank","validation","validator","additional_params","escapeHTML","x_options","html_after","getAllTemplates","isArray","value_name","Templates","assign","editables","getOptions","dontHideOnBlur","addHTMLEntities","ta","inputBoxId","border-width","font-size","setAllStyles","injectInside","ed","tinymce","Editor","EditorManager","ifr","setAllStylesMCE","entryUnHover","pathParts","isEntryTagField","xEntryEl","prevel","stylesToCopy","mceEditor","dom","BertaEditor","edittingMode","processHandler","entriesList","subMenu","currentSection","currentTag","submenuSortables","orderSortables","tagsMenu","onDOMReadyDo","onAddEntry","xActionClass","onBgEditClick","entryOnHover","entryOnUnHover","entryDropdownToggle","submenuSortingInit","dropdown","templateName","sectionType","createNewEntryText","i18n","entryDelete","entryCreate","$xCreateNewEntry","onGalleryEditClick","entryOrderSave","onStart","_","portfolioThumbnailsOrderSave","xEntryEditWrap","closest","xEntryDropdownBox","moveEntryToSectionContainer","entryMoveToSection","highlightNewEntry","h1","galleryType","EDITABLES_INIT","idToHighlight","engineABSRoot","objects","srcAttr","err","initCreateSectionEntry","entryid","toSection","redirectUrl","initEntryMoveToSection","entryThumbnail","initDeleteSectionEntry","elJustMoved","initOrderSectionEntries","tagsListInput","dropdownBox","subMenuAnchors","submenuOrderSave","initOrderSectionTags","Rainbows","startColor","onChange","onAbort","sliderPos","pickerPos","sets","pickerClick","sliderClick","doLayout","OverlayEvents","sliderEvents","backupEvent","wheelEvents","snippet","khtml","visible","rePosition","closeAll","setMooRainbow","autoSet","hue","curH","curW","oveH","oveW","sliH","slider","arwH","posx","posy","arrows","RedInput","GreenInput","BlueInput","HueInput","SatuInput","BrighInput","hexInput","chooseColor","parseColors","lim","inputs","arrRGB","arrHSB","eventKeydown","eventKeyup","onBeforeStart","overlayDrag","overlay2","okButton","transp","sliderDrag","arrColors","eventKeys","idPrefix","box","div","ar","ov","ov2","ie6","cr","sl","z-index","inputR","HU","SA","BR","inputHU","injectAfter","overlays","coords","Lasso","active","autoHide","cropMode","globalTrigger","contain","trigger","zindex","binds","background","mask","antStyles","backgroundImage","antBorder","marchingAnts","side","idx","onselectstart","removeDOMSelection","resetCoords","getContainCoords","getRelativeOffset","setStartCoords","flip","refresh","getRelativeCoords","ret","cc","tc","Crop","handleSize","preset","handleStyle","background-size","crop","handleMove","handleEnd","handlesGrid","NW","NE","SW","SE","handleStart","setDefault","row","col","currentHandle","hs","cur","xm","ym","hideHandlers","showHandlers","tops","lefts","pxdiff","cell","cells","handleID","normalizeName","TypeError","normalizeValue","iteratorFor","iterator","done","support","iterable","Symbol","Headers","header","consumed","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","_bodyFormData","searchParams","URLSearchParams","arrayBuffer","isDataView","_bodyArrayBuffer","ArrayBuffer","isArrayBufferView","rejected","then","normalizeMethod","upcased","methods","credentials","referrer","form","bytes","parseHeaders","rawHeaders","preProcessedHeaders","line","Response","bodyInit","ok","statusText","fetch","viewClasses","DataView","isView","thisArg","redirectStatuses","redirect","RangeError","request","getAllResponseHeaders","responseURL","ontimeout","responseType","polyfill"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjYA;ACAA;AACA;AACA;AACA;ACHA;AACA;AAC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","file":"../backend.min.js","sourcesContent":["/*\n---\nMooTools: the javascript framework\n\nweb build:\n - http://mootools.net/core/76bf47062d6c1983d66ce47ad66aa0e0\n\npackager build:\n - packager build Core/Core Core/Array Core/String Core/Number Core/Function Core/Object Core/Event Core/Browser Core/Class Core/Class.Extras Core/Slick.Parser Core/Slick.Finder Core/Element Core/Element.Style Core/Element.Event Core/Element.Delegation Core/Element.Dimensions Core/Fx Core/Fx.CSS Core/Fx.Tween Core/Fx.Morph Core/Fx.Transitions Core/Request Core/Request.HTML Core/Request.JSON Core/Cookie Core/JSON Core/DOMReady Core/Swiff\n\ncopyrights:\n  - [MooTools](http://mootools.net)\n\nlicenses:\n  - [MIT License](http://mootools.net/license.txt)\n...\n*/\n\n(function(){this.MooTools={version:\"1.4.5\",build:\"ab8ea8824dc3b24b6666867a2c4ed58ebb762cf0\"};var e=this.typeOf=function(i){if(i==null){return\"null\";}if(i.$family!=null){return i.$family();\n}if(i.nodeName){if(i.nodeType==1){return\"element\";}if(i.nodeType==3){return(/\\S/).test(i.nodeValue)?\"textnode\":\"whitespace\";}}else{if(typeof i.length==\"number\"){if(i.callee){return\"arguments\";\n}if(\"item\" in i){return\"collection\";}}}return typeof i;};var u=this.instanceOf=function(w,i){if(w==null){return false;}var v=w.$constructor||w.constructor;\nwhile(v){if(v===i){return true;}v=v.parent;}if(!w.hasOwnProperty){return false;}return w instanceof i;};var f=this.Function;var r=true;for(var q in {toString:1}){r=null;\n}if(r){r=[\"hasOwnProperty\",\"valueOf\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"constructor\"];}f.prototype.overloadSetter=function(v){var i=this;\nreturn function(x,w){if(x==null){return this;}if(v||typeof x!=\"string\"){for(var y in x){i.call(this,y,x[y]);}if(r){for(var z=r.length;z--;){y=r[z];if(x.hasOwnProperty(y)){i.call(this,y,x[y]);\n}}}}else{i.call(this,x,w);}return this;};};f.prototype.overloadGetter=function(v){var i=this;return function(x){var y,w;if(typeof x!=\"string\"){y=x;}else{if(arguments.length>1){y=arguments;\n}else{if(v){y=[x];}}}if(y){w={};for(var z=0;z<y.length;z++){w[y[z]]=i.call(this,y[z]);}}else{w=i.call(this,x);}return w;};};f.prototype.extend=function(i,v){this[i]=v;\n}.overloadSetter();f.prototype.implement=function(i,v){this.prototype[i]=v;}.overloadSetter();var o=Array.prototype.slice;f.from=function(i){return(e(i)==\"function\")?i:function(){return i;\n};};Array.from=function(i){if(i==null){return[];}return(k.isEnumerable(i)&&typeof i!=\"string\")?(e(i)==\"array\")?i:o.call(i):[i];};Number.from=function(v){var i=parseFloat(v);\nreturn isFinite(i)?i:null;};String.from=function(i){return i+\"\";};f.implement({hide:function(){this.$hidden=true;return this;},protect:function(){this.$protected=true;\nreturn this;}});var k=this.Type=function(x,w){if(x){var v=x.toLowerCase();var i=function(y){return(e(y)==v);};k[\"is\"+x]=i;if(w!=null){w.prototype.$family=(function(){return v;\n}).hide();w.type=i;}}if(w==null){return null;}w.extend(this);w.$constructor=k;w.prototype.$constructor=w;return w;};var p=Object.prototype.toString;k.isEnumerable=function(i){return(i!=null&&typeof i.length==\"number\"&&p.call(i)!=\"[object Function]\");\n};var b={};var d=function(i){var v=e(i.prototype);return b[v]||(b[v]=[]);};var h=function(w,A){if(A&&A.$hidden){return;}var v=d(this);for(var x=0;x<v.length;\nx++){var z=v[x];if(e(z)==\"type\"){h.call(z,w,A);}else{z.call(this,w,A);}}var y=this.prototype[w];if(y==null||!y.$protected){this.prototype[w]=A;}if(this[w]==null&&e(A)==\"function\"){t.call(this,w,function(i){return A.apply(i,o.call(arguments,1));\n});}};var t=function(i,w){if(w&&w.$hidden){return;}var v=this[i];if(v==null||!v.$protected){this[i]=w;}};k.implement({implement:h.overloadSetter(),extend:t.overloadSetter(),alias:function(i,v){h.call(this,i,this.prototype[v]);\n}.overloadSetter(),mirror:function(i){d(this).push(i);return this;}});new k(\"Type\",k);var c=function(v,A,y){var x=(A!=Object),E=A.prototype;if(x){A=new k(v,A);\n}for(var B=0,z=y.length;B<z;B++){var F=y[B],D=A[F],C=E[F];if(D){D.protect();}if(x&&C){A.implement(F,C.protect());}}if(x){var w=E.propertyIsEnumerable(y[0]);\nA.forEachMethod=function(J){if(!w){for(var I=0,G=y.length;I<G;I++){J.call(E,E[y[I]],y[I]);}}for(var H in E){J.call(E,E[H],H);}};}return c;};c(\"String\",String,[\"charAt\",\"charCodeAt\",\"concat\",\"indexOf\",\"lastIndexOf\",\"match\",\"quote\",\"replace\",\"search\",\"slice\",\"split\",\"substr\",\"substring\",\"trim\",\"toLowerCase\",\"toUpperCase\"])(\"Array\",Array,[\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\",\"concat\",\"join\",\"slice\",\"indexOf\",\"lastIndexOf\",\"filter\",\"forEach\",\"every\",\"map\",\"some\",\"reduce\",\"reduceRight\"])(\"Number\",Number,[\"toExponential\",\"toFixed\",\"toLocaleString\",\"toPrecision\"])(\"Function\",f,[\"apply\",\"call\",\"bind\"])(\"RegExp\",RegExp,[\"exec\",\"test\"])(\"Object\",Object,[\"create\",\"defineProperty\",\"defineProperties\",\"keys\",\"getPrototypeOf\",\"getOwnPropertyDescriptor\",\"getOwnPropertyNames\",\"preventExtensions\",\"isExtensible\",\"seal\",\"isSealed\",\"freeze\",\"isFrozen\"])(\"Date\",Date,[\"now\"]);\nObject.extend=t.overloadSetter();Date.extend(\"now\",function(){return +(new Date);});new k(\"Boolean\",Boolean);Number.prototype.$family=function(){return isFinite(this)?\"number\":\"null\";\n}.hide();Number.extend(\"random\",function(v,i){return Math.floor(Math.random()*(i-v+1)+v);});var l=Object.prototype.hasOwnProperty;Object.extend(\"forEach\",function(i,w,x){for(var v in i){if(l.call(i,v)){w.call(x,i[v],v,i);\n}}});Object.each=Object.forEach;Array.implement({forEach:function(x,y){for(var w=0,v=this.length;w<v;w++){if(w in this){x.call(y,this[w],w,this);}}},each:function(i,v){Array.forEach(this,i,v);\nreturn this;}});var s=function(i){switch(e(i)){case\"array\":return i.clone();case\"object\":return Object.clone(i);default:return i;}};Array.implement(\"clone\",function(){var v=this.length,w=new Array(v);\nwhile(v--){w[v]=s(this[v]);}return w;});var a=function(v,i,w){switch(e(w)){case\"object\":if(e(v[i])==\"object\"){Object.merge(v[i],w);}else{v[i]=Object.clone(w);\n}break;case\"array\":v[i]=w.clone();break;default:v[i]=w;}return v;};Object.extend({merge:function(C,y,x){if(e(y)==\"string\"){return a(C,y,x);}for(var B=1,w=arguments.length;\nB<w;B++){var z=arguments[B];for(var A in z){a(C,A,z[A]);}}return C;},clone:function(i){var w={};for(var v in i){w[v]=s(i[v]);}return w;},append:function(z){for(var y=1,w=arguments.length;\ny<w;y++){var v=arguments[y]||{};for(var x in v){z[x]=v[x];}}return z;}});[\"Object\",\"WhiteSpace\",\"TextNode\",\"Collection\",\"Arguments\"].each(function(i){new k(i);\n});var j=Date.now();String.extend(\"uniqueID\",function(){return(j++).toString(36);});var g=this.Hash=new k(\"Hash\",function(i){if(e(i)==\"hash\"){i=Object.clone(i.getClean());\n}for(var v in i){this[v]=i[v];}return this;});g.implement({forEach:function(i,v){Object.forEach(this,i,v);},getClean:function(){var v={};for(var i in this){if(this.hasOwnProperty(i)){v[i]=this[i];\n}}return v;},getLength:function(){var v=0;for(var i in this){if(this.hasOwnProperty(i)){v++;}}return v;}});g.alias(\"each\",\"forEach\");Object.type=k.isObject;\nvar n=this.Native=function(i){return new k(i.name,i.initialize);};n.type=k.type;n.implement=function(x,v){for(var w=0;w<x.length;w++){x[w].implement(v);\n}return n;};var m=Array.type;Array.type=function(i){return u(i,Array)||m(i);};this.$A=function(i){return Array.from(i).slice();};this.$arguments=function(v){return function(){return arguments[v];\n};};this.$chk=function(i){return !!(i||i===0);};this.$clear=function(i){clearTimeout(i);clearInterval(i);return null;};this.$defined=function(i){return(i!=null);\n};this.$each=function(w,v,x){var i=e(w);((i==\"arguments\"||i==\"collection\"||i==\"array\"||i==\"elements\")?Array:Object).each(w,v,x);};this.$empty=function(){};\nthis.$extend=function(v,i){return Object.append(v,i);};this.$H=function(i){return new g(i);};this.$merge=function(){var i=Array.slice(arguments);i.unshift({});\nreturn Object.merge.apply(null,i);};this.$lambda=f.from;this.$mixin=Object.merge;this.$random=Number.random;this.$splat=Array.from;this.$time=Date.now;\nthis.$type=function(i){var v=e(i);if(v==\"elements\"){return\"array\";}return(v==\"null\")?false:v;};this.$unlink=function(i){switch(e(i)){case\"object\":return Object.clone(i);\ncase\"array\":return Array.clone(i);case\"hash\":return new g(i);default:return i;}};})();Array.implement({every:function(c,d){for(var b=0,a=this.length>>>0;\nb<a;b++){if((b in this)&&!c.call(d,this[b],b,this)){return false;}}return true;},filter:function(d,f){var c=[];for(var e,b=0,a=this.length>>>0;b<a;b++){if(b in this){e=this[b];\nif(d.call(f,e,b,this)){c.push(e);}}}return c;},indexOf:function(c,d){var b=this.length>>>0;for(var a=(d<0)?Math.max(0,b+d):d||0;a<b;a++){if(this[a]===c){return a;\n}}return -1;},map:function(c,e){var d=this.length>>>0,b=Array(d);for(var a=0;a<d;a++){if(a in this){b[a]=c.call(e,this[a],a,this);}}return b;},some:function(c,d){for(var b=0,a=this.length>>>0;\nb<a;b++){if((b in this)&&c.call(d,this[b],b,this)){return true;}}return false;},clean:function(){return this.filter(function(a){return a!=null;});},invoke:function(a){var b=Array.slice(arguments,1);\nreturn this.map(function(c){return c[a].apply(c,b);});},associate:function(c){var d={},b=Math.min(this.length,c.length);for(var a=0;a<b;a++){d[c[a]]=this[a];\n}return d;},link:function(c){var a={};for(var e=0,b=this.length;e<b;e++){for(var d in c){if(c[d](this[e])){a[d]=this[e];delete c[d];break;}}}return a;},contains:function(a,b){return this.indexOf(a,b)!=-1;\n},append:function(a){this.push.apply(this,a);return this;},getLast:function(){return(this.length)?this[this.length-1]:null;},getRandom:function(){return(this.length)?this[Number.random(0,this.length-1)]:null;\n},include:function(a){if(!this.contains(a)){this.push(a);}return this;},combine:function(c){for(var b=0,a=c.length;b<a;b++){this.include(c[b]);}return this;\n},erase:function(b){for(var a=this.length;a--;){if(this[a]===b){this.splice(a,1);}}return this;},empty:function(){this.length=0;return this;},flatten:function(){var d=[];\nfor(var b=0,a=this.length;b<a;b++){var c=typeOf(this[b]);if(c==\"null\"){continue;}d=d.concat((c==\"array\"||c==\"collection\"||c==\"arguments\"||instanceOf(this[b],Array))?Array.flatten(this[b]):this[b]);\n}return d;},pick:function(){for(var b=0,a=this.length;b<a;b++){if(this[b]!=null){return this[b];}}return null;},hexToRgb:function(b){if(this.length!=3){return null;\n}var a=this.map(function(c){if(c.length==1){c+=c;}return c.toInt(16);});return(b)?a:\"rgb(\"+a+\")\";},rgbToHex:function(d){if(this.length<3){return null;}if(this.length==4&&this[3]==0&&!d){return\"transparent\";\n}var b=[];for(var a=0;a<3;a++){var c=(this[a]-0).toString(16);b.push((c.length==1)?\"0\"+c:c);}return(d)?b:\"#\"+b.join(\"\");}});Array.alias(\"extend\",\"append\");\nvar $pick=function(){return Array.from(arguments).pick();};String.implement({test:function(a,b){return((typeOf(a)==\"regexp\")?a:new RegExp(\"\"+a,b)).test(this);\n},contains:function(a,b){return(b)?(b+this+b).indexOf(b+a+b)>-1:String(this).indexOf(a)>-1;},trim:function(){return String(this).replace(/^\\s+|\\s+$/g,\"\");\n},clean:function(){return String(this).replace(/\\s+/g,\" \").trim();},camelCase:function(){return String(this).replace(/-\\D/g,function(a){return a.charAt(1).toUpperCase();\n});},hyphenate:function(){return String(this).replace(/[A-Z]/g,function(a){return(\"-\"+a.charAt(0).toLowerCase());});},capitalize:function(){return String(this).replace(/\\b[a-z]/g,function(a){return a.toUpperCase();\n});},escapeRegExp:function(){return String(this).replace(/([-.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\");},toInt:function(a){return parseInt(this,a||10);},toFloat:function(){return parseFloat(this);\n},hexToRgb:function(b){var a=String(this).match(/^#?(\\w{1,2})(\\w{1,2})(\\w{1,2})$/);return(a)?a.slice(1).hexToRgb(b):null;},rgbToHex:function(b){var a=String(this).match(/\\d{1,3}/g);\nreturn(a)?a.rgbToHex(b):null;},substitute:function(a,b){return String(this).replace(b||(/\\\\?\\{([^{}]+)\\}/g),function(d,c){if(d.charAt(0)==\"\\\\\"){return d.slice(1);\n}return(a[c]!=null)?a[c]:\"\";});}});Number.implement({limit:function(b,a){return Math.min(a,Math.max(b,this));},round:function(a){a=Math.pow(10,a||0).toFixed(a<0?-a:0);\nreturn Math.round(this*a)/a;},times:function(b,c){for(var a=0;a<this;a++){b.call(c,a,this);}},toFloat:function(){return parseFloat(this);},toInt:function(a){return parseInt(this,a||10);\n}});Number.alias(\"each\",\"times\");(function(b){var a={};b.each(function(c){if(!Number[c]){a[c]=function(){return Math[c].apply(null,[this].concat(Array.from(arguments)));\n};}});Number.implement(a);})([\"abs\",\"acos\",\"asin\",\"atan\",\"atan2\",\"ceil\",\"cos\",\"exp\",\"floor\",\"log\",\"max\",\"min\",\"pow\",\"sin\",\"sqrt\",\"tan\"]);Function.extend({attempt:function(){for(var b=0,a=arguments.length;\nb<a;b++){try{return arguments[b]();}catch(c){}}return null;}});Function.implement({attempt:function(a,c){try{return this.apply(c,Array.from(a));}catch(b){}return null;\n},bind:function(e){var a=this,b=arguments.length>1?Array.slice(arguments,1):null,d=function(){};var c=function(){var g=e,h=arguments.length;if(this instanceof c){d.prototype=a.prototype;\ng=new d;}var f=(!b&&!h)?a.call(g):a.apply(g,b&&h?b.concat(Array.slice(arguments)):b||arguments);return g==e?f:g;};return c;},pass:function(b,c){var a=this;\nif(b!=null){b=Array.from(b);}return function(){return a.apply(c,b||arguments);};},delay:function(b,c,a){return setTimeout(this.pass((a==null?[]:a),c),b);\n},periodical:function(c,b,a){return setInterval(this.pass((a==null?[]:a),b),c);}});delete Function.prototype.bind;Function.implement({create:function(b){var a=this;\nb=b||{};return function(d){var c=b.arguments;c=(c!=null)?Array.from(c):Array.slice(arguments,(b.event)?1:0);if(b.event){c=[d||window.event].extend(c);}var e=function(){return a.apply(b.bind||null,c);\n};if(b.delay){return setTimeout(e,b.delay);}if(b.periodical){return setInterval(e,b.periodical);}if(b.attempt){return Function.attempt(e);}return e();};\n},bind:function(c,b){var a=this;if(b!=null){b=Array.from(b);}return function(){return a.apply(c,b||arguments);};},bindWithEvent:function(c,b){var a=this;\nif(b!=null){b=Array.from(b);}return function(d){return a.apply(c,(b==null)?arguments:[d].concat(b));};},run:function(a,b){return this.apply(b,Array.from(a));\n}});if(Object.create==Function.prototype.create){Object.create=null;}var $try=Function.attempt;(function(){var a=Object.prototype.hasOwnProperty;Object.extend({subset:function(d,g){var f={};\nfor(var e=0,b=g.length;e<b;e++){var c=g[e];if(c in d){f[c]=d[c];}}return f;},map:function(b,e,f){var d={};for(var c in b){if(a.call(b,c)){d[c]=e.call(f,b[c],c,b);\n}}return d;},filter:function(b,e,g){var d={};for(var c in b){var f=b[c];if(a.call(b,c)&&e.call(g,f,c,b)){d[c]=f;}}return d;},every:function(b,d,e){for(var c in b){if(a.call(b,c)&&!d.call(e,b[c],c)){return false;\n}}return true;},some:function(b,d,e){for(var c in b){if(a.call(b,c)&&d.call(e,b[c],c)){return true;}}return false;},keys:function(b){var d=[];for(var c in b){if(a.call(b,c)){d.push(c);\n}}return d;},values:function(c){var b=[];for(var d in c){if(a.call(c,d)){b.push(c[d]);}}return b;},getLength:function(b){return Object.keys(b).length;},keyOf:function(b,d){for(var c in b){if(a.call(b,c)&&b[c]===d){return c;\n}}return null;},contains:function(b,c){return Object.keyOf(b,c)!=null;},toQueryString:function(b,c){var d=[];Object.each(b,function(h,g){if(c){g=c+\"[\"+g+\"]\";\n}var f;switch(typeOf(h)){case\"object\":f=Object.toQueryString(h,g);break;case\"array\":var e={};h.each(function(k,j){e[j]=k;});f=Object.toQueryString(e,g);\nbreak;default:f=g+\"=\"+encodeURIComponent(h);}if(h!=null){d.push(f);}});return d.join(\"&\");}});})();Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(a){return Object.keyOf(this,a);\n},hasValue:function(a){return Object.contains(this,a);},extend:function(a){Hash.each(a||{},function(c,b){Hash.set(this,b,c);},this);return this;},combine:function(a){Hash.each(a||{},function(c,b){Hash.include(this,b,c);\n},this);return this;},erase:function(a){if(this.hasOwnProperty(a)){delete this[a];}return this;},get:function(a){return(this.hasOwnProperty(a))?this[a]:null;\n},set:function(a,b){if(!this[a]||this.hasOwnProperty(a)){this[a]=b;}return this;},empty:function(){Hash.each(this,function(b,a){delete this[a];},this);\nreturn this;},include:function(a,b){if(this[a]==null){this[a]=b;}return this;},map:function(a,b){return new Hash(Object.map(this,a,b));},filter:function(a,b){return new Hash(Object.filter(this,a,b));\n},every:function(a,b){return Object.every(this,a,b);},some:function(a,b){return Object.some(this,a,b);},getKeys:function(){return Object.keys(this);},getValues:function(){return Object.values(this);\n},toQueryString:function(a){return Object.toQueryString(this,a);}});Hash.extend=Object.append;Hash.alias({indexOf:\"keyOf\",contains:\"hasValue\"});(function(){var k=this.document;\nvar h=k.window=this;var a=navigator.userAgent.toLowerCase(),b=navigator.platform.toLowerCase(),i=a.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0],f=i[1]==\"ie\"&&k.documentMode;\nvar o=this.Browser={extend:Function.prototype.extend,name:(i[1]==\"version\")?i[3]:i[1],version:f||parseFloat((i[1]==\"opera\"&&i[4])?i[4]:i[2]),Platform:{name:a.match(/ip(?:ad|od|hone)/)?\"ios\":(a.match(/(?:webos|android)/)||b.match(/mac|win|linux/)||[\"other\"])[0]},Features:{xpath:!!(k.evaluate),air:!!(h.runtime),query:!!(k.querySelector),json:!!(h.JSON)},Plugins:{}};\no[o.name]=true;o[o.name+parseInt(o.version,10)]=true;o.Platform[o.Platform.name]=true;o.Request=(function(){var q=function(){return new XMLHttpRequest();\n};var p=function(){return new ActiveXObject(\"MSXML2.XMLHTTP\");};var e=function(){return new ActiveXObject(\"Microsoft.XMLHTTP\");};return Function.attempt(function(){q();\nreturn q;},function(){p();return p;},function(){e();return e;});})();o.Features.xhr=!!(o.Request);var j=(Function.attempt(function(){return navigator.plugins[\"Shockwave Flash\"].description;\n},function(){return new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\");})||\"0 r0\").match(/\\d+/g);o.Plugins.Flash={version:Number(j[0]||\"0.\"+j[1])||0,build:Number(j[2])||0};\no.exec=function(p){if(!p){return p;}if(h.execScript){h.execScript(p);}else{var e=k.createElement(\"script\");e.setAttribute(\"type\",\"text/javascript\");e.text=p;\nk.head.appendChild(e);k.head.removeChild(e);}return p;};String.implement(\"stripScripts\",function(p){var e=\"\";var q=this.replace(/<script[^>]*>([\\s\\S]*?)<\\/script>/gi,function(r,s){e+=s+\"\\n\";\nreturn\"\";});if(p===true){o.exec(e);}else{if(typeOf(p)==\"function\"){p(e,q);}}return q;});o.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event});\nthis.Window=this.$constructor=new Type(\"Window\",function(){});this.$family=Function.from(\"window\").hide();Window.mirror(function(e,p){h[e]=p;});this.Document=k.$constructor=new Type(\"Document\",function(){});\nk.$family=Function.from(\"document\").hide();Document.mirror(function(e,p){k[e]=p;});k.html=k.documentElement;if(!k.head){k.head=k.getElementsByTagName(\"head\")[0];\n}if(k.execCommand){try{k.execCommand(\"BackgroundImageCache\",false,true);}catch(g){}}if(this.attachEvent&&!this.addEventListener){var c=function(){this.detachEvent(\"onunload\",c);\nk.head=k.html=k.window=null;};this.attachEvent(\"onunload\",c);}var m=Array.from;try{m(k.html.childNodes);}catch(g){Array.from=function(p){if(typeof p!=\"string\"&&Type.isEnumerable(p)&&typeOf(p)!=\"array\"){var e=p.length,q=new Array(e);\nwhile(e--){q[e]=p[e];}return q;}return m(p);};var l=Array.prototype,n=l.slice;[\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\",\"concat\",\"join\",\"slice\"].each(function(e){var p=l[e];\nArray[e]=function(q){return p.apply(Array.from(q),n.call(arguments,1));};});}if(o.Platform.ios){o.Platform.ipod=true;}o.Engine={};var d=function(p,e){o.Engine.name=p;\no.Engine[p+e]=true;o.Engine.version=e;};if(o.ie){o.Engine.trident=true;switch(o.version){case 6:d(\"trident\",4);break;case 7:d(\"trident\",5);break;case 8:d(\"trident\",6);\n}}if(o.firefox){o.Engine.gecko=true;if(o.version>=3){d(\"gecko\",19);}else{d(\"gecko\",18);}}if(o.safari||o.chrome){o.Engine.webkit=true;switch(o.version){case 2:d(\"webkit\",419);\nbreak;case 3:d(\"webkit\",420);break;case 4:d(\"webkit\",525);}}if(o.opera){o.Engine.presto=true;if(o.version>=9.6){d(\"presto\",960);}else{if(o.version>=9.5){d(\"presto\",950);\n}else{d(\"presto\",925);}}}if(o.name==\"unknown\"){switch((a.match(/(?:webkit|khtml|gecko)/)||[])[0]){case\"webkit\":case\"khtml\":o.Engine.webkit=true;break;case\"gecko\":o.Engine.gecko=true;\n}}this.$exec=o.exec;})();(function(){var b={};var a=this.DOMEvent=new Type(\"DOMEvent\",function(c,g){if(!g){g=window;}c=c||g.event;if(c.$extended){return c;\n}this.event=c;this.$extended=true;this.shift=c.shiftKey;this.control=c.ctrlKey;this.alt=c.altKey;this.meta=c.metaKey;var i=this.type=c.type;var h=c.target||c.srcElement;\nwhile(h&&h.nodeType==3){h=h.parentNode;}this.target=document.id(h);if(i.indexOf(\"key\")==0){var d=this.code=(c.which||c.keyCode);this.key=b[d]||Object.keyOf(Event.Keys,d);\nif(i==\"keydown\"){if(d>111&&d<124){this.key=\"f\"+(d-111);}else{if(d>95&&d<106){this.key=d-96;}}}if(this.key==null){this.key=String.fromCharCode(d).toLowerCase();\n}}else{if(i==\"click\"||i==\"dblclick\"||i==\"contextmenu\"||i==\"DOMMouseScroll\"||i.indexOf(\"mouse\")==0){var j=g.document;j=(!j.compatMode||j.compatMode==\"CSS1Compat\")?j.html:j.body;\nthis.page={x:(c.pageX!=null)?c.pageX:c.clientX+j.scrollLeft,y:(c.pageY!=null)?c.pageY:c.clientY+j.scrollTop};this.client={x:(c.pageX!=null)?c.pageX-g.pageXOffset:c.clientX,y:(c.pageY!=null)?c.pageY-g.pageYOffset:c.clientY};\nif(i==\"DOMMouseScroll\"||i==\"mousewheel\"){this.wheel=(c.wheelDelta)?c.wheelDelta/120:-(c.detail||0)/3;}this.rightClick=(c.which==3||c.button==2);if(i==\"mouseover\"||i==\"mouseout\"){var k=c.relatedTarget||c[(i==\"mouseover\"?\"from\":\"to\")+\"Element\"];\nwhile(k&&k.nodeType==3){k=k.parentNode;}this.relatedTarget=document.id(k);}}else{if(i.indexOf(\"touch\")==0||i.indexOf(\"gesture\")==0){this.rotation=c.rotation;\nthis.scale=c.scale;this.targetTouches=c.targetTouches;this.changedTouches=c.changedTouches;var f=this.touches=c.touches;if(f&&f[0]){var e=f[0];this.page={x:e.pageX,y:e.pageY};\nthis.client={x:e.clientX,y:e.clientY};}}}}if(!this.client){this.client={};}if(!this.page){this.page={};}});a.implement({stop:function(){return this.preventDefault().stopPropagation();\n},stopPropagation:function(){if(this.event.stopPropagation){this.event.stopPropagation();}else{this.event.cancelBubble=true;}return this;},preventDefault:function(){if(this.event.preventDefault){this.event.preventDefault();\n}else{this.event.returnValue=false;}return this;}});a.defineKey=function(d,c){b[d]=c;return this;};a.defineKeys=a.defineKey.overloadSetter(true);a.defineKeys({\"38\":\"up\",\"40\":\"down\",\"37\":\"left\",\"39\":\"right\",\"27\":\"esc\",\"32\":\"space\",\"8\":\"backspace\",\"9\":\"tab\",\"46\":\"delete\",\"13\":\"enter\"});\n})();var Event=DOMEvent;Event.Keys={};Event.Keys=new Hash(Event.Keys);(function(){var a=this.Class=new Type(\"Class\",function(h){if(instanceOf(h,Function)){h={initialize:h};\n}var g=function(){e(this);if(g.$prototyping){return this;}this.$caller=null;var i=(this.initialize)?this.initialize.apply(this,arguments):this;this.$caller=this.caller=null;\nreturn i;}.extend(this).implement(h);g.$constructor=a;g.prototype.$constructor=g;g.prototype.parent=c;return g;});var c=function(){if(!this.$caller){throw new Error('The method \"parent\" cannot be called.');\n}var g=this.$caller.$name,h=this.$caller.$owner.parent,i=(h)?h.prototype[g]:null;if(!i){throw new Error('The method \"'+g+'\" has no parent.');}return i.apply(this,arguments);\n};var e=function(g){for(var h in g){var j=g[h];switch(typeOf(j)){case\"object\":var i=function(){};i.prototype=j;g[h]=e(new i);break;case\"array\":g[h]=j.clone();\nbreak;}}return g;};var b=function(g,h,j){if(j.$origin){j=j.$origin;}var i=function(){if(j.$protected&&this.$caller==null){throw new Error('The method \"'+h+'\" cannot be called.');\n}var l=this.caller,m=this.$caller;this.caller=m;this.$caller=i;var k=j.apply(this,arguments);this.$caller=m;this.caller=l;return k;}.extend({$owner:g,$origin:j,$name:h});\nreturn i;};var f=function(h,i,g){if(a.Mutators.hasOwnProperty(h)){i=a.Mutators[h].call(this,i);if(i==null){return this;}}if(typeOf(i)==\"function\"){if(i.$hidden){return this;\n}this.prototype[h]=(g)?i:b(this,h,i);}else{Object.merge(this.prototype,h,i);}return this;};var d=function(g){g.$prototyping=true;var h=new g;delete g.$prototyping;\nreturn h;};a.implement(\"implement\",f.overloadSetter());a.Mutators={Extends:function(g){this.parent=g;this.prototype=d(g);},Implements:function(g){Array.from(g).each(function(j){var h=new j;\nfor(var i in h){f.call(this,i,h[i],true);}},this);}};})();(function(){this.Chain=new Class({$chain:[],chain:function(){this.$chain.append(Array.flatten(arguments));\nreturn this;},callChain:function(){return(this.$chain.length)?this.$chain.shift().apply(this,arguments):false;},clearChain:function(){this.$chain.empty();\nreturn this;}});var a=function(b){return b.replace(/^on([A-Z])/,function(c,d){return d.toLowerCase();});};this.Events=new Class({$events:{},addEvent:function(d,c,b){d=a(d);\nif(c==$empty){return this;}this.$events[d]=(this.$events[d]||[]).include(c);if(b){c.internal=true;}return this;},addEvents:function(b){for(var c in b){this.addEvent(c,b[c]);\n}return this;},fireEvent:function(e,c,b){e=a(e);var d=this.$events[e];if(!d){return this;}c=Array.from(c);d.each(function(f){if(b){f.delay(b,this,c);}else{f.apply(this,c);\n}},this);return this;},removeEvent:function(e,d){e=a(e);var c=this.$events[e];if(c&&!d.internal){var b=c.indexOf(d);if(b!=-1){delete c[b];}}return this;\n},removeEvents:function(d){var e;if(typeOf(d)==\"object\"){for(e in d){this.removeEvent(e,d[e]);}return this;}if(d){d=a(d);}for(e in this.$events){if(d&&d!=e){continue;\n}var c=this.$events[e];for(var b=c.length;b--;){if(b in c){this.removeEvent(e,c[b]);}}}return this;}});this.Options=new Class({setOptions:function(){var b=this.options=Object.merge.apply(null,[{},this.options].append(arguments));\nif(this.addEvent){for(var c in b){if(typeOf(b[c])!=\"function\"||!(/^on[A-Z]/).test(c)){continue;}this.addEvent(c,b[c]);delete b[c];}}return this;}});})();\n(function(){var k,n,l,g,a={},c={},m=/\\\\/g;var e=function(q,p){if(q==null){return null;}if(q.Slick===true){return q;}q=(\"\"+q).replace(/^\\s+|\\s+$/g,\"\");g=!!p;\nvar o=(g)?c:a;if(o[q]){return o[q];}k={Slick:true,expressions:[],raw:q,reverse:function(){return e(this.raw,true);}};n=-1;while(q!=(q=q.replace(j,b))){}k.length=k.expressions.length;\nreturn o[k.raw]=(g)?h(k):k;};var i=function(o){if(o===\"!\"){return\" \";}else{if(o===\" \"){return\"!\";}else{if((/^!/).test(o)){return o.replace(/^!/,\"\");}else{return\"!\"+o;\n}}}};var h=function(u){var r=u.expressions;for(var p=0;p<r.length;p++){var t=r[p];var q={parts:[],tag:\"*\",combinator:i(t[0].combinator)};for(var o=0;o<t.length;\no++){var s=t[o];if(!s.reverseCombinator){s.reverseCombinator=\" \";}s.combinator=s.reverseCombinator;delete s.reverseCombinator;}t.reverse().push(q);}return u;\n};var f=function(o){return o.replace(/[-[\\]{}()*+?.\\\\^$|,#\\s]/g,function(p){return\"\\\\\"+p;});};var j=new RegExp(\"^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\\\"']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\\\"'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)\".replace(/<combinator>/,\"[\"+f(\">+~`!@$%^&={}\\\\;</\")+\"]\").replace(/<unicode>/g,\"(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])\").replace(/<unicode1>/g,\"(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])\"));\nfunction b(x,s,D,z,r,C,q,B,A,y,u,F,G,v,p,w){if(s||n===-1){k.expressions[++n]=[];l=-1;if(s){return\"\";}}if(D||z||l===-1){D=D||\" \";var t=k.expressions[n];\nif(g&&t[l]){t[l].reverseCombinator=i(D);}t[++l]={combinator:D,tag:\"*\"};}var o=k.expressions[n][l];if(r){o.tag=r.replace(m,\"\");}else{if(C){o.id=C.replace(m,\"\");\n}else{if(q){q=q.replace(m,\"\");if(!o.classList){o.classList=[];}if(!o.classes){o.classes=[];}o.classList.push(q);o.classes.push({value:q,regexp:new RegExp(\"(^|\\\\s)\"+f(q)+\"(\\\\s|$)\")});\n}else{if(G){w=w||p;w=w?w.replace(m,\"\"):null;if(!o.pseudos){o.pseudos=[];}o.pseudos.push({key:G.replace(m,\"\"),value:w,type:F.length==1?\"class\":\"element\"});\n}else{if(B){B=B.replace(m,\"\");u=(u||\"\").replace(m,\"\");var E,H;switch(A){case\"^=\":H=new RegExp(\"^\"+f(u));break;case\"$=\":H=new RegExp(f(u)+\"$\");break;case\"~=\":H=new RegExp(\"(^|\\\\s)\"+f(u)+\"(\\\\s|$)\");\nbreak;case\"|=\":H=new RegExp(\"^\"+f(u)+\"(-|$)\");break;case\"=\":E=function(I){return u==I;};break;case\"*=\":E=function(I){return I&&I.indexOf(u)>-1;};break;\ncase\"!=\":E=function(I){return u!=I;};break;default:E=function(I){return !!I;};}if(u==\"\"&&(/^[*$^]=$/).test(A)){E=function(){return false;};}if(!E){E=function(I){return I&&H.test(I);\n};}if(!o.attributes){o.attributes=[];}o.attributes.push({key:B,operator:A,value:u,test:E});}}}}}return\"\";}var d=(this.Slick||{});d.parse=function(o){return e(o);\n};d.escapeRegExp=f;if(!this.Slick){this.Slick=d;}}).apply((typeof exports!=\"undefined\")?exports:this);(function(){var k={},m={},d=Object.prototype.toString;\nk.isNativeCode=function(c){return(/\\{\\s*\\[native code\\]\\s*\\}/).test(\"\"+c);};k.isXML=function(c){return(!!c.xmlVersion)||(!!c.xml)||(d.call(c)==\"[object XMLDocument]\")||(c.nodeType==9&&c.documentElement.nodeName!=\"HTML\");\n};k.setDocument=function(w){var p=w.nodeType;if(p==9){}else{if(p){w=w.ownerDocument;}else{if(w.navigator){w=w.document;}else{return;}}}if(this.document===w){return;\n}this.document=w;var A=w.documentElement,o=this.getUIDXML(A),s=m[o],r;if(s){for(r in s){this[r]=s[r];}return;}s=m[o]={};s.root=A;s.isXMLDocument=this.isXML(w);\ns.brokenStarGEBTN=s.starSelectsClosedQSA=s.idGetsName=s.brokenMixedCaseQSA=s.brokenGEBCN=s.brokenCheckedQSA=s.brokenEmptyAttributeQSA=s.isHTMLDocument=s.nativeMatchesSelector=false;\nvar q,u,y,z,t;var x,v=\"slick_uniqueid\";var c=w.createElement(\"div\");var n=w.body||w.getElementsByTagName(\"body\")[0]||A;n.appendChild(c);try{c.innerHTML='<a id=\"'+v+'\"></a>';\ns.isHTMLDocument=!!w.getElementById(v);}catch(C){}if(s.isHTMLDocument){c.style.display=\"none\";c.appendChild(w.createComment(\"\"));u=(c.getElementsByTagName(\"*\").length>1);\ntry{c.innerHTML=\"foo</foo>\";x=c.getElementsByTagName(\"*\");q=(x&&!!x.length&&x[0].nodeName.charAt(0)==\"/\");}catch(C){}s.brokenStarGEBTN=u||q;try{c.innerHTML='<a name=\"'+v+'\"></a><b id=\"'+v+'\"></b>';\ns.idGetsName=w.getElementById(v)===c.firstChild;}catch(C){}if(c.getElementsByClassName){try{c.innerHTML='<a class=\"f\"></a><a class=\"b\"></a>';c.getElementsByClassName(\"b\").length;\nc.firstChild.className=\"b\";z=(c.getElementsByClassName(\"b\").length!=2);}catch(C){}try{c.innerHTML='<a class=\"a\"></a><a class=\"f b a\"></a>';y=(c.getElementsByClassName(\"a\").length!=2);\n}catch(C){}s.brokenGEBCN=z||y;}if(c.querySelectorAll){try{c.innerHTML=\"foo</foo>\";x=c.querySelectorAll(\"*\");s.starSelectsClosedQSA=(x&&!!x.length&&x[0].nodeName.charAt(0)==\"/\");\n}catch(C){}try{c.innerHTML='<a class=\"MiX\"></a>';s.brokenMixedCaseQSA=!c.querySelectorAll(\".MiX\").length;}catch(C){}try{c.innerHTML='<select><option selected=\"selected\">a</option></select>';\ns.brokenCheckedQSA=(c.querySelectorAll(\":checked\").length==0);}catch(C){}try{c.innerHTML='<a class=\"\"></a>';s.brokenEmptyAttributeQSA=(c.querySelectorAll('[class*=\"\"]').length!=0);\n}catch(C){}}try{c.innerHTML='<form action=\"s\"><input id=\"action\"/></form>';t=(c.firstChild.getAttribute(\"action\")!=\"s\");}catch(C){}s.nativeMatchesSelector=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector;\nif(s.nativeMatchesSelector){try{s.nativeMatchesSelector.call(A,\":slick\");s.nativeMatchesSelector=null;}catch(C){}}}try{A.slick_expando=1;delete A.slick_expando;\ns.getUID=this.getUIDHTML;}catch(C){s.getUID=this.getUIDXML;}n.removeChild(c);c=x=n=null;s.getAttribute=(s.isHTMLDocument&&t)?function(G,E){var H=this.attributeGetters[E];\nif(H){return H.call(G);}var F=G.getAttributeNode(E);return(F)?F.nodeValue:null;}:function(F,E){var G=this.attributeGetters[E];return(G)?G.call(F):F.getAttribute(E);\n};s.hasAttribute=(A&&this.isNativeCode(A.hasAttribute))?function(F,E){return F.hasAttribute(E);}:function(F,E){F=F.getAttributeNode(E);return !!(F&&(F.specified||F.nodeValue));\n};var D=A&&this.isNativeCode(A.contains),B=w&&this.isNativeCode(w.contains);s.contains=(D&&B)?function(E,F){return E.contains(F);}:(D&&!B)?function(E,F){return E===F||((E===w)?w.documentElement:E).contains(F);\n}:(A&&A.compareDocumentPosition)?function(E,F){return E===F||!!(E.compareDocumentPosition(F)&16);}:function(E,F){if(F){do{if(F===E){return true;}}while((F=F.parentNode));\n}return false;};s.documentSorter=(A.compareDocumentPosition)?function(F,E){if(!F.compareDocumentPosition||!E.compareDocumentPosition){return 0;}return F.compareDocumentPosition(E)&4?-1:F===E?0:1;\n}:(\"sourceIndex\" in A)?function(F,E){if(!F.sourceIndex||!E.sourceIndex){return 0;}return F.sourceIndex-E.sourceIndex;}:(w.createRange)?function(H,F){if(!H.ownerDocument||!F.ownerDocument){return 0;\n}var G=H.ownerDocument.createRange(),E=F.ownerDocument.createRange();G.setStart(H,0);G.setEnd(H,0);E.setStart(F,0);E.setEnd(F,0);return G.compareBoundaryPoints(Range.START_TO_END,E);\n}:null;A=null;for(r in s){this[r]=s[r];}};var f=/^([#.]?)((?:[\\w-]+|\\*))$/,h=/\\[.+[*$^]=(?:\"\"|'')?\\]/,g={};k.search=function(U,z,H,s){var p=this.found=(s)?null:(H||[]);\nif(!U){return p;}else{if(U.navigator){U=U.document;}else{if(!U.nodeType){return p;}}}var F,O,V=this.uniques={},I=!!(H&&H.length),y=(U.nodeType==9);if(this.document!==(y?U:U.ownerDocument)){this.setDocument(U);\n}if(I){for(O=p.length;O--;){V[this.getUID(p[O])]=true;}}if(typeof z==\"string\"){var r=z.match(f);simpleSelectors:if(r){var u=r[1],v=r[2],A,E;if(!u){if(v==\"*\"&&this.brokenStarGEBTN){break simpleSelectors;\n}E=U.getElementsByTagName(v);if(s){return E[0]||null;}for(O=0;A=E[O++];){if(!(I&&V[this.getUID(A)])){p.push(A);}}}else{if(u==\"#\"){if(!this.isHTMLDocument||!y){break simpleSelectors;\n}A=U.getElementById(v);if(!A){return p;}if(this.idGetsName&&A.getAttributeNode(\"id\").nodeValue!=v){break simpleSelectors;}if(s){return A||null;}if(!(I&&V[this.getUID(A)])){p.push(A);\n}}else{if(u==\".\"){if(!this.isHTMLDocument||((!U.getElementsByClassName||this.brokenGEBCN)&&U.querySelectorAll)){break simpleSelectors;}if(U.getElementsByClassName&&!this.brokenGEBCN){E=U.getElementsByClassName(v);\nif(s){return E[0]||null;}for(O=0;A=E[O++];){if(!(I&&V[this.getUID(A)])){p.push(A);}}}else{var T=new RegExp(\"(^|\\\\s)\"+e.escapeRegExp(v)+\"(\\\\s|$)\");E=U.getElementsByTagName(\"*\");\nfor(O=0;A=E[O++];){className=A.className;if(!(className&&T.test(className))){continue;}if(s){return A;}if(!(I&&V[this.getUID(A)])){p.push(A);}}}}}}if(I){this.sort(p);\n}return(s)?null:p;}querySelector:if(U.querySelectorAll){if(!this.isHTMLDocument||g[z]||this.brokenMixedCaseQSA||(this.brokenCheckedQSA&&z.indexOf(\":checked\")>-1)||(this.brokenEmptyAttributeQSA&&h.test(z))||(!y&&z.indexOf(\",\")>-1)||e.disableQSA){break querySelector;\n}var S=z,x=U;if(!y){var C=x.getAttribute(\"id\"),t=\"slickid__\";x.setAttribute(\"id\",t);S=\"#\"+t+\" \"+S;U=x.parentNode;}try{if(s){return U.querySelector(S)||null;\n}else{E=U.querySelectorAll(S);}}catch(Q){g[z]=1;break querySelector;}finally{if(!y){if(C){x.setAttribute(\"id\",C);}else{x.removeAttribute(\"id\");}U=x;}}if(this.starSelectsClosedQSA){for(O=0;\nA=E[O++];){if(A.nodeName>\"@\"&&!(I&&V[this.getUID(A)])){p.push(A);}}}else{for(O=0;A=E[O++];){if(!(I&&V[this.getUID(A)])){p.push(A);}}}if(I){this.sort(p);\n}return p;}F=this.Slick.parse(z);if(!F.length){return p;}}else{if(z==null){return p;}else{if(z.Slick){F=z;}else{if(this.contains(U.documentElement||U,z)){(p)?p.push(z):p=z;\nreturn p;}else{return p;}}}}this.posNTH={};this.posNTHLast={};this.posNTHType={};this.posNTHTypeLast={};this.push=(!I&&(s||(F.length==1&&F.expressions[0].length==1)))?this.pushArray:this.pushUID;\nif(p==null){p=[];}var M,L,K;var B,J,D,c,q,G,W;var N,P,o,w,R=F.expressions;search:for(O=0;(P=R[O]);O++){for(M=0;(o=P[M]);M++){B=\"combinator:\"+o.combinator;\nif(!this[B]){continue search;}J=(this.isXMLDocument)?o.tag:o.tag.toUpperCase();D=o.id;c=o.classList;q=o.classes;G=o.attributes;W=o.pseudos;w=(M===(P.length-1));\nthis.bitUniques={};if(w){this.uniques=V;this.found=p;}else{this.uniques={};this.found=[];}if(M===0){this[B](U,J,D,q,G,W,c);if(s&&w&&p.length){break search;\n}}else{if(s&&w){for(L=0,K=N.length;L<K;L++){this[B](N[L],J,D,q,G,W,c);if(p.length){break search;}}}else{for(L=0,K=N.length;L<K;L++){this[B](N[L],J,D,q,G,W,c);\n}}}N=this.found;}}if(I||(F.expressions.length>1)){this.sort(p);}return(s)?(p[0]||null):p;};k.uidx=1;k.uidk=\"slick-uniqueid\";k.getUIDXML=function(n){var c=n.getAttribute(this.uidk);\nif(!c){c=this.uidx++;n.setAttribute(this.uidk,c);}return c;};k.getUIDHTML=function(c){return c.uniqueNumber||(c.uniqueNumber=this.uidx++);};k.sort=function(c){if(!this.documentSorter){return c;\n}c.sort(this.documentSorter);return c;};k.cacheNTH={};k.matchNTH=/^([+-]?\\d*)?([a-z]+)?([+-]\\d+)?$/;k.parseNTHArgument=function(q){var o=q.match(this.matchNTH);\nif(!o){return false;}var p=o[2]||false;var n=o[1]||1;if(n==\"-\"){n=-1;}var c=+o[3]||0;o=(p==\"n\")?{a:n,b:c}:(p==\"odd\")?{a:2,b:1}:(p==\"even\")?{a:2,b:0}:{a:0,b:n};\nreturn(this.cacheNTH[q]=o);};k.createNTHPseudo=function(p,n,c,o){return function(s,q){var u=this.getUID(s);if(!this[c][u]){var A=s.parentNode;if(!A){return false;\n}var r=A[p],t=1;if(o){var z=s.nodeName;do{if(r.nodeName!=z){continue;}this[c][this.getUID(r)]=t++;}while((r=r[n]));}else{do{if(r.nodeType!=1){continue;\n}this[c][this.getUID(r)]=t++;}while((r=r[n]));}}q=q||\"n\";var v=this.cacheNTH[q]||this.parseNTHArgument(q);if(!v){return false;}var y=v.a,x=v.b,w=this[c][u];\nif(y==0){return x==w;}if(y>0){if(w<x){return false;}}else{if(x<w){return false;}}return((w-x)%y)==0;};};k.pushArray=function(p,c,r,o,n,q){if(this.matchSelector(p,c,r,o,n,q)){this.found.push(p);\n}};k.pushUID=function(q,c,s,p,n,r){var o=this.getUID(q);if(!this.uniques[o]&&this.matchSelector(q,c,s,p,n,r)){this.uniques[o]=true;this.found.push(q);}};\nk.matchNode=function(n,o){if(this.isHTMLDocument&&this.nativeMatchesSelector){try{return this.nativeMatchesSelector.call(n,o.replace(/\\[([^=]+)=\\s*([^'\"\\]]+?)\\s*\\]/g,'[$1=\"$2\"]'));\n}catch(u){}}var t=this.Slick.parse(o);if(!t){return true;}var r=t.expressions,s=0,q;for(q=0;(currentExpression=r[q]);q++){if(currentExpression.length==1){var p=currentExpression[0];\nif(this.matchSelector(n,(this.isXMLDocument)?p.tag:p.tag.toUpperCase(),p.id,p.classes,p.attributes,p.pseudos)){return true;}s++;}}if(s==t.length){return false;\n}var c=this.search(this.document,t),v;for(q=0;v=c[q++];){if(v===n){return true;}}return false;};k.matchPseudo=function(q,c,p){var n=\"pseudo:\"+c;if(this[n]){return this[n](q,p);\n}var o=this.getAttribute(q,c);return(p)?p==o:!!o;};k.matchSelector=function(o,v,c,p,q,s){if(v){var t=(this.isXMLDocument)?o.nodeName:o.nodeName.toUpperCase();\nif(v==\"*\"){if(t<\"@\"){return false;}}else{if(t!=v){return false;}}}if(c&&o.getAttribute(\"id\")!=c){return false;}var r,n,u;if(p){for(r=p.length;r--;){u=this.getAttribute(o,\"class\");\nif(!(u&&p[r].regexp.test(u))){return false;}}}if(q){for(r=q.length;r--;){n=q[r];if(n.operator?!n.test(this.getAttribute(o,n.key)):!this.hasAttribute(o,n.key)){return false;\n}}}if(s){for(r=s.length;r--;){n=s[r];if(!this.matchPseudo(o,n.key,n.value)){return false;}}}return true;};var j={\" \":function(q,w,n,r,s,u,p){var t,v,o;\nif(this.isHTMLDocument){getById:if(n){v=this.document.getElementById(n);if((!v&&q.all)||(this.idGetsName&&v&&v.getAttributeNode(\"id\").nodeValue!=n)){o=q.all[n];\nif(!o){return;}if(!o[0]){o=[o];}for(t=0;v=o[t++];){var c=v.getAttributeNode(\"id\");if(c&&c.nodeValue==n){this.push(v,w,null,r,s,u);break;}}return;}if(!v){if(this.contains(this.root,q)){return;\n}else{break getById;}}else{if(this.document!==q&&!this.contains(q,v)){return;}}this.push(v,w,null,r,s,u);return;}getByClass:if(r&&q.getElementsByClassName&&!this.brokenGEBCN){o=q.getElementsByClassName(p.join(\" \"));\nif(!(o&&o.length)){break getByClass;}for(t=0;v=o[t++];){this.push(v,w,n,null,s,u);}return;}}getByTag:{o=q.getElementsByTagName(w);if(!(o&&o.length)){break getByTag;\n}if(!this.brokenStarGEBTN){w=null;}for(t=0;v=o[t++];){this.push(v,w,n,r,s,u);}}},\">\":function(p,c,r,o,n,q){if((p=p.firstChild)){do{if(p.nodeType==1){this.push(p,c,r,o,n,q);\n}}while((p=p.nextSibling));}},\"+\":function(p,c,r,o,n,q){while((p=p.nextSibling)){if(p.nodeType==1){this.push(p,c,r,o,n,q);break;}}},\"^\":function(p,c,r,o,n,q){p=p.firstChild;\nif(p){if(p.nodeType==1){this.push(p,c,r,o,n,q);}else{this[\"combinator:+\"](p,c,r,o,n,q);}}},\"~\":function(q,c,s,p,n,r){while((q=q.nextSibling)){if(q.nodeType!=1){continue;\n}var o=this.getUID(q);if(this.bitUniques[o]){break;}this.bitUniques[o]=true;this.push(q,c,s,p,n,r);}},\"++\":function(p,c,r,o,n,q){this[\"combinator:+\"](p,c,r,o,n,q);\nthis[\"combinator:!+\"](p,c,r,o,n,q);},\"~~\":function(p,c,r,o,n,q){this[\"combinator:~\"](p,c,r,o,n,q);this[\"combinator:!~\"](p,c,r,o,n,q);},\"!\":function(p,c,r,o,n,q){while((p=p.parentNode)){if(p!==this.document){this.push(p,c,r,o,n,q);\n}}},\"!>\":function(p,c,r,o,n,q){p=p.parentNode;if(p!==this.document){this.push(p,c,r,o,n,q);}},\"!+\":function(p,c,r,o,n,q){while((p=p.previousSibling)){if(p.nodeType==1){this.push(p,c,r,o,n,q);\nbreak;}}},\"!^\":function(p,c,r,o,n,q){p=p.lastChild;if(p){if(p.nodeType==1){this.push(p,c,r,o,n,q);}else{this[\"combinator:!+\"](p,c,r,o,n,q);}}},\"!~\":function(q,c,s,p,n,r){while((q=q.previousSibling)){if(q.nodeType!=1){continue;\n}var o=this.getUID(q);if(this.bitUniques[o]){break;}this.bitUniques[o]=true;this.push(q,c,s,p,n,r);}}};for(var i in j){k[\"combinator:\"+i]=j[i];}var l={empty:function(c){var n=c.firstChild;\nreturn !(n&&n.nodeType==1)&&!(c.innerText||c.textContent||\"\").length;},not:function(c,n){return !this.matchNode(c,n);},contains:function(c,n){return(c.innerText||c.textContent||\"\").indexOf(n)>-1;\n},\"first-child\":function(c){while((c=c.previousSibling)){if(c.nodeType==1){return false;}}return true;},\"last-child\":function(c){while((c=c.nextSibling)){if(c.nodeType==1){return false;\n}}return true;},\"only-child\":function(o){var n=o;while((n=n.previousSibling)){if(n.nodeType==1){return false;}}var c=o;while((c=c.nextSibling)){if(c.nodeType==1){return false;\n}}return true;},\"nth-child\":k.createNTHPseudo(\"firstChild\",\"nextSibling\",\"posNTH\"),\"nth-last-child\":k.createNTHPseudo(\"lastChild\",\"previousSibling\",\"posNTHLast\"),\"nth-of-type\":k.createNTHPseudo(\"firstChild\",\"nextSibling\",\"posNTHType\",true),\"nth-last-of-type\":k.createNTHPseudo(\"lastChild\",\"previousSibling\",\"posNTHTypeLast\",true),index:function(n,c){return this[\"pseudo:nth-child\"](n,\"\"+(c+1));\n},even:function(c){return this[\"pseudo:nth-child\"](c,\"2n\");},odd:function(c){return this[\"pseudo:nth-child\"](c,\"2n+1\");},\"first-of-type\":function(c){var n=c.nodeName;\nwhile((c=c.previousSibling)){if(c.nodeName==n){return false;}}return true;},\"last-of-type\":function(c){var n=c.nodeName;while((c=c.nextSibling)){if(c.nodeName==n){return false;\n}}return true;},\"only-of-type\":function(o){var n=o,p=o.nodeName;while((n=n.previousSibling)){if(n.nodeName==p){return false;}}var c=o;while((c=c.nextSibling)){if(c.nodeName==p){return false;\n}}return true;},enabled:function(c){return !c.disabled;},disabled:function(c){return c.disabled;},checked:function(c){return c.checked||c.selected;},focus:function(c){return this.isHTMLDocument&&this.document.activeElement===c&&(c.href||c.type||this.hasAttribute(c,\"tabindex\"));\n},root:function(c){return(c===this.root);},selected:function(c){return c.selected;}};for(var b in l){k[\"pseudo:\"+b]=l[b];}var a=k.attributeGetters={\"for\":function(){return(\"htmlFor\" in this)?this.htmlFor:this.getAttribute(\"for\");\n},href:function(){return(\"href\" in this)?this.getAttribute(\"href\",2):this.getAttribute(\"href\");},style:function(){return(this.style)?this.style.cssText:this.getAttribute(\"style\");\n},tabindex:function(){var c=this.getAttributeNode(\"tabindex\");return(c&&c.specified)?c.nodeValue:null;},type:function(){return this.getAttribute(\"type\");\n},maxlength:function(){var c=this.getAttributeNode(\"maxLength\");return(c&&c.specified)?c.nodeValue:null;}};a.MAXLENGTH=a.maxLength=a.maxlength;var e=k.Slick=(this.Slick||{});\ne.version=\"1.1.7\";e.search=function(n,o,c){return k.search(n,o,c);};e.find=function(c,n){return k.search(c,n,null,true);};e.contains=function(c,n){k.setDocument(c);\nreturn k.contains(c,n);};e.getAttribute=function(n,c){k.setDocument(n);return k.getAttribute(n,c);};e.hasAttribute=function(n,c){k.setDocument(n);return k.hasAttribute(n,c);\n};e.match=function(n,c){if(!(n&&c)){return false;}if(!c||c===n){return true;}k.setDocument(n);return k.matchNode(n,c);};e.defineAttributeGetter=function(c,n){k.attributeGetters[c]=n;\nreturn this;};e.lookupAttributeGetter=function(c){return k.attributeGetters[c];};e.definePseudo=function(c,n){k[\"pseudo:\"+c]=function(p,o){return n.call(p,o);\n};return this;};e.lookupPseudo=function(c){var n=k[\"pseudo:\"+c];if(n){return function(o){return n.call(this,o);};}return null;};e.override=function(n,c){k.override(n,c);\nreturn this;};e.isXML=k.isXML;e.uidOf=function(c){return k.getUIDHTML(c);};if(!this.Slick){this.Slick=e;}}).apply((typeof exports!=\"undefined\")?exports:this);\nvar Element=function(b,g){var h=Element.Constructors[b];if(h){return h(g);}if(typeof b!=\"string\"){return document.id(b).set(g);}if(!g){g={};}if(!(/^[\\w-]+$/).test(b)){var e=Slick.parse(b).expressions[0][0];\nb=(e.tag==\"*\")?\"div\":e.tag;if(e.id&&g.id==null){g.id=e.id;}var d=e.attributes;if(d){for(var a,f=0,c=d.length;f<c;f++){a=d[f];if(g[a.key]!=null){continue;\n}if(a.value!=null&&a.operator==\"=\"){g[a.key]=a.value;}else{if(!a.value&&!a.operator){g[a.key]=true;}}}}if(e.classList&&g[\"class\"]==null){g[\"class\"]=e.classList.join(\" \");\n}}return document.newElement(b,g);};if(Browser.Element){Element.prototype=Browser.Element.prototype;Element.prototype._fireEvent=(function(a){return function(b,c){return a.call(this,b,c);\n};})(Element.prototype.fireEvent);}new Type(\"Element\",Element).mirror(function(a){if(Array.prototype[a]){return;}var b={};b[a]=function(){var h=[],e=arguments,j=true;\nfor(var g=0,d=this.length;g<d;g++){var f=this[g],c=h[g]=f[a].apply(f,e);j=(j&&typeOf(c)==\"element\");}return(j)?new Elements(h):h;};Elements.implement(b);\n});if(!Browser.Element){Element.parent=Object;Element.Prototype={\"$constructor\":Element,\"$family\":Function.from(\"element\").hide()};Element.mirror(function(a,b){Element.Prototype[a]=b;\n});}Element.Constructors={};Element.Constructors=new Hash;var IFrame=new Type(\"IFrame\",function(){var e=Array.link(arguments,{properties:Type.isObject,iframe:function(f){return(f!=null);\n}});var c=e.properties||{},b;if(e.iframe){b=document.id(e.iframe);}var d=c.onload||function(){};delete c.onload;c.id=c.name=[c.id,c.name,b?(b.id||b.name):\"IFrame_\"+String.uniqueID()].pick();\nb=new Element(b||\"iframe\",c);var a=function(){d.call(b.contentWindow);};if(window.frames[c.id]){a();}else{b.addListener(\"load\",a);}return b;});var Elements=this.Elements=function(a){if(a&&a.length){var e={},d;\nfor(var c=0;d=a[c++];){var b=Slick.uidOf(d);if(!e[b]){e[b]=true;this.push(d);}}}};Elements.prototype={length:0};Elements.parent=Array;new Type(\"Elements\",Elements).implement({filter:function(a,b){if(!a){return this;\n}return new Elements(Array.filter(this,(typeOf(a)==\"string\")?function(c){return c.match(a);}:a,b));}.protect(),push:function(){var d=this.length;for(var b=0,a=arguments.length;\nb<a;b++){var c=document.id(arguments[b]);if(c){this[d++]=c;}}return(this.length=d);}.protect(),unshift:function(){var b=[];for(var c=0,a=arguments.length;\nc<a;c++){var d=document.id(arguments[c]);if(d){b.push(d);}}return Array.prototype.unshift.apply(this,b);}.protect(),concat:function(){var b=new Elements(this);\nfor(var c=0,a=arguments.length;c<a;c++){var d=arguments[c];if(Type.isEnumerable(d)){b.append(d);}else{b.push(d);}}return b;}.protect(),append:function(c){for(var b=0,a=c.length;\nb<a;b++){this.push(c[b]);}return this;}.protect(),empty:function(){while(this.length){delete this[--this.length];}return this;}.protect()});Elements.alias(\"extend\",\"append\");\n(function(){var f=Array.prototype.splice,a={\"0\":0,\"1\":1,length:2};f.call(a,1,1);if(a[1]==1){Elements.implement(\"splice\",function(){var g=this.length;var e=f.apply(this,arguments);\nwhile(g>=this.length){delete this[g--];}return e;}.protect());}Array.forEachMethod(function(g,e){Elements.implement(e,g);});Array.mirror(Elements);var d;\ntry{d=(document.createElement(\"<input name=x>\").name==\"x\");}catch(b){}var c=function(e){return(\"\"+e).replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\");};Document.implement({newElement:function(e,g){if(g&&g.checked!=null){g.defaultChecked=g.checked;\n}if(d&&g){e=\"<\"+e;if(g.name){e+=' name=\"'+c(g.name)+'\"';}if(g.type){e+=' type=\"'+c(g.type)+'\"';}e+=\">\";delete g.name;delete g.type;}return this.id(this.createElement(e)).set(g);\n}});})();(function(){Slick.uidOf(window);Slick.uidOf(document);Document.implement({newTextNode:function(e){return this.createTextNode(e);},getDocument:function(){return this;\n},getWindow:function(){return this.window;},id:(function(){var e={string:function(E,D,l){E=Slick.find(l,\"#\"+E.replace(/(\\W)/g,\"\\\\$1\"));return(E)?e.element(E,D):null;\n},element:function(D,E){Slick.uidOf(D);if(!E&&!D.$family&&!(/^(?:object|embed)$/i).test(D.tagName)){var l=D.fireEvent;D._fireEvent=function(F,G){return l(F,G);\n};Object.append(D,Element.Prototype);}return D;},object:function(D,E,l){if(D.toElement){return e.element(D.toElement(l),E);}return null;}};e.textnode=e.whitespace=e.window=e.document=function(l){return l;\n};return function(D,F,E){if(D&&D.$family&&D.uniqueNumber){return D;}var l=typeOf(D);return(e[l])?e[l](D,F,E||document):null;};})()});if(window.$==null){Window.implement(\"$\",function(e,l){return document.id(e,l,this.document);\n});}Window.implement({getDocument:function(){return this.document;},getWindow:function(){return this;}});[Document,Element].invoke(\"implement\",{getElements:function(e){return Slick.search(this,e,new Elements);\n},getElement:function(e){return document.id(Slick.find(this,e));}});var m={contains:function(e){return Slick.contains(this,e);}};if(!document.contains){Document.implement(m);\n}if(!document.createElement(\"div\").contains){Element.implement(m);}Element.implement(\"hasChild\",function(e){return this!==e&&this.contains(e);});(function(l,E,e){this.Selectors={};\nvar F=this.Selectors.Pseudo=new Hash();var D=function(){for(var G in F){if(F.hasOwnProperty(G)){Slick.definePseudo(G,F[G]);delete F[G];}}};Slick.search=function(H,I,G){D();\nreturn l.call(this,H,I,G);};Slick.find=function(G,H){D();return E.call(this,G,H);};Slick.match=function(H,G){D();return e.call(this,H,G);};})(Slick.search,Slick.find,Slick.match);\nvar r=function(E,D){if(!E){return D;}E=Object.clone(Slick.parse(E));var l=E.expressions;for(var e=l.length;e--;){l[e][0].combinator=D;}return E;};Object.forEach({getNext:\"~\",getPrevious:\"!~\",getParent:\"!\"},function(e,l){Element.implement(l,function(D){return this.getElement(r(D,e));\n});});Object.forEach({getAllNext:\"~\",getAllPrevious:\"!~\",getSiblings:\"~~\",getChildren:\">\",getParents:\"!\"},function(e,l){Element.implement(l,function(D){return this.getElements(r(D,e));\n});});Element.implement({getFirst:function(e){return document.id(Slick.search(this,r(e,\">\"))[0]);},getLast:function(e){return document.id(Slick.search(this,r(e,\">\")).getLast());\n},getWindow:function(){return this.ownerDocument.window;},getDocument:function(){return this.ownerDocument;},getElementById:function(e){return document.id(Slick.find(this,\"#\"+(\"\"+e).replace(/(\\W)/g,\"\\\\$1\")));\n},match:function(e){return !e||Slick.match(this,e);}});if(window.$$==null){Window.implement(\"$$\",function(e){var H=new Elements;if(arguments.length==1&&typeof e==\"string\"){return Slick.search(this.document,e,H);\n}var E=Array.flatten(arguments);for(var F=0,D=E.length;F<D;F++){var G=E[F];switch(typeOf(G)){case\"element\":H.push(G);break;case\"string\":Slick.search(this.document,G,H);\n}}return H;});}if(window.$$==null){Window.implement(\"$$\",function(e){if(arguments.length==1){if(typeof e==\"string\"){return Slick.search(this.document,e,new Elements);\n}else{if(Type.isEnumerable(e)){return new Elements(e);}}}return new Elements(arguments);});}var w={before:function(l,e){var D=e.parentNode;if(D){D.insertBefore(l,e);\n}},after:function(l,e){var D=e.parentNode;if(D){D.insertBefore(l,e.nextSibling);}},bottom:function(l,e){e.appendChild(l);},top:function(l,e){e.insertBefore(l,e.firstChild);\n}};w.inside=w.bottom;Object.each(w,function(l,D){D=D.capitalize();var e={};e[\"inject\"+D]=function(E){l(this,document.id(E,true));return this;};e[\"grab\"+D]=function(E){l(document.id(E,true),this);\nreturn this;};Element.implement(e);});var j={},d={};var k={};Array.forEach([\"type\",\"value\",\"defaultValue\",\"accessKey\",\"cellPadding\",\"cellSpacing\",\"colSpan\",\"frameBorder\",\"rowSpan\",\"tabIndex\",\"useMap\"],function(e){k[e.toLowerCase()]=e;\n});k.html=\"innerHTML\";k.text=(document.createElement(\"div\").textContent==null)?\"innerText\":\"textContent\";Object.forEach(k,function(l,e){d[e]=function(D,E){D[l]=E;\n};j[e]=function(D){return D[l];};});var x=[\"compact\",\"nowrap\",\"ismap\",\"declare\",\"noshade\",\"checked\",\"disabled\",\"readOnly\",\"multiple\",\"selected\",\"noresize\",\"defer\",\"defaultChecked\",\"autofocus\",\"controls\",\"autoplay\",\"loop\"];\nvar h={};Array.forEach(x,function(e){var l=e.toLowerCase();h[l]=e;d[l]=function(D,E){D[e]=!!E;};j[l]=function(D){return !!D[e];};});Object.append(d,{\"class\":function(e,l){(\"className\" in e)?e.className=(l||\"\"):e.setAttribute(\"class\",l);\n},\"for\":function(e,l){(\"htmlFor\" in e)?e.htmlFor=l:e.setAttribute(\"for\",l);},style:function(e,l){(e.style)?e.style.cssText=l:e.setAttribute(\"style\",l);\n},value:function(e,l){e.value=(l!=null)?l:\"\";}});j[\"class\"]=function(e){return(\"className\" in e)?e.className||null:e.getAttribute(\"class\");};var f=document.createElement(\"button\");\ntry{f.type=\"button\";}catch(z){}if(f.type!=\"button\"){d.type=function(e,l){e.setAttribute(\"type\",l);};}f=null;var p=document.createElement(\"input\");p.value=\"t\";\np.type=\"submit\";if(p.value!=\"t\"){d.type=function(l,e){var D=l.value;l.type=e;l.value=D;};}p=null;var q=(function(e){e.random=\"attribute\";return(e.getAttribute(\"random\")==\"attribute\");\n})(document.createElement(\"div\"));Element.implement({setProperty:function(l,D){var E=d[l.toLowerCase()];if(E){E(this,D);}else{if(q){var e=this.retrieve(\"$attributeWhiteList\",{});\n}if(D==null){this.removeAttribute(l);if(q){delete e[l];}}else{this.setAttribute(l,\"\"+D);if(q){e[l]=true;}}}return this;},setProperties:function(e){for(var l in e){this.setProperty(l,e[l]);\n}return this;},getProperty:function(F){var D=j[F.toLowerCase()];if(D){return D(this);}if(q){var l=this.getAttributeNode(F),E=this.retrieve(\"$attributeWhiteList\",{});\nif(!l){return null;}if(l.expando&&!E[F]){var G=this.outerHTML;if(G.substr(0,G.search(/\\/?['\"]?>(?![^<]*<['\"])/)).indexOf(F)<0){return null;}E[F]=true;}}var e=Slick.getAttribute(this,F);\nreturn(!e&&!Slick.hasAttribute(this,F))?null:e;},getProperties:function(){var e=Array.from(arguments);return e.map(this.getProperty,this).associate(e);\n},removeProperty:function(e){return this.setProperty(e,null);},removeProperties:function(){Array.each(arguments,this.removeProperty,this);return this;},set:function(D,l){var e=Element.Properties[D];\n(e&&e.set)?e.set.call(this,l):this.setProperty(D,l);}.overloadSetter(),get:function(l){var e=Element.Properties[l];return(e&&e.get)?e.get.apply(this):this.getProperty(l);\n}.overloadGetter(),erase:function(l){var e=Element.Properties[l];(e&&e.erase)?e.erase.apply(this):this.removeProperty(l);return this;},hasClass:function(e){return this.className.clean().contains(e,\" \");\n},addClass:function(e){if(!this.hasClass(e)){this.className=(this.className+\" \"+e).clean();}return this;},removeClass:function(e){this.className=this.className.replace(new RegExp(\"(^|\\\\s)\"+e+\"(?:\\\\s|$)\"),\"$1\");\nreturn this;},toggleClass:function(e,l){if(l==null){l=!this.hasClass(e);}return(l)?this.addClass(e):this.removeClass(e);},adopt:function(){var E=this,e,G=Array.flatten(arguments),F=G.length;\nif(F>1){E=e=document.createDocumentFragment();}for(var D=0;D<F;D++){var l=document.id(G[D],true);if(l){E.appendChild(l);}}if(e){this.appendChild(e);}return this;\n},appendText:function(l,e){return this.grab(this.getDocument().newTextNode(l),e);},grab:function(l,e){w[e||\"bottom\"](document.id(l,true),this);return this;\n},inject:function(l,e){w[e||\"bottom\"](this,document.id(l,true));return this;},replaces:function(e){e=document.id(e,true);e.parentNode.replaceChild(this,e);\nreturn this;},wraps:function(l,e){l=document.id(l,true);return this.replaces(l).grab(l,e);},getSelected:function(){this.selectedIndex;return new Elements(Array.from(this.options).filter(function(e){return e.selected;\n}));},toQueryString:function(){var e=[];this.getElements(\"input, select, textarea\").each(function(D){var l=D.type;if(!D.name||D.disabled||l==\"submit\"||l==\"reset\"||l==\"file\"||l==\"image\"){return;\n}var E=(D.get(\"tag\")==\"select\")?D.getSelected().map(function(F){return document.id(F).get(\"value\");}):((l==\"radio\"||l==\"checkbox\")&&!D.checked)?null:D.get(\"value\");\nArray.from(E).each(function(F){if(typeof F!=\"undefined\"){e.push(encodeURIComponent(D.name)+\"=\"+encodeURIComponent(F));}});});return e.join(\"&\");}});var i={},A={};\nvar B=function(e){return(A[e]||(A[e]={}));};var v=function(l){var e=l.uniqueNumber;if(l.removeEvents){l.removeEvents();}if(l.clearAttributes){l.clearAttributes();\n}if(e!=null){delete i[e];delete A[e];}return l;};var C={input:\"checked\",option:\"selected\",textarea:\"value\"};Element.implement({destroy:function(){var e=v(this).getElementsByTagName(\"*\");\nArray.each(e,v);Element.dispose(this);return null;},empty:function(){Array.from(this.childNodes).each(Element.dispose);return this;},dispose:function(){return(this.parentNode)?this.parentNode.removeChild(this):this;\n},clone:function(G,E){G=G!==false;var L=this.cloneNode(G),D=[L],F=[this],J;if(G){D.append(Array.from(L.getElementsByTagName(\"*\")));F.append(Array.from(this.getElementsByTagName(\"*\")));\n}for(J=D.length;J--;){var H=D[J],K=F[J];if(!E){H.removeAttribute(\"id\");}if(H.clearAttributes){H.clearAttributes();H.mergeAttributes(K);H.removeAttribute(\"uniqueNumber\");\nif(H.options){var O=H.options,e=K.options;for(var I=O.length;I--;){O[I].selected=e[I].selected;}}}var l=C[K.tagName.toLowerCase()];if(l&&K[l]){H[l]=K[l];\n}}if(Browser.ie){var M=L.getElementsByTagName(\"object\"),N=this.getElementsByTagName(\"object\");for(J=M.length;J--;){M[J].outerHTML=N[J].outerHTML;}}return document.id(L);\n}});[Element,Window,Document].invoke(\"implement\",{addListener:function(E,D){if(E==\"unload\"){var e=D,l=this;D=function(){l.removeListener(\"unload\",D);e();\n};}else{i[Slick.uidOf(this)]=this;}if(this.addEventListener){this.addEventListener(E,D,!!arguments[2]);}else{this.attachEvent(\"on\"+E,D);}return this;},removeListener:function(l,e){if(this.removeEventListener){this.removeEventListener(l,e,!!arguments[2]);\n}else{this.detachEvent(\"on\"+l,e);}return this;},retrieve:function(l,e){var E=B(Slick.uidOf(this)),D=E[l];if(e!=null&&D==null){D=E[l]=e;}return D!=null?D:null;\n},store:function(l,e){var D=B(Slick.uidOf(this));D[l]=e;return this;},eliminate:function(e){var l=B(Slick.uidOf(this));delete l[e];return this;}});if(window.attachEvent&&!window.addEventListener){window.addListener(\"unload\",function(){Object.each(i,v);\nif(window.CollectGarbage){CollectGarbage();}});}Element.Properties={};Element.Properties=new Hash;Element.Properties.style={set:function(e){this.style.cssText=e;\n},get:function(){return this.style.cssText;},erase:function(){this.style.cssText=\"\";}};Element.Properties.tag={get:function(){return this.tagName.toLowerCase();\n}};Element.Properties.html={set:function(e){if(e==null){e=\"\";}else{if(typeOf(e)==\"array\"){e=e.join(\"\");}}this.innerHTML=e;},erase:function(){this.innerHTML=\"\";\n}};var t=document.createElement(\"div\");t.innerHTML=\"<nav></nav>\";var a=(t.childNodes.length==1);if(!a){var s=\"abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video\".split(\" \"),b=document.createDocumentFragment(),u=s.length;\nwhile(u--){b.createElement(s[u]);}}t=null;var g=Function.attempt(function(){var e=document.createElement(\"table\");e.innerHTML=\"<tr><td></td></tr>\";return true;\n});var c=document.createElement(\"tr\"),o=\"<td></td>\";c.innerHTML=o;var y=(c.innerHTML==o);c=null;if(!g||!y||!a){Element.Properties.html.set=(function(l){var e={table:[1,\"<table>\",\"</table>\"],select:[1,\"<select>\",\"</select>\"],tbody:[2,\"<table><tbody>\",\"</tbody></table>\"],tr:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"]};\ne.thead=e.tfoot=e.tbody;return function(D){var E=e[this.get(\"tag\")];if(!E&&!a){E=[0,\"\",\"\"];}if(!E){return l.call(this,D);}var H=E[0],G=document.createElement(\"div\"),F=G;\nif(!a){b.appendChild(G);}G.innerHTML=[E[1],D,E[2]].flatten().join(\"\");while(H--){F=F.firstChild;}this.empty().adopt(F.childNodes);if(!a){b.removeChild(G);\n}G=null;};})(Element.Properties.html.set);}var n=document.createElement(\"form\");n.innerHTML=\"<select><option>s</option></select>\";if(n.firstChild.value!=\"s\"){Element.Properties.value={set:function(G){var l=this.get(\"tag\");\nif(l!=\"select\"){return this.setProperty(\"value\",G);}var D=this.getElements(\"option\");for(var E=0;E<D.length;E++){var F=D[E],e=F.getAttributeNode(\"value\"),H=(e&&e.specified)?F.value:F.get(\"text\");\nif(H==G){return F.selected=true;}}},get:function(){var D=this,l=D.get(\"tag\");if(l!=\"select\"&&l!=\"option\"){return this.getProperty(\"value\");}if(l==\"select\"&&!(D=D.getSelected()[0])){return\"\";\n}var e=D.getAttributeNode(\"value\");return(e&&e.specified)?D.value:D.get(\"text\");}};}n=null;if(document.createElement(\"div\").getAttributeNode(\"id\")){Element.Properties.id={set:function(e){this.id=this.getAttributeNode(\"id\").value=e;\n},get:function(){return this.id||null;},erase:function(){this.id=this.getAttributeNode(\"id\").value=\"\";}};}})();(function(){var i=document.html;var d=document.createElement(\"div\");\nd.style.color=\"red\";d.style.color=null;var c=d.style.color==\"red\";d=null;Element.Properties.styles={set:function(k){this.setStyles(k);}};var h=(i.style.opacity!=null),e=(i.style.filter!=null),j=/alpha\\(opacity=([\\d.]+)\\)/i;\nvar a=function(l,k){l.store(\"$opacity\",k);l.style.visibility=k>0||k==null?\"visible\":\"hidden\";};var f=(h?function(l,k){l.style.opacity=k;}:(e?function(l,k){var n=l.style;\nif(!l.currentStyle||!l.currentStyle.hasLayout){n.zoom=1;}if(k==null||k==1){k=\"\";}else{k=\"alpha(opacity=\"+(k*100).limit(0,100).round()+\")\";}var m=n.filter||l.getComputedStyle(\"filter\")||\"\";\nn.filter=j.test(m)?m.replace(j,k):m+k;if(!n.filter){n.removeAttribute(\"filter\");}}:a));var g=(h?function(l){var k=l.style.opacity||l.getComputedStyle(\"opacity\");\nreturn(k==\"\")?1:k.toFloat();}:(e?function(l){var m=(l.style.filter||l.getComputedStyle(\"filter\")),k;if(m){k=m.match(j);}return(k==null||m==null)?1:(k[1]/100);\n}:function(l){var k=l.retrieve(\"$opacity\");if(k==null){k=(l.style.visibility==\"hidden\"?0:1);}return k;}));var b=(i.style.cssFloat==null)?\"styleFloat\":\"cssFloat\";\nElement.implement({getComputedStyle:function(m){if(this.currentStyle){return this.currentStyle[m.camelCase()];}var l=Element.getDocument(this).defaultView,k=l?l.getComputedStyle(this,null):null;\nreturn(k)?k.getPropertyValue((m==b)?\"float\":m.hyphenate()):null;},setStyle:function(l,k){if(l==\"opacity\"){if(k!=null){k=parseFloat(k);}f(this,k);return this;\n}l=(l==\"float\"?b:l).camelCase();if(typeOf(k)!=\"string\"){var m=(Element.Styles[l]||\"@\").split(\" \");k=Array.from(k).map(function(o,n){if(!m[n]){return\"\";\n}return(typeOf(o)==\"number\")?m[n].replace(\"@\",Math.round(o)):o;}).join(\" \");}else{if(k==String(Number(k))){k=Math.round(k);}}this.style[l]=k;if((k==\"\"||k==null)&&c&&this.style.removeAttribute){this.style.removeAttribute(l);\n}return this;},getStyle:function(q){if(q==\"opacity\"){return g(this);}q=(q==\"float\"?b:q).camelCase();var k=this.style[q];if(!k||q==\"zIndex\"){k=[];for(var p in Element.ShortStyles){if(q!=p){continue;\n}for(var o in Element.ShortStyles[p]){k.push(this.getStyle(o));}return k.join(\" \");}k=this.getComputedStyle(q);}if(k){k=String(k);var m=k.match(/rgba?\\([\\d\\s,]+\\)/);\nif(m){k=k.replace(m[0],m[0].rgbToHex());}}if(Browser.opera||Browser.ie){if((/^(height|width)$/).test(q)&&!(/px$/.test(k))){var l=(q==\"width\")?[\"left\",\"right\"]:[\"top\",\"bottom\"],n=0;\nl.each(function(r){n+=this.getStyle(\"border-\"+r+\"-width\").toInt()+this.getStyle(\"padding-\"+r).toInt();},this);return this[\"offset\"+q.capitalize()]-n+\"px\";\n}if(Browser.ie&&(/^border(.+)Width|margin|padding/).test(q)&&isNaN(parseFloat(k))){return\"0px\";}}return k;},setStyles:function(l){for(var k in l){this.setStyle(k,l[k]);\n}return this;},getStyles:function(){var k={};Array.flatten(arguments).each(function(l){k[l]=this.getStyle(l);},this);return k;}});Element.Styles={left:\"@px\",top:\"@px\",bottom:\"@px\",right:\"@px\",width:\"@px\",height:\"@px\",maxWidth:\"@px\",maxHeight:\"@px\",minWidth:\"@px\",minHeight:\"@px\",backgroundColor:\"rgb(@, @, @)\",backgroundPosition:\"@px @px\",color:\"rgb(@, @, @)\",fontSize:\"@px\",letterSpacing:\"@px\",lineHeight:\"@px\",clip:\"rect(@px @px @px @px)\",margin:\"@px @px @px @px\",padding:\"@px @px @px @px\",border:\"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)\",borderWidth:\"@px @px @px @px\",borderStyle:\"@ @ @ @\",borderColor:\"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)\",zIndex:\"@\",zoom:\"@\",fontWeight:\"@\",textIndent:\"@px\",opacity:\"@\"};\nElement.implement({setOpacity:function(k){f(this,k);return this;},getOpacity:function(){return g(this);}});Element.Properties.opacity={set:function(k){f(this,k);\na(this,k);},get:function(){return g(this);}};Element.Styles=new Hash(Element.Styles);Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}};\n[\"Top\",\"Right\",\"Bottom\",\"Left\"].each(function(q){var p=Element.ShortStyles;var l=Element.Styles;[\"margin\",\"padding\"].each(function(r){var s=r+q;p[r][s]=l[s]=\"@px\";\n});var o=\"border\"+q;p.border[o]=l[o]=\"@px @ rgb(@, @, @)\";var n=o+\"Width\",k=o+\"Style\",m=o+\"Color\";p[o]={};p.borderWidth[n]=p[o][n]=l[n]=\"@px\";p.borderStyle[k]=p[o][k]=l[k]=\"@\";\np.borderColor[m]=p[o][m]=l[m]=\"rgb(@, @, @)\";});})();(function(){Element.Properties.events={set:function(b){this.addEvents(b);}};[Element,Window,Document].invoke(\"implement\",{addEvent:function(f,h){var i=this.retrieve(\"events\",{});\nif(!i[f]){i[f]={keys:[],values:[]};}if(i[f].keys.contains(h)){return this;}i[f].keys.push(h);var g=f,b=Element.Events[f],d=h,j=this;if(b){if(b.onAdd){b.onAdd.call(this,h,f);\n}if(b.condition){d=function(k){if(b.condition.call(this,k,f)){return h.call(this,k);}return true;};}if(b.base){g=Function.from(b.base).call(this,f);}}var e=function(){return h.call(j);\n};var c=Element.NativeEvents[g];if(c){if(c==2){e=function(k){k=new DOMEvent(k,j.getWindow());if(d.call(j,k)===false){k.stop();}};}this.addListener(g,e,arguments[2]);\n}i[f].values.push(e);return this;},removeEvent:function(e,d){var c=this.retrieve(\"events\");if(!c||!c[e]){return this;}var h=c[e];var b=h.keys.indexOf(d);\nif(b==-1){return this;}var g=h.values[b];delete h.keys[b];delete h.values[b];var f=Element.Events[e];if(f){if(f.onRemove){f.onRemove.call(this,d,e);}if(f.base){e=Function.from(f.base).call(this,e);\n}}return(Element.NativeEvents[e])?this.removeListener(e,g,arguments[2]):this;},addEvents:function(b){for(var c in b){this.addEvent(c,b[c]);}return this;\n},removeEvents:function(b){var d;if(typeOf(b)==\"object\"){for(d in b){this.removeEvent(d,b[d]);}return this;}var c=this.retrieve(\"events\");if(!c){return this;\n}if(!b){for(d in c){this.removeEvents(d);}this.eliminate(\"events\");}else{if(c[b]){c[b].keys.each(function(e){this.removeEvent(b,e);},this);delete c[b];\n}}return this;},fireEvent:function(e,c,b){var d=this.retrieve(\"events\");if(!d||!d[e]){return this;}c=Array.from(c);d[e].keys.each(function(f){if(b){f.delay(b,this,c);\n}else{f.apply(this,c);}},this);return this;},cloneEvents:function(e,d){e=document.id(e);var c=e.retrieve(\"events\");if(!c){return this;}if(!d){for(var b in c){this.cloneEvents(e,b);\n}}else{if(c[d]){c[d].keys.each(function(f){this.addEvent(d,f);},this);}}return this;}});Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,paste:2,input:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1};\nElement.Events={mousewheel:{base:(Browser.firefox)?\"DOMMouseScroll\":\"mousewheel\"}};if(\"onmouseenter\" in document.documentElement){Element.NativeEvents.mouseenter=Element.NativeEvents.mouseleave=2;\n}else{var a=function(b){var c=b.relatedTarget;if(c==null){return true;}if(!c){return false;}return(c!=this&&c.prefix!=\"xul\"&&typeOf(this)!=\"document\"&&!this.contains(c));\n};Element.Events.mouseenter={base:\"mouseover\",condition:a};Element.Events.mouseleave={base:\"mouseout\",condition:a};}if(!window.addEventListener){Element.NativeEvents.propertychange=2;\nElement.Events.change={base:function(){var b=this.type;return(this.get(\"tag\")==\"input\"&&(b==\"radio\"||b==\"checkbox\"))?\"propertychange\":\"change\";},condition:function(b){return this.type!=\"radio\"||(b.event.propertyName==\"checked\"&&this.checked);\n}};}Element.Events=new Hash(Element.Events);})();(function(){var c=!!window.addEventListener;Element.NativeEvents.focusin=Element.NativeEvents.focusout=2;\nvar k=function(l,m,n,o,p){while(p&&p!=l){if(m(p,o)){return n.call(p,o,p);}p=document.id(p.parentNode);}};var a={mouseenter:{base:\"mouseover\"},mouseleave:{base:\"mouseout\"},focus:{base:\"focus\"+(c?\"\":\"in\"),capture:true},blur:{base:c?\"blur\":\"focusout\",capture:true}};\nvar b=\"$delegation:\";var i=function(l){return{base:\"focusin\",remove:function(m,o){var p=m.retrieve(b+l+\"listeners\",{})[o];if(p&&p.forms){for(var n=p.forms.length;\nn--;){p.forms[n].removeEvent(l,p.fns[n]);}}},listen:function(x,r,v,n,t,s){var o=(t.get(\"tag\")==\"form\")?t:n.target.getParent(\"form\");if(!o){return;}var u=x.retrieve(b+l+\"listeners\",{}),p=u[s]||{forms:[],fns:[]},m=p.forms,w=p.fns;\nif(m.indexOf(o)!=-1){return;}m.push(o);var q=function(y){k(x,r,v,y,t);};o.addEvent(l,q);w.push(q);u[s]=p;x.store(b+l+\"listeners\",u);}};};var d=function(l){return{base:\"focusin\",listen:function(m,n,p,q,r){var o={blur:function(){this.removeEvents(o);\n}};o[l]=function(s){k(m,n,p,s,r);};q.target.addEvents(o);}};};if(!c){Object.append(a,{submit:i(\"submit\"),reset:i(\"reset\"),change:d(\"change\"),select:d(\"select\")});\n}var h=Element.prototype,f=h.addEvent,j=h.removeEvent;var e=function(l,m){return function(r,q,n){if(r.indexOf(\":relay\")==-1){return l.call(this,r,q,n);\n}var o=Slick.parse(r).expressions[0][0];if(o.pseudos[0].key!=\"relay\"){return l.call(this,r,q,n);}var p=o.tag;o.pseudos.slice(1).each(function(s){p+=\":\"+s.key+(s.value?\"(\"+s.value+\")\":\"\");\n});l.call(this,r,q);return m.call(this,p,o.pseudos[0].value,q);};};var g={addEvent:function(v,q,x){var t=this.retrieve(\"$delegates\",{}),r=t[v];if(r){for(var y in r){if(r[y].fn==x&&r[y].match==q){return this;\n}}}var p=v,u=q,o=x,n=a[v]||{};v=n.base||p;q=function(B){return Slick.match(B,u);};var w=Element.Events[p];if(w&&w.condition){var l=q,m=w.condition;q=function(C,B){return l(C,B)&&m.call(C,B,v);\n};}var z=this,s=String.uniqueID();var A=n.listen?function(B,C){if(!C&&B&&B.target){C=B.target;}if(C){n.listen(z,q,x,B,C,s);}}:function(B,C){if(!C&&B&&B.target){C=B.target;\n}if(C){k(z,q,x,B,C);}};if(!r){r={};}r[s]={match:u,fn:o,delegator:A};t[p]=r;return f.call(this,v,A,n.capture);},removeEvent:function(r,n,t,u){var q=this.retrieve(\"$delegates\",{}),p=q[r];\nif(!p){return this;}if(u){var m=r,w=p[u].delegator,l=a[r]||{};r=l.base||m;if(l.remove){l.remove(this,u);}delete p[u];q[m]=p;return j.call(this,r,w);}var o,v;\nif(t){for(o in p){v=p[o];if(v.match==n&&v.fn==t){return g.removeEvent.call(this,r,n,t,o);}}}else{for(o in p){v=p[o];if(v.match==n){g.removeEvent.call(this,r,n,v.fn,o);\n}}}return this;}};[Element,Window,Document].invoke(\"implement\",{addEvent:e(f,g.addEvent),removeEvent:e(j,g.removeEvent)});})();(function(){var h=document.createElement(\"div\"),e=document.createElement(\"div\");\nh.style.height=\"0\";h.appendChild(e);var d=(e.offsetParent===h);h=e=null;var l=function(m){return k(m,\"position\")!=\"static\"||a(m);};var i=function(m){return l(m)||(/^(?:table|td|th)$/i).test(m.tagName);\n};Element.implement({scrollTo:function(m,n){if(a(this)){this.getWindow().scrollTo(m,n);}else{this.scrollLeft=m;this.scrollTop=n;}return this;},getSize:function(){if(a(this)){return this.getWindow().getSize();\n}return{x:this.offsetWidth,y:this.offsetHeight};},getScrollSize:function(){if(a(this)){return this.getWindow().getScrollSize();}return{x:this.scrollWidth,y:this.scrollHeight};\n},getScroll:function(){if(a(this)){return this.getWindow().getScroll();}return{x:this.scrollLeft,y:this.scrollTop};},getScrolls:function(){var n=this.parentNode,m={x:0,y:0};\nwhile(n&&!a(n)){m.x+=n.scrollLeft;m.y+=n.scrollTop;n=n.parentNode;}return m;},getOffsetParent:d?function(){var m=this;if(a(m)||k(m,\"position\")==\"fixed\"){return null;\n}var n=(k(m,\"position\")==\"static\")?i:l;while((m=m.parentNode)){if(n(m)){return m;}}return null;}:function(){var m=this;if(a(m)||k(m,\"position\")==\"fixed\"){return null;\n}try{return m.offsetParent;}catch(n){}return null;},getOffsets:function(){if(this.getBoundingClientRect&&!Browser.Platform.ios){var r=this.getBoundingClientRect(),o=document.id(this.getDocument().documentElement),q=o.getScroll(),t=this.getScrolls(),s=(k(this,\"position\")==\"fixed\");\nreturn{x:r.left.toInt()+t.x+((s)?0:q.x)-o.clientLeft,y:r.top.toInt()+t.y+((s)?0:q.y)-o.clientTop};}var n=this,m={x:0,y:0};if(a(this)){return m;}while(n&&!a(n)){m.x+=n.offsetLeft;\nm.y+=n.offsetTop;if(Browser.firefox){if(!c(n)){m.x+=b(n);m.y+=g(n);}var p=n.parentNode;if(p&&k(p,\"overflow\")!=\"visible\"){m.x+=b(p);m.y+=g(p);}}else{if(n!=this&&Browser.safari){m.x+=b(n);\nm.y+=g(n);}}n=n.offsetParent;}if(Browser.firefox&&!c(this)){m.x-=b(this);m.y-=g(this);}return m;},getPosition:function(p){var q=this.getOffsets(),n=this.getScrolls();\nvar m={x:q.x-n.x,y:q.y-n.y};if(p&&(p=document.id(p))){var o=p.getPosition();return{x:m.x-o.x-b(p),y:m.y-o.y-g(p)};}return m;},getCoordinates:function(o){if(a(this)){return this.getWindow().getCoordinates();\n}var m=this.getPosition(o),n=this.getSize();var p={left:m.x,top:m.y,width:n.x,height:n.y};p.right=p.left+p.width;p.bottom=p.top+p.height;return p;},computePosition:function(m){return{left:m.x-j(this,\"margin-left\"),top:m.y-j(this,\"margin-top\")};\n},setPosition:function(m){return this.setStyles(this.computePosition(m));}});[Document,Window].invoke(\"implement\",{getSize:function(){var m=f(this);return{x:m.clientWidth,y:m.clientHeight};\n},getScroll:function(){var n=this.getWindow(),m=f(this);return{x:n.pageXOffset||m.scrollLeft,y:n.pageYOffset||m.scrollTop};},getScrollSize:function(){var o=f(this),n=this.getSize(),m=this.getDocument().body;\nreturn{x:Math.max(o.scrollWidth,m.scrollWidth,n.x),y:Math.max(o.scrollHeight,m.scrollHeight,n.y)};},getPosition:function(){return{x:0,y:0};},getCoordinates:function(){var m=this.getSize();\nreturn{top:0,left:0,bottom:m.y,right:m.x,height:m.y,width:m.x};}});var k=Element.getComputedStyle;function j(m,n){return k(m,n).toInt()||0;}function c(m){return k(m,\"-moz-box-sizing\")==\"border-box\";\n}function g(m){return j(m,\"border-top-width\");}function b(m){return j(m,\"border-left-width\");}function a(m){return(/^(?:body|html)$/i).test(m.tagName);\n}function f(m){var n=m.getDocument();return(!n.compatMode||n.compatMode==\"CSS1Compat\")?n.html:n.body;}})();Element.alias({position:\"setPosition\"});[Window,Document,Element].invoke(\"implement\",{getHeight:function(){return this.getSize().y;\n},getWidth:function(){return this.getSize().x;},getScrollTop:function(){return this.getScroll().y;},getScrollLeft:function(){return this.getScroll().x;\n},getScrollHeight:function(){return this.getScrollSize().y;},getScrollWidth:function(){return this.getScrollSize().x;},getTop:function(){return this.getPosition().y;\n},getLeft:function(){return this.getPosition().x;}});(function(){var f=this.Fx=new Class({Implements:[Chain,Events,Options],options:{fps:60,unit:false,duration:500,frames:null,frameSkip:true,link:\"ignore\"},initialize:function(g){this.subject=this.subject||this;\nthis.setOptions(g);},getTransition:function(){return function(g){return -(Math.cos(Math.PI*g)-1)/2;};},step:function(g){if(this.options.frameSkip){var h=(this.time!=null)?(g-this.time):0,i=h/this.frameInterval;\nthis.time=g;this.frame+=i;}else{this.frame++;}if(this.frame<this.frames){var j=this.transition(this.frame/this.frames);this.set(this.compute(this.from,this.to,j));\n}else{this.frame=this.frames;this.set(this.compute(this.from,this.to,1));this.stop();}},set:function(g){return g;},compute:function(i,h,g){return f.compute(i,h,g);\n},check:function(){if(!this.isRunning()){return true;}switch(this.options.link){case\"cancel\":this.cancel();return true;case\"chain\":this.chain(this.caller.pass(arguments,this));\nreturn false;}return false;},start:function(k,j){if(!this.check(k,j)){return this;}this.from=k;this.to=j;this.frame=(this.options.frameSkip)?0:-1;this.time=null;\nthis.transition=this.getTransition();var i=this.options.frames,h=this.options.fps,g=this.options.duration;this.duration=f.Durations[g]||g.toInt();this.frameInterval=1000/h;\nthis.frames=i||Math.round(this.duration/this.frameInterval);this.fireEvent(\"start\",this.subject);b.call(this,h);return this;},stop:function(){if(this.isRunning()){this.time=null;\nd.call(this,this.options.fps);if(this.frames==this.frame){this.fireEvent(\"complete\",this.subject);if(!this.callChain()){this.fireEvent(\"chainComplete\",this.subject);\n}}else{this.fireEvent(\"stop\",this.subject);}}return this;},cancel:function(){if(this.isRunning()){this.time=null;d.call(this,this.options.fps);this.frame=this.frames;\nthis.fireEvent(\"cancel\",this.subject).clearChain();}return this;},pause:function(){if(this.isRunning()){this.time=null;d.call(this,this.options.fps);}return this;\n},resume:function(){if((this.frame<this.frames)&&!this.isRunning()){b.call(this,this.options.fps);}return this;},isRunning:function(){var g=e[this.options.fps];\nreturn g&&g.contains(this);}});f.compute=function(i,h,g){return(h-i)*g+i;};f.Durations={\"short\":250,normal:500,\"long\":1000};var e={},c={};var a=function(){var h=Date.now();\nfor(var j=this.length;j--;){var g=this[j];if(g){g.step(h);}}};var b=function(h){var g=e[h]||(e[h]=[]);g.push(this);if(!c[h]){c[h]=a.periodical(Math.round(1000/h),g);\n}};var d=function(h){var g=e[h];if(g){g.erase(this);if(!g.length&&c[h]){delete e[h];c[h]=clearInterval(c[h]);}}};})();Fx.CSS=new Class({Extends:Fx,prepare:function(b,e,a){a=Array.from(a);\nvar h=a[0],g=a[1];if(g==null){g=h;h=b.getStyle(e);var c=this.options.unit;if(c&&h.slice(-c.length)!=c&&parseFloat(h)!=0){b.setStyle(e,g+c);var d=b.getComputedStyle(e);\nif(!(/px$/.test(d))){d=b.style[(\"pixel-\"+e).camelCase()];if(d==null){var f=b.style.left;b.style.left=g+c;d=b.style.pixelLeft;b.style.left=f;}}h=(g||1)/(parseFloat(d)||1)*(parseFloat(h)||0);\nb.setStyle(e,h+c);}}return{from:this.parse(h),to:this.parse(g)};},parse:function(a){a=Function.from(a)();a=(typeof a==\"string\")?a.split(\" \"):Array.from(a);\nreturn a.map(function(c){c=String(c);var b=false;Object.each(Fx.CSS.Parsers,function(f,e){if(b){return;}var d=f.parse(c);if(d||d===0){b={value:d,parser:f};\n}});b=b||{value:c,parser:Fx.CSS.Parsers.String};return b;});},compute:function(d,c,b){var a=[];(Math.min(d.length,c.length)).times(function(e){a.push({value:d[e].parser.compute(d[e].value,c[e].value,b),parser:d[e].parser});\n});a.$family=Function.from(\"fx:css:value\");return a;},serve:function(c,b){if(typeOf(c)!=\"fx:css:value\"){c=this.parse(c);}var a=[];c.each(function(d){a=a.concat(d.parser.serve(d.value,b));\n});return a;},render:function(a,d,c,b){a.setStyle(d,this.serve(c,b));},search:function(a){if(Fx.CSS.Cache[a]){return Fx.CSS.Cache[a];}var c={},b=new RegExp(\"^\"+a.escapeRegExp()+\"$\");\nArray.each(document.styleSheets,function(f,e){var d=f.href;if(d&&d.contains(\"://\")&&!d.contains(document.domain)){return;}var g=f.rules||f.cssRules;Array.each(g,function(k,h){if(!k.style){return;\n}var j=(k.selectorText)?k.selectorText.replace(/^\\w+/,function(i){return i.toLowerCase();}):null;if(!j||!b.test(j)){return;}Object.each(Element.Styles,function(l,i){if(!k.style[i]||Element.ShortStyles[i]){return;\n}l=String(k.style[i]);c[i]=((/^rgb/).test(l))?l.rgbToHex():l;});});});return Fx.CSS.Cache[a]=c;}});Fx.CSS.Cache={};Fx.CSS.Parsers={Color:{parse:function(a){if(a.match(/^#[0-9a-f]{3,6}$/i)){return a.hexToRgb(true);\n}return((a=a.match(/(\\d+),\\s*(\\d+),\\s*(\\d+)/)))?[a[1],a[2],a[3]]:false;},compute:function(c,b,a){return c.map(function(e,d){return Math.round(Fx.compute(c[d],b[d],a));\n});},serve:function(a){return a.map(Number);}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(b,a){return(a)?b+a:b;}},String:{parse:Function.from(false),compute:function(b,a){return a;\n},serve:function(a){return a;}}};Fx.CSS.Parsers=new Hash(Fx.CSS.Parsers);Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(b,a){this.element=this.subject=document.id(b);\nthis.parent(a);},set:function(b,a){if(arguments.length==1){a=b;b=this.property||this.options.property;}this.render(this.element,b,a,this.options.unit);\nreturn this;},start:function(c,e,d){if(!this.check(c,e,d)){return this;}var b=Array.flatten(arguments);this.property=this.options.property||b.shift();var a=this.prepare(this.element,this.property,b);\nreturn this.parent(a.from,a.to);}});Element.Properties.tween={set:function(a){this.get(\"tween\").cancel().setOptions(a);return this;},get:function(){var a=this.retrieve(\"tween\");\nif(!a){a=new Fx.Tween(this,{link:\"cancel\"});this.store(\"tween\",a);}return a;}};Element.implement({tween:function(a,c,b){this.get(\"tween\").start(a,c,b);\nreturn this;},fade:function(d){var e=this.get(\"tween\"),g,c=[\"opacity\"].append(arguments),a;if(c[1]==null){c[1]=\"toggle\";}switch(c[1]){case\"in\":g=\"start\";\nc[1]=1;break;case\"out\":g=\"start\";c[1]=0;break;case\"show\":g=\"set\";c[1]=1;break;case\"hide\":g=\"set\";c[1]=0;break;case\"toggle\":var b=this.retrieve(\"fade:flag\",this.getStyle(\"opacity\")==1);\ng=\"start\";c[1]=b?0:1;this.store(\"fade:flag\",!b);a=true;break;default:g=\"start\";}if(!a){this.eliminate(\"fade:flag\");}e[g].apply(e,c);var f=c[c.length-1];\nif(g==\"set\"||f!=0){this.setStyle(\"visibility\",f==0?\"hidden\":\"visible\");}else{e.chain(function(){this.element.setStyle(\"visibility\",\"hidden\");this.callChain();\n});}return this;},highlight:function(c,a){if(!a){a=this.retrieve(\"highlight:original\",this.getStyle(\"background-color\"));a=(a==\"transparent\")?\"#fff\":a;\n}var b=this.get(\"tween\");b.start(\"background-color\",c||\"#ffff88\",a).chain(function(){this.setStyle(\"background-color\",this.retrieve(\"highlight:original\"));\nb.callChain();}.bind(this));return this;}});Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(b,a){this.element=this.subject=document.id(b);this.parent(a);\n},set:function(a){if(typeof a==\"string\"){a=this.search(a);}for(var b in a){this.render(this.element,b,a[b],this.options.unit);}return this;},compute:function(e,d,c){var a={};\nfor(var b in e){a[b]=this.parent(e[b],d[b],c);}return a;},start:function(b){if(!this.check(b)){return this;}if(typeof b==\"string\"){b=this.search(b);}var e={},d={};\nfor(var c in b){var a=this.prepare(this.element,c,b[c]);e[c]=a.from;d[c]=a.to;}return this.parent(e,d);}});Element.Properties.morph={set:function(a){this.get(\"morph\").cancel().setOptions(a);\nreturn this;},get:function(){var a=this.retrieve(\"morph\");if(!a){a=new Fx.Morph(this,{link:\"cancel\"});this.store(\"morph\",a);}return a;}};Element.implement({morph:function(a){this.get(\"morph\").start(a);\nreturn this;}});Fx.implement({getTransition:function(){var a=this.options.transition||Fx.Transitions.Sine.easeInOut;if(typeof a==\"string\"){var b=a.split(\":\");\na=Fx.Transitions;a=a[b[0]]||a[b[0].capitalize()];if(b[1]){a=a[\"ease\"+b[1].capitalize()+(b[2]?b[2].capitalize():\"\")];}}return a;}});Fx.Transition=function(c,b){b=Array.from(b);\nvar a=function(d){return c(d,b);};return Object.append(a,{easeIn:a,easeOut:function(d){return 1-c(1-d,b);},easeInOut:function(d){return(d<=0.5?c(2*d,b):(2-c(2*(1-d),b)))/2;\n}});};Fx.Transitions={linear:function(a){return a;}};Fx.Transitions=new Hash(Fx.Transitions);Fx.Transitions.extend=function(a){for(var b in a){Fx.Transitions[b]=new Fx.Transition(a[b]);\n}};Fx.Transitions.extend({Pow:function(b,a){return Math.pow(b,a&&a[0]||6);},Expo:function(a){return Math.pow(2,8*(a-1));},Circ:function(a){return 1-Math.sin(Math.acos(a));\n},Sine:function(a){return 1-Math.cos(a*Math.PI/2);},Back:function(b,a){a=a&&a[0]||1.618;return Math.pow(b,2)*((a+1)*b-a);},Bounce:function(f){var e;for(var d=0,c=1;\n1;d+=c,c/=2){if(f>=(7-4*d)/11){e=c*c-Math.pow((11-6*d-11*f)/4,2);break;}}return e;},Elastic:function(b,a){return Math.pow(2,10*--b)*Math.cos(20*b*Math.PI*(a&&a[0]||1)/3);\n}});[\"Quad\",\"Cubic\",\"Quart\",\"Quint\"].each(function(b,a){Fx.Transitions[b]=new Fx.Transition(function(c){return Math.pow(c,a+2);});});(function(){var d=function(){},a=(\"onprogress\" in new Browser.Request);\nvar c=this.Request=new Class({Implements:[Chain,Events,Options],options:{url:\"\",data:\"\",headers:{\"X-Requested-With\":\"XMLHttpRequest\",Accept:\"text/javascript, text/html, application/xml, text/xml, */*\"},async:true,format:false,method:\"post\",link:\"ignore\",isSuccess:null,emulation:true,urlEncoded:true,encoding:\"utf-8\",evalScripts:false,evalResponse:false,timeout:0,noCache:false},initialize:function(e){this.xhr=new Browser.Request();\nthis.setOptions(e);this.headers=this.options.headers;},onStateChange:function(){var e=this.xhr;if(e.readyState!=4||!this.running){return;}this.running=false;\nthis.status=0;Function.attempt(function(){var f=e.status;this.status=(f==1223)?204:f;}.bind(this));e.onreadystatechange=d;if(a){e.onprogress=e.onloadstart=d;\n}clearTimeout(this.timer);this.response={text:this.xhr.responseText||\"\",xml:this.xhr.responseXML};if(this.options.isSuccess.call(this,this.status)){this.success(this.response.text,this.response.xml);\n}else{this.failure();}},isSuccess:function(){var e=this.status;return(e>=200&&e<300);},isRunning:function(){return !!this.running;},processScripts:function(e){if(this.options.evalResponse||(/(ecma|java)script/).test(this.getHeader(\"Content-type\"))){return Browser.exec(e);\n}return e.stripScripts(this.options.evalScripts);},success:function(f,e){this.onSuccess(this.processScripts(f),e);},onSuccess:function(){this.fireEvent(\"complete\",arguments).fireEvent(\"success\",arguments).callChain();\n},failure:function(){this.onFailure();},onFailure:function(){this.fireEvent(\"complete\").fireEvent(\"failure\",this.xhr);},loadstart:function(e){this.fireEvent(\"loadstart\",[e,this.xhr]);\n},progress:function(e){this.fireEvent(\"progress\",[e,this.xhr]);},timeout:function(){this.fireEvent(\"timeout\",this.xhr);},setHeader:function(e,f){this.headers[e]=f;\nreturn this;},getHeader:function(e){return Function.attempt(function(){return this.xhr.getResponseHeader(e);}.bind(this));},check:function(){if(!this.running){return true;\n}switch(this.options.link){case\"cancel\":this.cancel();return true;case\"chain\":this.chain(this.caller.pass(arguments,this));return false;}return false;},send:function(o){if(!this.check(o)){return this;\n}this.options.isSuccess=this.options.isSuccess||this.isSuccess;this.running=true;var l=typeOf(o);if(l==\"string\"||l==\"element\"){o={data:o};}var h=this.options;\no=Object.append({data:h.data,url:h.url,method:h.method},o);var j=o.data,f=String(o.url),e=o.method.toLowerCase();switch(typeOf(j)){case\"element\":j=document.id(j).toQueryString();\nbreak;case\"object\":case\"hash\":j=Object.toQueryString(j);}if(this.options.format){var m=\"format=\"+this.options.format;j=(j)?m+\"&\"+j:m;}if(this.options.emulation&&![\"get\",\"post\"].contains(e)){var k=\"_method=\"+e;\nj=(j)?k+\"&\"+j:k;e=\"post\";}if(this.options.urlEncoded&&[\"post\",\"put\"].contains(e)){var g=(this.options.encoding)?\"; charset=\"+this.options.encoding:\"\";this.headers[\"Content-type\"]=\"application/x-www-form-urlencoded\"+g;\n}if(!f){f=document.location.pathname;}var i=f.lastIndexOf(\"/\");if(i>-1&&(i=f.indexOf(\"#\"))>-1){f=f.substr(0,i);}if(this.options.noCache){f+=(f.contains(\"?\")?\"&\":\"?\")+String.uniqueID();\n}if(j&&e==\"get\"){f+=(f.contains(\"?\")?\"&\":\"?\")+j;j=null;}var n=this.xhr;if(a){n.onloadstart=this.loadstart.bind(this);n.onprogress=this.progress.bind(this);\n}n.open(e.toUpperCase(),f,this.options.async,this.options.user,this.options.password);if(this.options.user&&\"withCredentials\" in n){n.withCredentials=true;\n}n.onreadystatechange=this.onStateChange.bind(this);Object.each(this.headers,function(q,p){try{n.setRequestHeader(p,q);}catch(r){this.fireEvent(\"exception\",[p,q]);\n}},this);this.fireEvent(\"request\");n.send(j);if(!this.options.async){this.onStateChange();}else{if(this.options.timeout){this.timer=this.timeout.delay(this.options.timeout,this);\n}}return this;},cancel:function(){if(!this.running){return this;}this.running=false;var e=this.xhr;e.abort();clearTimeout(this.timer);e.onreadystatechange=d;\nif(a){e.onprogress=e.onloadstart=d;}this.xhr=new Browser.Request();this.fireEvent(\"cancel\");return this;}});var b={};[\"get\",\"post\",\"put\",\"delete\",\"GET\",\"POST\",\"PUT\",\"DELETE\"].each(function(e){b[e]=function(g){var f={method:e};\nif(g!=null){f.data=g;}return this.send(f);};});c.implement(b);Element.Properties.send={set:function(e){var f=this.get(\"send\").cancel();f.setOptions(e);\nreturn this;},get:function(){var e=this.retrieve(\"send\");if(!e){e=new c({data:this,link:\"cancel\",method:this.get(\"method\")||\"post\",url:this.get(\"action\")});\nthis.store(\"send\",e);}return e;}};Element.implement({send:function(e){var f=this.get(\"send\");f.send({data:this,url:e||f.options.url});return this;}});})();\nRequest.HTML=new Class({Extends:Request,options:{update:false,append:false,evalScripts:true,filter:false,headers:{Accept:\"text/html, application/xml, text/xml, */*\"}},success:function(f){var e=this.options,c=this.response;\nc.html=f.stripScripts(function(h){c.javascript=h;});var d=c.html.match(/<body[^>]*>([\\s\\S]*?)<\\/body>/i);if(d){c.html=d[1];}var b=new Element(\"div\").set(\"html\",c.html);\nc.tree=b.childNodes;c.elements=b.getElements(e.filter||\"*\");if(e.filter){c.tree=c.elements;}if(e.update){var g=document.id(e.update).empty();if(e.filter){g.adopt(c.elements);\n}else{g.set(\"html\",c.html);}}else{if(e.append){var a=document.id(e.append);if(e.filter){c.elements.reverse().inject(a);}else{a.adopt(b.getChildren());}}}if(e.evalScripts){Browser.exec(c.javascript);\n}this.onSuccess(c.tree,c.elements,c.html,c.javascript);}});Element.Properties.load={set:function(a){var b=this.get(\"load\").cancel();b.setOptions(a);return this;\n},get:function(){var a=this.retrieve(\"load\");if(!a){a=new Request.HTML({data:this,link:\"cancel\",update:this,method:\"get\"});this.store(\"load\",a);}return a;\n}};Element.implement({load:function(){this.get(\"load\").send(Array.link(arguments,{data:Type.isObject,url:Type.isString}));return this;}});if(typeof JSON==\"undefined\"){this.JSON={};\n}JSON=new Hash({stringify:JSON.stringify,parse:JSON.parse});(function(){var special={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"};\nvar escape=function(chr){return special[chr]||\"\\\\u\"+(\"0000\"+chr.charCodeAt(0).toString(16)).slice(-4);};JSON.validate=function(string){string=string.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\");\nreturn(/^[\\],:{}\\s]*$/).test(string);};JSON.encode=JSON.stringify?function(obj){return JSON.stringify(obj);}:function(obj){if(obj&&obj.toJSON){obj=obj.toJSON();\n}switch(typeOf(obj)){case\"string\":return'\"'+obj.replace(/[\\x00-\\x1f\\\\\"]/g,escape)+'\"';case\"array\":return\"[\"+obj.map(JSON.encode).clean()+\"]\";case\"object\":case\"hash\":var string=[];\nObject.each(obj,function(value,key){var json=JSON.encode(value);if(json){string.push(JSON.encode(key)+\":\"+json);}});return\"{\"+string+\"}\";case\"number\":case\"boolean\":return\"\"+obj;\ncase\"null\":return\"null\";}return null;};JSON.decode=function(string,secure){if(!string||typeOf(string)!=\"string\"){return null;}if(secure||JSON.secure){if(JSON.parse){return JSON.parse(string);\n}if(!JSON.validate(string)){throw new Error(\"JSON could not decode the input; security is enabled and the value is not secure.\");}}return eval(\"(\"+string+\")\");\n};})();Request.JSON=new Class({Extends:Request,options:{secure:true},initialize:function(a){this.parent(a);Object.append(this.headers,{Accept:\"application/json\",\"X-Request\":\"JSON\"});\n},success:function(c){var b;try{b=this.response.json=JSON.decode(c,this.options.secure);}catch(a){this.fireEvent(\"error\",[c,a]);return;}if(b==null){this.onFailure();\n}else{this.onSuccess(b,c);}}});var Cookie=new Class({Implements:Options,options:{path:\"/\",domain:false,duration:false,secure:false,document:document,encode:true},initialize:function(b,a){this.key=b;\nthis.setOptions(a);},write:function(b){if(this.options.encode){b=encodeURIComponent(b);}if(this.options.domain){b+=\"; domain=\"+this.options.domain;}if(this.options.path){b+=\"; path=\"+this.options.path;\n}if(this.options.duration){var a=new Date();a.setTime(a.getTime()+this.options.duration*24*60*60*1000);b+=\"; expires=\"+a.toGMTString();}if(this.options.secure){b+=\"; secure\";\n}this.options.document.cookie=this.key+\"=\"+b;return this;},read:function(){var a=this.options.document.cookie.match(\"(?:^|;)\\\\s*\"+this.key.escapeRegExp()+\"=([^;]*)\");\nreturn(a)?decodeURIComponent(a[1]):null;},dispose:function(){new Cookie(this.key,Object.merge({},this.options,{duration:-1})).write(\"\");return this;}});\nCookie.write=function(b,c,a){return new Cookie(b,a).write(c);};Cookie.read=function(a){return new Cookie(a).read();};Cookie.dispose=function(b,a){return new Cookie(b,a).dispose();\n};(function(i,k){var l,f,e=[],c,b,d=k.createElement(\"div\");var g=function(){clearTimeout(b);if(l){return;}Browser.loaded=l=true;k.removeListener(\"DOMContentLoaded\",g).removeListener(\"readystatechange\",a);\nk.fireEvent(\"domready\");i.fireEvent(\"domready\");};var a=function(){for(var m=e.length;m--;){if(e[m]()){g();return true;}}return false;};var j=function(){clearTimeout(b);\nif(!a()){b=setTimeout(j,10);}};k.addListener(\"DOMContentLoaded\",g);var h=function(){try{d.doScroll();return true;}catch(m){}return false;};if(d.doScroll&&!h()){e.push(h);\nc=true;}if(k.readyState){e.push(function(){var m=k.readyState;return(m==\"loaded\"||m==\"complete\");});}if(\"onreadystatechange\" in k){k.addListener(\"readystatechange\",a);\n}else{c=true;}if(c){j();}Element.Events.domready={onAdd:function(m){if(l){m.call(this);}}};Element.Events.load={base:\"load\",onAdd:function(m){if(f&&this==i){m.call(this);\n}},condition:function(){if(this==i){g();delete Element.Events.load;}return true;}};i.addEvent(\"load\",function(){f=true;});})(window,document);(function(){var Swiff=this.Swiff=new Class({Implements:Options,options:{id:null,height:1,width:1,container:null,properties:{},params:{quality:\"high\",allowScriptAccess:\"always\",wMode:\"window\",swLiveConnect:true},callBacks:{},vars:{}},toElement:function(){return this.object;\n},initialize:function(path,options){this.instance=\"Swiff_\"+String.uniqueID();this.setOptions(options);options=this.options;var id=this.id=options.id||this.instance;\nvar container=document.id(options.container);Swiff.CallBacks[this.instance]={};var params=options.params,vars=options.vars,callBacks=options.callBacks;\nvar properties=Object.append({height:options.height,width:options.width},options.properties);var self=this;for(var callBack in callBacks){Swiff.CallBacks[this.instance][callBack]=(function(option){return function(){return option.apply(self.object,arguments);\n};})(callBacks[callBack]);vars[callBack]=\"Swiff.CallBacks.\"+this.instance+\".\"+callBack;}params.flashVars=Object.toQueryString(vars);if(Browser.ie){properties.classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\";\nparams.movie=path;}else{properties.type=\"application/x-shockwave-flash\";}properties.data=path;var build='<object id=\"'+id+'\"';for(var property in properties){build+=\" \"+property+'=\"'+properties[property]+'\"';\n}build+=\">\";for(var param in params){if(params[param]){build+='<param name=\"'+param+'\" value=\"'+params[param]+'\" />';}}build+=\"</object>\";this.object=((container)?container.empty():new Element(\"div\")).set(\"html\",build).firstChild;\n},replaces:function(element){element=document.id(element,true);element.parentNode.replaceChild(this.toElement(),element);return this;},inject:function(element){document.id(element,true).appendChild(this.toElement());\nreturn this;},remote:function(){return Swiff.remote.apply(Swiff,[this.toElement()].append(arguments));}});Swiff.CallBacks={};Swiff.remote=function(obj,fn){var rs=obj.CallFunction('<invoke name=\"'+fn+'\" returntype=\"javascript\">'+__flash__argumentsToXML(arguments,2)+\"</invoke>\");\nreturn eval(rs);};})();","//MooTools More, <http://mootools.net/more>. Copyright (c) 2006-2009 Aaron Newton <http://clientcide.com/>, Valerio Proietti <http://mad4milk.net> & the MooTools team <http://mootools.net/developers>, MIT Style License.\n\nMooTools.More={version:\"1.2.5.1\",build:\"254884f2b83651bf95260eed5c6cceb838e22d8e\"};(function(){var a={language:\"en-US\",languages:{\"en-US\":{}},cascades:[\"en-US\"]};\nvar b;MooTools.lang=new Events();$extend(MooTools.lang,{setLanguage:function(c){if(!a.languages[c]){return this;}a.language=c;this.load();this.fireEvent(\"langChange\",c);\nreturn this;},load:function(){var c=this.cascade(this.getCurrentLanguage());b={};$each(c,function(e,d){b[d]=this.lambda(e);},this);},getCurrentLanguage:function(){return a.language;\n},addLanguage:function(c){a.languages[c]=a.languages[c]||{};return this;},cascade:function(e){var c=(a.languages[e]||{}).cascades||[];c.combine(a.cascades);\nc.erase(e).push(e);var d=c.map(function(f){return a.languages[f];},this);return $merge.apply(this,d);},lambda:function(c){(c||{}).get=function(e,d){return $lambda(c[e]).apply(this,$splat(d));\n};return c;},get:function(e,d,c){if(b&&b[e]){return(d?b[e].get(d,c):b[e]);}},set:function(d,e,c){this.addLanguage(d);langData=a.languages[d];if(!langData[e]){langData[e]={};\n}$extend(langData[e],c);if(d==this.getCurrentLanguage()){this.load();this.fireEvent(\"langChange\",d);}return this;},list:function(){return Hash.getKeys(a.languages);\n}});})();Class.refactor=function(b,a){$each(a,function(e,d){var c=b.prototype[d];if(c&&(c=c._origin?c._origin:c)&&typeof e==\"function\"){b.implement(d,function(){var f=this.previous;\nthis.previous=c;var g=e.apply(this,arguments);this.previous=f;return g;});}else{b.implement(d,e);}});return b;};Class.Mutators.Binds=function(a){return a;\n};Class.Mutators.initialize=function(a){return function(){$splat(this.Binds).each(function(b){var c=this[b];if(c){this[b]=c.bind(this);}},this);return a.apply(this,arguments);\n};};Class.Occlude=new Class({occlude:function(c,b){b=document.id(b||this.element);var a=b.retrieve(c||this.property);if(a&&!$defined(this.occluded)){return this.occluded=a;\n}this.occluded=false;b.store(c||this.property,this);return this.occluded;}});(function(){var a={wait:function(b){return this.chain(function(){this.callChain.delay($pick(b,500),this);\n}.bind(this));}};Chain.implement(a);if(window.Fx){Fx.implement(a);[\"Css\",\"Tween\",\"Elements\"].each(function(b){if(Fx[b]){Fx[b].implement(a);}});}Element.implement({chains:function(b){$splat($pick(b,[\"tween\",\"morph\",\"reveal\"])).each(function(c){c=this.get(c);\nif(!c){return;}c.setOptions({link:\"chain\"});},this);return this;},pauseFx:function(c,b){this.chains(b).get($pick(b,\"tween\")).wait(c);return this;}});})();\n(function(){var i=this.Date;if(!i.now){i.now=$time;}i.Methods={ms:\"Milliseconds\",year:\"FullYear\",min:\"Minutes\",mo:\"Month\",sec:\"Seconds\",hr:\"Hours\"};[\"Date\",\"Day\",\"FullYear\",\"Hours\",\"Milliseconds\",\"Minutes\",\"Month\",\"Seconds\",\"Time\",\"TimezoneOffset\",\"Week\",\"Timezone\",\"GMTOffset\",\"DayOfYear\",\"LastMonth\",\"LastDayOfMonth\",\"UTCDate\",\"UTCDay\",\"UTCFullYear\",\"AMPM\",\"Ordinal\",\"UTCHours\",\"UTCMilliseconds\",\"UTCMinutes\",\"UTCMonth\",\"UTCSeconds\",\"UTCMilliseconds\"].each(function(p){i.Methods[p.toLowerCase()]=p;\n});var d=function(q,p){return new Array(p-String(q).length+1).join(\"0\")+q;};i.implement({set:function(t,r){switch($type(t)){case\"object\":for(var s in t){this.set(s,t[s]);\n}break;case\"string\":t=t.toLowerCase();var q=i.Methods;if(q[t]){this[\"set\"+q[t]](r);}}return this;},get:function(q){q=q.toLowerCase();var p=i.Methods;if(p[q]){return this[\"get\"+p[q]]();\n}return null;},clone:function(){return new i(this.get(\"time\"));},increment:function(p,r){p=p||\"day\";r=$pick(r,1);switch(p){case\"year\":return this.increment(\"month\",r*12);\ncase\"month\":var q=this.get(\"date\");this.set(\"date\",1).set(\"mo\",this.get(\"mo\")+r);return this.set(\"date\",q.min(this.get(\"lastdayofmonth\")));case\"week\":return this.increment(\"day\",r*7);\ncase\"day\":return this.set(\"date\",this.get(\"date\")+r);}if(!i.units[p]){throw new Error(p+\" is not a supported interval\");}return this.set(\"time\",this.get(\"time\")+r*i.units[p]());\n},decrement:function(p,q){return this.increment(p,-1*$pick(q,1));},isLeapYear:function(){return i.isLeapYear(this.get(\"year\"));},clearTime:function(){return this.set({hr:0,min:0,sec:0,ms:0});\n},diff:function(q,p){if($type(q)==\"string\"){q=i.parse(q);}return((q-this)/i.units[p||\"day\"](3,3)).round();},getLastDayOfMonth:function(){return i.daysInMonth(this.get(\"mo\"),this.get(\"year\"));\n},getDayOfYear:function(){return(i.UTC(this.get(\"year\"),this.get(\"mo\"),this.get(\"date\")+1)-i.UTC(this.get(\"year\"),0,1))/i.units.day();},getWeek:function(){return(this.get(\"dayofyear\")/7).ceil();\n},getOrdinal:function(p){return i.getMsg(\"ordinal\",p||this.get(\"date\"));},getTimezone:function(){return this.toString().replace(/^.*? ([A-Z]{3}).[0-9]{4}.*$/,\"$1\").replace(/^.*?\\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\\)$/,\"$1$2$3\");\n},getGMTOffset:function(){var p=this.get(\"timezoneOffset\");return((p>0)?\"-\":\"+\")+d((p.abs()/60).floor(),2)+d(p%60,2);},setAMPM:function(p){p=p.toUpperCase();\nvar q=this.get(\"hr\");if(q>11&&p==\"AM\"){return this.decrement(\"hour\",12);}else{if(q<12&&p==\"PM\"){return this.increment(\"hour\",12);}}return this;},getAMPM:function(){return(this.get(\"hr\")<12)?\"AM\":\"PM\";\n},parse:function(p){this.set(\"time\",i.parse(p));return this;},isValid:function(p){return !isNaN((p||this).valueOf());},format:function(p){if(!this.isValid()){return\"invalid date\";\n}p=p||\"%x %X\";p=k[p.toLowerCase()]||p;var q=this;return p.replace(/%([a-z%])/gi,function(s,r){switch(r){case\"a\":return i.getMsg(\"days\")[q.get(\"day\")].substr(0,3);\ncase\"A\":return i.getMsg(\"days\")[q.get(\"day\")];case\"b\":return i.getMsg(\"months\")[q.get(\"month\")].substr(0,3);case\"B\":return i.getMsg(\"months\")[q.get(\"month\")];\ncase\"c\":return q.toString();case\"d\":return d(q.get(\"date\"),2);case\"D\":return q.get(\"date\");case\"e\":return q.get(\"date\");case\"H\":return d(q.get(\"hr\"),2);\ncase\"I\":return((q.get(\"hr\")%12)||12);case\"j\":return d(q.get(\"dayofyear\"),3);case\"m\":return d((q.get(\"mo\")+1),2);case\"M\":return d(q.get(\"min\"),2);case\"o\":return q.get(\"ordinal\");\ncase\"p\":return i.getMsg(q.get(\"ampm\"));case\"s\":return Math.round(q/1000);case\"S\":return d(q.get(\"seconds\"),2);case\"U\":return d(q.get(\"week\"),2);case\"w\":return q.get(\"day\");\ncase\"x\":return q.format(i.getMsg(\"shortDate\"));case\"X\":return q.format(i.getMsg(\"shortTime\"));case\"y\":return q.get(\"year\").toString().substr(2);case\"Y\":return q.get(\"year\");\ncase\"T\":return q.get(\"GMTOffset\");case\"Z\":return q.get(\"Timezone\");case\"z\":return d(q.get(\"ms\"),3);}return r;});},toISOString:function(){return this.format(\"iso8601\");\n}});i.alias(\"toISOString\",\"toJSON\");i.alias(\"diff\",\"compare\");i.alias(\"format\",\"strftime\");var k={db:\"%Y-%m-%d %H:%M:%S\",compact:\"%Y%m%dT%H%M%S\",iso8601:\"%Y-%m-%dT%H:%M:%S%T\",rfc822:\"%a, %d %b %Y %H:%M:%S %Z\",\"short\":\"%d %b %H:%M\",\"long\":\"%B %d, %Y %H:%M\"};\nvar g=[];var e=i.parse;var n=function(s,u,r){var q=-1;var t=i.getMsg(s+\"s\");switch($type(u)){case\"object\":q=t[u.get(s)];break;case\"number\":q=t[u];if(!q){throw new Error(\"Invalid \"+s+\" index: \"+u);\n}break;case\"string\":var p=t.filter(function(v){return this.test(v);},new RegExp(\"^\"+u,\"i\"));if(!p.length){throw new Error(\"Invalid \"+s+\" string\");}if(p.length>1){throw new Error(\"Ambiguous \"+s);\n}q=p[0];}return(r)?t.indexOf(q):q;};i.extend({getMsg:function(q,p){return MooTools.lang.get(\"Date\",q,p);},units:{ms:$lambda(1),second:$lambda(1000),minute:$lambda(60000),hour:$lambda(3600000),day:$lambda(86400000),week:$lambda(608400000),month:function(q,p){var r=new i;\nreturn i.daysInMonth($pick(q,r.get(\"mo\")),$pick(p,r.get(\"year\")))*86400000;},year:function(p){p=p||new i().get(\"year\");return i.isLeapYear(p)?31622400000:31536000000;\n}},daysInMonth:function(q,p){return[31,i.isLeapYear(p)?29:28,31,30,31,30,31,31,30,31,30,31][q];},isLeapYear:function(p){return((p%4===0)&&(p%100!==0))||(p%400===0);\n},parse:function(r){var q=$type(r);if(q==\"number\"){return new i(r);}if(q!=\"string\"){return r;}r=r.clean();if(!r.length){return null;}var p;g.some(function(t){var s=t.re.exec(r);\nreturn(s)?(p=t.handler(s)):false;});return p||new i(e(r));},parseDay:function(p,q){return n(\"day\",p,q);},parseMonth:function(q,p){return n(\"month\",q,p);\n},parseUTC:function(q){var p=new i(q);var r=i.UTC(p.get(\"year\"),p.get(\"mo\"),p.get(\"date\"),p.get(\"hr\"),p.get(\"min\"),p.get(\"sec\"),p.get(\"ms\"));return new i(r);\n},orderIndex:function(p){return i.getMsg(\"dateOrder\").indexOf(p)+1;},defineFormat:function(p,q){k[p]=q;},defineFormats:function(p){for(var q in p){i.defineFormat(q,p[q]);\n}},parsePatterns:g,defineParser:function(p){g.push((p.re&&p.handler)?p:l(p));},defineParsers:function(){Array.flatten(arguments).each(i.defineParser);},define2DigitYearStart:function(p){h=p%100;\nm=p-h;}});var m=1900;var h=70;var j=function(p){return new RegExp(\"(?:\"+i.getMsg(p).map(function(q){return q.substr(0,3);}).join(\"|\")+\")[a-z]*\");};var a=function(p){switch(p){case\"x\":return((i.orderIndex(\"month\")==1)?\"%m[-./]%d\":\"%d[-./]%m\")+\"([-./]%y)?\";\ncase\"X\":return\"%H([.:]%M)?([.:]%S([.:]%s)?)? ?%p? ?%T?\";}return null;};var o={d:/[0-2]?[0-9]|3[01]/,H:/[01]?[0-9]|2[0-3]/,I:/0?[1-9]|1[0-2]/,M:/[0-5]?\\d/,s:/\\d+/,o:/[a-z]*/,p:/[ap]\\.?m\\.?/,y:/\\d{2}|\\d{4}/,Y:/\\d{4}/,T:/Z|[+-]\\d{2}(?::?\\d{2})?/};\no.m=o.I;o.S=o.M;var c;var b=function(p){c=p;o.a=o.A=j(\"days\");o.b=o.B=j(\"months\");g.each(function(r,q){if(r.format){g[q]=l(r.format);}});};var l=function(r){if(!c){return{format:r};\n}var p=[];var q=(r.source||r).replace(/%([a-z])/gi,function(t,s){return a(s)||t;}).replace(/\\((?!\\?)/g,\"(?:\").replace(/ (?!\\?|\\*)/g,\",? \").replace(/%([a-z%])/gi,function(t,s){var u=o[s];\nif(!u){return s;}p.push(s);return\"(\"+u.source+\")\";}).replace(/\\[a-z\\]/gi,\"[a-z\\\\u00c0-\\\\uffff]\");return{format:r,re:new RegExp(\"^\"+q+\"$\",\"i\"),handler:function(v){v=v.slice(1).associate(p);\nvar s=new i().clearTime(),u=v.y||v.Y;if(u!=null){f.call(s,\"y\",u);}if(\"d\" in v){f.call(s,\"d\",1);}if(\"m\" in v||\"b\" in v||\"B\" in v){f.call(s,\"m\",1);}for(var t in v){f.call(s,t,v[t]);\n}return s;}};};var f=function(p,q){if(!q){return this;}switch(p){case\"a\":case\"A\":return this.set(\"day\",i.parseDay(q,true));case\"b\":case\"B\":return this.set(\"mo\",i.parseMonth(q,true));\ncase\"d\":return this.set(\"date\",q);case\"H\":case\"I\":return this.set(\"hr\",q);case\"m\":return this.set(\"mo\",q-1);case\"M\":return this.set(\"min\",q);case\"p\":return this.set(\"ampm\",q.replace(/\\./g,\"\"));\ncase\"S\":return this.set(\"sec\",q);case\"s\":return this.set(\"ms\",(\"0.\"+q)*1000);case\"w\":return this.set(\"day\",q);case\"Y\":return this.set(\"year\",q);case\"y\":q=+q;\nif(q<100){q+=m+(q<h?100:0);}return this.set(\"year\",q);case\"T\":if(q==\"Z\"){q=\"+00\";}var r=q.match(/([+-])(\\d{2}):?(\\d{2})?/);r=(r[1]+\"1\")*(r[2]*60+(+r[3]||0))+this.getTimezoneOffset();\nreturn this.set(\"time\",this-r*60000);}return this;};i.defineParsers(\"%Y([-./]%m([-./]%d((T| )%X)?)?)?\",\"%Y%m%d(T%H(%M%S?)?)?\",\"%x( %X)?\",\"%d%o( %b( %Y)?)?( %X)?\",\"%b( %d%o)?( %Y)?( %X)?\",\"%Y %b( %d%o( %X)?)?\",\"%o %b %d %X %T %Y\");\nMooTools.lang.addEvent(\"langChange\",function(p){if(MooTools.lang.get(\"Date\")){b(p);}}).fireEvent(\"langChange\",MooTools.lang.getCurrentLanguage());})();\nDate.implement({timeDiffInWords:function(a){return Date.distanceOfTimeInWords(this,a||new Date);},timeDiff:function(g,b){if(g==null){g=new Date;}var f=((g-this)/1000).toInt();\nif(!f){return\"0s\";}var a={s:60,m:60,h:24,d:365,y:0};var e,d=[];for(var c in a){if(!f){break;}if((e=a[c])){d.unshift((f%e)+c);f=(f/e).toInt();}else{d.unshift(f+c);\n}}return d.join(b||\":\");}});Date.alias(\"timeDiffInWords\",\"timeAgoInWords\");Date.extend({distanceOfTimeInWords:function(b,a){return Date.getTimePhrase(((a-b)/1000).toInt());\n},getTimePhrase:function(f){var d=(f<0)?\"Until\":\"Ago\";if(f<0){f*=-1;}var b={minute:60,hour:60,day:24,week:7,month:52/12,year:12,eon:Infinity};var e=\"lessThanMinute\";\nfor(var c in b){var a=b[c];if(f<1.5*a){if(f>0.75*a){e=c;}break;}f/=a;e=c+\"s\";}return Date.getMsg(e+d,f).substitute({delta:f.round()});}});Date.defineParsers({re:/^(?:tod|tom|yes)/i,handler:function(a){var b=new Date().clearTime();\nswitch(a[0]){case\"tom\":return b.increment();case\"yes\":return b.decrement();default:return b;}}},{re:/^(next|last) ([a-z]+)$/i,handler:function(e){var f=new Date().clearTime();\nvar b=f.getDay();var c=Date.parseDay(e[2],true);var a=c-b;if(c<=b){a+=7;}if(e[1]==\"last\"){a-=7;}return f.set(\"date\",f.getDate()+a);}});Hash.implement({getFromPath:function(a){var b=this.getClean();\na.replace(/\\[([^\\]]+)\\]|\\.([^.[]+)|[^[.]+/g,function(c){if(!b){return null;}var d=arguments[2]||arguments[1]||arguments[0];b=(d in b)?b[d]:null;return c;\n});return b;},cleanValues:function(a){a=a||$defined;this.each(function(c,b){if(!a(c)){this.erase(b);}},this);return this;},run:function(){var a=arguments;\nthis.each(function(c,b){if($type(c)==\"function\"){c.run(a);}});}});(function(){var c={a:\"[]\",A:\"[]\",c:\"[]\",C:\"[]\",d:\"[]\",D:\"[]\",e:\"[]\",E:\"[]\",g:\"[]\",G:\"[]\",i:\"[]\",I:\"[]\",l:\"[]\",L:\"[]\",n:\"[]\",N:\"[]\",o:\"[]\",O:\"[]\",r:\"[]\",R:\"[]\",s:\"[]\",S:\"[]\",t:\"[]\",T:\"[]\",ue:\"[]\",UE:\"[]\",u:\"[]\",U:\"[]\",y:\"[]\",Y:\"[]\",z:\"[]\",Z:\"[]\",th:\"[]\",TH:\"[]\",dh:\"[]\",DH:\"[]\",ss:\"[]\",oe:\"[]\",OE:\"[]\",ae:\"[]\",AE:\"[]\"},b={\" \":\"[\\xa0\\u2002\\u2003\\u2009]\",\"*\":\"[\\xb7]\",\"'\":\"[\\u2018\\u2019]\",'\"':\"[\\u201c\\u201d]\",\"...\":\"[\\u2026]\",\"-\":\"[\\u2013]\",\"--\":\"[\\u2014]\",\"&raquo;\":\"[\\uFFFD]\"};\nfunction a(f,g){var e=f;for(key in g){e=e.replace(new RegExp(g[key],\"g\"),key);}return e;}function d(e,f){e=e||\"\";var g=f?\"<\"+e+\"(?!\\\\w)[^>]*>([\\\\s\\\\S]*?)</\"+e+\"(?!\\\\w)>\":\"</?\"+e+\"([^>]+)?>\";\nreg=new RegExp(g,\"gi\");return reg;}String.implement({standardize:function(){return a(this,c);},repeat:function(e){return new Array(e+1).join(this);},pad:function(f,h,e){if(this.length>=f){return this;\n}var g=(h==null?\" \":\"\"+h).repeat(f-this.length).substr(0,f-this.length);if(!e||e==\"right\"){return this+g;}if(e==\"left\"){return g+this;}return g.substr(0,(g.length/2).floor())+this+g.substr(0,(g.length/2).ceil());\n},getTags:function(e,f){return this.match(d(e,f))||[];},stripTags:function(e,f){return this.replace(d(e,f),\"\");},tidy:function(){return a(this,b);}});})();\nString.implement({parseQueryString:function(d,a){if(d==null){d=true;}if(a==null){a=true;}var c=this.split(/[&;]/),b={};if(c.length){c.each(function(i){var e=i.indexOf(\"=\"),f=e<0?[\"\"]:i.substr(0,e).match(/([^\\]\\[]+|(\\B)(?=\\]))/g),g=a?decodeURIComponent(i.substr(e+1)):i.substr(e+1),h=b;\nf.each(function(k,j){if(d){k=decodeURIComponent(k);}var l=h[k];if(j<f.length-1){h=h[k]=l||{};}else{if($type(l)==\"array\"){l.push(g);}else{h[k]=$defined(l)?[l,g]:g;\n}}});});}return b;},cleanQueryString:function(a){return this.split(\"&\").filter(function(e){var b=e.indexOf(\"=\"),c=b<0?\"\":e.substr(0,b),d=e.substr(b+1);\nreturn a?a.run([c,d]):$chk(d);}).join(\"&\");}});var URI=new Class({Implements:Options,options:{},regex:/^(?:(\\w+):)?(?:\\/\\/(?:(?:([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)?(\\.\\.?$|(?:[^?#\\/]*\\/)*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/,parts:[\"scheme\",\"user\",\"password\",\"host\",\"port\",\"directory\",\"file\",\"query\",\"fragment\"],schemes:{http:80,https:443,ftp:21,rtsp:554,mms:1755,file:0},initialize:function(b,a){this.setOptions(a);\nvar c=this.options.base||URI.base;if(!b){b=c;}if(b&&b.parsed){this.parsed=$unlink(b.parsed);}else{this.set(\"value\",b.href||b.toString(),c?new URI(c):false);\n}},parse:function(c,b){var a=c.match(this.regex);if(!a){return false;}a.shift();return this.merge(a.associate(this.parts),b);},merge:function(b,a){if((!b||!b.scheme)&&(!a||!a.scheme)){return false;\n}if(a){this.parts.every(function(c){if(b[c]){return false;}b[c]=a[c]||\"\";return true;});}b.port=b.port||this.schemes[b.scheme.toLowerCase()];b.directory=b.directory?this.parseDirectory(b.directory,a?a.directory:\"\"):\"/\";\nreturn b;},parseDirectory:function(b,c){b=(b.substr(0,1)==\"/\"?\"\":(c||\"/\"))+b;if(!b.test(URI.regs.directoryDot)){return b;}var a=[];b.replace(URI.regs.endSlash,\"\").split(\"/\").each(function(d){if(d==\"..\"&&a.length>0){a.pop();\n}else{if(d!=\".\"){a.push(d);}}});return a.join(\"/\")+\"/\";},combine:function(a){return a.value||a.scheme+\"://\"+(a.user?a.user+(a.password?\":\"+a.password:\"\")+\"@\":\"\")+(a.host||\"\")+(a.port&&a.port!=this.schemes[a.scheme]?\":\"+a.port:\"\")+(a.directory||\"/\")+(a.file||\"\")+(a.query?\"?\"+a.query:\"\")+(a.fragment?\"#\"+a.fragment:\"\");\n},set:function(b,d,c){if(b==\"value\"){var a=d.match(URI.regs.scheme);if(a){a=a[1];}if(a&&!$defined(this.schemes[a.toLowerCase()])){this.parsed={scheme:a,value:d};\n}else{this.parsed=this.parse(d,(c||this).parsed)||(a?{scheme:a,value:d}:{value:d});}}else{if(b==\"data\"){this.setData(d);}else{this.parsed[b]=d;}}return this;\n},get:function(a,b){switch(a){case\"value\":return this.combine(this.parsed,b?b.parsed:false);case\"data\":return this.getData();}return this.parsed[a]||\"\";\n},go:function(){document.location.href=this.toString();},toURI:function(){return this;},getData:function(c,b){var a=this.get(b||\"query\");if(!$chk(a)){return c?null:{};\n}var d=a.parseQueryString();return c?d[c]:d;},setData:function(a,c,b){if(typeof a==\"string\"){data=this.getData();data[arguments[0]]=arguments[1];a=data;\n}else{if(c){a=$merge(this.getData(),a);}}return this.set(b||\"query\",Hash.toQueryString(a));},clearData:function(a){return this.set(a||\"query\",\"\");}});URI.prototype.toString=URI.prototype.valueOf=function(){return this.get(\"value\");\n};URI.regs={endSlash:/\\/$/,scheme:/^(\\w+):/,directoryDot:/\\.\\/|\\.$/};URI.base=new URI(document.getElements(\"base[href]\",true).getLast(),{base:document.location});\nString.implement({toURI:function(a){return new URI(this,a);}});URI=Class.refactor(URI,{combine:function(f,e){if(!e||f.scheme!=e.scheme||f.host!=e.host||f.port!=e.port){return this.previous.apply(this,arguments);\n}var a=f.file+(f.query?\"?\"+f.query:\"\")+(f.fragment?\"#\"+f.fragment:\"\");if(!e.directory){return(f.directory||(f.file?\"\":\"./\"))+a;}var d=e.directory.split(\"/\"),c=f.directory.split(\"/\"),g=\"\",h;\nvar b=0;for(h=0;h<d.length&&h<c.length&&d[h]==c[h];h++){}for(b=0;b<d.length-h-1;b++){g+=\"../\";}for(b=h;b<c.length-1;b++){g+=c[b]+\"/\";}return(g||(f.file?\"\":\"./\"))+a;\n},toAbsolute:function(a){a=new URI(a);if(a){a.set(\"directory\",\"\").set(\"file\",\"\");}return this.toRelative(a);},toRelative:function(a){return this.get(\"value\",new URI(a));\n}});Elements.from=function(e,d){if($pick(d,true)){e=e.stripScripts();}var b,c=e.match(/^\\s*<(t[dhr]|tbody|tfoot|thead)/i);if(c){b=new Element(\"table\");\nvar a=c[1].toLowerCase();if([\"td\",\"th\",\"tr\"].contains(a)){b=new Element(\"tbody\").inject(b);if(a!=\"tr\"){b=new Element(\"tr\").inject(b);}}}return(b||new Element(\"div\")).set(\"html\",e).getChildren();\n};Element.implement({measure:function(e){var g=function(h){return !!(!h||h.offsetHeight||h.offsetWidth);};if(g(this)){return e.apply(this);}var d=this.getParent(),f=[],b=[];\nwhile(!g(d)&&d!=document.body){b.push(d.expose());d=d.getParent();}var c=this.expose();var a=e.apply(this);c();b.each(function(h){h();});return a;},expose:function(){if(this.getStyle(\"display\")!=\"none\"){return $empty;\n}var a=this.style.cssText;this.setStyles({display:\"block\",position:\"absolute\",visibility:\"hidden\"});return function(){this.style.cssText=a;}.bind(this);\n},getDimensions:function(a){a=$merge({computeSize:false},a);var f={};var d=function(g,e){return(e.computeSize)?g.getComputedSize(e):g.getSize();};var b=this.getParent(\"body\");\nif(b&&this.getStyle(\"display\")==\"none\"){f=this.measure(function(){return d(this,a);});}else{if(b){try{f=d(this,a);}catch(c){}}else{f={x:0,y:0};}}return $chk(f.x)?$extend(f,{width:f.x,height:f.y}):$extend(f,{x:f.width,y:f.height});\n},getComputedSize:function(a){if(a&&a.plains){a.planes=a.plains;}a=$merge({styles:[\"padding\",\"border\"],planes:{height:[\"top\",\"bottom\"],width:[\"left\",\"right\"]},mode:\"both\"},a);\nvar c={width:0,height:0};switch(a.mode){case\"vertical\":delete c.width;delete a.planes.width;break;case\"horizontal\":delete c.height;delete a.planes.height;\nbreak;}var b=[];$each(a.planes,function(f,g){f.each(function(h){a.styles.each(function(i){b.push((i==\"border\")?i+\"-\"+h+\"-width\":i+\"-\"+h);});});});var e={};\nb.each(function(f){e[f]=this.getComputedStyle(f);},this);var d=[];$each(a.planes,function(f,g){var h=g.capitalize();c[\"total\"+h]=c[\"computed\"+h]=0;f.each(function(i){c[\"computed\"+i.capitalize()]=0;\nb.each(function(k,j){if(k.test(i)){e[k]=e[k].toInt()||0;c[\"total\"+h]=c[\"total\"+h]+e[k];c[\"computed\"+i.capitalize()]=c[\"computed\"+i.capitalize()]+e[k];}if(k.test(i)&&g!=k&&(k.test(\"border\")||k.test(\"padding\"))&&!d.contains(k)){d.push(k);\nc[\"computed\"+h]=c[\"computed\"+h]-e[k];}});});});[\"Width\",\"Height\"].each(function(g){var f=g.toLowerCase();if(!$chk(c[f])){return;}c[f]=c[f]+this[\"offset\"+g]+c[\"computed\"+g];\nc[\"total\"+g]=c[f]+c[\"total\"+g];delete c[\"computed\"+g];},this);return $extend(e,c);}});(function(){var a=false,b=false;var c=function(){var d=new Element(\"div\").setStyles({position:\"fixed\",top:0,right:0}).inject(document.body);\na=(d.offsetTop===0);d.dispose();b=true;};Element.implement({pin:function(h,f){if(!b){c();}if(this.getStyle(\"display\")==\"none\"){return this;}var j,k=window.getScroll();\nif(h!==false){j=this.getPosition(a?document.body:this.getOffsetParent());if(!this.retrieve(\"pin:_pinned\")){var g={top:j.y-k.y,left:j.x-k.x};if(a&&!f){this.setStyle(\"position\",\"fixed\").setStyles(g);\n}else{var l=this.getOffsetParent(),i=this.getPosition(l),m=this.getStyles(\"left\",\"top\");if(l&&m.left==\"auto\"||m.top==\"auto\"){this.setPosition(i);}if(this.getStyle(\"position\")==\"static\"){this.setStyle(\"position\",\"absolute\");\n}i={x:m.left.toInt()-k.x,y:m.top.toInt()-k.y};var e=function(){if(!this.retrieve(\"pin:_pinned\")){return;}var n=window.getScroll();this.setStyles({left:i.x+n.x,top:i.y+n.y});\n}.bind(this);this.store(\"pin:_scrollFixer\",e);window.addEvent(\"scroll\",e);}this.store(\"pin:_pinned\",true);}}else{if(!this.retrieve(\"pin:_pinned\")){return this;\n}var l=this.getParent(),d=(l.getComputedStyle(\"position\")!=\"static\"?l:l.getOffsetParent());j=this.getPosition(d);this.store(\"pin:_pinned\",false);var e=this.retrieve(\"pin:_scrollFixer\");\nif(!e){this.setStyles({position:\"absolute\",top:j.y+k.y,left:j.x+k.x});}else{this.store(\"pin:_scrollFixer\",null);window.removeEvent(\"scroll\",e);}this.removeClass(\"isPinned\");\n}return this;},unpin:function(){return this.pin(false);},togglepin:function(){return this.pin(!this.retrieve(\"pin:_pinned\"));}});})();(function(){var a=Element.prototype.position;\nElement.implement({position:function(g){if(g&&($defined(g.x)||$defined(g.y))){return a?a.apply(this,arguments):this;}$each(g||{},function(u,t){if(!$defined(u)){delete g[t];\n}});g=$merge({relativeTo:document.body,position:{x:\"center\",y:\"center\"},edge:false,offset:{x:0,y:0},returnPos:false,relFixedPosition:false,ignoreMargins:false,ignoreScroll:false,allowNegative:false},g);\nvar r={x:0,y:0},e=false;var c=this.measure(function(){return document.id(this.getOffsetParent());});if(c&&c!=this.getDocument().body){r=c.measure(function(){return this.getPosition();\n});e=c!=document.id(g.relativeTo);g.offset.x=g.offset.x-r.x;g.offset.y=g.offset.y-r.y;}var s=function(t){if($type(t)!=\"string\"){return t;}t=t.toLowerCase();\nvar u={};if(t.test(\"left\")){u.x=\"left\";}else{if(t.test(\"right\")){u.x=\"right\";}else{u.x=\"center\";}}if(t.test(\"upper\")||t.test(\"top\")){u.y=\"top\";}else{if(t.test(\"bottom\")){u.y=\"bottom\";\n}else{u.y=\"center\";}}return u;};g.edge=s(g.edge);g.position=s(g.position);if(!g.edge){if(g.position.x==\"center\"&&g.position.y==\"center\"){g.edge={x:\"center\",y:\"center\"};\n}else{g.edge={x:\"left\",y:\"top\"};}}this.setStyle(\"position\",\"absolute\");var f=document.id(g.relativeTo)||document.body,d=f==document.body?window.getScroll():f.getPosition(),l=d.y,h=d.x;\nvar n=this.getDimensions({computeSize:true,styles:[\"padding\",\"border\",\"margin\"]});var j={},o=g.offset.y,q=g.offset.x,k=window.getSize();switch(g.position.x){case\"left\":j.x=h+q;\nbreak;case\"right\":j.x=h+q+f.offsetWidth;break;default:j.x=h+((f==document.body?k.x:f.offsetWidth)/2)+q;break;}switch(g.position.y){case\"top\":j.y=l+o;break;\ncase\"bottom\":j.y=l+o+f.offsetHeight;break;default:j.y=l+((f==document.body?k.y:f.offsetHeight)/2)+o;break;}if(g.edge){var b={};switch(g.edge.x){case\"left\":b.x=0;\nbreak;case\"right\":b.x=-n.x-n.computedRight-n.computedLeft;break;default:b.x=-(n.totalWidth/2);break;}switch(g.edge.y){case\"top\":b.y=0;break;case\"bottom\":b.y=-n.y-n.computedTop-n.computedBottom;\nbreak;default:b.y=-(n.totalHeight/2);break;}j.x+=b.x;j.y+=b.y;}j={left:((j.x>=0||e||g.allowNegative)?j.x:0).toInt(),top:((j.y>=0||e||g.allowNegative)?j.y:0).toInt()};\nvar i={left:\"x\",top:\"y\"};[\"minimum\",\"maximum\"].each(function(t){[\"left\",\"top\"].each(function(u){var v=g[t]?g[t][i[u]]:null;if(v!=null&&((t==\"minimum\")?j[u]<v:j[u]>v)){j[u]=v;\n}});});if(f.getStyle(\"position\")==\"fixed\"||g.relFixedPosition){var m=window.getScroll();j.top+=m.y;j.left+=m.x;}var p=f.getScroll();if(g.ignoreScroll){j.top-=p.y;\nj.left-=p.x;}else{j.top+=p.y;j.left+=p.x;}if(g.ignoreMargins){j.left+=(g.edge.x==\"right\"?n[\"margin-right\"]:g.edge.x==\"center\"?-n[\"margin-left\"]+((n[\"margin-right\"]+n[\"margin-left\"])/2):-n[\"margin-left\"]);\nj.top+=(g.edge.y==\"bottom\"?n[\"margin-bottom\"]:g.edge.y==\"center\"?-n[\"margin-top\"]+((n[\"margin-bottom\"]+n[\"margin-top\"])/2):-n[\"margin-top\"]);}j.left=Math.ceil(j.left);\nj.top=Math.ceil(j.top);if(g.returnPos){return j;}else{this.setStyles(j);}return this;}});})();Element.implement({isDisplayed:function(){return this.getStyle(\"display\")!=\"none\";\n},isVisible:function(){var a=this.offsetWidth,b=this.offsetHeight;return(a==0&&b==0)?false:(a>0&&b>0)?true:this.style.display!=\"none\";},toggle:function(){return this[this.isDisplayed()?\"hide\":\"show\"]();\n},hide:function(){var b;try{b=this.getStyle(\"display\");}catch(a){}if(b==\"none\"){return this;}return this.store(\"element:_originalDisplay\",b||\"\").setStyle(\"display\",\"none\");\n},show:function(a){if(!a&&this.isDisplayed()){return this;}a=a||this.retrieve(\"element:_originalDisplay\")||\"block\";return this.setStyle(\"display\",(a==\"none\")?\"block\":a);\n},swapClass:function(a,b){return this.removeClass(a).addClass(b);}});Document.implement({clearSelection:function(){if(document.selection&&document.selection.empty){document.selection.empty();\n}else{if(window.getSelection){var a=window.getSelection();if(a&&a.removeAllRanges){a.removeAllRanges();}}}}});var OverText=new Class({Implements:[Options,Events,Class.Occlude],Binds:[\"reposition\",\"assert\",\"focus\",\"hide\"],options:{element:\"label\",positionOptions:{position:\"upperLeft\",edge:\"upperLeft\",offset:{x:4,y:2}},poll:false,pollInterval:250,wrap:false},property:\"OverText\",initialize:function(b,a){this.element=document.id(b);\nif(this.occlude()){return this.occluded;}this.setOptions(a);this.attach(this.element);OverText.instances.push(this);if(this.options.poll){this.poll();}return this;\n},toElement:function(){return this.element;},attach:function(){var a=this.options.textOverride||this.element.get(\"alt\")||this.element.get(\"title\");if(!a){return;\n}this.text=new Element(this.options.element,{\"class\":\"overTxtLabel\",styles:{lineHeight:\"normal\",position:\"absolute\",cursor:\"text\"},html:a,events:{click:this.hide.pass(this.options.element==\"label\",this)}}).inject(this.element,\"after\");\nif(this.options.element==\"label\"){if(!this.element.get(\"id\")){this.element.set(\"id\",\"input_\"+new Date().getTime());}this.text.set(\"for\",this.element.get(\"id\"));\n}if(this.options.wrap){this.textHolder=new Element(\"div\",{styles:{lineHeight:\"normal\",position:\"relative\"},\"class\":\"overTxtWrapper\"}).adopt(this.text).inject(this.element,\"before\");\n}return this.enable();},destroy:function(){this.element.eliminate(\"OverTextDiv\").eliminate(\"OverText\");this.disable();if(this.text){this.text.destroy();\n}if(this.textHolder){this.textHolder.destroy();}return this;},disable:function(){this.element.removeEvents({focus:this.focus,blur:this.assert,change:this.assert});\nwindow.removeEvent(\"resize\",this.reposition);this.hide(true,true);return this;},enable:function(){this.element.addEvents({focus:this.focus,blur:this.assert,change:this.assert});\nwindow.addEvent(\"resize\",this.reposition);this.assert(true);this.reposition();return this;},wrap:function(){if(this.options.element==\"label\"){if(!this.element.get(\"id\")){this.element.set(\"id\",\"input_\"+new Date().getTime());\n}this.text.set(\"for\",this.element.get(\"id\"));}},startPolling:function(){this.pollingPaused=false;return this.poll();},poll:function(a){if(this.poller&&!a){return this;\n}var b=function(){if(!this.pollingPaused){this.assert(true);}}.bind(this);if(a){$clear(this.poller);}else{this.poller=b.periodical(this.options.pollInterval,this);\n}return this;},stopPolling:function(){this.pollingPaused=true;return this.poll(true);},focus:function(){if(this.text&&(!this.text.isDisplayed()||this.element.get(\"disabled\"))){return;\n}this.hide();},hide:function(c,a){if(this.text&&(this.text.isDisplayed()&&(!this.element.get(\"disabled\")||a))){this.text.hide();this.fireEvent(\"textHide\",[this.text,this.element]);\nthis.pollingPaused=true;if(!c){try{this.element.fireEvent(\"focus\");this.element.focus();}catch(b){}}}return this;},show:function(){if(this.text&&!this.text.isDisplayed()){this.text.show();\nthis.reposition();this.fireEvent(\"textShow\",[this.text,this.element]);this.pollingPaused=false;}return this;},assert:function(a){this[this.test()?\"show\":\"hide\"](a);\n},test:function(){var a=this.element.get(\"value\");return !a;},reposition:function(){this.assert(true);if(!this.element.isVisible()){return this.stopPolling().hide();\n}if(this.text&&this.test()){this.text.position($merge(this.options.positionOptions,{relativeTo:this.element}));}return this;}});OverText.instances=[];$extend(OverText,{each:function(a){return OverText.instances.map(function(c,b){if(c.element&&c.text){return a.apply(OverText,[c,b]);\n}return null;});},update:function(){return OverText.each(function(a){return a.reposition();});},hideAll:function(){return OverText.each(function(a){return a.hide(true,true);\n});},showAll:function(){return OverText.each(function(a){return a.show();});}});if(window.Fx&&Fx.Reveal){Fx.Reveal.implement({hideInputs:Browser.Engine.trident?\"select, input, textarea, object, embed, .overTxtLabel\":false});\n}Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(b,a){this.elements=this.subject=$$(b);this.parent(a);},compute:function(g,h,j){var c={};for(var d in g){var a=g[d],e=h[d],f=c[d]={};\nfor(var b in a){f[b]=this.parent(a[b],e[b],j);}}return c;},set:function(b){for(var c in b){if(!this.elements[c]){continue;}var a=b[c];for(var d in a){this.render(this.elements[c],d,a[d],this.options.unit);\n}}return this;},start:function(c){if(!this.check(c)){return this;}var h={},j={};for(var d in c){if(!this.elements[d]){continue;}var f=c[d],a=h[d]={},g=j[d]={};\nfor(var b in f){var e=this.prepare(this.elements[d],b,f[b]);a[b]=e.from;g[b]=e.to;}}return this.parent(h,j);}});Fx.Move=new Class({Extends:Fx.Morph,options:{relativeTo:document.body,position:\"center\",edge:false,offset:{x:0,y:0}},start:function(a){var b=this.element,c=b.getStyles(\"top\",\"left\");\nif(c.top==\"auto\"||c.left==\"auto\"){b.setPosition(b.getPosition(b.getOffsetParent()));}return this.parent(b.position($merge(this.options,a,{returnPos:true})));\n}});Element.Properties.move={set:function(a){var b=this.retrieve(\"move\");if(b){b.cancel();}return this.eliminate(\"move\").store(\"move:options\",$extend({link:\"cancel\"},a));\n},get:function(a){if(a||!this.retrieve(\"move\")){if(a||!this.retrieve(\"move:options\")){this.set(\"move\",a);}this.store(\"move\",new Fx.Move(this,this.retrieve(\"move:options\")));\n}return this.retrieve(\"move\");}};Element.implement({move:function(a){this.get(\"move\").start(a);return this;}});Fx.Reveal=new Class({Extends:Fx.Morph,options:{link:\"cancel\",styles:[\"padding\",\"border\",\"margin\"],transitionOpacity:!Browser.Engine.trident4,mode:\"vertical\",display:function(){return this.element.get(\"tag\")!=\"tr\"?\"block\":\"table-row\";\n},hideInputs:Browser.Engine.trident?\"select, input, textarea, object, embed\":false,opacity:1},dissolve:function(){try{if(!this.hiding&&!this.showing){if(this.element.getStyle(\"display\")!=\"none\"){this.hiding=true;\nthis.showing=false;this.hidden=true;this.cssText=this.element.style.cssText;var d=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});\nthis.element.setStyle(\"display\",$lambda(this.options.display).apply(this));if(this.options.transitionOpacity){d.opacity=this.options.opacity;}var b={};\n$each(d,function(f,e){b[e]=[f,0];},this);this.element.setStyle(\"overflow\",\"hidden\");var a=this.options.hideInputs?this.element.getElements(this.options.hideInputs):null;\nthis.$chain.unshift(function(){if(this.hidden){this.hiding=false;$each(d,function(f,e){d[e]=f;},this);this.element.style.cssText=this.cssText;this.element.setStyle(\"display\",\"none\");\nif(a){a.setStyle(\"visibility\",\"visible\");}}this.fireEvent(\"hide\",this.element);this.callChain();}.bind(this));if(a){a.setStyle(\"visibility\",\"hidden\");}this.start(b);\n}else{this.callChain.delay(10,this);this.fireEvent(\"complete\",this.element);this.fireEvent(\"hide\",this.element);}}else{if(this.options.link==\"chain\"){this.chain(this.dissolve.bind(this));\n}else{if(this.options.link==\"cancel\"&&!this.hiding){this.cancel();this.dissolve();}}}}catch(c){this.hiding=false;this.element.setStyle(\"display\",\"none\");\nthis.callChain.delay(10,this);this.fireEvent(\"complete\",this.element);this.fireEvent(\"hide\",this.element);}return this;},reveal:function(){try{if(!this.showing&&!this.hiding){if(this.element.getStyle(\"display\")==\"none\"){this.showing=true;\nthis.hiding=this.hidden=false;var d;this.cssText=this.element.style.cssText;this.element.measure(function(){d=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});\n}.bind(this));$each(d,function(f,e){d[e]=f;});if($chk(this.options.heightOverride)){d.height=this.options.heightOverride.toInt();}if($chk(this.options.widthOverride)){d.width=this.options.widthOverride.toInt();\n}if(this.options.transitionOpacity){this.element.setStyle(\"opacity\",0);d.opacity=this.options.opacity;}var b={height:0,display:$lambda(this.options.display).apply(this)};\n$each(d,function(f,e){b[e]=0;});this.element.setStyles($merge(b,{overflow:\"hidden\"}));var a=this.options.hideInputs?this.element.getElements(this.options.hideInputs):null;\nif(a){a.setStyle(\"visibility\",\"hidden\");}this.start(d);this.$chain.unshift(function(){this.element.style.cssText=this.cssText;this.element.setStyle(\"display\",$lambda(this.options.display).apply(this));\nif(!this.hidden){this.showing=false;}if(a){a.setStyle(\"visibility\",\"visible\");}this.callChain();this.fireEvent(\"show\",this.element);}.bind(this));}else{this.callChain();\nthis.fireEvent(\"complete\",this.element);this.fireEvent(\"show\",this.element);}}else{if(this.options.link==\"chain\"){this.chain(this.reveal.bind(this));}else{if(this.options.link==\"cancel\"&&!this.showing){this.cancel();\nthis.reveal();}}}}catch(c){this.element.setStyles({display:$lambda(this.options.display).apply(this),visiblity:\"visible\",opacity:this.options.opacity});\nthis.showing=false;this.callChain.delay(10,this);this.fireEvent(\"complete\",this.element);this.fireEvent(\"show\",this.element);}return this;},toggle:function(){if(this.element.getStyle(\"display\")==\"none\"){this.reveal();\n}else{this.dissolve();}return this;},cancel:function(){this.parent.apply(this,arguments);this.element.style.cssText=this.cssText;this.hiding=false;this.showing=false;\nreturn this;}});Element.Properties.reveal={set:function(a){var b=this.retrieve(\"reveal\");if(b){b.cancel();}return this.eliminate(\"reveal\").store(\"reveal:options\",a);\n},get:function(a){if(a||!this.retrieve(\"reveal\")){if(a||!this.retrieve(\"reveal:options\")){this.set(\"reveal\",a);}this.store(\"reveal\",new Fx.Reveal(this,this.retrieve(\"reveal:options\")));\n}return this.retrieve(\"reveal\");}};Element.Properties.dissolve=Element.Properties.reveal;Element.implement({reveal:function(a){this.get(\"reveal\",a).reveal();\nreturn this;},dissolve:function(a){this.get(\"reveal\",a).dissolve();return this;},nix:function(){var a=Array.link(arguments,{destroy:Boolean.type,options:Object.type});\nthis.get(\"reveal\",a.options).dissolve().chain(function(){this[a.destroy?\"destroy\":\"dispose\"]();}.bind(this));return this;},wink:function(){var b=Array.link(arguments,{duration:Number.type,options:Object.type});\nvar a=this.get(\"reveal\",b.options);a.reveal().chain(function(){(function(){a.dissolve();}).delay(b.duration||2000);});}});Fx.Scroll=new Class({Extends:Fx,options:{offset:{x:0,y:0},wheelStops:true},initialize:function(b,a){this.element=this.subject=document.id(b);\nthis.parent(a);var d=this.cancel.bind(this,false);if($type(this.element)!=\"element\"){this.element=document.id(this.element.getDocument().body);}var c=this.element;\nif(this.options.wheelStops){this.addEvent(\"start\",function(){c.addEvent(\"mousewheel\",d);},true);this.addEvent(\"complete\",function(){c.removeEvent(\"mousewheel\",d);\n},true);}},set:function(){var a=Array.flatten(arguments);if(Browser.Engine.gecko){a=[Math.round(a[0]),Math.round(a[1])];}this.element.scrollTo(a[0]+this.options.offset.x,a[1]+this.options.offset.y);\n},compute:function(c,b,a){return[0,1].map(function(d){return Fx.compute(c[d],b[d],a);});},start:function(c,g){if(!this.check(c,g)){return this;}var e=this.element.getScrollSize(),b=this.element.getScroll(),d={x:c,y:g};\nfor(var f in d){var a=e[f];if($chk(d[f])){d[f]=($type(d[f])==\"number\")?d[f]:a;}else{d[f]=b[f];}d[f]+=this.options.offset[f];}return this.parent([b.x,b.y],[d.x,d.y]);\n},toTop:function(){return this.start(false,0);},toLeft:function(){return this.start(0,false);},toRight:function(){return this.start(\"right\",false);},toBottom:function(){return this.start(false,\"bottom\");\n},toElement:function(b){var a=document.id(b).getPosition(this.element);return this.start(a.x,a.y);},scrollIntoView:function(c,e,d){e=e?$splat(e):[\"x\",\"y\"];\nvar h={};c=document.id(c);var f=c.getPosition(this.element);var i=c.getSize();var g=this.element.getScroll();var a=this.element.getSize();var b={x:f.x+i.x,y:f.y+i.y};\n[\"x\",\"y\"].each(function(j){if(e.contains(j)){if(b[j]>g[j]+a[j]){h[j]=b[j]-a[j];}if(f[j]<g[j]){h[j]=f[j];}}if(h[j]==null){h[j]=g[j];}if(d&&d[j]){h[j]=h[j]+d[j];\n}},this);if(h.x!=g.x||h.y!=g.y){this.start(h.x,h.y);}return this;},scrollToCenter:function(c,e,d){e=e?$splat(e):[\"x\",\"y\"];c=$(c);var h={},f=c.getPosition(this.element),i=c.getSize(),g=this.element.getScroll(),a=this.element.getSize(),b={x:f.x+i.x,y:f.y+i.y};\n[\"x\",\"y\"].each(function(j){if(e.contains(j)){h[j]=f[j]-(a[j]-i[j])/2;}if(h[j]==null){h[j]=g[j];}if(d&&d[j]){h[j]=h[j]+d[j];}},this);if(h.x!=g.x||h.y!=g.y){this.start(h.x,h.y);\n}return this;}});Fx.Slide=new Class({Extends:Fx,options:{mode:\"vertical\",wrapper:false,hideOverflow:true,resetHeight:false},initialize:function(b,a){this.addEvent(\"complete\",function(){this.open=(this.wrapper[\"offset\"+this.layout.capitalize()]!=0);\nif(this.open&&this.options.resetHeight){this.wrapper.setStyle(\"height\",\"\");}if(this.open&&Browser.Engine.webkit419){this.element.dispose().inject(this.wrapper);\n}},true);this.element=this.subject=document.id(b);this.parent(a);var d=this.element.retrieve(\"wrapper\");var c=this.element.getStyles(\"margin\",\"position\",\"overflow\");\nif(this.options.hideOverflow){c=$extend(c,{overflow:\"hidden\"});}if(this.options.wrapper){d=document.id(this.options.wrapper).setStyles(c);}this.wrapper=d||new Element(\"div\",{styles:c}).wraps(this.element);\nthis.element.store(\"wrapper\",this.wrapper).setStyle(\"margin\",0);this.now=[];this.open=true;},vertical:function(){this.margin=\"margin-top\";this.layout=\"height\";\nthis.offset=this.element.offsetHeight;},horizontal:function(){this.margin=\"margin-left\";this.layout=\"width\";this.offset=this.element.offsetWidth;},set:function(a){this.element.setStyle(this.margin,a[0]);\nthis.wrapper.setStyle(this.layout,a[1]);return this;},compute:function(c,b,a){return[0,1].map(function(d){return Fx.compute(c[d],b[d],a);});},start:function(b,e){if(!this.check(b,e)){return this;\n}this[e||this.options.mode]();var d=this.element.getStyle(this.margin).toInt();var c=this.wrapper.getStyle(this.layout).toInt();var a=[[d,c],[0,this.offset]];\nvar g=[[d,c],[-this.offset,0]];var f;switch(b){case\"in\":f=a;break;case\"out\":f=g;break;case\"toggle\":f=(c==0)?a:g;}return this.parent(f[0],f[1]);},slideIn:function(a){return this.start(\"in\",a);\n},slideOut:function(a){return this.start(\"out\",a);},hide:function(a){this[a||this.options.mode]();this.open=false;return this.set([-this.offset,0]);},show:function(a){this[a||this.options.mode]();\nthis.open=true;return this.set([0,this.offset]);},toggle:function(a){return this.start(\"toggle\",a);}});Element.Properties.slide={set:function(b){var a=this.retrieve(\"slide\");\nif(a){a.cancel();}return this.eliminate(\"slide\").store(\"slide:options\",$extend({link:\"cancel\"},b));},get:function(a){if(a||!this.retrieve(\"slide\")){if(a||!this.retrieve(\"slide:options\")){this.set(\"slide\",a);\n}this.store(\"slide\",new Fx.Slide(this,this.retrieve(\"slide:options\")));}return this.retrieve(\"slide\");}};Element.implement({slide:function(d,e){d=d||\"toggle\";\nvar b=this.get(\"slide\"),a;switch(d){case\"hide\":b.hide(e);break;case\"show\":b.show(e);break;case\"toggle\":var c=this.retrieve(\"slide:flag\",b.open);b[c?\"slideOut\":\"slideIn\"](e);\nthis.store(\"slide:flag\",!c);a=true;break;default:b.start(d,e);}if(!a){this.eliminate(\"slide:flag\");}return this;}});var SmoothScroll=Fx.SmoothScroll=new Class({Extends:Fx.Scroll,initialize:function(b,c){c=c||document;\nthis.doc=c.getDocument();var d=c.getWindow();this.parent(this.doc,b);this.links=$$(this.options.links||this.doc.links);var a=d.location.href.match(/^[^#]*/)[0]+\"#\";\nthis.links.each(function(f){if(f.href.indexOf(a)!=0){return;}var e=f.href.substr(a.length);if(e){this.useLink(f,e);}},this);if(!Browser.Engine.webkit419){this.addEvent(\"complete\",function(){d.location.hash=this.anchor;\n},true);}},useLink:function(c,a){var b;c.addEvent(\"click\",function(d){if(b!==false&&!b){b=document.id(a)||this.doc.getElement(\"a[name=\"+a+\"]\");}if(b){d.preventDefault();\nthis.anchor=a;this.toElement(b).chain(function(){this.fireEvent(\"scrolledTo\",[c,b]);}.bind(this));c.blur();}}.bind(this));}});Fx.Sort=new Class({Extends:Fx.Elements,options:{mode:\"vertical\"},initialize:function(b,a){this.parent(b,a);\nthis.elements.each(function(c){if(c.getStyle(\"position\")==\"static\"){c.setStyle(\"position\",\"relative\");}});this.setDefaultOrder();},setDefaultOrder:function(){this.currentOrder=this.elements.map(function(b,a){return a;\n});},sort:function(e){if($type(e)!=\"array\"){return false;}var i=0,a=0,c={},h={},d=this.options.mode==\"vertical\";var f=this.elements.map(function(m,k){var l=m.getComputedSize({styles:[\"border\",\"padding\",\"margin\"]});\nvar n;if(d){n={top:i,margin:l[\"margin-top\"],height:l.totalHeight};i+=n.height-l[\"margin-top\"];}else{n={left:a,margin:l[\"margin-left\"],width:l.totalWidth};\na+=n.width;}var j=d?\"top\":\"left\";h[k]={};var o=m.getStyle(j).toInt();h[k][j]=o||0;return n;},this);this.set(h);e=e.map(function(j){return j.toInt();});\nif(e.length!=this.elements.length){this.currentOrder.each(function(j){if(!e.contains(j)){e.push(j);}});if(e.length>this.elements.length){e.splice(this.elements.length-1,e.length-this.elements.length);\n}}var b=i=a=0;e.each(function(l,j){var k={};if(d){k.top=i-f[l].top-b;i+=f[l].height;}else{k.left=a-f[l].left;a+=f[l].width;}b=b+f[l].margin;c[l]=k;},this);\nvar g={};$A(e).sort().each(function(j){g[j]=c[j];});this.start(g);this.currentOrder=e;return this;},rearrangeDOM:function(a){a=a||this.currentOrder;var b=this.elements[0].getParent();\nvar c=[];this.elements.setStyle(\"opacity\",0);a.each(function(d){c.push(this.elements[d].inject(b).setStyles({top:0,left:0}));},this);this.elements.setStyle(\"opacity\",1);\nthis.elements=$$(c);this.setDefaultOrder();return this;},getDefaultOrder:function(){return this.elements.map(function(b,a){return a;});},forward:function(){return this.sort(this.getDefaultOrder());\n},backward:function(){return this.sort(this.getDefaultOrder().reverse());},reverse:function(){return this.sort(this.currentOrder.reverse());},sortByElements:function(a){return this.sort(a.map(function(b){return this.elements.indexOf(b);\n},this));},swap:function(c,b){if($type(c)==\"element\"){c=this.elements.indexOf(c);}if($type(b)==\"element\"){b=this.elements.indexOf(b);}var a=$A(this.currentOrder);\na[this.currentOrder.indexOf(c)]=b;a[this.currentOrder.indexOf(b)]=c;return this.sort(a);}});var Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:\"px\",grid:false,style:true,limit:false,handle:false,invert:false,preventDefault:false,stopPropagation:false,modifiers:{x:\"left\",y:\"top\"}},initialize:function(){var b=Array.link(arguments,{options:Object.type,element:$defined});\nthis.element=document.id(b.element);this.document=this.element.getDocument();this.setOptions(b.options||{});var a=$type(this.options.handle);this.handles=((a==\"array\"||a==\"collection\")?$$(this.options.handle):document.id(this.options.handle))||this.element;\nthis.mouse={now:{},pos:{}};this.value={start:{},now:{}};this.selection=(Browser.Engine.trident)?\"selectstart\":\"mousedown\";this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:$lambda(false)};\nthis.attach();},attach:function(){this.handles.addEvent(\"mousedown\",this.bound.start);return this;},detach:function(){this.handles.removeEvent(\"mousedown\",this.bound.start);\nreturn this;},start:function(e){if(e.rightClick){return;}if(this.options.preventDefault){e.preventDefault();}if(this.options.stopPropagation){e.stopPropagation();\n}this.mouse.start=e.page;this.fireEvent(\"beforeStart\",this.element);var a=this.options.limit;this.limit={x:[],y:[]};var d=this.element.getStyles(\"left\",\"right\",\"top\",\"bottom\");\nthis._invert={x:this.options.modifiers.x==\"left\"&&d.left==\"auto\"&&!isNaN(d.right.toInt())&&(this.options.modifiers.x=\"right\"),y:this.options.modifiers.y==\"top\"&&d.top==\"auto\"&&!isNaN(d.bottom.toInt())&&(this.options.modifiers.y=\"bottom\")};\nvar g,f;for(g in this.options.modifiers){if(!this.options.modifiers[g]){continue;}var c=this.element.getStyle(this.options.modifiers[g]);if(c&&!c.match(/px$/)){if(!f){f=this.element.getCoordinates(this.element.getOffsetParent());\n}c=f[this.options.modifiers[g]];}if(this.options.style){this.value.now[g]=(c||0).toInt();}else{this.value.now[g]=this.element[this.options.modifiers[g]];\n}if(this.options.invert){this.value.now[g]*=-1;}if(this._invert[g]){this.value.now[g]*=-1;}this.mouse.pos[g]=e.page[g]-this.value.now[g];if(a&&a[g]){for(var b=2;\nb--;b){if($chk(a[g][b])){this.limit[g][b]=$lambda(a[g][b])();}}}}if($type(this.options.grid)==\"number\"){this.options.grid={x:this.options.grid,y:this.options.grid};\n}this.document.addEvents({mousemove:this.bound.check,mouseup:this.bound.cancel});this.document.addEvent(this.selection,this.bound.eventStop);},check:function(a){if(this.options.preventDefault){a.preventDefault();\n}var b=Math.round(Math.sqrt(Math.pow(a.page.x-this.mouse.start.x,2)+Math.pow(a.page.y-this.mouse.start.y,2)));if(b>this.options.snap){this.cancel();this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop});\nthis.fireEvent(\"start\",[this.element,a]).fireEvent(\"snap\",this.element);}},drag:function(a){if(this.options.preventDefault){a.preventDefault();}this.mouse.now=a.page;\nfor(var b in this.options.modifiers){if(!this.options.modifiers[b]){continue;}this.value.now[b]=this.mouse.now[b]-this.mouse.pos[b];if(this.options.invert){this.value.now[b]*=-1;\n}if(this._invert[b]){this.value.now[b]*=-1;}if(this.options.limit&&this.limit[b]){if($chk(this.limit[b][1])&&(this.value.now[b]>this.limit[b][1])){this.value.now[b]=this.limit[b][1];\n}else{if($chk(this.limit[b][0])&&(this.value.now[b]<this.limit[b][0])){this.value.now[b]=this.limit[b][0];}}}if(this.options.grid[b]){this.value.now[b]-=((this.value.now[b]-(this.limit[b][0]||0))%this.options.grid[b]);\n}if(this.options.style){this.element.setStyle(this.options.modifiers[b],this.value.now[b]+this.options.unit);}else{this.element[this.options.modifiers[b]]=this.value.now[b];\n}}this.fireEvent(\"drag\",[this.element,a]);},cancel:function(a){this.document.removeEvent(\"mousemove\",this.bound.check);this.document.removeEvent(\"mouseup\",this.bound.cancel);\nif(a){this.document.removeEvent(this.selection,this.bound.eventStop);this.fireEvent(\"cancel\",this.element);}},stop:function(a){this.document.removeEvent(this.selection,this.bound.eventStop);\nthis.document.removeEvent(\"mousemove\",this.bound.drag);this.document.removeEvent(\"mouseup\",this.bound.stop);if(a){this.fireEvent(\"complete\",[this.element,a]);\n}}});Element.implement({makeResizable:function(a){var b=new Drag(this,$merge({modifiers:{x:\"width\",y:\"height\"}},a));this.store(\"resizer\",b);return b.addEvent(\"drag\",function(){this.fireEvent(\"resize\",b);\n}.bind(this));}});Drag.Move=new Class({Extends:Drag,options:{droppables:[],container:false,precalculate:false,includeMargins:true,checkDroppables:true},initialize:function(b,a){this.parent(b,a);\nb=this.element;this.droppables=$$(this.options.droppables);this.container=document.id(this.options.container);if(this.container&&$type(this.container)!=\"element\"){this.container=document.id(this.container.getDocument().body);\n}if(this.options.style){if(this.options.modifiers.x==\"left\"&&this.options.modifiers.y==\"top\"){var f,c=document.id(b.getOffsetParent());if(c){f=c.getStyles(\"border-top-width\",\"border-left-width\");\n}var d=b.getStyles(\"left\",\"top\");if(c&&(d.left==\"auto\"||d.top==\"auto\")){var e=b.getPosition(c);e.x=e.x-(f[\"border-left-width\"]?f[\"border-left-width\"].toInt():0);\ne.y=e.y-(f[\"border-top-width\"]?f[\"border-top-width\"].toInt():0);b.setPosition(e);}}if(b.getStyle(\"position\")==\"static\"){b.setStyle(\"position\",\"absolute\");\n}}this.addEvent(\"start\",this.checkDroppables,true);this.overed=null;},start:function(a){if(this.container){this.options.limit=this.calculateLimit();}if(this.options.precalculate){this.positions=this.droppables.map(function(b){return b.getCoordinates();\n});}this.parent(a);},calculateLimit:function(){var d=document.id(this.element.getOffsetParent())||document.body,h=this.container.getCoordinates(d),g={},c={},b={},j={},f={},l={};\n[\"top\",\"right\",\"bottom\",\"left\"].each(function(p){g[p]=this.container.getStyle(\"border-\"+p).toInt();b[p]=this.element.getStyle(\"border-\"+p).toInt();c[p]=this.element.getStyle(\"margin-\"+p).toInt();\nj[p]=this.container.getStyle(\"margin-\"+p).toInt();l[p]=d.getStyle(\"padding-\"+p).toInt();f[p]=d.getStyle(\"border-\"+p).toInt();},this);var e=this.element.offsetWidth+c.left+c.right,o=this.element.offsetHeight+c.top+c.bottom,i=0,k=0,n=h.right-g.right-e,a=h.bottom-g.bottom-o;\nif(this.options.includeMargins){i+=c.left;k+=c.top;}else{n+=c.right;a+=c.bottom;}if(this.element.getStyle(\"position\")==\"relative\"){var m=this.element.getCoordinates(d);\nm.left-=this.element.getStyle(\"left\").toInt();m.top-=this.element.getStyle(\"top\").toInt();i+=g.left-m.left;k+=g.top-m.top;n+=c.left-m.left;a+=c.top-m.top;\nif(this.container!=d){i+=j.left+l.left;k+=(Browser.Engine.trident4?0:j.top)+l.top;}}else{i-=c.left;k-=c.top;if(this.container==d){n-=g.left;a-=g.top;}else{i+=h.left+g.left-f.left;\nk+=h.top+g.top-f.top;n-=f.left;a-=f.top;}}return{x:[i,n],y:[k,a]};},checkAgainst:function(c,b){c=(this.positions)?this.positions[b]:c.getCoordinates();\nvar a=this.mouse.now;return(a.x>c.left&&a.x<c.right&&a.y<c.bottom&&a.y>c.top);},checkDroppables:function(){var a=this.droppables.filter(this.checkAgainst,this).getLast();\nif(this.overed!=a){if(this.overed){this.fireEvent(\"leave\",[this.element,this.overed]);}if(a){this.fireEvent(\"enter\",[this.element,a]);}this.overed=a;}},drag:function(a){this.parent(a);\nif(this.options.checkDroppables&&this.droppables.length){this.checkDroppables();}},stop:function(a){this.checkDroppables();this.fireEvent(\"drop\",[this.element,this.overed,a]);\nthis.overed=null;return this.parent(a);}});Element.implement({makeDraggable:function(a){var b=new Drag.Move(this,a);this.store(\"dragger\",b);return b;}});\nvar Sortables=new Class({Implements:[Events,Options],options:{snap:4,opacity:1,clone:false,revert:false,handle:false,constrain:false,preventDefault:false},initialize:function(a,b){this.setOptions(b);\nthis.elements=[];this.lists=[];this.idle=true;this.addLists($$(document.id(a)||a));if(!this.options.clone){this.options.revert=false;}if(this.options.revert){this.effect=new Fx.Morph(null,$merge({duration:250,link:\"cancel\"},this.options.revert));\n}},attach:function(){this.addLists(this.lists);return this;},detach:function(){this.lists=this.removeLists(this.lists);return this;},addItems:function(){Array.flatten(arguments).each(function(a){this.elements.push(a);\nvar b=a.retrieve(\"sortables:start\",this.start.bindWithEvent(this,a));(this.options.handle?a.getElement(this.options.handle)||a:a).addEvent(\"mousedown\",b);\n},this);return this;},addLists:function(){Array.flatten(arguments).each(function(a){this.lists.push(a);this.addItems(a.getChildren());},this);return this;\n},removeItems:function(){return $$(Array.flatten(arguments).map(function(a){this.elements.erase(a);var b=a.retrieve(\"sortables:start\");(this.options.handle?a.getElement(this.options.handle)||a:a).removeEvent(\"mousedown\",b);\nreturn a;},this));},removeLists:function(){return $$(Array.flatten(arguments).map(function(a){this.lists.erase(a);this.removeItems(a.getChildren());return a;\n},this));},getClone:function(b,a){if(!this.options.clone){return new Element(a.tagName).inject(document.body);}if($type(this.options.clone)==\"function\"){return this.options.clone.call(this,b,a,this.list);\n}var c=a.clone(true).setStyles({margin:\"0px\",position:\"absolute\",visibility:\"hidden\",width:a.getStyle(\"width\")});if(c.get(\"html\").test(\"radio\")){c.getElements(\"input[type=radio]\").each(function(d,e){d.set(\"name\",\"clone_\"+e);\nif(d.get(\"checked\")){a.getElements(\"input[type=radio]\")[e].set(\"checked\",true);}});}return c.inject(this.list).setPosition(a.getPosition(a.getOffsetParent()));\n},getDroppables:function(){var a=this.list.getChildren();if(!this.options.constrain){a=this.lists.concat(a).erase(this.list);}return a.erase(this.clone).erase(this.element);\n},insert:function(c,b){var a=\"inside\";if(this.lists.contains(b)){this.list=b;this.drag.droppables=this.getDroppables();}else{a=this.element.getAllPrevious().contains(b)?\"before\":\"after\";\n}this.element.inject(b,a);this.fireEvent(\"sort\",[this.element,this.clone]);},start:function(b,a){if(!this.idle||b.rightClick||[\"button\",\"input\"].contains(document.id(b.target).get(\"tag\"))){return;\n}this.idle=false;this.element=a;this.opacity=a.get(\"opacity\");this.list=a.getParent();this.clone=this.getClone(b,a);this.drag=new Drag.Move(this.clone,{preventDefault:this.options.preventDefault,snap:this.options.snap,container:this.options.constrain&&this.element.getParent(),droppables:this.getDroppables(),onSnap:function(){b.stop();\nthis.clone.setStyle(\"visibility\",\"visible\");this.element.set(\"opacity\",this.options.opacity||0);this.fireEvent(\"start\",[this.element,this.clone]);}.bind(this),onEnter:this.insert.bind(this),onCancel:this.reset.bind(this),onComplete:this.end.bind(this)});\nthis.clone.inject(this.element,\"before\");this.drag.start(b);},end:function(){this.drag.detach();this.element.set(\"opacity\",this.opacity);if(this.effect){var a=this.element.getStyles(\"width\",\"height\");\nvar b=this.clone.computePosition(this.element.getPosition(this.clone.getOffsetParent()));this.effect.element=this.clone;this.effect.start({top:b.top,left:b.left,width:a.width,height:a.height,opacity:0.25}).chain(this.reset.bind(this));\n}else{this.reset();}},reset:function(){this.idle=true;this.clone.destroy();this.fireEvent(\"complete\",this.element);},serialize:function(){var c=Array.link(arguments,{modifier:Function.type,index:$defined});\nvar b=this.lists.map(function(d){return d.getChildren().map(c.modifier||function(e){return e.get(\"id\");},this);},this);var a=c.index;if(this.lists.length==1){a=0;\n}return $chk(a)&&a>=0&&a<this.lists.length?b[a]:b;}});var Asset={javascript:function(f,d){d=$extend({onload:$empty,document:document,check:$lambda(true)},d);\nif(d.onLoad){d.onload=d.onLoad;delete d.onLoad;}var b=new Element(\"script\",{src:f,type:\"text/javascript\"});var e=d.onload.bind(b),a=d.check,g=d.document;\ndelete d.onload;delete d.check;delete d.document;b.addEvents({load:e,readystatechange:function(){if([\"loaded\",\"complete\"].contains(this.readyState)){e();\n}}}).set(d);if(Browser.Engine.webkit419){var c=(function(){if(!$try(a)){return;}$clear(c);e();}).periodical(50);}return b.inject(g.head);},css:function(b,a){a=a||{};\nvar c=a.onload||a.onLoad;if(c){a.events=a.events||{};a.events.load=c;delete a.onload;delete a.onLoad;}return new Element(\"link\",$merge({rel:\"stylesheet\",media:\"screen\",type:\"text/css\",href:b},a)).inject(document.head);\n},image:function(c,b){b=$merge({onload:$empty,onabort:$empty,onerror:$empty},b);var d=new Image();var a=document.id(d)||new Element(\"img\");[\"load\",\"abort\",\"error\"].each(function(e){var g=\"on\"+e;\nvar f=e.capitalize();if(b[\"on\"+f]){b[g]=b[\"on\"+f];delete b[\"on\"+f];}var h=b[g];delete b[g];d[g]=function(){if(!d){return;}if(!a.parentNode){a.width=d.width;\na.height=d.height;}d=d.onload=d.onabort=d.onerror=null;h.delay(1,a,a);a.fireEvent(e,a,1);};});d.src=a.src=c;if(d&&d.complete){d.onload.delay(1);}return a.set(b);\n},images:function(d,c){c=$merge({onComplete:$empty,onProgress:$empty,onError:$empty,properties:{}},c);d=$splat(d);var a=[];var b=0;return new Elements(d.map(function(f,e){return Asset.image(f,$extend(c.properties,{onload:function(){c.onProgress.call(this,b,e);\nb++;if(b==d.length){c.onComplete();}},onerror:function(){c.onError.call(this,b,e);b++;if(b==d.length){c.onComplete();}}}));}));}};var Color=new Native({initialize:function(b,c){if(arguments.length>=3){c=\"rgb\";\nb=Array.slice(arguments,0,3);}else{if(typeof b==\"string\"){if(b.match(/rgb/)){b=b.rgbToHex().hexToRgb(true);}else{if(b.match(/hsb/)){b=b.hsbToRgb();}else{b=b.hexToRgb(true);\n}}}}c=c||\"rgb\";switch(c){case\"hsb\":var a=b;b=b.hsbToRgb();b.hsb=a;break;case\"hex\":b=b.hexToRgb(true);break;}b.rgb=b.slice(0,3);b.hsb=b.hsb||b.rgbToHsb();\nb.hex=b.rgbToHex();return $extend(b,this);}});Color.implement({mix:function(){var a=Array.slice(arguments);var c=($type(a.getLast())==\"number\")?a.pop():50;\nvar b=this.slice();a.each(function(d){d=new Color(d);for(var e=0;e<3;e++){b[e]=Math.round((b[e]/100*(100-c))+(d[e]/100*c));}});return new Color(b,\"rgb\");\n},invert:function(){return new Color(this.map(function(a){return 255-a;}));},setHue:function(a){return new Color([a,this.hsb[1],this.hsb[2]],\"hsb\");},setSaturation:function(a){return new Color([this.hsb[0],a,this.hsb[2]],\"hsb\");\n},setBrightness:function(a){return new Color([this.hsb[0],this.hsb[1],a],\"hsb\");}});var $RGB=function(d,c,a){return new Color([d,c,a],\"rgb\");};var $HSB=function(d,c,a){return new Color([d,c,a],\"hsb\");\n};var $HEX=function(a){return new Color(a,\"hex\");};Array.implement({rgbToHsb:function(){var b=this[0],c=this[1],j=this[2],g=0;var i=Math.max(b,c,j),e=Math.min(b,c,j);\nvar k=i-e;var h=i/255,f=(i!=0)?k/i:0;if(f!=0){var d=(i-b)/k;var a=(i-c)/k;var l=(i-j)/k;if(b==i){g=l-a;}else{if(c==i){g=2+d-l;}else{g=4+a-d;}}g/=6;if(g<0){g++;\n}}return[Math.round(g*360),Math.round(f*100),Math.round(h*100)];},hsbToRgb:function(){var c=Math.round(this[2]/100*255);if(this[1]==0){return[c,c,c];}else{var a=this[0]%360;\nvar e=a%60;var g=Math.round((this[2]*(100-this[1]))/10000*255);var d=Math.round((this[2]*(6000-this[1]*e))/600000*255);var b=Math.round((this[2]*(6000-this[1]*(60-e)))/600000*255);\nswitch(Math.floor(a/60)){case 0:return[c,b,g];case 1:return[d,c,g];case 2:return[g,c,b];case 3:return[g,d,c];case 4:return[b,g,c];case 5:return[c,g,d];\n}}return false;}});String.implement({rgbToHsb:function(){var a=this.match(/\\d{1,3}/g);return(a)?a.rgbToHsb():null;},hsbToRgb:function(){var a=this.match(/\\d{1,3}/g);\nreturn(a)?a.hsbToRgb():null;}});MooTools.lang.set(\"en-US\",\"Date\",{months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dateOrder:[\"month\",\"date\",\"year\"],shortDate:\"%m/%d/%Y\",shortTime:\"%I:%M%p\",AM:\"AM\",PM:\"PM\",ordinal:function(a){return(a>3&&a<21)?\"th\":[\"th\",\"st\",\"nd\",\"rd\",\"th\"][Math.min(a%10,4)];\n},lessThanMinuteAgo:\"less than a minute ago\",minuteAgo:\"about a minute ago\",minutesAgo:\"{delta} minutes ago\",hourAgo:\"about an hour ago\",hoursAgo:\"about {delta} hours ago\",dayAgo:\"1 day ago\",daysAgo:\"{delta} days ago\",weekAgo:\"1 week ago\",weeksAgo:\"{delta} weeks ago\",monthAgo:\"1 month ago\",monthsAgo:\"{delta} months ago\",yearAgo:\"1 year ago\",yearsAgo:\"{delta} years ago\",lessThanMinuteUntil:\"less than a minute from now\",minuteUntil:\"about a minute from now\",minutesUntil:\"{delta} minutes from now\",hourUntil:\"about an hour from now\",hoursUntil:\"about {delta} hours from now\",dayUntil:\"1 day from now\",daysUntil:\"{delta} days from now\",weekUntil:\"1 week from now\",weeksUntil:\"{delta} weeks from now\",monthUntil:\"1 month from now\",monthsUntil:\"{delta} months from now\",yearUntil:\"1 year from now\",yearsUntil:\"{delta} years from now\"});\n","//MooTools More, <http://mootools.net/more>. Copyright (c) 2006-2009 Aaron Newton <http://clientcide.com/>, Valerio Proietti <http://mad4milk.net> & the MooTools team <http://mootools.net/developers>, MIT Style License.\n\n(function(d,f){var c=/(.*?):relay\\(((?:\\(.*?\\)|.)+)\\)$/,b=/[+>~\\s]/,g=function(h){var i=h.match(c);\nreturn !i?{event:h}:{event:i[1],selector:i[2]};},a=function(n,h){var l=n.target;if(b.test(h=h.trim())){var k=this.getElements(h);for(var j=k.length;j--;\n){var m=k[j];if(l==m||m.hasChild(l)){return m;}}}else{for(;l&&l!=this;l=l.parentNode){if(Element.match(l,h)){return document.id(l);}}}return null;};Element.implement({addEvent:function(l,k){var j=g(l);\nif(j.selector){var i=this.retrieve(\"delegation:_delegateMonitors\",{});if(!i[l]){var h=function(n){var m=a.call(this,n,j.selector);if(m){this.fireEvent(l,[n,m],0,m);\n}}.bind(this);i[l]=h;d.call(this,j.event,h);}}return d.apply(this,arguments);},removeEvent:function(l,k){var j=g(l);if(j.selector){var i=this.retrieve(\"events\");\nif(!i||!i[l]||(k&&!i[l].keys.contains(k))){return this;}if(k){f.apply(this,[l,k]);}else{f.apply(this,l);}i=this.retrieve(\"events\");if(i&&i[l]&&i[l].keys.length==0){var h=this.retrieve(\"delegation:_delegateMonitors\",{});\nf.apply(this,[j.event,h[l]]);delete h[l];}return this;}return f.apply(this,arguments);},fireEvent:function(l,i,h,n){var j=this.retrieve(\"events\");var m,k;\nif(i){m=i[0];k=i[1];}if(!j||!j[l]){return this;}j[l].keys.each(function(o){o.create({bind:n||this,delay:h,arguments:i})();},this);return this;}});})(Element.prototype.addEvent,Element.prototype.removeEvent);\ntry{if(typeof HTMLElement!=\"undefined\"){HTMLElement.prototype.fireEvent=Element.prototype.fireEvent;}}catch(e){}","/*\n---\n\nname: data-mootools\n\ndescription: An API for access to data-attributes in elements.\n\nauthors: [Dimitar Christoff]\n\nlicense: MIT-style license.\n\nprovides: Element.data\n\nrequires:\n - Core/Element\n\n...\n*/\n/*jshint mootools:true */\n;(function(){\n\t'use strict';\n\n\tvar rbrace = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/;\n\n\tfunction formatDataProperty(prop){\n\t\treturn prop.replace('data-', '').camelCase();\n\t}\n\n\tvar wrap = function(){\n\n\t\t[Document, Element].invoke('implement', {\n\n\t\t\tdata: function(property, force){\n\t\t\t\tvar data = this.retrieve('dataCollection'),\n\t\t\t\t\tii = 0,\n\t\t\t\t\tlen,\n\t\t\t\t\thasData = false,\n\t\t\t\t\tattribs;\n\n\t\t\t\tif (!data || force === true) {\n\t\t\t\t\tdata = {};\n\t\t\t\t\tattribs = this.attributes || [];\n\t\t\t\t\tfor (len = attribs.length; ii < len; ++ii) {\n\t\t\t\t\t\tif (attribs[ii].name.indexOf('data-') === 0) {\n\t\t\t\t\t\t\tdata[formatDataProperty(attribs[ii].name)] = attribs[ii].value.test(rbrace)\n\t\t\t\t\t\t\t\t? JSON.decode(attribs[ii].value)\n\t\t\t\t\t\t\t\t: attribs[ii].value;\n\n\t\t\t\t\t\t\thasData = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!hasData)\n\t\t\t\t\t\tdata = null;\n\n\t\t\t\t\tthis.store('dataCollection', data);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thasData = true;\n\t\t\t\t}\n\n\t\t\t\treturn property ? hasData && data[formatDataProperty(property)] || null : data;\n\t\t\t}\n\t\t});\n\t};\n\n\tif (typeof define === 'function' && define.amd) {\n\t\t// returns an empty module\n\t\tdefine(wrap);\n\t}\n\telse {\n\t\twrap();\n\t}\n}());","/*! Picturefill - v2.2.0-beta - 2014-11-19\n* http://scottjehl.github.io/picturefill\n* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */\nwindow.matchMedia||(window.matchMedia=function(){\"use strict\";var a=window.styleMedia||window.media;if(!a){var b=document.createElement(\"style\"),c=document.getElementsByTagName(\"script\")[0],d=null;b.type=\"text/css\",b.id=\"matchmediajs-test\",c.parentNode.insertBefore(b,c),d=\"getComputedStyle\"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c=\"@media \"+a+\"{ #matchmediajs-test { width: 1px; } }\";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,\"1px\"===d.width}}}return function(b){return{matches:a.matchMedium(b||\"all\"),media:b||\"all\"}}}()),function(a,b,c){\"use strict\";function d(a){var b,c,d,e,g,h=a||{};b=h.elements||f.getAllElements();for(var i=0,j=b.length;j>i;i++)if(c=b[i],d=c.parentNode,e=void 0,g=void 0,\"IMG\"===c.nodeName.toUpperCase()&&(c[f.ns]||(c[f.ns]={}),h.reevaluate||!c[f.ns].evaluated)){if(\"PICTURE\"===d.nodeName.toUpperCase()){if(f.removeVideoShim(d),e=f.getMatch(c,d),e===!1)continue}else e=void 0;(\"PICTURE\"===d.nodeName.toUpperCase()||c.srcset&&!f.srcsetSupported||!f.sizesSupported&&c.srcset&&c.srcset.indexOf(\"w\")>-1)&&f.dodgeSrcset(c),e?(g=f.processSourceSet(e),f.applyBestCandidate(g,c)):(g=f.processSourceSet(c),(void 0===c.srcset||c[f.ns].srcset)&&f.applyBestCandidate(g,c)),c[f.ns].evaluated=!0}}function e(){function c(){var b;a._picturefillWorking||(a._picturefillWorking=!0,a.clearTimeout(b),b=a.setTimeout(function(){d({reevaluate:!0}),a._picturefillWorking=!1},60))}d();var e=setInterval(function(){return d(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(e):void 0},250);a.addEventListener?a.addEventListener(\"resize\",c,!1):a.attachEvent&&a.attachEvent(\"onresize\",c)}if(a.HTMLPictureElement)return void(a.picturefill=function(){});b.createElement(\"picture\");var f={};f.ns=\"picturefill\",function(){f.srcsetSupported=\"srcset\"in c,f.sizesSupported=\"sizes\"in c}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\\s+|\\s+$/g,\"\")},f.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},f.restrictsMixedContent=function(){return\"https:\"===a.location.protocol},f.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},f.getDpr=function(){return a.devicePixelRatio||1},f.getWidthFromLength=function(a){a=a&&a.indexOf(\"%\")>-1==!1&&(parseFloat(a)>0||a.indexOf(\"calc(\")>-1)?a:\"100vw\",a=a.replace(\"vw\",\"%\"),f.lengthEl||(f.lengthEl=b.createElement(\"div\"),f.lengthEl.style.cssText=\"border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden\"),f.lengthEl.style.width=a,b.body.appendChild(f.lengthEl),f.lengthEl.className=\"helper-from-picturefill-js\",f.lengthEl.offsetWidth<=0&&(f.lengthEl.style.width=b.documentElement.offsetWidth+\"px\");var c=f.lengthEl.offsetWidth;return b.body.removeChild(f.lengthEl),c},f.types={},f.types[\"image/jpeg\"]=!0,f.types[\"image/gif\"]=!0,f.types[\"image/png\"]=!0,f.types[\"image/svg+xml\"]=b.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#Image\",\"1.1\"),f.types[\"image/webp\"]=function(){var a=\"image/webp\";c.onerror=function(){f.types[a]=!1,d()},c.onload=function(){f.types[a]=1===c.width,d()},c.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\"},f.verifyTypeSupport=function(a){var b=a.getAttribute(\"type\");return null===b||\"\"===b?!0:\"function\"==typeof f.types[b]?(f.types[b](),\"pending\"):f.types[b]},f.parseSize=function(a){var b=/(\\([^)]+\\))?\\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},f.findWidthFromSourceSize=function(a){for(var b,c=f.trim(a).split(/\\s*,\\s*/),d=0,e=c.length;e>d;d++){var g=c[d],h=f.parseSize(g),i=h.length,j=h.media;if(i&&(!j||f.matchesMedia(j))){b=i;break}}return f.getWidthFromLength(b)},f.parseSrcset=function(a){for(var b=[];\"\"!==a;){a=a.replace(/^\\s+/g,\"\");var c,d=a.search(/\\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((\",\"===f||\"\"===c)&&(c=c.replace(/,+$/,\"\"),e=\"\"),a=a.slice(d+1),null===e){var g=a.indexOf(\",\");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a=\"\")}}else c=a,a=\"\";(c||e)&&b.push({url:c,descriptor:e})}return b},f.parseDescriptor=function(a,b){var c,d=b||\"100vw\",e=a&&a.replace(/(^\\s+|\\s+$)/g,\"\"),g=f.findWidthFromSourceSize(d);if(e)for(var h=e.split(\" \"),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if(\"h\"!==k&&\"w\"!==k||f.sizesSupported){if(\"x\"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/g)}return c||1},f.getCandidatesFromSourceSet=function(a,b){for(var c=f.parseSrcset(a),d=[],e=0,g=c.length;g>e;e++){var h=c[e];d.push({url:h.url,resolution:f.parseDescriptor(h.descriptor,b)})}return d},f.dodgeSrcset=function(a){a.srcset&&(a[f.ns].srcset=a.srcset,a.removeAttribute(\"srcset\"))},f.processSourceSet=function(a){var b=a.getAttribute(\"srcset\"),c=a.getAttribute(\"sizes\"),d=[];return\"IMG\"===a.nodeName.toUpperCase()&&a[f.ns]&&a[f.ns].srcset&&(b=a[f.ns].srcset),b&&(d=f.getCandidatesFromSourceSet(b,c)),d},f.applyBestCandidate=function(a,b){var c,d,e;a.sort(f.ascendingSort),d=a.length,e=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=f.getDpr()){e=c;break}if(e&&!f.endsWith(b.src,e.url))if(f.restrictsMixedContent()&&\"http:\"===e.url.substr(0,\"http:\".length).toLowerCase())void 0!==typeof console&&console.warn(\"Blocked mixed content image \"+e.url);else{b.src=e.url,b.currentSrc=b.src;var h=b.style||{},i=\"webkitBackfaceVisibility\"in h,j=h.zoom;i&&(h.zoom=\".999\",i=b.offsetWidth,h.zoom=j)}},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.removeVideoShim=function(a){var b=a.getElementsByTagName(\"video\");if(b.length){for(var c=b[0],d=c.getElementsByTagName(\"source\");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},f.getAllElements=function(){for(var a=[],c=b.getElementsByTagName(\"img\"),d=0,e=c.length;e>d;d++){var g=c[d];(\"PICTURE\"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute(\"srcset\")||g[f.ns]&&null!==g[f.ns].srcset)&&a.push(g)}return a},f.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,g=d.length;g>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if(\"SOURCE\"===h.nodeName.toUpperCase()){null!==h.getAttribute(\"src\")&&void 0!==typeof console&&console.warn(\"The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.\");var i=h.getAttribute(\"media\");if(h.getAttribute(\"srcset\")&&(!i||f.matchesMedia(i))){var j=f.verifyTypeSupport(h);if(j===!0){c=h;break}if(\"pending\"===j)return!1}}}}return c},e(),d._=f,\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=d:\"function\"==typeof define&&define.amd?define(function(){return d}):\"object\"==typeof a&&(a.picturefill=d)}(this,this.document,new this.Image);","/*\n\tMilkbox v2.3.2 - required: mootools.js v1.2.3 core + more 1.2.3.1: Assets\n\n\tby Luca Reghellin (http://www.reghellin.com) August 2009, MIT-style license.\n\tInspiration Lokesh Dhakar (http://www.lokeshdhakar.com/projects/lightbox2/)\n\tAND OF COURSE, SPECIAL THANKS TO THE MOOTOOLS DEVELOPERS\n*/\n\nvar Milkbox = new Class({\n\n\tImplements:[Options,Events],\n\n\toptions:{//set all the options here\n\t\toverlayOpacity:0.85,\n\t\ttopPosition:50,\n\t\tinitialWidth:250,\n\t\tinitialHeight:250,\n\t\tcanvasBorderWidth:'0px',\n\t\tcanvasBorderColor:'#000000',\n\t\tcanvasPadding:'0px',\n\t\tresizeDuration:500,\n\t\tresizeTransition:'sine:in:out',/*function (ex. Transitions.Sine.easeIn) or string (ex. 'bounce:out')*/\n\t\tautoPlay:false,\n\t\tautoPlayDelay:7,\n\t\tremoveTitle:false,\n\t\tautoSize:true,\n\t\tmaxHeight:0,//only if autoSize==true\n\t\timageOfText:'/',\n\t\tonXmlGalleries:$empty,\n\t\tonClosed:$empty,\n\t\tonFileReady:$empty\n\t},\n\n\tinitialize: function(options){\n\n\t\tthis.setOptions(options);\n\t\tthis.autoPlayBkup = { autoPlayDelay:this.options.autoPlayDelay, autoPlay:this.options.autoPlay };\n\t\tthis.fullOptionsBkup = {};\n\t\tthis.galleries = [];\n\t\tthis.families = [];\n\t\tthis.xmlFiles = [];\n\t\tthis.loadedImages = [];//to check the preloaded images\n\t\tthis.currentFile = null;\n\t\tthis.currentIndex = null;\n\t\tthis.currentGallery = null;\n\t\tthis.currentRequest = null;\n\t\tthis.currentResponse = null;\n\n\t\tthis.mode = null;//'singleFile','fileGallery'\n\t\tthis.closed = true;\n\t\tthis.busy = true;//to control keyboard and autoplay events\n\t\tthis.paused = true;\n\t\tthis.fileReady = false;//to prevent overlapping loadFile calls via next_prev_aux()\n\t\tthis.eventsok = false;\n\t\tthis.first = true;//true if it's the first file since it opened\n\t\tthis.activated = false;//true after initMilkbox\n\n\t\tthis.intObj = null;\n\n\t\tthis.formtags = null;\n\t\tthis.prepareGalleries();\n\n\t\tif(this.options.overlayOpacity == 0 || bertaGlobalOptions.galleryFullScreenBackground=='none'){ this.options.overlayOpacity = 0.0001 }\n\t\tthis.saveOptions();//then use restoreOptions()\n\n\t\t//if no galleries, stop here and prevent extra memory usage.\n\t\t//so you can keep milkbox in every page of a site.\n\t\tif(this.galleries.length == 0){ return; };\n\n\t\tthis.initMilkbox(true);\n\t},//end init\n\n\tinitMilkbox:function(checkTags){\n\n\t\tif(checkTags){ this.formtags = $$('select','textarea'); }\n\n\t\tthis.prepareHTML();\n\t\tthis.prepareEffects();\n\t\tthis.prepareEvents();\n\n\t\tthis.activated = true;\n\t},\n\n\t/* ****** SHOW/HIDE ****** */\n\n\t//runs only 1 time per gallery\n\topenMilkbox:function(gallery,index){\n\t\tthis.closed = false;\n\t\tif(this.formtags && this.formtags.length != 0){ this.formtags.setStyle('display','none') };\n\t\tthis.overlay.setStyles({ 'top': -$(window).getScroll().y,'height':$(window).getScrollSize().y+$(window).getScroll().y });\n\t\tthis.center.setStyles({'top': this.options.topPosition, 'visibility': 'visible'});\n\n\t\tthis.currentGallery = gallery;\n\t\tthis.currentIndex = index;\n\t\tthis.overlay.tween('opacity',this.options.overlayOpacity);//onComplete: center.tween opacity\n\n\t\tif(gallery.length == 1){\n\t\t\tthis.mode = 'singleFile';\n\t\t\tthis.loadFile(gallery[index],index);\n\t\t} else {\n\t\t\tthis.mode = 'fileGallery';\n\t\t\tvar playpauseWidth = 0;\n\t\t\t//interface\n\t\t\t$$(this.close, this.prev, this.next).setStyle('display','inline');\n\n\t\t\tif (bertaGlobalOptions.galleryFullScreenImageNumbers=='yes') {\n\t\t\t\t$$(this.count).setStyle('display','inline');\n\t\t\t}\n\n\t\t\tif(this.options.autoPlay){\n\t\t\t\tthis.playpause.setStyle('display','block');\n\t\t\t\tplaypauseWidth = this.playpause.getSize().x;\n\t\t\t}\n\t\t\tvar border = this.center.getStyle('border-right-width').toInt();//border-right is just ok for design purposes..\n\t\t\t//var navWidth = this.prev.getSize().x+this.next.getSize().x+this.close.getSize().x+playpauseWidth+border;\n\t\t\t//var navWidth = this.prev.getSize().x+this.next.getSize().x+playpauseWidth+border;\n\t\t\t//this.navigation.setStyle('width',navWidth);\n\t\t\t//this.description.setStyle('margin-right',navWidth);\n\t\t\t//files\n\t\t\tvar next = (index != gallery.length-1) ? gallery[index+1] : gallery[0];\n\t\t\tvar prev = (index != 0) ? gallery[index-1] : gallery[gallery.length-1];\n\t\t\tvar preloads = (prev == next) ? [prev] : [prev,next]; //if gallery.length == 2, then prev == next\n\n\t\t\tthis.loadFile(gallery[index],preloads);\n\t\t}//end else\n\t},\n\n\tloadFile:function(fileObj,preloads){\n\t\tthis.fileReady = false;\n\t\tvar swf = this.checkFileType(fileObj,'swf');\n\t\tif(!swf){\n\t\t\tif(!this.loadedImages.contains(fileObj.retrieve('href'))){ this.center.addClass('mbLoading'); }\n\t\t\tthis.loadImage(fileObj.retrieve('href'));\n\t\t} else {\n\t\t\tthis.loadSwf(fileObj);\n\t\t}\n\n\t\tif(preloads){ this.preloadFiles(preloads); }\n\t},\n\n\tpreloadFiles:function(preloads){\n\t\tpreloads.each(function(fileObj,index){\n\t\t\tvar swf = this.checkFileType(fileObj.retrieve('href'),\"swf\");\n\t\t\tif(!swf){ this.preloadImage(fileObj.retrieve('href')); }\n\t\t},this);\n\t},\n\n\tloadImage:function(file){\n\t\tvar imageAsset = new Asset.image(file, { onload:function(img){\n\t\t\tif(!this.loadedImages.contains(file)){ this.loadedImages.push(file); };//see next/prev events\n\t\t\tthis.currentFile = img;\n\t\t\tthis.loadAux(this.currentFile);\n\t\t}.bindWithEvent(this)});\n\t},\n\n\tpreloadImage:function(file){\n\t\tif(!this.loadedImages.contains(file)){\n\t\t\tvar imageAsset = new Asset.image(file, { onload:function(img){\n\t\t\t\t\tthis.loadedImages.push(file);\n\t\t\t}.bindWithEvent(this)});\n\t\t}\n\t},\n\n\n\tloadSwf:function(swf){\n\n\t\tvar swfObj = new Swiff(swf.retrieve('href'),{\n\t\t\twidth:swf.retrieve('width').toInt(),\n\t\t\theight:swf.retrieve('height').toInt(),\n\t\t\tparams:{ wMode:'opaque', swLiveConnect:'false' }\n\t\t});\n\n\t\tthis.currentFile = swfObj;\n\t\tthis.loadAux(swf);\n\t},\n\n\tloadAux:function(file){\n\t\tthis.fileReady = true; //the file is loaded and ready to be showed (see next_prev_aux())\n\t\tthis.fireEvent('fileReady');\n\t\t$$(this.description,this.navigation).setStyle('visibility','hidden');\n\t\tthis.navigation.setStyle('height','');//reset the height setted in center.morph.onComplete\n\t\t//$$(this.next,this.prev).setStyle('backgroundPosition','0 0');\n\t\tthis.showFile(file);\n\t},\n\n\n\tshowFile:function(file){\n\n \t\tif(this.closed){ return; };//if you close the Milkbox and an onload event is still running\n\n \t\tvar fileSize = new Hash();\n \t\tvar centerSize = new Hash();\n \t\tvar targetSize, canvasSize;\n\t\tvar canvasAddSize, gap, b, p, d;\n \t\ttargetSize = canvasSize = {};\n \t\tcanvasAddSize = gap = b = p = d = 0;\n\n \t\tif(this.options.canvasBorderWidth.toInt() != 0 && this.canvas.getStyle('borderWidth').toInt() == 0){\n \t\t\tb = this.options.canvasBorderWidth + ' solid ' + this.options.canvasBorderColor;\n \t\t\tthis.canvas.setStyle('border',b);\n \t\t}\n\n \t\tif(this.options.canvasPadding.toInt() != 0 && this.canvas.getStyle('padding').toInt() == 0){\n \t\t\tp = this.options.canvasPadding;\n \t\t\tthis.canvas.setStyle('padding',p);\n \t\t}\n\n \t\tcanvasSize = this.canvas.getSize();\n \t\tcanvasAddSize = this.canvas.getStyle('borderWidth').toInt()*2 + this.canvas.getStyle('padding').toInt()*2;\n \t\tthis.canvas.setStyles({'opacity':0, 'width':'', 'height':''});\n\n \t\tif(!file.retrieve('width')){//is an image file\n \t\t\tfileSize = fileSize.extend(file.getProperties('width','height')).map(function(item){ return item.toInt(); });\n \t\t\tif(this.options.autoSize){\n \t\t\t\tfileSize = this.computeSize(fileSize);\n \t\t\t\tfile.setProperties({ 'width':fileSize.width, 'height':fileSize.height });\n \t\t\t}\n\n \t\t\t//add onclick event when image is clicked - shows next image\n \t\t\tif (this.currentGallery.length>1){\n\n \t\t\t    file.addEvent('click',this.next_prev_aux.bindWithEvent(this,'next'));\n\n \t\t\t}else{\n \t\t\t \tfile.setStyle('cursor','default');\n            }\n\n \t\t} else {//is an swf file\n \t\t\tfileSize.extend({ 'height':file.retrieve('height').toInt(), 'width':file.retrieve('width').toInt() });\n \t\t}\n\n\n \t\tcenterSize = centerSize.extend(this.center.getStyles('width','height')).map(function(item){ return item.toInt(); });\n\n \t\tif(fileSize.width != centerSize.width){\n \t\t\t//also include padding\n            var paddings = this.center.getStyles('padding-left','padding-right');\n            paddings = parseInt(paddings['padding-left'])+parseInt(paddings['padding-right']);\n\n \t\t\ttargetSize.width = fileSize.width + canvasAddSize ;\n \t\t\ttargetSize.marginLeft = -((targetSize.width+paddings)/2).round();\n \t\t}\n\n \t\tgap = (canvasSize.y-canvasAddSize > 0) ? centerSize.height - canvasSize.y : 0;\n\n\t\ttargetSize.height = fileSize.height + canvasAddSize + gap;\n\n\t\t//so nav doesn't move when you click next/prev\n\t\tthis.canvas.setStyles({'width':fileSize.width, 'height':fileSize.height});\n\n \t\tthis.center.removeClass('mbLoading');\n\n \t\tif(this.first){ d = 500; this.first = false; }\n \t\t(function(){ this.center.morph(targetSize); }).delay(d,this)//onComplete: show all items\n\t},\n\n\tcomputeSize:function(oSize){\n\n\t\tvar size = oSize;\n\t\tvar wSize = window.getSize();\n\t\tvar baseSize = { width:wSize.x-60, height:wSize.y-68-this.options.topPosition*2 };//cut out some pixels to make it better\n\t\tvar ratio;\n\t\tvar check;\n\n\t\tvar max = Math.max( baseSize.height, baseSize.width );\n\n\t\tif(max == baseSize.width){\n\t\t\tratio = max/size.width;\n\t\t\tcheck = 'height';\n\t\t} else {\n\t\t\tratio = max/size.height;\n\t\t\tcheck = 'width';\n\t\t}\n\n\t\tratio = (ratio <= 1) ? ratio : 1;\n\t\tsize = size.map(function(item){ return Math.floor(item*ratio); });\n\n\t\tratio = (baseSize[check]/size[check] <= 1) ? baseSize[check]/size[check] : 1;\n\t\tsize = size.map(function(item){ return Math.floor(item*ratio); });\n\n\t\tif(this.options.maxHeight > 0){\n\t\t\tratio = (this.options.maxHeight/size.height < 1) ? this.options.maxHeight/size.height : 1;\n\t\t\tsize = size.map(function(item){ return Math.floor(item*ratio); });\n\t\t}\n\n\t\treturn size;\n\t},\n\n\t//{ gallery:'gall1', index:2, autoplay:true, delay:7 }\n\tshowGallery:function(opt){\n\t\tif(!opt || !opt.gallery){ return; }\n\t\tvar fileIndex = ($chk(opt.index)) ? opt.index : 0;\n\t\tvar g = this.getGallery(opt.gallery);\n\t\tvar auto = false;\n\t\tvar d;\n\t\tif(opt.autoplay || (g['options'] && g['options'].autoplay)){ auto = true; }\n\t\tif(g != -1 && !this.opened){\n\t\t\tif(auto){\n\t\t\t\td = (opt && opt.delay) ? opt.delay : (g['options'] && g['options'].delay) ? g['options'].delay : this.autoPlayDelay;\n\t\t\t\tthis.startAutoPlay({ gallery:g, index:fileIndex, delay:d });\n\t\t\t} else {\n\t\t\t\tthis.openMilkbox(g,fileIndex);\n\t\t\t}\n\t\t}\n\t},\n\n\t/* ******* XML/AJAX ******* */\n\n\taddGalleries:function(xmlfile){\n\n\t\tthis.currentRequest = new Request({\n\t\t\tmethod:'get',\n\t\t\tautoCancel:true,\n\t\t\turl:xmlfile,\n\t\t\tonRequest:function(){\n\t\t\t\t//placeholder\n\t\t\t}.bindWithEvent(this),\n\t\t\tonSuccess:function(text,xml){\n\t\t\t\tvar t = text.replace(/(<a.+)\\/>/gi,\"$1></a>\");\n\t\t\t\tthis.setGalleries(new Element('div',{ html:t }),xmlfile);\n\t\t\t}.bindWithEvent(this),\n\t\t\tonFailure:function(transport){ alert('Milkbox :: addGalleries: XML file path error or local Ajax test: please test addGalleries() on-line'); }\n\t\t});\n\n\t\tthis.currentRequest.send();\n\t},\n\n\tsetGalleries:function(container,xmlfile){\n\t\tif(!this.xmlFiles.contains(xmlfile)){ this.xmlFiles.push(xmlfile); }\n\t\tvar c = container;\n\t\tvar galleries = c.getElements('.gallery');\n\t\tvar links = [];\n\t\tvar aplist = [];\n\t\tgalleries.each(function(gallery,i){\n\n\t\t\tvar obj = {\n\t\t\t\tgallery:gallery.getProperty('name'),\n\t\t\t\tautoplay:Boolean(gallery.getProperty('autoplay')),\n\t\t\t\tdelay:Number(gallery.getProperty('delay'))\n\t\t\t}\n\n\t\t\tvar l = gallery.getChildren('a');\n\t\t\tvar lx = l.map(function(link){ return link.setProperty('rel','milkbox['+obj.gallery+']'); });\n\t\t\tlinks.push(lx);\n\t\t\tif(obj.autoplay){ aplist.push(obj); }\n\t\t});\n\n\t\tthis.prepareGalleries(links.flatten());\n\t\tthis.setAutoPlay(aplist);\n\n\t\tif(!this.activated){ this.initMilkbox(); }\n\n\t\tthis.fireEvent('xmlGalleries');\n\t},\n\n\n\n\t/* ****** UTILS ****** */\n\n\tcheckFileType:function(file,type){\n\t\tvar href = null;\n\t\tif($type(file) != 'string'){ href = file.retrieve('href'); }\n\t\telse{ href = file; }\n\t\tvar regexp = new RegExp(\"\\.(\"+type+\")$\",\"i\");\n\t\treturn href.split('?')[0].test(regexp);\n\t},\n\n\t//retrieves galleries from strings like 'gall1' or 'milkbox[gall1]' or 'milkbox:gall1'\n\tgetGallery:function(gallery){\n\t\tvar f = null;\n\t\tif(gallery.test(/^milkbox/i)){\n\t\t\tf = this.families;\n\t\t} else {\n\t\t\t//create a temporary array with names without 'milkbox'\n\t\t\tf = this.families.map(function(item){\n\t\t\t\tvar trimmed = item.trim();\n\t\t\t\tvar name = trimmed.slice(0,trimmed.length).substr(8);\n\t\t\t\tvar cleanName = name.replace(/(.+)]$/,\"$1\");\n\t\t\t\treturn cleanName;\n\t\t\t});\n\t\t}\n\t\tvar i = f.indexOf(gallery);\n\t\tvar g = (i != -1) ? this.galleries[i] : i;\n\t\treturn g;\n\t},\n\n\tsetFileProps:function(fileObj,propString){\n\t\tvar s = propString.split(',');\n\t\ts.each(function(p,i){\n\t\t\tvar clean = p.trim().split(':');\n\t\t\tfileObj.store(clean[0].trim(),clean[1].trim())\n\t\t},this);\n\t},\n\n\tchangeOptions:function(obj){\n\t\tif(!obj){ return; }\n\t\tthis.setOptions(obj);\n \t\tthis.center.get('morph').setOptions({ transition:this.options.resizeTransition,  duration:this.options.resizeDuration });\n\t},\n\n\tsaveOptions:function(obj){\n\t\tif($chk(obj)){\n\t\t\tthis.fullOptionsBkup = obj;\n\t\t} else {\n\t\t\tthis.fullOptionsBkup = this.options;\n\t\t}\n\t},\n\n\trestoreOptions:function(){\n\t\tthis.setOptions(this.fullOptionsBkup);\n \t\tvar b = this.options.canvasBorderWidth + ' solid ' + this.options.canvasBorderColor;\n \t\tthis.canvas.setStyles({ 'border':b, 'padding':this.options.canvasPadding});\n \t\tthis.center.get('morph').setOptions({ transition:this.options.resizeTransition,  duration:this.options.resizeDuration });\n\t},\n\n\treloadGalleries:function(){\n\n\t\tthis.galleries = [];\n\t\tthis.families = [];\n\t\t//re-check for tags\n\t\tthis.formtags = $$('select','textarea');\n\n\t\tif(!this.activated){ this.initMilkbox(false); }\n\n\t\t//reload standard galleries\n\t\tthis.prepareGalleries();\n\t\tthis.removeGalleriesEvents();\n\t\tthis.setGalleriesEvents();\n\n\t\tif(this.xmlFiles.length == 0){ return; }\n\t\t//reload xmlGalleries\n\t\tthis.xmlFiles.each(function(xmlfile,index){\n\t\t\tthis.addGalleries(xmlfile);\n\t\t}.bind(this));\n\t},\n\n\t/* ****** AUTOPLAY ****** */\n\n\t//list:Array of objects or an object > [ { gallery:'gall1', autoplay:true, delay:6 } ]\n\t//to permanently define autoplay options for any gallery\n\tsetAutoPlay:function(list){\n\t\tvar l = ($type(list) == 'object') ? [list] : list;\n\t\tl.each(function(item){\n\t\t\tvar g = this.getGallery(item.gallery);\n\t\t\tif(g == -1){ return; }\n\t\t\tvar a = (item.autoplay == true) ? item.autoplay : false;\n\t\t\tvar d = ($chk(item.delay) && a) ? item.delay : this.options.autoPlayDelay;\n\t\t\tg['options'] = { autoplay:a, delay:d }\n\t\t},this);\n\t},\n\n\tstartAutoPlay:function(opt){//opt: gallery, index, delay (in seconds)\n\n\t\tvar g = -1;\n\t\tvar i,d;\n\t\tif(opt && opt.gallery){\n\t\t\tif($type(opt.gallery) == 'array'){ g = opt.gallery }\n\t\t\telse if($type(opt.gallery) == 'string'){\n\t\t\t\tg = this.getGallery(opt.gallery);\n\t\t\t}\n\t\t}\n\n\t\tif(g == -1){ g = this.galleries[0]; }\n\n\t\td = (opt && opt.delay && ($type(opt.delay) == 'number')) ? opt.delay*1000 : (g['options'] && g['options'].delay) ? g['options'].delay*1000 : this.options.autoPlayDelay*1000;\n\t\ti = (opt && opt.index && ($type(opt.index) == 'number')) ? opt.index : 0;\n\t\tif(d < this.options.resizeDuration*2){ d = this.options.resizeDuration*2 };\n\t\tthis.options.autoPlayDelay = d/1000;//save autoPlayDelay because now it is customized\n\n\t\tif(!this.options.autoPlay){ this.setOptions({ autoPlay:true, autoPlayDelay:this.options.autoPlayDelay }); }\n\n\t\tif(this.closed){\n\t\t\tthis.openMilkbox(g,i);\n\t\t\tif(this.mode != 'fileGallery'){ return; }\n\t\t\tthis.addEvent('fileReady',function(){\n\t\t\t\t//wait until the first file is loaded\n\t\t\t\tthis.intObj = this.next_prev_aux.periodical(d,this,[null,'next']);\n\t\t\t\tthis.removeEvents('fileReady');\n\t\t\t}.bindWithEvent(this));\n\t\t} else {\n\t\t\tif(!this.closed){ this.next_prev_aux(null,'next'); }\n\t\t\tthis.intObj = this.next_prev_aux.periodical(d,this,[null,'next']);\n\t\t}\n\n\t\tthis.paused = false;\n\t},\n\n\tstopAutoPlay:function(){\n\t\tif(this.intObj){ $clear(this.intObj); this.intObj = null; }\n\t\tthis.playpause.setStyle('backgroundPosition','0 -44px');\n\t\tthis.paused = true;\n\t},\n\n\n\t/* ****** INIT/CLOSE ****** */\n\n\tremoveGalleriesEvents:function(){\n\t\tthis.galleries.each(function(gallery){\n\t\t\t$$(gallery).removeEvents('click');\n\t\t},this);\n\t},\n\n\tsetGalleriesEvents:function(){\n\t\tthis.galleries.each(function(gallery){\n\n\t\t\t$$(gallery).addEvent('click',function(e){\n\t\t\t\tvar button=($(e.target).match('a')) ? $(e.target) : $(e.target).getParent('a');\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar g = this.getGallery(button.rel);\n\t\t\t\tif(g.options && g.options.autoplay){\n\t\t\t\t\tthis.setOptions({ autoPlay:g.options.autoplay, autoPlayDelay:g.options.delay });\n\t\t\t\t}\n\n\t\t\t\tif(this.options.autoPlay){\n\t\t\t\t\tthis.startAutoPlay({ gallery:gallery, index:gallery.indexOf(button) });\n\t\t\t\t} else {\n\t\t\t\t\tthis.openMilkbox(gallery, gallery.indexOf(button));\n\t\t\t\t}\n\n\t\t\t}.bindWithEvent(this));\n\t\t},this);\n\t},\n\n\t//all the main events\n\tprepareEvents:function(xml){\n\n\t\t//galleries\n\t\tthis.setGalleriesEvents();\n\n\t\t//next, prev, see next_prev_aux()\n\t\tthis.next.addEvent('click',this.next_prev_aux.bindWithEvent(this,'next'));\n\t\tthis.prev.addEvent('click',this.next_prev_aux.bindWithEvent(this,'prev'));\n\n\n\t\t//css hover doesn't work in ie6, so I must do it via js...\n\t\t$$(this.next,this.prev).addEvents({\n\t\t\t'mouseover':function(){ this.setStyle('backgroundPosition','0 -22px'); },\n\t\t\t'mouseout':function(){ this.setStyle('backgroundPosition','0 0'); }\n\t\t});\n\n\t\t//keyboard next/prev/close\n\t\t$(window.document).addEvent('keydown',function(e){\n\t\t\tif(this.mode != 'fileGallery' || this.busy == true){ return; }\n\t\t\tif(e.key == 'right' || e.key == 'space'){ this.next_prev_aux(e,'next'); }\n\t\t\telse if(e.key == 'left'){ this.next_prev_aux(e,'prev'); }\n\t\t\telse if(e.key == 'esc'){ this.closeMilkbox(); }\n\t\t}.bindWithEvent(this));\n\n\t\t//playpause for autoPlay\n\t\tthis.playpause.addEvents({\n\t\t\t\t'mouseover':function(e){\n\t\t\t\t\tif(this.paused == false){ this.playpause.setStyle('backgroundPosition','0 -22px'); }\n\t\t\t\t\telse { this.playpause.setStyle('backgroundPosition','0 -66px'); }\n\t\t\t\t}.bindWithEvent(this),\n\t\t\t\t'mouseout':function(){\n\t\t\t\t\tif(this.paused == false){ this.playpause.setStyle('backgroundPosition','0 0'); }\n\t\t\t\t\telse { this.playpause.setStyle('backgroundPosition','0 -44px'); }\n\t\t\t\t}.bindWithEvent(this),\n\t\t\t\t'click':function(){\n\t\t\t\t\tif(this.paused == false){\n\t\t\t\t\t\tthis.stopAutoPlay();\n\t\t\t\t\t\tthis.paused = true;\n\t\t\t\t\t\tthis.playpause.setStyle('backgroundPosition','0 -66px');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar d = (this.currentGallery.options && this.currentGallery.options.delay) ? this.currentGallery.options.delay : this.options.autoPlayDelay;\n\t\t\t\t\t\tthis.startAutoPlay({gallery:this.currentGallery, index:this.currentIndex+1, delay:d });\n\t\t\t\t\t\tthis.paused = false;\n\t\t\t\t\t\tthis.playpause.setStyle('backgroundPosition','0 0');\n\t\t\t\t\t}\n\t\t\t\t}.bindWithEvent(this)\n\t\t});\n\n\t\t//overlay\n\t\tthis.overlay.get('tween').addEvent('onComplete',function(){\n\t\t\tif(this.overlay.getStyle('opacity') == this.options.overlayOpacity){\n\t\t\t\tthis.center.tween('opacity',1);\n\t\t\t} else if(this.overlay.getStyle('opacity') == 0) {\n\t\t\t\tthis.overlay.setStyles({'height':0,'top':''});\n\t\t\t};\n\t\t}.bindWithEvent(this));\n\n\t\t//center\n\t\tthis.center.get('morph').addEvent('onComplete',function(){\n\n\t\t\t if($type(this.currentFile) == \"element\"){//is image file\n\t\t\t\tthis.canvas.grab(this.currentFile);\n\t\t\t } else {//object: is swf file\n\t\t\t \t(function(){ this.canvas.grab(this.currentFile); }).delay(500,this);\n\t\t\t }\n\n\t\t\t this.canvas.tween('opacity',1);\n\n\t\t\t var d = (!(this.mode == 'showThisImage')) ? this.currentGallery[this.currentIndex].retrieve('title') : this.specialDescription;\n\t\t\t if($chk(d)){ this.description.innerHTML = d; };\n\n\t\t\t if(this.mode == 'fileGallery'){\n\t\t\t \tthis.count.appendText((this.currentIndex+1)+''+this.options.imageOfText+''+this.currentGallery.length);\n\t\t\t }\n\n\t\t\t var currentCenterHeight = this.center.getStyle('height').toInt();\n\n\t\t\t //this.navigation.setStyle('height',this.bottom.getStyle('height').toInt());//to have the right-border height == total bottom height\n\t\t\t var bottomSize = this.bottom.getSize().y;\n\n\t\t\t //after the 1st time, currentCenterHeight is always > this.canvas.getSize().y\n\n\t\t\t var targetOffset = (currentCenterHeight > this.canvas.getSize().y) ? (this.bottom.getSize().y+this.canvas.getSize().y)-currentCenterHeight : bottomSize;\n\n\t\t\t targetOffset = targetOffset + this.close.getSize().y;\n\n\t\t\t this.bottom.setStyle('display','none');//to avoid rendering problems during setFinalHeight\n\n\t\t\t this.center.retrieve('setFinalHeight').start(currentCenterHeight,currentCenterHeight+targetOffset);\n\t\t}.bindWithEvent(this));\n\n\t\tthis.center.retrieve('setFinalHeight').addEvent('onComplete',function(){\n\t\t\tthis.bottom.setStyles({'visibility':'visible','display':'block'});\n\t\t\t$$(this.description,this.navigation).setStyle('visibility','visible');\n\t\t\t//reset overlay height based on position and height\n\t\t\tvar scrollSize = $(window).getScrollSize().y;\n\t\t\tvar scrollTop = $(window).getScroll().y;\n\n\t\t\tthis.overlay.setStyles({'height':scrollSize+scrollTop, 'top':-scrollTop });\n\t\t\tthis.busy = false;\n\t\t}.bindWithEvent(this));\n\n\t\t//reset overlay height and position onResize\n\t\twindow.addEvent('resize',function(){\n\t\t\tif(this.overlay.getStyle('opacity') == 0){ return; };//resize only if visible\n\t\t\tvar scrollSize = $(window).getScrollSize().y;\n\t\t\tvar scrollTop = $(window).getScroll().y;\n\t\t\tthis.overlay.setStyles({ 'height':scrollSize+scrollTop,'top':-scrollTop });\n\t\t}.bindWithEvent(this));\n\n\t\t//close\n\t\t$$(this.overlay,this.close).addEvent('click',this.closeMilkbox.bindWithEvent(this));\n\n\t\t//check\n\t\tthis.eventsok = true;\n\t},\n\n\tnext_prev_aux:function(e,direction){\n\n\t\tif(e){\n\t\t\te.preventDefault();\n\t\t\tthis.stopAutoPlay();\n\t\t} else {\n\t\t\t//if there's no event obj, than this is called by autoPlay()\n\t\t\tif(this.busy || !this.fileReady){ return; }//stop autoplay()\n\t\t}\n\n\t\tthis.busy = true; //for keyboard and autoplay\n\n\t\tvar i, _i;\n\n\t\tif(direction == \"next\"){\n\t\t\ti= (this.currentIndex != this.currentGallery.length-1) ? this.currentIndex += 1 : this.currentIndex = 0;\n\t\t\t_i= (this.currentIndex != this.currentGallery.length-1) ? this.currentIndex + 1 : 0;\n\t\t} else {\n\t\t\ti= (this.currentIndex != 0) ? this.currentIndex -= 1 : this.currentIndex = this.currentGallery.length-1;\n\t\t\t_i= (this.currentIndex != 0) ? this.currentIndex - 1 : this.currentGallery.length-1;\n\t\t};\n\n\t\tthis.canvas.empty();\n\t\tthis.description.empty();\n\t\tthis.count.empty();\n\n\t\tthis.loadFile(this.currentGallery[i],[this.currentGallery[_i]]);\n\t},\n\n\tprepareEffects:function(){\n\t\tthis.overlay.set('tween',{ duration:'short',link:'cancel' });\n\t\tthis.center.set('tween',{ duration:'short',link:'chain' });\n\t\tthis.center.set('morph',{ duration:this.options.resizeDuration,link:'chain',transition:this.options.resizeTransition });\n\t\tthis.center.store('setFinalHeight',new Fx.Tween(this.center,{property:'height',duration:'short'}));\n\t\tthis.canvas.set('tween',{ link:'chain' });\n\t},\n\n\tprepareGalleries:function(responseElements){\n\t\tvar milkbox_a = [];\n\t\tvar a_tags = (responseElements) ? responseElements : $$('a');\n\n\t\ta_tags.each(function(a){\n\t\t\t//test 'milkbox' and link extension, and collect all milkbox links\n\t\t\tif(a.rel && a.rel.test(/^milkbox/i) && a.href.split('?')[0].test(/\\.(gif|jpg|jpeg|png|swf)$/i)){\n\t\t\t\tif(a.rel.length>7 && !this.families.contains(a.rel)){ this.families.push(a.rel); };\n\t\t\t\tmilkbox_a.push(a);\n\t\t\t}\n\t\t},this);\n\n\t\t//create an array of arrays with all galleries\n\t\tmilkbox_a.each(function(a){\n\t\t\t$(a).store('href',a.href);\n\t\t\t$(a).store('rel',a.rel);\n\t\t\t$(a).store('title',a.title);\n\t\t\tif(this.checkFileType(a.href,\"swf\")){ this.setFileProps($(a),a.rev); }\n\n\t\t\tif(this.options.removeTitle){ $(a).removeProperty('title'); }\n\t\t\tif(a.rel.length > 7){\n\t\t\t\tthis.families.each(function(f,i){\n\t\t\t\t\tif(a.rel == f){\n\t\t\t\t\t\tvar gMounted = false;\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\tthis.galleries.each(function(g,k){\n\t\t\t\t\t\t\tif(g[0].rel == f){\n\t\t\t\t\t\t\t\tgMounted = true;\n\t\t\t\t\t\t\t\tindex = k;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(gMounted == true){ this.galleries[index].push($(a)); }\n\t\t\t\t\t\telse { this.galleries.push([$(a)]); }\n\t\t\t\t\t};\n\t\t\t\t},this);\n\t\t\t} else { this.galleries.push([$(a)]); };\n\t\t},this);\n\n\t},\n\n\tprepareHTML:function(){\n\n\t\tthis.overlay = new Element('div', { 'id':'mbOverlay','styles':{ 'opacity':0,'visibility':'visible','height':0,'overflow':'hidden' }}).inject($(document.body));\n\t\tif (bertaGlobalOptions.galleryFullScreenBackground=='white'){\n\t\t\tthis.overlay.setStyle('background-color','#fff');\n\t\t}\n\t\tthis.center = new Element('div', {'id':'mbCenter', 'styles':{'width':this.options.initialWidth,'height':this.options.initialHeight,'marginLeft':-(this.options.initialWidth/2),'opacity':0, 'visibility': 'hidden' }}).inject($(document.body));\n\t\tthis.canvas = new Element('div', {'id':'mbCanvas'}).inject(this.center);\n\t\tthis.bottom = new Element('div',{'id':'mbBottom'}).inject(this.center).setStyle('visibility','hidden');\n\t\tthis.bottom.setStyle('text-align',bertaGlobalOptions.galleryFullScreenCaptionAlign);\n\t\tthis.navigation = new Element('div',{'id':'mbNavigation'}).setStyle('visibility','hidden');\n\t\tthis.description = new Element('div',{'id':'mbDescription'}).setStyle('visibility','hidden');\n\n\t\tthis.bottom.adopt(this.navigation, this.description, new Element('div',{'class':'mbClear'}));\n\t\tthis.close = new Element('a',{'id':'mbCloseLink'});\n\t\tthis.next = new Element('a',{'id':'mbNextLink'});\n\t\tthis.next.set('text', '>');\n\t\tthis.prev = new Element('a',{'id':'mbPrevLink'});\n\t\tthis.prev.set('text', '<');\n\t\tthis.playpause = new Element('a',{'id':'mbPlayPause'});\n\t\tthis.count = new Element('span',{'id':'mbCount'});\n\n\t\t//this.close\n\n\t\t$$(this.next, this.prev, this.count, this.playpause).setStyle('display','none');\n\n\t\t//this.navigation.adopt(this.next, this.prev, this.playpause, new Element('div',{'class':'mbClear'}), this.count);\n\t\tthis.navigation.adopt(this.prev, this.count, this.next);\n\n\t\tthis.close.inject(this.center, 'top');\n\t},\n\n\tcloseMilkbox:function(){\n\t\tthis.cancelAllEffects();\n\t\tthis.stopAutoPlay();\n\t\tthis.setOptions(this.autoPlayBkup);\n\n\t\tthis.currentFile = null;\n\t\tthis.currentIndex = null;\n\t\tthis.currentGallery = null;\n\t\tthis.currentRequest = null;\n\t\tthis.currentResponse = null;\n\n \t\t//this.close,\n\t\t$$(this.prev, this.next, this.playpause, this.count).setStyle('display','none');\n\t\tthis.playpause.setStyle('backgroundPosition','0 0');\n\t\tvar border = this.center.getStyle('border-right-width').toInt();\n\t\tvar navWidth = this.close.getSize().x+border;\n\t\tthis.navigation.setStyles({'visibility':'hidden'});\n\t\t//this.description.setStyle('margin-right',navWidth);\n\t\tthis.description.empty();\n\t\tthis.bottom.setStyles({'visibility':'hidden','display':''});\n\n   \t    this.canvas.setStyles({'opacity':0, 'width':'', 'height':''});\n \t\tthis.canvas.empty();\n\n \t\tthis.count.empty();\n\n\t\tthis.center.setStyles({'opacity':0, 'visibility':'hidden', 'width':this.options.initialWidth,'height':this.options.initialHeight,'marginLeft':-(this.options.initialWidth/2)});\n\t\tthis.overlay.tween('opacity',0);//see onComplete in prepareEvents()\n\n\t\tif(this.formtags && this.formtags.length != 0){ this.formtags.setStyle('display','') };\n\n\t\tthis.mode = null;\n\t\tthis.closed = true;\n\t\tthis.first = true;\n\t\tthis.fileReady = false;\n\t\tthis.fireEvent('closed');\n\t},\n\n\tcancelAllEffects:function(){\n\t\tthis.overlay.get('tween').cancel();\n\t\tthis.center.get('morph').cancel();\n\t\tthis.center.get('tween').cancel();\n\t\tthis.center.retrieve('setFinalHeight').cancel();\n\t\tthis.canvas.get('tween').cancel();\n\t}\n\n});//END MILKBOX;\n","window.BertaHelpers = (function () {\n  return {\n\n    /**\n     * Logout user by reloading the page\n     */\n    logoutUser: function () {\n      if (window.parent === window) {\n        window.location.reload();\n      } else {\n        window.parent.postMessage('user:logout', '*');\n      }\n    },\n\n    /**\n     * Detect mobile device\n     */\n    isMobile: function () {\n      var agent = navigator.userAgent || navigator.vendor || window.opera;\n      return  (/(ipad|playbook|silk|android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(agent.substr(0, 4))) ? true : false;\n    },\n\n    debounce: function (func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this, args = arguments;\n        var later = function () {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    },\n\n    throttle: function (callback, limit) {\n      var wait = false; // Initially, we're not waiting\n      return function () { // We return a throttled function\n        if (!wait) { // If we're not waiting\n          callback.call(); // Execute users function\n          wait = true; // Prevent future invocations\n          setTimeout(function () { // After a period of time\n            wait = false; // And allow future invocations\n          }, limit);\n        }\n      };\n    },\n\n    updateQueryStringParameter: function (uri, key, value) {\n      var re = new RegExp('([?&])' + key + '=.*?(&|$)', 'i');\n      var separator = uri.indexOf('?') !== -1 ? '&' : '?';\n      if (uri.match(re)) {\n        return uri.replace(re, '$1' + key + '=' + value + '$2');\n      } else {\n        return uri + separator + key + '=' + value;\n      }\n    }\n  };\n})();\n","var BertaBackToTop = function () {\n  if (bertaGlobalOptions.backToTopEnabled !== 'yes') {\n    return;\n  }\n\n  var button = document.querySelector('.js-back-to-top');\n  if (!button) {\n    return;\n  }\n\n  var config = {\n    bufferSize: 2, // show button only when two screen are scrolled down\n    scrollSpeed: 300,\n    buttonShowTime: 4000\n  };\n  var isTouchDevice = 'ontouchstart' in document.documentElement;\n\n  var showTimeout;\n\n  var show = function () {\n    button.style.display = 'flex';\n    button.classList.add('show');\n\n    clearTimeout(showTimeout);\n    showTimeout = setTimeout(function () {\n      hide();\n    }, config.buttonShowTime);\n  };\n\n  var hide = function () {\n    button.classList.remove('show');\n    setTimeout(function () {\n      button.style.display = 'none';\n    }, 200);\n  };\n\n  var easeInOutQuad = function (t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) return c / 2 * t * t + b;\n    t--;\n    return -c / 2 * (t * (t - 2) - 1) + b;\n  };\n\n  var scrollToPos = function (to, duration) {\n    var element = document.scrollingElement;\n    var x = (element && element.scrollLeft) || window.pageXOffset;\n    var start = (element && element.scrollTop) || window.pageYOffset,\n      change = to - start,\n      increment = 20;\n    var currentTime = 0;\n\n    var animateScroll = function () {\n      currentTime += increment;\n      var val = easeInOutQuad(currentTime, start, change, duration);\n      window.scrollTo(x, val);\n      if (currentTime < duration) {\n        window.setTimeout(animateScroll, increment);\n      }\n    };\n    animateScroll();\n  };\n\n  var isButtonVisible = function () {\n    var element = document.scrollingElement;\n    var scrollPos = (element && element.scrollTop) || window.pageYOffset;\n    return scrollPos > window.innerHeight * config.bufferSize;\n  };\n\n  var toggleButtonVisibility = function () {\n    if (isButtonVisible()) {\n      show();\n    } else {\n      hide();\n    }\n  };\n\n  button.addEventListener('click', function (e) {\n    e.preventDefault();\n    scrollToPos(0, config.scrollSpeed);\n  });\n\n  window.addEventListener('scroll', window.BertaHelpers.debounce(function () {\n    toggleButtonVisibility();\n  }, 200));\n\n  window.addEventListener('resize', window.BertaHelpers.debounce(function () {\n    toggleButtonVisibility();\n  }, 200));\n\n  if (!isTouchDevice) {\n    window.addEventListener('mousemove', window.BertaHelpers.throttle(function () {\n      if (isButtonVisible()) {\n        show();\n      }\n    }, 200));\n  }\n\n  toggleButtonVisibility();\n};\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  BertaBackToTop();\n});\n","var BertaGallerySlideshow = new Class({\n\n  options: {},\n  container: null,\n  imageContainer: null,\n  gallerySwiper: null,\n  navContainer: null,\n\n  initialize: function (container) {\n    this.container = container;\n    this.is_mobile_device = window.BertaHelpers.isMobile();\n    if (container.hasClass('xInitialized')) {\n      return;\n    }\n    container.addClass('xInitialized');\n    if (this.is_mobile_device) {\n      container.addClass('bt-is-mobile-device');\n    }\n\n    this.initOptions();\n    this.attach();\n    this.loadFirst();\n  },\n\n  initOptions: function () {\n    this.options = {\n      fullscreen: this.container.get('data-fullscreen') !== null,\n      autoplay: parseInt(this.container.get('data-autoplay'), 10),\n      asRowGallery: this.container.get('data-as-row-gallery'),\n      swiperOptions: {\n        loop: this.container.get('data-loop'),\n      }\n    };\n  },\n\n  attach: function () {\n    this.imageContainer = this.container.getElement('div.xGallery');\n    this.navContainer = this.container.getElement('ul.xGalleryNav');\n\n    if (this.navContainer && !this.navContainer.getElements('a').length) {\n      this.navContainer = null;\n    }\n  },\n\n  detach: function () {\n    if (this.gallerySwiper) {\n      this.gallerySwiper.destroy();\n    }\n\n    if (this.navContainer) {\n      this.navContainer.getElements('a').each(function (item) {\n        item.removeEvents('click');\n      });\n    }\n    this.container = this.imageContainer = this.navContainer = null;\n  },\n\n  loadFirst: function () {\n    if (this.navContainer) {\n      var navContainer = this.navContainer;\n      var nav_highlightItem = this.nav_highlightItem;\n      var li = this.navContainer.getElement('li');\n      this.nav_highlightItem(li);\n\n      if (this.options.fullscreen || this.getNext()) {\n        var swiperEl = this.imageContainer.getElement('.swiper-container');\n        var videos = [];\n\n        var loadVideo = function (video) {\n          if (video.data('autoplay')) {\n            video.muted = true;\n            video.play();\n          }\n        };\n\n        var unLoadVideo = function (video) {\n          video.pause();\n        };\n\n        // Make gallery fit the screen in width for row gallery slideshow fallback\n        if (this.options.asRowGallery) {\n          var galleryWrapper = this.container.getFirst();\n          galleryWrapper.setStyle('width', '100vw');\n          var setFullWidth = function () {\n            var galleryPosition = this.container.getBoundingClientRect();\n            galleryWrapper.setStyle('margin-left', -galleryPosition.left);\n          }.bindWithEvent(this);\n          setFullWidth();\n          window.addEvent('resize', window.BertaHelpers.debounce(setFullWidth.bindWithEvent(this), 300));\n        }\n\n        var swiperOptions = {\n          init: false,\n          loop: this.options.swiperOptions.loop,\n          centeredSlides: this.options.asRowGallery,\n          slidesPerView: this.options.asRowGallery ? 'auto' : 1,\n          spaceBetween: this.options.asRowGallery ? 10 : 0,\n          autoHeight: true,\n          effect: this.options.asRowGallery ? 'slide' : 'fade',\n          mousewheel: this.options.asRowGallery ? {\n            releaseOnEdges: true\n          } : false,\n          fadeEffect: {\n            crossFade: true\n          },\n          navigation: {\n            nextEl: swiperEl.getElement('.swiper-button-next'),\n            prevEl: swiperEl.getElement('.swiper-button-prev')\n          }\n        };\n\n        if (this.options.autoplay) {\n          swiperOptions['autoplay'] = {\n            delay: this.options.autoplay * 1000\n          };\n        }\n\n        this.gallerySwiper = new Swiper(swiperEl, swiperOptions);\n\n        this.gallerySwiper.on('init', function () {\n          this.imageContainer.querySelectorAll('.xGalleryItem').forEach(function (galleryItem, i) {\n\n            if (!(this.options.asRowGallery || this.options.fullscreen)) {\n              return;\n            }\n\n            if (this.options.fullscreen) {\n              galleryItem.style.cursor = 'pointer';\n            }\n\n            galleryItem.addEventListener('click', function () {\n              // Row gallery slideshow fallback prev/next navigation\n              // for partly visible slides\n              if (this.options.asRowGallery) {\n                var isNextEl = galleryItem.parentNode.classList.contains('swiper-slide-next');\n                if (isNextEl) {\n                  this.gallerySwiper.slideNext();\n                  return;\n                }\n\n                var isPrevEl = galleryItem.parentNode.classList.contains('swiper-slide-prev');\n                if (isPrevEl) {\n                  this.gallerySwiper.slidePrev();\n                  return;\n                }\n              }\n\n              if (galleryItem.classList.contains('xGalleryItemType-video')) {\n                return;\n              }\n\n              var index = this.gallerySwiper.params.loop ? parseInt(galleryItem.parentNode.getAttribute('data-swiper-slide-index'), 10) : i;\n              BertaGalleryFullscreen(this.container, index);\n\n            }.bind(this));\n          }, this);\n\n          swiperEl.querySelectorAll('.swiper-slide').forEach(function (slide, i) {\n            var video = slide.querySelector('video');\n            if (video) {\n              videos[i] = video;\n              video.addEventListener('loadeddata', function reloadSwiper(e) {\n                this.gallerySwiper.update();\n                e.target.removeEventListener(e.type, reloadSwiper);\n              }.bind(this), false);\n            }\n          }, this);\n\n          if (videos[this.gallerySwiper.activeIndex]) {\n            loadVideo(videos[this.gallerySwiper.activeIndex]);\n          }\n        }.bind(this));\n\n        this.gallerySwiper.on('init slideChange resize', function () {\n          var gallerySwiper = this;\n\n          if (!gallerySwiper.slides.length) {\n            return;\n          }\n          var slide = gallerySwiper.slides[gallerySwiper.activeIndex];\n          var isImageSlide = slide.querySelector('.xGalleryItemType-image') !== null;\n          gallerySwiper.$el[0].setAttribute('data-slide-type', isImageSlide ? 'image' : 'video');\n        });\n\n        this.gallerySwiper.on('slideChange', function () {\n          var gallerySwiper = this;\n          if (videos[gallerySwiper.previousIndex]) {\n            unLoadVideo(videos[gallerySwiper.previousIndex]);\n          }\n\n          if (videos[gallerySwiper.activeIndex]) {\n            loadVideo(videos[gallerySwiper.activeIndex]);\n          }\n\n          nav_highlightItem(navContainer.querySelectorAll('li')[gallerySwiper.realIndex]);\n        });\n\n        this.gallerySwiper.init();\n        this.nav_setEvents();\n      }\n    }\n  },\n\n  getNext: function (bRotate) {\n    if (this.navContainer) {\n      var selectedLi = this.navContainer.getElement('li.selected');\n      if (selectedLi) {\n        var n = selectedLi.getNext();\n        if (!n && bRotate) {\n          n = this.navContainer.getElement('li');\n        }\n        return n;\n      }\n    }\n    return null;\n  },\n\n  nav_setEvents: function () {\n    // implementable in the future\n    this.navContainer.getElements('a').addEvent('click', this.nav_onItemClick.bindWithEvent(this));\n  },\n\n  nav_onItemClick: function (event) {\n    // implementable in the future\n    if (event.event) {\n      event.stop();\n    }\n\n    var linkElement = $(event.target);\n    if (linkElement.tagName != 'A') linkElement = linkElement.getParent('a');\n\n    var li = linkElement.getParent('li');\n    this.nav_highlightItem(li);\n    this.gallerySwiper.slideTo(parseInt(linkElement.getClassStoredValue('xImgIndex') - (this.gallerySwiper.params.loop ? 0 : 1), 10));\n  },\n\n  nav_highlightItem: function (liElement) {\n    liElement.getParent().getChildren().removeClass('selected');\n    liElement.addClass('selected');\n  }\n});\n","var BertaGalleryRow = new Class({\n  container: null,\n  imageContainer: null,\n  navContainer: null,\n  rowClearElement: null,\n  newObjectInjectWhere: null,\n  newObjectInjectPosition: null,\n  currentSrc: null,\n  preload: null,\n  loadTimer: null,\n  loadedItems: 0,\n  currentItem: 0,\n\n\n  initialize: function (container) {\n    this.is_mobile_device = window.BertaHelpers.isMobile();\n    if (container.hasClass('xInitialized')) {\n      return;\n    }\n    container.addClass('xInitialized');\n    if (this.is_mobile_device) {\n      container.addClass('bt-is-mobile-device');\n    }\n    this.attach(container);\n    this.loadFirst();\n    window.addEvent('resize', window.BertaHelpers.debounce(this.layout_update.bindWithEvent(this), 200));\n  },\n\n  attach: function (container) {\n    this.container = container;\n    this.fullscreen = this.container.get('data-fullscreen') !== null;\n    this.imageContainer = this.container.getElement('div.xGallery');\n    this.navContainer = this.container.getElement('ul.xGalleryNav');\n    this.galleryEditButton = this.imageContainer.getElement('.xGalleryEditButton');\n\n    var galleryLoader = this.imageContainer.getElement('.loading');\n    if (galleryLoader) {\n      galleryLoader.dispose();\n    }\n\n    this.loadedItems = this.container.getElements('.xGalleryItem').length;\n\n    if (this.navContainer && this.navContainer.getElements('a').length > 0) {\n      this.rowClearElement = new Element('br', {\n        'class': 'clear'\n      }).inject(this.imageContainer);\n\n      this.newObjectInjectWhere = bertaGlobalOptions.environment == 'site' ? this.rowClearElement : this.galleryEditButton;\n      this.newObjectInjectPosition = 'before';\n\n    } else\n      this.navContainer = null;\n  },\n\n  detach: function () {\n    if (this.navContainer) {\n      this.navContainer.getElements('a').each(function (item) {\n        item.removeEvents('click');\n      });\n    }\n    this.container = this.imageContainer = this.navContainer = null;\n    this.currentSrc = null;\n  },\n\n  loadFirst: function () {\n    if (this.navContainer) {\n      var li = this.navContainer.getElement('li');\n      this.nav_highlightItem(li);\n      var aEl = this.navContainer.getElement('li a');\n      this.load(aEl.get('href'), aEl.getClassStoredValue('xType'), aEl.getClassStoredValue('xW'), aEl.getClassStoredValue('xH'), aEl.getClassStoredValue('xVideoHref'), aEl.getClassStoredValue('xAutoPlay'), li.getElement('.xGalleryImageCaption').get('html'), 1, aEl.get('data-srcset'));\n    }\n  },\n\n  loadNext: function (bRotate) {\n    if (this.navContainer) {\n      var nextLi = this.getNext(bRotate);\n      if (nextLi) {\n        this.nav_highlightItem(nextLi);\n        var aEl = nextLi.getElement('a');\n        this.load(aEl.get('href'), aEl.getClassStoredValue('xType'), aEl.getClassStoredValue('xW'), aEl.getClassStoredValue('xH'), aEl.getClassStoredValue('xVideoHref'), aEl.getClassStoredValue('xAutoPlay'), nextLi.getElement('.xGalleryImageCaption').get('html'), aEl.getClassStoredValue('xImgIndex'), aEl.get('data-srcset'));\n      } else {\n        //after everything is loaded\n\n        // attach fullscreen for gallery row mode\n        if (this.fullscreen) {\n          this.attachFullscreen();\n        }\n\n        // update gallery edit button width\n        if (this.galleryEditButton) {\n          this.galleryEditButton.setStyle('width', this.imageContainer.scrollWidth);\n        }\n      }\n    }\n  },\n\n  attachFullscreen: function () {\n    var items = this.container.getElements('.xGalleryItem');\n    items.each(function (item, i) {\n      if (item.hasClass('xGalleryItemType-video')) {\n        return;\n      }\n\n      item.setStyle('cursor', 'pointer');\n      item.addEvent('click', function () {\n        BertaGalleryFullscreen(this.container, i);\n      }.bindWithEvent(this));\n    }, this);\n  },\n\n  getNext: function (bRotate) {\n    if (this.navContainer) {\n      var selectedLi = this.navContainer.getElement('li.selected');\n      if (selectedLi) {\n        var n = selectedLi.getNext();\n        if (!n && bRotate) {\n          n = this.navContainer.getElement('li');\n        }\n        return n;\n      }\n    }\n    return null;\n  },\n\n  layout_update: function () {\n    // implementable\n    // in a template you can implement this function\n\n    var rowGalleryPadding = this.imageContainer.get('xRowGalleryPadding');\n\n    if (rowGalleryPadding) {\n      this.imageContainer.getChildren().each(function (el) {\n        el.setStyle('padding', rowGalleryPadding);\n      });\n    }\n\n    this.imageContainer.getChildren('.xGalleryItem').each(function (item) {\n      if (item.getClassStoredValue('xGalleryItemType') != 'video') {\n        item.setStyle('height', 'auto');\n      }\n    });\n\n    this.imageContainer.getElements('.xGalleryItem').setStyle('position', 'relative');\n  },\n\n  layout_inject: function (currentItemIsLoaded) {\n    if (!currentItemIsLoaded) {\n      this.preload.inject(this.newObjectInjectWhere, this.newObjectInjectPosition);\n      picturefill(this.preload.getElement('img'));\n    }\n\n    this.layout_update();\n  },\n\n  nav_setEvents: function () {\n    // implementable in the future\n    this.navContainer.getElements('a').addEvent('click', this.nav_onItemClick.bindWithEvent(this));\n  },\n\n  nav_onItemClick: function (event) {\n    // implementable in the future\n    if (event.event) {\n      event.stop();\n    }\n\n    var linkElement = $(event.target);\n    if (linkElement.tagName != 'A') linkElement = linkElement.getParent('a');\n\n    var li = linkElement.getParent('li');\n    this.nav_highlightItem(li);\n  },\n\n  nav_highlightItem: function (liElement) {\n    liElement.getParent().getChildren().removeClass('selected');\n    liElement.addClass('selected');\n  },\n\n  load: function (src, mType, mWidth, mHeight, videoPath, autoPlay, caption, xImgIndex, srcset) {\n    this.currentItem += 1;\n    this.currentSrc = null;\n    var currentItemIsLoaded = this.currentItem <= this.loadedItems;\n    this.load_Render(src, mType, mWidth, mHeight, videoPath, autoPlay, caption, xImgIndex, srcset, currentItemIsLoaded);\n  },\n\n  load_Render: function (src, mType, mWidth, mHeight, videoPath, autoPlay, caption, xImgIndex, srcset, currentItemIsLoaded) {\n    this.currentSrc = src;\n    this.xImgIndex = xImgIndex;\n    this.srcset = srcset ? srcset : null;\n\n    switch (mType) {\n      case 'image':\n        if (!currentItemIsLoaded) {\n          var altText = caption.replace(/(<([^>]+)>)/ig, ' ').replace(/(\\r\\n|\\n|\\r)/gm, ' ').replace(/\\s{2,}/g, ' ').trim();\n\n          this.preload = new Asset.image(src, {\n            'width': mWidth,\n            'height': mHeight,\n            'srcset': this.srcset,\n            'alt': altText\n          });\n\n          this.preload = new Element('div', {\n            'class': 'xGalleryItem xGalleryItemType-image xImgIndex-' + this.xImgIndex\n          }).adopt(this.preload);\n\n          new Element('div', {\n            'class': 'xGalleryImageCaption'\n          }).set('html', caption).inject(this.preload);\n        }\n\n        this.load_Finish(src, mType, currentItemIsLoaded);\n        break;\n\n      case 'video':\n\n        if (currentItemIsLoaded) {\n          this.preload = this.imageContainer.getChildren()[this.currentItem - 1].getElement('video');\n\n        } else {\n          this.preload = new Element('video', {\n            'width': mWidth,\n            'class': 'xGalleryItem xGalleryItemType-video',\n            'controls': true,\n            'controlsList': 'nodownload',\n            'poster': src && src.charAt(0) !== '#' ? src : null,\n          });\n\n          var videoType = videoPath.split('.').pop();\n\n          var source = new Element('source', {\n            'src': videoPath,\n            'type': 'video/' + videoType\n          });\n\n          source.inject(this.preload, 'top');\n\n          this.layout_inject(currentItemIsLoaded);\n          this.preload.setStyle('position', 'absolute');\n\n          new Element('div', {\n            'class': 'xGalleryImageCaption'\n          }).set('html', caption).inject(this.preload);\n        }\n\n        if (autoPlay > 0) {\n          this.preload.muted = true;\n          this.preload.play();\n        }\n\n        this.load_Finish(src, mType, currentItemIsLoaded);\n        break;\n    }\n  },\n\n  load_Finish: function (src, mType, currentItemIsLoaded) {\n    // test if the loaded image's src is the last invoked image's src\n    if (src == this.currentSrc) {\n      if (mType == 'image') {\n        this.layout_inject(currentItemIsLoaded);\n      }\n\n      this.layout_update();\n      this.loadNext();\n    }\n  }\n});\n","var BertaGalleryColumn = new Class({\n\n  container: null,\n  imageContainer: null,\n  navContainer: null,\n  rowClearElement: null,\n  newObjectInjectWhere: null,\n  newObjectInjectPosition: null,\n  currentSrc: null,\n  preload: null,\n  phase: null,\n  loadTimer: null,\n  imageFadeOutFx: null,\n  imageResizeFx: null,\n  imageShowFx: null,\n\n  initialize: function (container) {\n    this.is_mobile_device = window.BertaHelpers.isMobile();\n    if (container.hasClass('xInitialized')) {\n      return;\n    }\n    container.addClass('xInitialized');\n    if (this.is_mobile_device) {\n      container.addClass('bt-is-mobile-device');\n    }\n    this.attach(container);\n    this.loadFirst();\n    window.addEvent('resize', window.BertaHelpers.debounce(this.layout_update.bindWithEvent(this), 200));\n  },\n\n  attach: function (container) {\n    this.container = container;\n    this.fullscreen = this.container.get('data-fullscreen') !== null;\n    this.imageContainer = this.container.getElement('div.xGallery');\n    this.navContainer = this.container.getElement('ul.xGalleryNav');\n\n    if (this.navContainer && this.navContainer.getElements('a').length > 0) {\n      this.imageFadeOutFx = new Fx.Tween(this.imageContainer, {\n        duration: 'short',\n        transition: Fx.Transitions.Sine.easeInOut\n      });\n      this.imageShowFx = new Fx.Tween(this.imageContainer, {\n        duration: 'normal',\n        transition: Fx.Transitions.Sine.easeInOut\n      });\n\n      this.rowClearElement = new Element('br', {\n        'class': 'clear'\n      }).inject(this.imageContainer);\n\n      this.newObjectInjectWhere = bertaGlobalOptions.environment == 'site' ? this.rowClearElement : this.imageContainer.getElement('.xGalleryEditButton');\n      this.newObjectInjectPosition = 'before';\n\n    } else {\n      this.navContainer = null;\n    }\n  },\n\n  detach: function () {\n    if (this.navContainer) {\n      this.navContainer.getElements('a').each(function (item) {\n        item.removeEvents('click');\n      });\n\n      this.imageFadeOutFx.cancel();\n      if (this.imageResizeFx) this.imageResizeFx.cancel();\n      this.imageShowFx.cancel();\n      this.imageFadeOutFx = this.imageResizeFx = this.imageShowFx = null;\n    }\n    this.container = this.imageContainer = this.navContainer = null;\n    this.currentSrc = null;\n  },\n\n  loadFirst: function () {\n    if (this.navContainer) {\n      var li = this.navContainer.getElement('li');\n      this.nav_highlightItem(li);\n      var aEl = this.navContainer.getElement('li a');\n      var fistItemType = aEl.getClassStoredValue('xType');\n\n      if (fistItemType != 'image') {\n        // load only if not image, because if that's image, it's already written in the HTML\n        this.load(aEl.get('href'), aEl.getClassStoredValue('xType'), aEl.getClassStoredValue('xW'), aEl.getClassStoredValue('xH'), aEl.getClassStoredValue('xVideoHref'), aEl.getClassStoredValue('xAutoPlay'), li.getElement('.xGalleryImageCaption').get('html'), true, 1, aEl.get('data-srcset'));\n      } else {\n        this.currentSrc = aEl.get('href');\n        this.preload = this.imageContainer.getElement('div.xGalleryItem');\n\n        this.layout_update();\n        this.loadNext();\n      }\n    }\n  },\n\n  loadNext: function (bRotate) {\n    if (this.navContainer) {\n      var nextLi = this.getNext(bRotate);\n      if (nextLi) {\n        this.nav_highlightItem(nextLi);\n        var aEl = nextLi.getElement('a');\n        this.load(aEl.get('href'), aEl.getClassStoredValue('xType'), aEl.getClassStoredValue('xW'), aEl.getClassStoredValue('xH'), aEl.getClassStoredValue('xVideoHref'), aEl.getClassStoredValue('xAutoPlay'), nextLi.getElement('.xGalleryImageCaption').get('html'), false, aEl.getClassStoredValue('xImgIndex'), aEl.get('data-srcset'));\n      } else {\n        if (this.fullscreen) {\n          this.attachFullscreen();\n        }\n      }\n    }\n  },\n\n  attachFullscreen: function () {\n    var items = this.container.getElements('.xGalleryItem');\n    items.each(function (item, i) {\n      if (item.hasClass('xGalleryItemType-video')) {\n        return;\n      }\n\n      item.setStyle('cursor', 'pointer');\n      item.addEvent('click', function () {\n        BertaGalleryFullscreen(this.container, i);\n      }.bindWithEvent(this));\n    }, this);\n  },\n\n  getNext: function (bRotate) {\n    if (this.navContainer) {\n      var selectedLi = this.navContainer.getElement('li.selected');\n      if (selectedLi) {\n        var n = selectedLi.getNext();\n        if (!n && bRotate) {\n          n = this.navContainer.getElement('li');\n        }\n        return n;\n      }\n    }\n    return null;\n  },\n\n  layout_update: function () {\n    // implementable\n    // in a template you can implement this function\n    var totalHeight = 0,\n      maxWidth = 0,\n      itmSize;\n    this.imageContainer.getChildren('.xGalleryItem').each(function (item) {\n      itmSize = item.getSize();\n      totalHeight += itmSize.y;\n      if (itmSize.x > maxWidth) maxWidth = itmSize.x;\n    });\n    this.imageContainer.setStyle('height', totalHeight + 'px');\n    this.imageContainer.setStyle('width', maxWidth + 'px');\n    this.imageContainer.getElements('.xGalleryItem').setStyle('position', 'relative');\n  },\n\n  layout_inject: function (bDeleteExisting, bDoContainerFade) {\n    if (bDeleteExisting) {\n      this.imageContainer.getChildren('.xGalleryItem').destroy();\n    }\n\n    this.preload.inject(this.newObjectInjectWhere, this.newObjectInjectPosition);\n\n    picturefill(this.preload.getElement('img'));\n\n    if (bDoContainerFade) {\n      this.imageShowFx.set('opacity', 1);\n    } else {\n      // just fade in the newly added image\n      new Fx.Tween(this.preload, {\n        duration: 'short',\n        transition: Fx.Transitions.Sine.easeInOut\n      }).set('opacity', 0).start('opacity', 1);\n    }\n\n    this.layout_update();\n  },\n\n  nav_setEvents: function () {\n    // implementable in the future\n    this.navContainer.getElements('a').addEvent('click', this.nav_onItemClick.bindWithEvent(this));\n  },\n\n  nav_onItemClick: function (event) {\n    // implementable in the future\n    if (event.event) {\n      event.stop();\n    }\n\n    var linkElement = $(event.target);\n    if (linkElement.tagName != 'A') linkElement = linkElement.getParent('a');\n\n    var li = linkElement.getParent('li');\n    this.nav_highlightItem(li);\n  },\n\n  nav_highlightItem: function (liElement) {\n    liElement.getParent().getChildren().removeClass('selected');\n    liElement.addClass('selected');\n  },\n\n  load: function (src, mType, mWidth, mHeight, videoPath, autoPlay, caption, bDeleteExisting, xImgIndex, srcset) {\n    switch (this.phase) {\n      case 'fadeout':\n        this.imageFadeOutFx.cancel();\n        break;\n      case 'fadein':\n        this.imageResizeFx.cancel();\n        this.imageShowFx.cancel();\n        break;\n      default:\n        this.imageShowFx.cancel();\n        break;\n    }\n\n    this.currentSrc = null;\n    this.load_Render(src, mType, mWidth, mHeight, videoPath, autoPlay, caption, bDeleteExisting, xImgIndex, srcset);\n  },\n\n  load_Render: function (src, mType, mWidth, mHeight, videoPath, autoPlay, caption, bDeleteExisting, xImgIndex, srcset) {\n    this.currentSrc = src;\n    this.currentVideoAutoPlay = autoPlay;\n    this.currentCaption = caption;\n    this.xImgIndex = xImgIndex;\n    this.srcset = srcset ? srcset : null;\n\n    switch (mType) {\n      case 'image':\n\n        var loader = this.imageContainer.getNext('.loader');\n\n        if (loader) {\n          this.loadTimer = setTimeout(function () {\n            loader.removeClass('xHidden');\n          }, 500);\n        }\n\n        this.phase = 'preload';\n        var altText = caption.replace(/(<([^>]+)>)/ig, ' ').replace(/(\\r\\n|\\n|\\r)/gm, ' ').replace(/\\s{2,}/g, ' ').trim();\n        this.preload = new Asset.image(src, {\n          'width': mWidth,\n          'height': mHeight,\n          'srcset': this.srcset,\n          'alt': altText\n        });\n\n        this.preload = new Element('div', {\n          'class': 'image'\n        }).adopt(this.preload);\n\n        if (mWidth) this.preload.setStyle('width', mWidth + 'px');\n        if (mHeight) this.preload.setStyle('height', mHeight + 'px');\n\n        this.preload = new Element('div', {\n          'class': 'xGalleryItem xGalleryItemType-image xImgIndex-' + this.xImgIndex\n        }).adopt(this.preload);\n\n        if (mWidth) this.preload.setStyle('width', mWidth + 'px');\n        if (mHeight) this.preload.setStyle('height', mHeight + 'px');\n\n        new Element('div', {\n          'class': 'xGalleryImageCaption'\n        }).set('html', caption).inject(this.preload);\n\n        this.load_Finish(src, mType, mWidth, mHeight, bDeleteExisting);\n        break;\n\n      case 'video':\n        if (mHeight) mHeight = parseInt(mHeight);\n\n        this.preload = new Element('video', {\n          'width': mWidth,\n          'class': 'xGalleryItem xGalleryItemType-video',\n          'controls': true,\n          'controlsList': 'nodownload',\n          'poster': src && src.charAt(0) !== '#' ? src : null,\n        });\n\n        var videoType = videoPath.split('.').pop();\n\n        var source = new Element('source', {\n          'src': videoPath,\n          'type': 'video/' + videoType\n        });\n\n        source.inject(this.preload, 'top');\n\n        this.layout_inject(bDeleteExisting, true);\n        this.preload.setStyle('position', 'absolute');\n\n        if (autoPlay > 0) {\n          this.preload.muted = true;\n          this.preload.play();\n        }\n\n        new Element('div', {\n          'class': 'xGalleryImageCaption'\n        }).set('html', caption).inject(this.preload);\n\n        this.load_Finish(src, mType, mWidth, mHeight, bDeleteExisting);\n        break;\n    }\n  },\n\n  load_Finish: function (src, mType, mWidth, mHeight, bDeleteExisting) {\n    // test if the loaded image's src is the last invoked image's src\n    if (src == this.currentSrc) {\n      this.phase = 'done';\n\n      if (mType == 'image') this.layout_inject(bDeleteExisting, false);\n\n      this.layout_update();\n      this.loadNext();\n    }\n  }\n});\n","var BertaGalleryPile = new Class({\n\n  container: null,\n  imageContainer: null,\n  navContainer: null,\n  rowClearElement: null,\n  newObjectInjectWhere: null,\n  newObjectInjectPosition: null,\n  currentSrc: null,\n  preload: null,\n  phase: null,\n  loadTimer: null,\n  imageFadeOutFx: null,\n  imageResizeFx: null,\n  imageShowFx: null,\n\n  initialize: function (container) {\n    this.is_mobile_device = window.BertaHelpers.isMobile();\n    if (container.hasClass('xInitialized')) {\n      return;\n    }\n    container.addClass('xInitialized');\n    if (this.is_mobile_device) {\n      container.addClass('bt-is-mobile-device');\n    }\n    this.attach(container);\n    this.loadFirst();\n    window.addEvent('resize', window.BertaHelpers.debounce(this.layout_update.bindWithEvent(this), 200));\n  },\n\n  attach: function (container) {\n    this.container = container;\n    this.fullscreen = this.container.get('data-fullscreen') !== null;\n    this.imageContainer = this.container.getElement('div.xGallery');\n    this.navContainer = this.container.getElement('ul.xGalleryNav');\n    this.galleryEditButton = this.imageContainer.getElement('.xGalleryEditButton');\n\n    if (this.navContainer && this.navContainer.getElements('a').length > 0) {\n      this.imageFadeOutFx = new Fx.Tween(this.imageContainer, {\n        duration: 'short',\n        transition: Fx.Transitions.Sine.easeInOut\n      });\n      this.imageShowFx = new Fx.Tween(this.imageContainer, {\n        duration: 'normal',\n        transition: Fx.Transitions.Sine.easeInOut\n      });\n\n      this.rowClearElement = new Element('br', {\n        'class': 'clear'\n      }).inject(this.imageContainer);\n\n      this.newObjectInjectWhere = bertaGlobalOptions.environment == 'site' ? this.rowClearElement : this.galleryEditButton;\n      this.newObjectInjectPosition = 'before';\n\n    } else {\n      this.navContainer = null;\n    }\n  },\n\n  detach: function () {\n    if (this.navContainer) {\n      this.navContainer.getElements('a').each(function (item) {\n        item.removeEvents('click');\n      });\n\n      this.imageFadeOutFx.cancel();\n      if (this.imageResizeFx) this.imageResizeFx.cancel();\n      this.imageShowFx.cancel();\n      this.imageFadeOutFx = this.imageResizeFx = this.imageShowFx = null;\n    }\n    this.container = this.imageContainer = this.navContainer = null;\n    this.currentSrc = null;\n  },\n\n  loadFirst: function () {\n    if (this.navContainer) {\n      var li = this.navContainer.getElement('li');\n      this.nav_highlightItem(li);\n      var aEl = this.navContainer.getElement('li a');\n      var fistItemType = aEl.getClassStoredValue('xType');\n\n      if (fistItemType != 'image') {\n        // load only if not image, because if that's image, it's already written in the HTML\n        this.load(aEl.get('href'), aEl.getClassStoredValue('xType'), aEl.getClassStoredValue('xW'), aEl.getClassStoredValue('xH'), aEl.getClassStoredValue('xVideoHref'), aEl.getClassStoredValue('xAutoPlay'), li.getElement('.xGalleryImageCaption').get('html'), true, 1, aEl.get('data-srcset'));\n      } else {\n        this.currentSrc = aEl.get('href');\n        this.preload = this.imageContainer.getElement('div.xGalleryItem');\n\n        this.layout_update();\n        this.loadNext();\n      }\n    }\n  },\n\n  loadNext: function (bRotate) {\n    if (this.navContainer) {\n      var nextLi = this.getNext(bRotate);\n      if (nextLi) {\n        this.nav_highlightItem(nextLi);\n        var aEl = nextLi.getElement('a');\n        this.load(aEl.get('href'), aEl.getClassStoredValue('xType'), aEl.getClassStoredValue('xW'), aEl.getClassStoredValue('xH'), aEl.getClassStoredValue('xVideoHref'), aEl.getClassStoredValue('xAutoPlay'), nextLi.getElement('.xGalleryImageCaption').get('html'), false, aEl.getClassStoredValue('xImgIndex'), aEl.get('data-srcset'));\n      } else {\n        //after everything is loaded\n\n        if (this.fullscreen) {\n          this.attachFullscreen();\n        }\n\n        // update gallery edit button width\n        if (this.galleryEditButton) {\n          this.galleryEditButton.setStyle('width', this.imageContainer.scrollWidth);\n        }\n      }\n    }\n  },\n\n  attachFullscreen: function () {\n    var items = this.container.getElements('.xGalleryItem');\n    items.each(function (item, i) {\n      if (item.hasClass('xGalleryItemType-video')) {\n        return;\n      }\n\n      item.setStyle('cursor', 'pointer');\n      item.addEvent('click', function () {\n        BertaGalleryFullscreen(this.container, i);\n      }.bindWithEvent(this));\n    }, this);\n  },\n\n  getNext: function (bRotate) {\n    if (this.navContainer) {\n      var selectedLi = this.navContainer.getElement('li.selected');\n      if (selectedLi) {\n        var n = selectedLi.getNext();\n        if (!n && bRotate) {\n          n = this.navContainer.getElement('li');\n        }\n        return n;\n      }\n    }\n    return null;\n  },\n\n  layout_update: function () {\n    // implementable\n    // in a template you can implement this function\n    var margin = 0;\n    var totalHeight = 0,\n      totalWidth = 0;\n\n    if (!this.layout_pileOnHoverBinded && bertaGlobalOptions.environment === 'site') {\n      this.layout_pileOnHoverBinded = this.layout_pileOnHover.bindWithEvent(this);\n    }\n\n    this.imageContainer.getChildren('.xGalleryItem').each(function (el) {\n      totalHeight = Math.max(totalHeight, margin + parseInt(el.getStyle('height')));\n      totalWidth = Math.max(totalWidth, margin + parseInt(el.getStyle('width')));\n      el.setStyles({\n        'left': margin + 'px',\n        'top': margin + 'px'\n      });\n\n      if (this.layout_pileOnHoverBinded) {\n        el.addEvent('mouseover', this.layout_pileOnHoverBinded);\n      }\n\n      margin += 30;\n    }, this);\n\n    this.imageContainer.setStyle('height', totalHeight + 'px');\n    this.imageContainer.setStyle('width', totalWidth + 'px');\n    this.imageContainer.getElements('.xGalleryItem').setStyle('position', 'absolute');\n    this.layout_rowTotalHeight = totalHeight;\n    this.layout_rowTotalWidth = totalWidth;\n  },\n\n  layout_pileOnHover: function (event) {\n    event.stop();\n    var target = $(event.target);\n    if (!target.hasClass('xGalleryItem')) target = target.getParent('.xGalleryItem');\n    if (target) {\n      var z = 1000,\n        zPlus = 200;\n      this.imageContainer.getChildren('.xGalleryItem').each(function (el) {\n        // set correct z-index\n        el.setStyle('z-index', z);\n        if (el == target) {\n          zPlus = -199;\n        }\n        z += zPlus;\n      }, this);\n    }\n  },\n\n  layout_inject: function (bDeleteExisting, bDoContainerFade) {\n    if (bDeleteExisting) {\n      this.imageContainer.getChildren('.xGalleryItem').destroy();\n    }\n\n    this.preload.inject(this.newObjectInjectWhere, this.newObjectInjectPosition);\n\n    picturefill(this.preload.getElement('img'));\n\n    if (bDoContainerFade) {\n      this.imageShowFx.set('opacity', 1);\n    } else {\n      // just fade in the newly added image\n      new Fx.Tween(this.preload, {\n        duration: 'short',\n        transition: Fx.Transitions.Sine.easeInOut\n      }).set('opacity', 0).start('opacity', 1);\n    }\n\n    this.layout_update();\n  },\n\n  nav_setEvents: function () {\n    // implementable in the future\n    this.navContainer.getElements('a').addEvent('click', this.nav_onItemClick.bindWithEvent(this));\n  },\n\n  nav_onItemClick: function (event) {\n    // implementable in the future\n    if (event.event) {\n      event.stop();\n    }\n\n    var linkElement = $(event.target);\n    if (linkElement.tagName != 'A') linkElement = linkElement.getParent('a');\n\n    var li = linkElement.getParent('li');\n    this.nav_highlightItem(li);\n  },\n\n  nav_highlightItem: function (liElement) {\n    liElement.getParent().getChildren().removeClass('selected');\n    liElement.addClass('selected');\n  },\n\n  load: function (src, mType, mWidth, mHeight, videoPath, autoPlay, caption, bDeleteExisting, xImgIndex, srcset) {\n    switch (this.phase) {\n      case 'fadeout':\n        this.imageFadeOutFx.cancel();\n        break;\n      case 'fadein':\n        this.imageResizeFx.cancel();\n        this.imageShowFx.cancel();\n        break;\n      default:\n        this.imageShowFx.cancel();\n        break;\n    }\n\n    this.currentSrc = null;\n    this.load_Render(src, mType, mWidth, mHeight, videoPath, autoPlay, caption, bDeleteExisting, xImgIndex, srcset);\n  },\n\n  load_Render: function (src, mType, mWidth, mHeight, videoPath, autoPlay, caption, bDeleteExisting, xImgIndex, srcset) {\n    this.currentSrc = src;\n    this.currentVideoAutoPlay = autoPlay;\n    this.currentCaption = caption;\n    this.xImgIndex = xImgIndex;\n    this.srcset = srcset ? srcset : null;\n\n    switch (mType) {\n      case 'image':\n\n        var loader = this.imageContainer.getNext('.loader');\n\n        if (loader) {\n          this.loadTimer = setTimeout(function () {\n            loader.removeClass('xHidden');\n          }, 500);\n        }\n\n        this.phase = 'preload';\n        var altText = caption.replace(/(<([^>]+)>)/ig, ' ').replace(/(\\r\\n|\\n|\\r)/gm, ' ').replace(/\\s{2,}/g, ' ').trim();\n        this.preload = new Asset.image(src, {\n          'width': mWidth,\n          'height': mHeight,\n          'srcset': this.srcset,\n          'alt': altText\n        });\n\n        this.preload = new Element('div', {\n          'class': 'image'\n        }).adopt(this.preload);\n\n        if (mWidth) this.preload.setStyle('width', mWidth + 'px');\n        if (mHeight) this.preload.setStyle('height', mHeight + 'px');\n\n        this.preload = new Element('div', {\n          'class': 'xGalleryItem xGalleryItemType-image xImgIndex-' + this.xImgIndex\n        }).adopt(this.preload);\n\n        if (mWidth) this.preload.setStyle('width', mWidth + 'px');\n        if (mHeight) this.preload.setStyle('height', mHeight + 'px');\n\n        new Element('div', {\n          'class': 'xGalleryImageCaption'\n        }).set('html', caption).inject(this.preload);\n\n        this.load_Finish(src, mType, mWidth, mHeight, bDeleteExisting);\n        break;\n\n      case 'video':\n        if (mHeight) mHeight = parseInt(mHeight);\n\n        this.preload = new Element('video', {\n          'width': mWidth,\n          'class': 'xGalleryItem xGalleryItemType-video',\n          'controls': true,\n          'controlsList': 'nodownload',\n          'poster': src && src.charAt(0) !== '#' ? src : null,\n        });\n\n        var videoType = videoPath.split('.').pop();\n\n        var source = new Element('source', {\n          'src': videoPath,\n          'type': 'video/' + videoType\n        });\n\n        source.inject(this.preload, 'top');\n\n        this.layout_inject(bDeleteExisting, true);\n        this.preload.setStyle('position', 'absolute');\n\n        if (autoPlay > 0) {\n          this.preload.muted = true;\n          this.preload.play();\n        }\n\n        new Element('div', {\n          'class': 'xGalleryImageCaption'\n        }).set('html', caption).inject(this.preload);\n\n        this.load_Finish(src, mType, mWidth, mHeight, bDeleteExisting);\n        break;\n    }\n  },\n\n  load_Finish: function (src, mType, mWidth, mHeight, bDeleteExisting) {\n    // test if the loaded image's src is the last invoked image's src\n    if (src == this.currentSrc) {\n      this.phase = 'done';\n\n      if (mType == 'image') this.layout_inject(bDeleteExisting, false);\n\n      this.layout_update();\n      this.loadNext();\n    }\n  }\n});\n","var BertaGalleryLink = new Class({\n  container: null,\n\n  initialize: function (container) {\n    this.attach(container);\n  },\n\n  attach: function (container) {\n    this.container = container;\n  },\n\n  detach: function () {\n    this.container = null;\n  }\n});\n","var BertaPortfolio = new Class({\n\n  Implements: Options,\n\n  initialize: function (options) {\n    this.setOptions(options);\n    window.addEvent('domready', this.onDOMReady.bindWithEvent(this));\n    window.addEventListener('addEntry',this.onAddPortfolio.bindWithEvent(this))\n  },\n\n  onAddPortfolio: function () {\n    // after adding portfolio entry\n    this.portfolioThumbnails()\n  },\n\n  onDOMReady: function () {\n    this.portfolioThumbnails();\n  },\n\n  showEntry: function (entry) {\n    entry.removeClass('xHidden');\n    var galleries = entry.getElements('.xGalleryContainer');\n\n    setTimeout(function () {\n      galleries[0].each(function (item) {\n        if (bertaGlobalOptions.environment == 'site') {\n          berta.initGallery(item);\n        } else {\n          bertaEditor.initGallery(item);\n        }\n      });\n    }, 500);\n  },\n\n  portfolioThumbnails: function () {\n    var container = $$('.portfolioThumbnails');\n    var entries = $$('.xEntry');\n    that = this;\n\n    if (container.length) {\n      var links = container.getElements('a');\n\n      $$(links).addEvent('click', function (event) {\n        var target = $$(this.get('href'));\n        entries.addClass('xHidden');\n        that.showEntry(target);\n      });\n    }\n\n    var hash = window.location.hash;\n    if (hash.length) {\n      var link = $$(hash);\n      if (link.length) {\n        this.showEntry(link);\n      }\n    }\n  }\n});\n\nnew BertaPortfolio();\n","/**\n * Singleton\n *\n * @version\t\t1.0\n *\n * @license\t\tMIT License\n *\n * @author\t\thttp://www.nwhite.net/2008/10/10/mootools-singleton-class-mutator/\n * @copyright\tAuthors\n */\nClass.Mutators.Singleton = function (self, flag) {\n  if (!flag) return;\n  self.constructor.__instance = undefined;\n  if ($defined(self.initialize) && $type(self.initialize) == 'function') var init = self.initialize;\n  self.initialize = function () {\n    if (!$defined(this.constructor.__instance)) {\n      if ($defined(init) && $type(init) == 'function') init.apply(this, arguments);\n      this.constructor.__instance = this;\n    }\n    return this.constructor.__instance;\n  }\n}\n\n\n/**\n * UnlinearProcessHandler\n *\n * @version\t\t1.0\n *\n * @license\t\tMIT License\n *\n * @author\t\tErnests Karlsons <ernests [at] hungrylab [dot] lv>\n * @copyright\tAuthors\n */\nvar UnlinearProcessHandler = new Class({\n\n  Implements: Options,\n  Singleton: true,\n\n  _processes: null,\n  _observables: null,\n\n  options: {\n    debug: false\n  },\n\n  initialize: function (options) {\n    this._processes = new Hash();\n    this._observables = new Array();\n  },\n\n  addObservable: function (object) {\n    if (object.hasUnlinearProcessDispatcher) {\n      object.addEvent('onUnlinearProcessStart', this._onStart.bind(this));\n      object.addEvent('onUnlinearProcessStop', this._onEnd.bind(this));\n      this._observables.push(object);\n      return true;\n    }\n\n    return false;\n  },\n\n  removeObservable: function (object) {\n    var index = this._observables.indexOf(object);\n    if (index >= 0) {\n      this._observables.erase(object);\n      return true;\n    }\n\n    return false;\n  },\n\n  getRunningTitles: function () {\n    var retArray = new Array();\n    this._processes.each(function (item, key) {\n      retArray.push(item.title ? item.title : key);\n    })\n    return retArray;\n  },\n\n  hasRunning: function (initiator) {\n    if (initiator) {\n      return this._processes.some(function (item) {\n        return item.initiator == initiator\n      });\n    } else {\n      return this._processes.getLength() > 0;\n    }\n  },\n\n  isIdleOrWarnIfBusy: function (initiator) {\n    if (this.hasRunning(initiator)) {\n      var titles = this.getRunningTitles();\n      alert(\"This can't be done! Berta is too busy now with:\\n\\n\" + titles.join(\"\\n\") + \"\\n\\nPlease wait a couple of moments and try again!\");\n      return false;\n    }\n\n    return true;\n  },\n\n  _onStart: function (processInitiator, processId, processTitle) {\n    if (this.options.debug) console.log('*** process \"' + processId + '\" started, initiator: ', processInitiator);\n    this._processes.set(processId, {\n      initiator: processInitiator,\n      title: processTitle,\n      started: (new Date()).getTime()\n    });\n  },\n\n  _onEnd: function (processInitiator, processId, processTitle) {\n    if (this.options.debug) console.log('*** process \"' + processId + '\" finito, initiator: ', processInitiator);\n    if (this._processes.has(processId)) {\n      this._processes.erase(processId);\n    }\n  }\n});\n\n\n/**\n * UnlinearProcessDispatcher\n *\n * @version\t\t1.0\n *\n * @license\t\tMIT License\n *\n * @author\t\tErnests Karlsons <ernests [at] hungrylab [dot] lv>\n * @copyright\tAuthors\n */\nvar UnlinearProcessDispatcher = new Class({\n\n  Implements: Events,\n  hasUnlinearProcessDispatcher: true,\n\n  unlinearProcess_getId: function (prefix) {\n    return (prefix ? (prefix + '-') : '') + (new Date()).getTime();\n  },\n\n  unlinearProcess_start: function (processId, processTitle) {\n    this.fireEvent(\"onUnlinearProcessStart\", [this, processId, processTitle], 10);\n  },\n\n  unlinearProcess_stop: function (processId) {\n    this.fireEvent(\"onUnlinearProcessStop\", [this, processId], 10);\n  }\n});\n\n\n/**\n * FancyUpload - Flash meets Ajax for simply working uploads\n *\n * @version\t\t1.0\n *\n * @license\t\tMIT License\n *\n * @author\t\tHarald Kirschner <mail [at] digitarald [dot] de>\n * @copyright\tAuthors\n */\nFx.ProgressBar = new Class({\n\n  Extends: Fx,\n\n  options: {\n    text: null,\n    transition: Fx.Transitions.Circ.easeOut,\n    link: 'cancel'\n  },\n\n  initialize: function (element, options) {\n    this.element = $(element);\n    this.parent(options);\n    this.text = $(this.options.text);\n    this.set(0);\n  },\n\n  start: function (to, total) {\n    return this.parent(this.now, (arguments.length == 1) ? to.limit(0, 100) : to / total * 100);\n  },\n\n  set: function (to) {\n    this.now = to;\n    this.element.setStyle('backgroundPosition', (100 - to) + '% 0px');\n    if (this.text) this.text.set('text', Math.round(to) + '%');\n    return this;\n  }\n});\n","Element.implement({\n  getIndex: function (type) {\n    type = (type) ? type : '';\n    return $$(type).indexOf(this);\n  },\n\n  exists: function () {\n    return this;\n  },\n\n  getClassStoredValue: function (varName) {\n    var c = this.get('class').split(' ');\n    for (var i = 0; i < c.length; i++) {\n      if (c[i].substr(0, c[i].indexOf('-')) == varName) {\n        return c[i].substr(c[i].indexOf('-') + 1);\n      }\n    }\n    return null;\n  },\n\n  setClassStoredValue: function (varName, varValue) {\n    var curValue = this.getClassStoredValue(varName);\n    if (curValue) {\n      this.removeClass(varName + '-' + curValue);\n    }\n    this.addClass(varName + '-' + varValue);\n  }\n});\n\nvar BertaEditorBase = new Class({\n\n  Implements: [Options, Events],\n\n  options: {\n    xBertaEditorClassSimple: '.xEditable',\n    xBertaEditorClassColor: '.xEditableColor',\n    xBertaEditorClassSelect: '.xEditableSelect',\n    xBertaEditorClassSelectRC: '.xEditableSelectRC',\n    xBertaEditorClassFontSelect: '.xEditableFontSelect',\n    xBertaEditorClassTA: '.xEditableTA',\n    xBertaEditorClassMCE: '.xEditableMCE',\n    xBertaEditorClassMCESimple: '.xEditableMCESimple',\n    xBertaEditorClassRC: '.xEditableRC',\n    xBertaEditorClassImage: '.xEditableImage',\n    xBertaEditorClassICO: '.xEditableICO',\n    xBertaEditorClassYesNo: '.xEditableYesNo',\n    xEditableRealCheck: '.xEditableRealCheck',\n    xBertaEditorClassDragXY: '.xEditableDragXY',\n\n    xBertaEditorClassAction: '.xAction',\n    xBertaEditorClassReset: '.xReset',\n    xEmptyClass: '.xEmpty',\n    updateUrl: '/engine/update.php',\n  },\n\n  tinyMCESettings: {\n    Base: null, // base class\n    simple: null,\n    full: null\n  },\n\n  elementEdit_instances: new Array(),\n\n  shiftPressed: false,\n\n  query: null,\n\n  intialize: function () {\n    this.initConsoleReplacement();\n  },\n\n  initConsoleReplacement: function () {\n    this.query = window.location.search.replace('?', '').parseQueryString();\n    if (this.query.site) {\n      this.options.updateUrl = this.options.updateUrl + '?site=' + this.query.site;\n    }\n    if (!window.console) window.console = {};\n    if (!window.console.debug) window.console.debug = function () {};\n    if (!window.console.error) window.console.error = function () {};\n    if (!window.console.log) window.console.log = function () {};\n    if (!window.console.info) window.console.info = function () {};\n\n    var editor = this;\n    $(document).addEvent('keydown', function (event) {\n      if (event.code == 16) {\n        editor.shiftPressed = true;\n      }\n    }).addEvent('keyup', function () {\n      editor.shiftPressed = false;\n    });\n  },\n\n  fixDragHandlePos: function () {\n\n    $$(this.options.xBertaEditorClassDragXY).each(function (el) {\n      if (!el.hasClass('xEntry')) {\n\n        var handle = el.getElement('.xHandle');\n        var handlePad = Math.abs(parseInt(handle.getStyle('margin-left')));\n        var left = parseInt(el.getStyle('left'));\n\n        if (left < handlePad) {\n          handle.setStyle('left', (handlePad - left) + 'px');\n        } else {\n          handle.setStyle('left', 0);\n        }\n      }\n    });\n\n  },\n\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///|  Element initialization  |///////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  elementEdit_init: function (el, editorClass, onElementSave) {\n\n    if (el.retrieve('elementEdit_init')) return false; // already initialized\n    el.store('elementEdit_init', true);\n\n    var bPlaceholderSet = this.makePlaceholderIfEmpty(el),\n      self = this;\n\n\n    switch (editorClass) {\n      case this.options.xBertaEditorClassSimple:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n        el.addEvent('click', function (event, editor) {\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            this.addClass('xEditing');\n            editor.makeEmptyIfEmpty(this);\n            editor.elementEdit_instances.push(this.inlineEdit({\n              onComplete: editor.elementEdit_save.bind(editor)\n            }));\n            editor.fireEvent(BertaEditorBase.EDITABLE_START, [el, editor.elementEdit_instances[editor.elementEdit_instances.length - 1]]);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      case this.options.xBertaEditorClassTA:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n        el.addEvent('click', function (event, editor) {\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            this.addClass('xEditing');\n            if (this.inlineIsEmpty()) this.innerHTML = '&nbsp;';\n            editor.elementEdit_instances.push(this.inlineEdit({\n              type: 'textarea',\n              onComplete: editor.elementEdit_save.bind(editor)\n            }));\n            editor.fireEvent(BertaEditorBase.EDITABLE_START, [el, editor.elementEdit_instances[editor.elementEdit_instances.length - 1]]);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      case this.options.xBertaEditorClassMCE:\n      case this.options.xBertaEditorClassMCESimple:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n\n        el.addEvent('click', function (event, editor) {\n          $$('.xEditOwerlay').destroy();\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            el.addClass('xEditing');\n            if (this.inlineIsEmpty()) this.innerHTML = '';\n            editor.elementEdit_instances.push(this.inlineEdit({\n              type: 'textarea',\n              WYSIWYGSettings: el.hasClass(editor.options.xBertaEditorClassMCESimple.substr(1)) ?\n                editor.tinyMCESettings.simple.options : editor.tinyMCESettings.full.options,\n              onComplete: editor.elementEdit_save.bind(editor)\n            }));\n            editor.fireEvent(BertaEditorBase.EDITABLE_START, [el, editor.elementEdit_instances[editor.elementEdit_instances.length - 1]]);\n          }\n        }.bindWithEvent(el, this));\n\n        self.initEditOwerlay(el);\n        break;\n\n      case this.options.xBertaEditorClassRC:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n        el.addEvent('click', function (event, editor) {\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            el.addClass('xEditing');\n            if (this.inlineIsEmpty()) this.innerHTML = '';\n            this.set('old_content', this.innerHTML);\n            this.set('text', this.get('title'));\n            editor.elementEdit_instances.push(this.inlineEdit({\n              onComplete: editor.elementEdit_save.bind(editor)\n            }));\n            editor.fireEvent(BertaEditorBase.EDITABLE_START, [el, editor.elementEdit_instances[editor.elementEdit_instances.length - 1]]);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      case this.options.xBertaEditorClassSelect:\n      case this.options.xBertaEditorClassSelectRC:\n      case this.options.xBertaEditorClassFontSelect:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n        el.addEvent('click', function (event, editor) {\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            this.addClass('xEditing');\n\n            if (this.inlineIsEmpty()) this.innerHTML = '';\n            editor.elementEdit_instances.push(\n              this.inlineEdit({\n                type: 'select',\n                subtype: this.hasClass(editor.options.xBertaEditorClassFontSelect.substr(1)) ? 'font' : (this.hasClass(editor.options.xBertaEditorClassSelectRC.substr(1)) ? 'rc' : ''),\n                selectOptions: this.getProperty('x_options').split('||'),\n                onComplete: editor.elementEdit_save.bind(editor)\n              })\n            );\n            editor.fireEvent(BertaEditorBase.EDITABLE_START, [el, editor.elementEdit_instances[editor.elementEdit_instances.length - 1]]);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      case this.options.xBertaEditorClassYesNo:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n        var isSetToYes = bPlaceholderSet ? false : (el.get('html') == '1' ? true : false);\n        el.empty();\n        var prop = el.getClassStoredValue('xProperty');\n\n        var aYes = new Element('a', {\n          'href': '#',\n          'class': (isSetToYes ? 'active' : '') + ' xValue-1'\n        }).set('html', 'yes');\n        var aNo = new Element('a', {\n          'href': '#',\n          'class': (isSetToYes ? '' : 'active') + ' xValue-0'\n        }).set('html', 'no');\n        el.grab(aYes).appendText(' / ').grab(aNo);\n        aNo.addEvent('click', this.eSup_onYesNoClick.bindWithEvent(this));\n        aYes.addEvent('click', this.eSup_onYesNoClick.bindWithEvent(this));\n        break;\n\n      case this.options.xBertaEditorClassImage:\n      case this.options.xBertaEditorClassICO:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n        var currentFile = bPlaceholderSet ? '' : el.get('html');\n        el.empty();\n        var prop = el.getClassStoredValue('xProperty');\n\n        // construct uploader\n        var fileNameContainer = new Element('span', {\n          'class': 'name'\n        }).set('html', currentFile).inject(el);\n        var aNew = new Element('a', {\n          'href': '#'\n        }).set('html', 'choose file').inject(el);\n        var aDelete = new Element('a', {\n          'href': '#'\n        }).set('html', 'delete').inject(el);\n        var fileInput = new Element('input', {\n          'type': 'file'\n        }).inject(el);\n\n        aNew.addEvent('click', function (e) {\n          e.preventDefault();\n          fileInput.click();\n        });\n\n        if (!currentFile) aDelete.setStyle('display', 'none');\n        aDelete.addEvent('click', this.eSup_onImageDeleteClick.bindWithEvent(this));\n\n        var params = [];\n        var paramNames = ['xMinWidth', 'xMinHeight', 'xMaxWidth', 'xMaxHeight'],\n          urlParamNames = ['min_width', 'min_height', 'max_width', 'max_height'],\n          p;\n        for (var i = 0; i < paramNames.length; i++) {\n          p = el.getClassStoredValue(paramNames[i]);\n          if (p) params.push(urlParamNames[i] + '=' + p);\n        }\n        if (this.query.site) {\n          params.push('site=' + this.query.site);\n        }\n\n        params.push('session_id=' + this.options.session_id);\n\n        var allowedExtensions = ['jpg', 'jpeg', 'gif', 'png'];\n\n        if (editorClass == this.options.xBertaEditorClassICO) {\n          allowedExtensions = ['ico'];\n        }\n\n        var xhr = new XMLHttpRequest();\n\n        var updateComplete = function (data) {\n          fileNameContainer.empty();\n          fileNameContainer.set('html', data.value);\n          aDelete.setStyle('display', 'block');\n          el.removeClass('xSaving').addClass('xEditing');\n        };\n\n        xhr.addEventListener('load', function () {\n          var updateAction;\n          var data = JSON.decode(xhr.responseText);\n\n          if (xhr.status == 401) {\n            window.location.href = this.options.paths.engineRoot;\n\n          } else if (data.status > 0) {\n\n            var path = el.dataset.path;\n            var path_arr = [];\n\n            if (path) {\n              path_arr = path.split('/');\n\n              if (path_arr[1] === 'settings') {\n                updateAction = Actions.initUpdateSiteSettings;\n              }\n\n              if (path_arr[1] === 'site_template_settings') {\n                updateAction = Actions.initUpdateSiteTemplateSettings;\n              }\n\n              if (typeof updateAction === 'function') {\n                // @TODO Handle file upload in API endpoint,\n                // currently we are updating only state here\n                // which calls endpoint and saves value again\n                redux_store.dispatch(updateAction(\n                  path,\n                  data.filename,\n                  updateComplete\n                ));\n              } else {\n                console.error('BertaEditorBase.elementEdit_init xBertaEditorClassImage/xBertaEditorClassICO: Undefined updateAction!');\n              }\n            } else {\n              updateComplete({\n                value: data.filename\n              });\n            }\n          } else {\n            alert(data.error);\n          }\n        }.bindWithEvent(this), false);\n\n        xhr.addEventListener('error', function () {\n          el.removeClass('xSaving').addClass('xEditing');\n        }, false);\n\n        fileInput.addEvent('change', function () {\n          var inputFile = $$(fileInput);\n\n          if (inputFile.length) {\n            var formData = new FormData();\n            var fileName = inputFile[0].files[0].name;\n            var fileExtension = fileName.split('.').pop();\n\n            if (allowedExtensions.indexOf(fileExtension) === -1) {\n              alert('Allowed file extensions: ' + allowedExtensions.join(', '));\n              return false;\n            }\n\n            formData.append('Filedata', inputFile[0].files[0], fileName);\n            var url = this.options.paths.engineRoot + 'upload.php?property=' + prop + '&' + params.join('&');\n            el.removeClass('xEditing').addClass('xSaving');\n            xhr.open('POST', url, true);\n            xhr.send(formData);\n          }\n        }.bindWithEvent(this));\n\n        break;\n\n      case this.options.xBertaEditorClassColor:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n\n        if (results = el.get('html').trim().match(/\\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/)) {\n          new Element('SPAN', {\n            'class': 'colorPreview',\n            'styles': {\n              'background-color': results[0]\n            }\n          }).inject(el, 'top');\n        }\n\n        el.addEvent('click', function (event, editor) {\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            this.addClass('xEditing');\n            this.set('old_content', el.get('html'));\n\n            var colorValue = this.get('html').trim();\n\n            if (!editor.mooRainbow)\n              editor.mooRainbow = new MooRainbow(null, {\n                id: 'xMooRainbow',\n                wheel: true,\n                imgPath: '../_lib/moorainbow/images/'\n              });\n            editor.mooRainbow.element = this;\n\n            editor.mooRainbow.removeEvents('change');\n            editor.mooRainbow.removeEvents('complete');\n            editor.mooRainbow.removeEvents('abort');\n            editor.mooRainbow.addEvent('complete', function (color) {\n              editor.elementEdit_save(editor, el, colorValue, colorValue, color.hex, color.hex);\n            });\n            editor.mooRainbow.addEvent('abort', function (color) {\n              editor.elementEdit_save(editor, el, colorValue, colorValue, color.hex, color.hex);\n            });\n\n            editor.mooRainbow.show.delay(10, editor.mooRainbow);\n\n            if (colorValue.match(/\\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/)) {\n              var currentColor = new Color(colorValue, 'RGB');\n              editor.mooRainbow.backupColor = currentColor;\n              editor.mooRainbow.layout.backup.setStyle('background-color', editor.mooRainbow.backupColor.rgbToHex());\n              editor.mooRainbow.manualSet(currentColor);\n            }\n\n            editor.fireEvent(BertaEditorBase.EDITABLE_START, [el, null]);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      case this.options.xEditableRealCheck:\n\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n\n        var value = String(el.get('html'));\n\n        el.empty();\n        var checkEl = new Element('input', {\n          'type': 'button',\n          'class': value == 1 ? 'checked' : '',\n          'value': ''\n        }).inject(el);\n\n        el.addEvent('click', this.eSup_onRealCheckClick.bindWithEvent(this, [el, checkEl]));\n        break;\n\n      case this.options.xBertaEditorClassDragXY:\n        el.store('onElementSave', onElementSave);\n        el.addClass(editorClass.substr(1));\n\n        var xGuideLineX;\n        var xGuideLineY;\n\n        var handleEl = el.getElement('.xHandle')\n        if (!handleEl) {\n          handleEl = new Element('div', {\n            'class': 'xHandle',\n            styles: {\n              left: '0px'\n            }\n          });\n          handleEl.inject(el)\n        }\n\n        el.getElement('.xHandle').addEvents({\n          click: function (event) {\n            event.preventDefault();\n          },\n          mouseenter: function (event) {\n            //create guidelines\n            var winSize = document.getScrollSize();\n\n            xGuideLineX = new Element('div', {\n              'id': 'xGuideLineX',\n              'class': 'xGuideLine',\n              styles: {\n                width: winSize.x + 'px'\n              }\n            });\n            xGuideLineY = new Element('div', {\n              'id': 'xGuideLineY',\n              'class': 'xGuideLine',\n              styles: {\n                height: winSize.y + 'px'\n              }\n            });\n\n            xGuideLineX.inject(document.body);\n            if (document.body.getElement('#contentContainer.xCentered') && el.hasClass('xFixed') == false) {\n              xGuideLineY.inject(document.body.getElement('#contentContainer'));\n            } else if (document.body.getElement('#allContainer.xCentered') && el.hasClass('xFixed') == false) {\n              xGuideLineY.inject(document.body.getElement('#allContainer'));\n            } else {\n              xGuideLineY.inject(document.body);\n            }\n            self.drawGuideLines(el, xGuideLineX, xGuideLineY);\n          },\n          mouseleave: function (event) {\n            xGuideLineX.destroy();\n            xGuideLineY.destroy();\n          }\n        });\n\n        var gridStep = parseInt(bertaGlobalOptions.gridStep);\n        gridStep = isNaN(gridStep) || gridStep < 1 ? 1 : gridStep;\n\n        if ($('pageEntries')) var allEntries = $('pageEntries').getElements('.xEntry.mess');\n\n        var dragAll = false;\n\n        el.makeDraggable({\n          snap: 0,\n          grid: gridStep,\n          handle: el.getElement('.xHandle'),\n          onSnap: function (el) {\n            el.addClass('xEditing');\n            var xCoords = new Element('div', {\n              id: 'xCoords'\n            });\n            el.grab(xCoords, 'top');\n            dragAll = self.shiftPressed && el.hasClass('xEntry');\n            if (dragAll) {\n              el.startTop = parseInt(el.getStyle('top'));\n              el.startLeft = parseInt(el.getStyle('left'));\n\n              i = 0;\n              var entriesStartTop = new Array();\n              var entriesStartLeft = new Array();\n\n              allEntries.each(function (entry) {\n                if (el != entry) {\n                  entriesStartTop[i] = parseInt(entry.getStyle('top'));\n                  entriesStartLeft[i] = parseInt(entry.getStyle('left'));\n                  i++;\n                }\n              });\n\n              el.entriesStartTop = entriesStartTop;\n              el.entriesStartLeft = entriesStartLeft;\n            }\n          },\n          onDrag: function () {\n            if (parseInt(el.getStyle('left')) < 0) {\n              el.setStyle('left', '0');\n            }\n\n            if (el.hasClass('xEntry') && parseInt(el.getStyle('top')) < 20) {\n              el.setStyle('top', '20px');\n            } else if (parseInt(el.getStyle('top')) < 0) {\n              el.setStyle('top', '0');\n            }\n            $('xCoords').set('html', 'X:' + parseInt(el.getStyle('left')) + ' Y:' + parseInt(el.getStyle('top')));\n            self.drawGuideLines(el, xGuideLineX, xGuideLineY);\n\n            if (dragAll) {\n              el.movedTop = parseInt(el.getStyle('top')) - el.startTop;\n              el.movedLeft = parseInt(el.getStyle('left')) - el.startLeft;\n\n              i = 0;\n              allEntries.each(function (entry) {\n                if (el != entry) {\n                  entry.setStyles({\n                    top: el.movedTop + el.entriesStartTop[i] + 'px',\n                    left: el.movedLeft + el.entriesStartLeft[i] + 'px'\n                  });\n                  i++;\n                }\n              });\n            }\n          },\n          onComplete: function (el) {\n            $('xCoords').destroy();\n            el.removeClass('xEditing');\n\n            var editor = this;\n\n            if (typeof (messyMess) == 'object') {\n              messyMess.copyrightStickToBottom();\n            }\n\n            if (dragAll) {\n              allEntries.each(function (entry) {\n                if (this.container.hasClass('xCentered') && (entry.hasClass('xFixed'))) {\n                  var left = parseInt(entry.getStyle('left')) - (window.getSize().x - this.container.getSize().x) / 2;\n                } else {\n                  var left = parseInt(entry.getStyle('left'));\n                }\n                var value = left + ',' + parseInt(entry.getStyle('top'));\n                editor.elementEdit_save(null, entry, null, null, value, value);\n              }.bind(this));\n\n            } else {\n              if (this.container.hasClass('xCentered') && (el.hasClass('xFixed'))) {\n                var left = parseInt(el.getStyle('left')) - (window.getSize().x - this.container.getSize().x) / 2;\n              } else {\n                var left = parseInt(el.getStyle('left'));\n              }\n              var value = left + ',' + parseInt(el.getStyle('top'));\n              this.elementEdit_save(null, el, null, null, value, value);\n\n              editor.fixDragHandlePos();\n            }\n            dragAll = false;\n\n          }.bind(this)\n        });\n        break;\n\n      case this.options.xBertaEditorClassAction:\n        el.store('onActionComplete', onElementSave);\n        el.addClass(editorClass.substr(1));\n        el.addEvent('click', function (event, editor) {\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            var action = this.getClassStoredValue('xCommand');\n            var params = this.getClassStoredValue('xParams');\n            if (action) editor.elementEdit_action(el, action, params);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      case this.options.xBertaEditorClassReset:\n        el.store('onActionComplete', onElementSave);\n        el.addClass(editorClass.substr(1));\n        el.addEvent('click', function (event, editor) {\n          event.stop();\n          if (!this.hasClass('xSaving') && !this.hasClass('xEditing')) {\n            var action = this.getClassStoredValue('xCommand');\n            var params = this.getClassStoredValue('xParams');\n            if (action) editor.elementEdit_reset(el, action, params);\n          }\n        }.bindWithEvent(el, this));\n        break;\n\n      default:\n        break;\n    }\n  },\n\n\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///  Supporting functions for editables  /////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  initEditOwerlay: function (el) {\n    var editButton = new Element('a', {\n      class: 'xEditOwerlay'\n    });\n\n    el.addEvents({\n      mouseenter: function () {\n        if (!el.hasClass('xEditing')) {\n          editButton.style.width = el.getSize().x + 'px';\n          editButton.style.height = el.getSize().y + 'px';\n          editButton.inject(el, 'top');\n        }\n      },\n      mouseleave: function () {\n        editButton.destroy();\n      }\n    });\n  },\n\n\n  drawGuideLines: function (el, xGuideLineX, xGuideLineY) {\n    var x = el.getStyle('top');\n    var y = el.getStyle('left');\n    xGuideLineX.setStyle('top', x);\n    xGuideLineY.setStyle('left', y);\n  },\n\n  eSup_onYesNoClick: function (event) {\n    event.stop();\n    var target = $(event.target);\n    var el = target.getParent();\n    var value = target.getClassStoredValue('xValue');\n\n    this.elementEdit_save(null, el, null, null, value, value);\n  },\n\n  eSup_onRealCheckClick: function (event, el, checkBoxEl) {\n    if (!el.hasClass('xSaving')) {\n      checkBoxEl.toggleClass('checked');\n      var value = checkBoxEl.hasClass('checked') ? '1' : '0';\n\n      if (el.hasClass('xProperty-fixed')) {\n        var entry = el.getParent('.xEntry');\n        if (value == '1') {\n          entry.addClass('xFixed');\n          if (this.container.hasClass('xCentered')) {\n            var left = parseInt(entry.getStyle('left')) + (window.getSize().x - this.container.getSize().x) / 2;\n            entry.setStyle('left', left + 'px');\n          }\n        } else {\n          entry.removeClass('xFixed');\n          if (this.container.hasClass('xCentered')) {\n            var left = parseInt(entry.getStyle('left')) - (window.getSize().x - this.container.getSize().x) / 2;\n            entry.setStyle('left', left + 'px');\n          }\n        }\n      }\n\n      this.elementEdit_save(null, el, null, null, value, value);\n    }\n  },\n\n  eSup_onImageDeleteClick: function (event) {\n    event.stop();\n    var target = $(event.target);\n    var el = target.getParent();\n    var prop = el.getClassStoredValue('xProperty');\n    var data = {\n      property: prop,\n      params: 'delete',\n      value: ''\n    };\n    var path = el.dataset.path;\n    var path_arr = [];\n    var updateAction;\n\n    el.removeClass('xEditing');\n    el.addClass('xSaving');\n\n    if (path) {\n      path_arr = path.split('/');\n\n      if (path_arr[1] === 'settings') {\n        updateAction = Actions.initUpdateSiteSettings;\n      }\n\n      if (path_arr[1] === 'site_template_settings') {\n        updateAction = Actions.initUpdateSiteTemplateSettings;\n      }\n\n      var onComplete = function () {\n        el.getElement('span.name').set('html', '');\n        target.setStyle('display', 'none');\n        el.removeClass('xSaving');\n        el.addClass('xEditing');\n      };\n\n      if (typeof updateAction === 'function') {\n        redux_store.dispatch(updateAction(\n          path,\n          '',\n          onComplete\n        ));\n      } else {\n        console.error('BertaEditorBase.eSup_onImageDeleteClick: Undefined updateAction!');\n      }\n\n    } else {\n      new Request.JSON({\n        url: this.options.updateUrl,\n        data: JSON.stringify(data),\n        urlEncoded: false,\n        onComplete: function (resp, respRaw) {\n          if (resp.error_message)\n            alert(resp.error_message);\n          else {\n            el.getElement('span.name').set('html', '');\n            target.setStyle('display', 'none');\n          }\n          el.removeClass('xSaving');\n          el.addClass('xEditing');\n        },\n        /* Called when on JSON conversion error:\n         * Will use this as error handler for now, because server only returns non-JSON on exception */\n        onError: function (responseBody) {\n          console.error(responseBody);\n        },\n      }).post();\n    }\n  },\n\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///|  Saving edited element  |////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  findEditByReplacement: function (replacementElement) {\n    var editToReturn;\n    replacementElement = $(replacementElement);\n    this.elementEdit_instances.each(function (edit) {\n      if (edit.inputBox == replacementElement) {\n        editToReturn = edit;\n      }\n    });\n    return editToReturn;\n  },\n\n  elementEdit_save: function (elEditor, el, oldContent, oldContentText, newContent, newContentText) {\n    var args = arguments;\n    var params = ['elEditor', 'el', 'oldContent', 'oldContentText', 'newContent', 'newContentText'];\n\n    if (oldContent == newContent && !el.hasClass('xBgColor')) {\n      var content = oldContent;\n      if (content.test('^([\\s\\xA0]|\\&nbsp\\;)+$')) content = ''; // empty, if contains only rubbish (\\xA0 == &nbsp;)\n      if (content) {\n        el.set('html', el.get('old_content') ? el.get('old_content') : oldContentText);\n      } else {\n        this.makePlaceholder(el);\n      }\n      el.removeClass('xEditing');\n\n    } else if (oldContent != newContent || el.hasClass('xBgColor')) {\n      var property = el.getClassStoredValue('xProperty');\n      var useCSSUnits = el.getClassStoredValue('xCSSUnits') > 0;\n      var xUnits = el.getClassStoredValue('xUnits');\n      var isToPrice = el.getClassStoredValue('xFormatModifier') == 'toPrice';\n      var isCartAttributes = property == 'cartAttributes';\n      var noHTMLEntities = el.hasClass('xNoHTMLEntities');\n      var isLink = el.hasClass('xLink');\n      var editorParams = el.getClassStoredValue('xParam');\n      var entryInfo = this.getEntryInfoForElement(el);\n      if (entryInfo.section == '') entryInfo.section = this.sectionName;\n\n      // px/em/pt value validator\n      if (el.hasClass(this.options.xBertaEditorClassSimple.substr(1)) || el.hasClass(this.options.xBertaEditorClassRC.substr(1))) {\n        if (/(\\spx|\\spt|\\sem)$/i.test(newContent)) {\n          newContent = newContent.replace(/(\\spx|\\spt|\\sem)$/i, newContent.substr(-2));\n          newContentText = newContent;\n        }\n      }\n\n      // check if new content is not empty and revert it to default value, if specified\n      if (!el.hasClass(this.options.xBertaEditorClassYesNo.substr(1)) && (!newContent || newContent.test('^([\\s\\xA0]|\\&nbsp\\;)+$'))) {\n        var isRequired = el.getClassStoredValue('xRequired');\n        newContent = newContentText = isRequired ? el.get('title') : '';\n        el.set('html', newContentText);\n      }\n\n      newContent = newContent ? newContent.trim() : '';\n      if (noHTMLEntities && elEditor && elEditor.removeHTMLEntities) newContent = elEditor.removeHTMLEntities(newContent);\n      //console.debug(newContent, parseInt(newContent), newContent == parseInt(newContent));\n      if (newContent == parseInt(newContent) && useCSSUnits) {\n        if (!newContent || newContent == '0')\n          newContent = '0';\n        else {\n          newContent = String(newContent) + 'px';\n        }\n      }\n\n      //for integer numbers with custom units\n      if (xUnits && xUnits.length) {\n        newContent = parseInt(newContent);\n        newContent = newContent ? newContent : 0;\n        newContent = String(newContent) + xUnits;\n      }\n\n      //create prefix for links\n      if (isLink) {\n        if (newContent.length && newContent.search(':') < 0) {\n          newContent = 'http://' + newContent;\n        }\n      }\n\n      if (isToPrice) {\n        //add \"add to cart\" button\n        var aele = el.getNext('.aele');\n        var cartAttributes = el.getNext('.cartAttributes');\n        if (aele) {\n          newContent = parseFloat(newContent);\n\n          if (newContent) {\n            aele.removeClass('hidden');\n            cartAttributes.removeClass('hidden');\n          } else {\n            aele.addClass('hidden');\n            cartAttributes.addClass('hidden');\n          }\n        }\n      }\n\n      if (isCartAttributes) {\n\n        var cartAttributes = el.getParent('.xEntry').getElement('.cartAttributes');\n        var cartPrice = el.getParent('.xEntry').getElement('.cartPrice').get('text');\n        var values = newContent.split(',');\n        var isList = !(values.length == 1 && values[0] == '');\n\n        cartAttributes.set('text', '').addClass('hidden');\n\n        //generate select box on the fly - is price is > 0\n        if (isList) {\n          var selectBox = new Element('select', {\n            class: 'cart_attributes'\n          });\n          for (var i = 0; i < values.length; i++) {\n            var val = values[i].trim();\n            val = this.unescapeHtml(val);\n            var selectBoxOption = new Element('option', {\n              value: val\n            });\n            selectBoxOption.set('text', val);\n            selectBoxOption.inject(selectBox);\n          };\n          selectBox.inject(cartAttributes);\n          if (parseInt(cartPrice) > 0) {\n            cartAttributes.removeClass('hidden');\n          }\n        }\n\n      }\n\n      if (el.hasClass('xProperty-width')) {\n        var entry = el.getParent('.xEntry');\n        if (newContent.length) {\n          entry.setStyle('width', newContent);\n        } else {\n          entry.setStyle('width', null);\n        }\n      }\n\n      // SAVE\n      el.removeClass('xEditing');\n      el.addClass('xSaving');\n\n      // Get action for Gallery type, Autoplay, Full screen & Image size\n      var action = el.getClassStoredValue('xCommand');\n      if (action) {\n        if (action == 'SET_BG_CAPTION_BACK_COLOR') {\n          editorParams = newContentText.hexToRgb(true).join(',');\n        } else {\n          editorParams = this.escapeForJSON(newContentText);\n        };\n      }\n\n      var path = el.dataset.path;\n      var path_arr = [];\n      var prop;\n      var value = newContent ? this.escapeForJSON(newContent) : null;\n      var callback = this.onElementEditComplete(elEditor, el, newContent, newContentText);\n      var updateAction;\n\n      if (path) {\n        var new_callback = callback;\n        path_arr = path.split('/');\n\n        if (path_arr[0] === 'site') {\n          prop = path_arr[2];\n          if (prop === 'name') {\n            updateAction = Actions.renameSite;\n          } else {\n            updateAction = Actions.initUpdateSite;\n          }\n        }\n\n        if (path_arr[1] === 'settings') {\n          updateAction = Actions.initUpdateSiteSettings;\n        }\n\n        if (path_arr[1] === 'site_template_settings') {\n          updateAction = Actions.initUpdateSiteTemplateSettings;\n        }\n\n        if (path_arr[1] === 'section') {\n          prop = path_arr.pop();\n\n          if (prop === 'title') {\n            updateAction = Actions.initRenameSiteSection;\n          } else {\n            updateAction = Actions.initUpdateSiteSection;\n          }\n\n          if (prop === 'type') {\n            new_callback = function (resp, respRaw) {\n              var site = getCurrentSite();\n              var state = redux_store.getState();\n              var template = state.siteSettings.toJSON()[site].template.template;\n              var sectionTypes = state.siteTemplates\n                .toJSON()[template]\n                .sectionTypes;\n              var type = resp.section['@attributes'].type ? resp.section['@attributes'].type : 'default';\n              var type_params = sectionTypes[type] ? sectionTypes[type].params : sectionTypes['default'].params;\n\n              resp['params'] = this.getTypeHTML(\n                site,\n                resp.order,\n                resp.section,\n                state.siteTemplateSettings.toJSON()[site][template],\n                type_params,\n                'xSection-' + resp.section['name'] + ' xSectionField'\n              );\n\n              callback(resp, respRaw);\n              // @@@:HACK: Original shit in the above callback doesn't work :(\n              var detailsElement = el.getParent('li').getElement('.csDetails');\n              detailsElement.empty();\n              detailsElement.set('html', resp['params']);\n              this.editablesInit(detailsElement);\n            }.bind(this);\n          }\n        }\n\n        if (path_arr[1] === 'entry') {\n          updateAction = Actions.initUpdateSectionEntry;\n        }\n\n        if (typeof updateAction === 'function') {\n          redux_store.dispatch(updateAction(\n            path,\n            value,\n            new_callback\n          ));\n        } else {\n          console.error('BertaEditorBase.elementEdit_save: Undefined updateAction!');\n        }\n      } else {\n        var data = {\n          site: entryInfo.site,\n          section: entryInfo.section,\n          entry: entryInfo.entryId,\n          property: property,\n          params: editorParams,\n          value: value,\n          action: action,\n          before: this.escapeForJSON(el.get('old_content') ? el.get('old_content') : oldContent),\n          before_real: this.escapeForJSON(el.get('title') ? el.get('title') : oldContent),\n          format_modifier: el.getClassStoredValue('xFormatModifier')\n          /*use_css_units: useCSSUnits*/\n        };\n        // @@@:TODO: Remove this when migration to redux is done\n        new Request.JSON({\n          url: this.options.updateUrl,\n          data: JSON.stringify(data),\n          urlEncoded: false,\n          /* Called when on JSON conversion error:\n             Will use this as error handler for now, because server only returns non-JSON on exception */\n          onError: function (responseBody) {\n            console.error(responseBody);\n          },\n          onComplete: callback\n        }).post();\n      }\n    }\n  },\n\n  onElementEditComplete: function (elEditor, el, newContent, newContentText) {\n    return function (resp, respRaw) {\n      var elIsStillInDOM = el ? el.exists() : false;\n\n      // perform any element updates only if the element is still in DOM\n      // otherwise the update is not necessary\n      if (elIsStillInDOM) {\n        switch (true) {\n\n          case !resp.update:\n            // update with the placeholder\n            this.makePlaceholder(el);\n            break;\n\n          case el.hasClass(this.options.xBertaEditorClassYesNo.substr(1)):\n            el.getElements('a').removeClass('active');\n            el.getElement('a.xValue-' + resp.update).addClass('active');\n            break;\n\n          case el.hasClass(this.options.xBertaEditorClassColor.substr(1)):\n            // for color select we need to inject the color block\n            el.set('html', resp.update);\n            new Element('SPAN', {\n              'class': 'colorPreview',\n              'styles': {\n                'background-color': resp.update\n              }\n            }).inject(el, 'top');\n\n            break;\n\n          case el.hasClass(this.options.xBertaEditorClassSelectRC.substr(1)):\n          case el.hasClass(this.options.xBertaEditorClassFontSelect.substr(1)):\n            var editInitializer = this.elementEdit_instances[this.elementEdit_instances.length - 1].editting,\n              oldValue;\n            if (editInitializer.hasClass('xEntrySlideNumberVisibility')) {\n              if (resp.update == 'no') oldValue = 'yes';\n              else oldValue = 'no';\n\n              editInitializer.getParent('.xGalleryContainer').removeClass('xSlideNumbersVisible-' + oldValue).addClass('xSlideNumbersVisible-' + resp.update);\n            }\n\n            // for the RC selects we check:\n            // 1) either the returned update equals the newly set content, which means that the saving was successful\n            if (resp.update == newContent) {\n              el.set('html', newContentText);\n\n              // 2) the returned update differs from the newly set content\n              //      => look for the returned \"real\" value in the select's options\n            } else {\n              var curOption;\n              newContentText = false;\n              for (var i = 0; i < this.options.selectOptions.length; i++) {\n                curOption = this.options.selectOptions[i].split('|');\n                if (curOption[0] == resp.real) {\n                  resp.update = curOption[1];\n                  break;\n                }\n              }\n              el.set('html', resp.update);\n            }\n\n            if (el.hasClass('xEntrySetGalType')) {\n              $$('.galleryTypeSettings').addClass('xHidden');\n            }\n\n            if (newContentText == 'slideshow') {\n              el.getSiblings('.xEntrySlideshowSettings').removeClass('xHidden');\n            }\n            if (newContentText == 'row') {\n              el.getSiblings('.xEntryRowSettings').removeClass('xHidden');\n            }\n            if (newContentText == 'link') {\n              el.getSiblings('.xEntryLinkSettings').removeClass('xHidden');\n            }\n            break;\n\n\n          case el.hasClass(this.options.xBertaEditorClassRC.substr(1)):\n            // for simple RC textfields we additionally set the real_content property\n            if ((el.hasClass('xEntryAutoPlay') || el.hasClass('xBgAutoPlay')) && !(/^\\d+$/.test(newContentText))) {\n              el.set('title', 0);\n              el.set('text', 0);\n            } else if (el.hasClass('xEntryLinkAddress') && !newContentText) {\n              el.set('title', 'http://');\n              el.set('html', 'http://');\n            } else {\n              el.set('title', elEditor.removeHTMLEntities(resp.real));\n              el.set('html', resp.update);\n            }\n            break;\n\n          default:\n            // for all other cases just update the HTML, if the editor instance is present\n            // (editor instance is not present, for instance, in real input fields (checkbox, etc..))\n            if (elEditor) {\n              el.empty();\n              el.set('html', resp.update);\n            }\n\n        }\n\n        if (resp.error_message) alert(resp.error_message);\n\n        el.removeClass('xSaving');\n        el.removeClass('xEditing');\n        el.removeProperty('old_content');\n\n        try {\n          this.setWmodeTransparent();\n        } catch (e) {}\n      }\n\n      // if there is a stored onSave event, execute it\n      var onSave = el.retrieve('onElementSave');\n      if (onSave) onSave(el, resp.update, resp.real, resp.error_message, resp.params);\n      this.fireEvent(BertaEditorBase.EDITABLE_FINISH, [el]);\n\n      //correct footer position\n      if (typeof (messyMess) == 'object') {\n        messyMess.copyrightStickToBottom();\n      }\n    }.bind(this);\n  },\n\n  elementEdit_action: function (el, action, params) {\n    el.addClass('xSaving');\n    var entryInfo = this.getEntryInfoForElement(el);\n    if (entryInfo.section == '') entryInfo.section = this.sectionName;\n    var data = {\n      section: entryInfo.section,\n      entry: entryInfo.entryId,\n      action: action,\n      property: null,\n      value: null,\n      params: params\n    };\n\n    new Request.JSON({\n      url: this.options.updateUrl,\n      data: JSON.stringify(data),\n      urlEncoded: false,\n      onComplete: function (resp) {\n        if (!resp) {\n          alert('server produced an error while performing the requested action! something went sooooo wrong...');\n        } else if (resp && !resp.error_message) {} else {\n          alert(resp.error_message);\n        }\n        if (el) {\n          el.removeClass.delay(500, el, 'xSaving');\n          var onComplete = el.retrieve('onActionComplete');\n          if (onComplete) onComplete(el, action, params, resp);\n        }\n      }.bind(this),\n      /* Called when on JSON conversion error:\n       * Will use this as error handler for now, because server only returns non-JSON on exception */\n      onError: function (responseBody) {\n        console.error(responseBody);\n      },\n    }).post();\n  },\n\n\n\n  elementEdit_reset: function (el, action, params) {\n    if (el.hasClass('xBgColorReset') && confirm('Berta asks:\\n\\nAre you sure you want to remove this color?')) {\n      el.addClass('xSaving');\n      var entryInfo = this.getEntryInfoForElement(el);\n      if (entryInfo.section == '') entryInfo.section = this.sectionName;\n\n      var path = el.dataset.path;\n\n      redux_store.dispatch(Actions.resetSiteSection(\n        path,\n        function (resp) {\n          if (!resp) {\n            alert('server produced an error while performing the requested action! something went sooooo wrong...');\n          } else if (resp && !resp.error_message) {} else {\n            alert(resp.error_message);\n          }\n          if (el) {\n            el.removeClass.delay(500, el, 'xSaving');\n            elem = el.getSiblings('.xCommand-' + params);\n            if (elem.length == 0) elem = el.getSiblings('.xProperty-' + params);\n            elem.each(function (item) {\n              item.set('title', '#ffffff').set('text', 'none');\n            });\n          }\n        }.bind(this)\n      ));\n    }\n  },\n\n\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///  tinyMCE  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n  tinyMCE_onSave: function (mceInstance) {\n    if (mceInstance) {\n      var tAElement = mceInstance.getElement();\n      mceInstance.remove();\n      tAElement.setStyle('visibility', 'hidden');\n\n      var elInlineEdit = this.findEditByReplacement(tAElement);\n      elInlineEdit.onSave.delay(100, elInlineEdit);\n    }\n  },\n\n  tinyMCE_ConfigurationsInit: function () {\n    this.tinyMCESettings.Base = new Class({\n      Implements: Options,\n      options: {\n        license_key: 'gpl',\n        promotion: false,\n        branding: false,\n        menubar: false,\n        plugins: 'save code table lists link',\n        toolbar: 'save undo redo bold italic forecolor backcolor bullist numlist link unlink code | fontsize blocks alignleft aligncenter alignright alignjustify outdent indent table removeformat',\n        width: '563px',\n        height: '300',\n        save_enablewhendirty: false,\n        save_onsavecallback: this.tinyMCE_onSave.bind(this),\n        valid_elements: 'iframe[*],object[*],embed[*],param[*],form[*],input[*],textarea[*],select[*],option[*],' +\n          'p[class|style|id],b[class],i[class],strong[class],em[class],a[*],br[*],u[class],sup[*],sub[*],' +\n          'ul[*],li,ol[*],img[*],hr[class],h2[class|style|id],h3[class|style|id],div[*],blockquote[*],table[*],thead[*],tbody[*],tr[*],td[*],span[*],ins[*],blockquote[*],time[*],' +\n          'audio[*],source[*]',\n        block_formats: 'Paragraph=p;  Heading 2=h2; Heading 3=h3',\n        convert_urls: false,\n        relative_urls: false,\n      },\n      initialize: function (options) {\n        this.setOptions(options);\n      }\n    });\n\n    this.tinyMCESettings.full = new this.tinyMCESettings.Base();\n    this.tinyMCESettings.simple = new this.tinyMCESettings.Base({\n      valid_elements: 'p[*],b,i,strong,em,a[*],br[*],u,img[*],div[*],blockquote[*],iframe[*],span[*],ins[*],sup[*],sub[*]',\n      width: '100%',\n      plugins: 'save link code',\n      toolbar: 'save bold italic link unlink removeformat code',\n    });\n  },\n\n\n\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///  Utilities  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n  unescapeHtml: function (str) {\n    var temp = document.createElement('div');\n    temp.innerHTML = str;\n    var result = temp.childNodes[0].nodeValue;\n    temp.removeChild(temp.firstChild);\n    return result;\n  },\n\n  getEmptyPlaceholder: function (property, caption) {\n    if (caption)\n      property = caption.replace(/\\+/g, ' ');\n    else {\n      property = property.split('/');\n      property = property[property.length - 1];\n    }\n    return new Element('span', {\n      'class': this.options.xEmptyClass.substr(1),\n      'html': '&nbsp;' + property + '&nbsp;'\n    });\n  },\n\n  makePlaceholder: function (el) {\n    var property = el.getClassStoredValue('xProperty');\n    var caption = el.getClassStoredValue('xCaption');\n    el.empty();\n    this.getEmptyPlaceholder(property, caption).inject(el);\n    return true;\n  },\n\n  makePlaceholderIfEmpty: function (el) {\n    if (el.get('html').trim() == '')\n      return this.makePlaceholder(el);\n    return false;\n  },\n\n  makeEmptyIfEmpty: function (el) {\n    if (el.inlineIsEmpty()) el.innerHTML = '';\n  },\n\n  escapeForJSON: function (str) {\n    // Replace &quot: xBertaEditorClassSimple editor reads value from element html instead of text\n    return String(str).replace(/\\&quot;/g, '\"');\n  },\n\n  getEntryInfoForElement: function (el) {\n    var retObj = {};\n\n    retObj.site = el.getClassStoredValue('xSite');\n\n    retObj.entryObj = el.getClassStoredValue('xEntryId') ? el : el.getParent('.xEntry');\n    retObj.listObj = el.getClassStoredValue('xSection') ? el : el.getParent('.xEntriesList');\n\n    // get entryId and entryNum from the entryObj\n    retObj.entryId = retObj.entryObj ? retObj.entryObj.getClassStoredValue('xEntryId') : '';\n    retObj.entryNum = retObj.entryObj ? retObj.entryObj.getClassStoredValue('xEntryNum') : '';\n\n    // try to get section from entryObj, and if not successful  then from listObj\n    retObj.section = retObj.entryObj ? retObj.entryObj.getClassStoredValue('xSection') : '';\n    if (!retObj.section)\n      retObj.section = retObj.listObj ? retObj.listObj.getClassStoredValue('xSection') : '';\n\n    return retObj;\n  },\n\n  getSectionNameForElement: function (el) {\n    var retString;\n\n    retString = el.getClassStoredValue('xSection') ? el.getClassStoredValue('xSection') : null;\n\n    return retString;\n  },\n\n  getTypeHTML: function (site, order, section, settings, type_params, params) {\n    var basePath = site + '/section/' + order + '/';\n    var html = '';\n\n    if (type_params) {\n      //remove responsive section settings if needed\n      var isResponsive = settings['pageLayout'] && settings['pageLayout']['responsive'] && settings['pageLayout']['responsive'] === 'yes';\n\n      if (!isResponsive) {\n        if (type_params.columns) {\n          delete type_params.columns;\n        }\n        if (type_params.entryMaxWidth) {\n          delete type_params.entryMaxWidth;\n        }\n        if (type_params.entryPadding) {\n          delete type_params.entryPadding;\n        }\n      }\n\n      params = Object.getOwnPropertyNames(type_params);\n      params.forEach(function (param_name) {\n        var param = type_params[param_name];\n        var values = [];\n        var ctx = {\n          html_before: param.html_before ? param.html_before : '',\n          format: formats[param.format] ? formats[param.format] : '',\n          property: param_name,\n          html_entities: param.html_entities ? '' : 'xNoHTMLEntities',\n          css_units: param.css_units ? '1' : '0',\n          link: param.link ? 'xLink' : '',\n          allow_blank: 'xRequired-' + (param.allow_blank ? '0' : '1'),\n          validation: param.validator ? ('xValidator-' + param.validator) : '',\n          additional_params: params ? params : '',\n          title: escapeHTML(param.default),\n          path: basePath + param_name,\n          x_options: '',\n          value: section[param_name] ? section[param_name] : '',\n          html_after: param.html_after ? param.html_after : ''\n        };\n\n        ctx.value = (!ctx.value &&\n          param &&\n          param.default) ? param.default : ctx.value;\n\n        if (param.format === 'select' || param.format === 'fontselect') {\n          if (param.values === 'templates') {\n            values = getAllTemplates();\n          } else {\n            if (!Array.isArray(param.values)) {\n\n              Object.getOwnPropertyNames(param.values).forEach(function (value_name) {\n                values.push(value_name + '|' + param.values[value_name]);\n\n                if (ctx.value === value_name) {\n                  ctx.value = param.values[value_name];\n                }\n              });\n            } else {\n              values = param.values;\n\n              if (values[ctx.value] && !(parseInt(ctx.value, 10) > 0)) {\n                ctx.value = values[ctx.value];\n              }\n            }\n          }\n\n          ctx.x_options = escapeHTML(values.join('||'));\n        }\n\n        html += Templates.get('type_params', Object.assign({}, editables, ctx));\n      });\n    }\n\n    return html;\n  }\n});\n\nBertaEditorBase.EDITABLE_START = 'editable_start';\nBertaEditorBase.EDITABLE_FINISH = 'editable_finish';\n","var inlineEdit = new Class({\n  getOptions: function () {\n    return {\n      onComplete: function (el, oldContent, newContent) {},\n      type: 'input',\n      subtype: '', // 'font' for font selector (type = 'select')\n      WYSIWYGSettings: 0,\n      selectOptions: new Array(),\n      dontHideOnBlur: false\n    };\n  },\n\n  addHTMLEntities: function (str) {\n    var s = [new RegExp(\"&\", \"g\"), new RegExp('\"', \"g\"), new RegExp(\"<\", \"g\"), new RegExp(\">\", \"g\")];\n    var r = ['&amp;', '&quot;', '&lt;', '&gt;'];\n    for (var i = 0; i < s.length; i++) {\n      str = str.replace(s[i], r[i]);\n    }\n    return str;\n  },\n\n  removeHTMLEntities: function (str) {\n    var ta = new Element(\"textarea\");\n    ta.set('html', str.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\"));\n    var returnValue = ta.value;\n    ta.destroy();\n    return returnValue;\n  },\n\n  initialize: function (element, options) {\n    this.setOptions(this.getOptions(), options);\n    if (!element.innerHTML.toLowerCase().match('<' + this.options.type)) {\n      this.editting = element;\n\n      // get element's content\n      this.oldContent = this.oldContentText = element.innerHTML;\n      var content = this.oldContent.trim();\n      if (!this.options.WYSIWYGSettings) {\n        content = content.replace(new RegExp(\"<br.*?/?>\", \"gi\"), \"\\n\");\n        content = this.removeHTMLEntities(content);\n      }\n\n      var inputBoxId = '_replacement' + $random(0, 9999) + $random(0, 9999) + $random(0, 9999);\n\n      // create the replacement element and set it's value\n      this.inputBox = new Element(this.options.type, {\n        id: inputBoxId,\n        value: content\n      }).setStyles({\n        'margin': '-3px -4px -3px -4px',\n        'border-width': '1px',\n        'padding': '2px',\n        'width': '80%',\n        'font-size': '100%'\n      });\n\n      //set height for longtext - textarea\n      if (this.options.type == 'textarea') {\n        var height = element.getSize().y;\n        this.inputBox.setStyles({\n          'height': height + 'px'\n        });\n      }\n\n      if (!this.inputBox.value) {\n        try {\n          this.inputBox.set('html', content);\n        } catch (e) {}\n      }\n      this.setAllStyles(element, this.inputBox);\n\n      // for selects create options and select the right one\n      var curOption;\n      if (this.options.type == 'select') {\n        for (var i = 0; i < this.options.selectOptions.length; i++) {\n          curOption = this.options.selectOptions[i].split('|');\n          if (curOption.length == 1) curOption[1] = this.options.selectOptions[i];\n\n          new Element('option', {\n              'style': this.options.subtype == 'font' ? ('font-family: ' + curOption[0] + '; font-size: 16px') : ''\n            })\n            .setProperty('value', curOption[0])\n            .setProperty('value_title', curOption[1])\n            .setProperty('selected', (this.options.subtype == 'rc' || this.options.subtype == 'font') ? (curOption[1] == this.oldContentText) : (curOption[0] == this.oldContent))\n            .set('html', curOption[1])\n            .injectInside(this.inputBox);\n\n          // for RC selects we have to save the current selected value because the editable element contains text which is not the real value\n          if ((this.options.subtype == 'rc' || this.options.subtype == 'font') && curOption[1] == this.oldContentText) this.oldContent = curOption[0]\n        }\n      }\n\n      // inject the replacement into the DOM and give it focus\n      this.editting.set('html', '');\n      this.inputBox.injectInside(this.editting);\n      (function () {\n        try {\n          this.inputBox.focus();\n        } catch (e) {}\n        if (this.inputBox.select) this.inputBox.select();\n      }.bind(this)).delay(300);\n\n      if (this.options.WYSIWYGSettings) {\n        var WYSIWYGSettings = this;\n        var ed = new tinymce.Editor(inputBoxId, this.options.WYSIWYGSettings, tinymce.EditorManager);\n        tinymce.EditorManager.add(ed);\n        ed.render();\n\n        // update editor height - this is needed, if desired height is below 100.\n        // tinymce wouldn't allow heights smaller than 100\n        (function () {\n          var e = $(ed.id + '_tbl'),\n            ifr = $(ed.id + '_ifr');\n          if (e) {\n            e.setStyle('height', WYSIWYGSettings.options.WYSIWYGSettings.height);\n            ifr.setStyle('height', WYSIWYGSettings.options.WYSIWYGSettings.height);\n          }\n\n          // set styles for the tinymce body element\n          WYSIWYGSettings.setAllStylesMCE(element, ed);\n\n          //correct footer position\n          if (typeof (messyMess) == 'object') {\n            messyMess.copyrightStickToBottom();\n          }\n        }).delay(1000);\n\n      } else {\n        // add events\n        this.inputBox.addEvent('change', this.onSave.bind(this));\n        if (!this.options.dontHideOnBlur) this.inputBox.addEvent('blur', this.onSave.bind(this));\n      }\n    }\n  },\n\n  onSave: function () {\n    this.entryUnHover(this.editting);\n\n    this.inputBox.removeEvents();\n\n    this.newContent = this.options.WYSIWYGSettings ?\n      this.inputBox.get('value').trim() :\n      this.addHTMLEntities(this.inputBox.get('value').trim()).replace(new RegExp(\"\\n\", \"gi\"), \"<br />\");\n\n    this.newContentText = this.newContent;\n    if (this.options.type == 'select' && this.options.subtype == 'rc' || this.options.subtype == 'font') {\n\n      this.newContentText = this.inputBox.getSelected().get('text');\n\n      if (this.newContentText instanceof Array) {\n        this.newContentText = this.newContentText[0];\n      }\n\n      this.editting.set('html', this.newContentText);\n    } else {\n      this.editting.set('html', this.newContent);\n    }\n\n    this.fireEvent('onComplete', [this, this.editting, this.oldContent, this.oldContentText, this.newContent, this.newContentText]);\n  },\n\n  entryUnHover: function (el) {\n    var pathParts = el.data('path').split('/');\n    var isEntryTagField = pathParts.length === 6 && pathParts.slice(1)[0] === 'entry' && pathParts.slice(-1)[0] === 'tag';\n\n    if (!isEntryTagField) {\n      return;\n    }\n\n    var xEntryEl = el.getParent('.xEntry');\n\n    if (xEntryEl.getAttribute('data-hover') === 'off') {\n      xEntryEl.removeClass('xEntryHover');\n    }\n  },\n\n  setAllStyles: function (prevel, el) {\n    var stylesToCopy = ['font-family', 'font-weight', 'font-style', 'text-transform', 'line-height', 'letter-spacing', 'font', 'color'];\n    for (var i = 0; i < stylesToCopy.length; i++) {\n      if (prevel.getStyle(stylesToCopy[i])) el.setStyle(stylesToCopy[i], prevel.getStyle(stylesToCopy[i]));\n    }\n\n  }, \n\n  setAllStylesMCE: function (prevel, mceEditor) {\n    var stylesToCopy = ['font-size', 'font-family', 'font-weight', 'font-style', 'text-transform', 'line-height', 'letter-spacing', 'font', 'color'];\n    var s, b = mceEditor.dom.select('body');\n    for (var i = 0; i < stylesToCopy.length; i++) {\n      s = prevel.getStyle(stylesToCopy[i]);\n      if (s) mceEditor.dom.setStyle(b, stylesToCopy[i], s);\n    }\n  }\n});\n\n\nElement.implement({\n  inlineEdit: function (options) {\n    return new inlineEdit(this, options);\n  },\n  inlineIsEmpty: function () {\n    return this.innerHTML.indexOf('<span class=\"xEmpty\">') == 0;\n  }\n});\n\ninlineEdit.implement(new Events);\ninlineEdit.implement(new Options);\n","var BertaEditor = new Class({\n  Extends: BertaEditorBase,\n  Implements: [Options, UnlinearProcessDispatcher, Events],\n\n  options: {\n    paths: null,\n  },\n\n  /* editing related variables */\n  edittingMode: \"entries\",\n  galleries: new Array(),\n  processHandler: null, // an instance of UnlinearProcessHandler\n\n  /* DOM elements */\n  entriesList: null, // the OL element thad contains the entries\n  portfolioThumbnails: null,\n  subMenu: null,\n\n  /* variables containing information */\n  currentSection: null, // the name of the section opened\n  currentTag: null, // the name of the tag selected\n\n  /* old */\n  submenuSortables: new Array(),\n  orderSortables: null,\n  tagsMenu: null,\n  mooRainbow: null,\n  /* old */\n\n  initialize: function (options) {\n    this.setOptions(options);\n    this.initConsoleReplacement();\n    this.tinyMCE_ConfigurationsInit();\n\n    this.processHandler = new UnlinearProcessHandler();\n    this.processHandler.addObservable(this);\n    this.processHandler.test = \"aaa\";\n\n    [\"sitesMenuRerendered\", \"sectionsMenuRerendered\"].forEach(\n      function (e) {\n        window.addEventListener(e, this.onDOMReadyDo.bindWithEvent(this));\n      }.bindWithEvent(this)\n    );\n\n    window.addEventListener(\"addEntry\", this.onAddEntry.bindWithEvent(this));\n\n    window.addEvent(\"domready\", this.onDOMReady.bindWithEvent(this));\n    window.addEvent(\"load\", this.onLoad.bindWithEvent(this));\n  },\n\n  onAddEntry: function () {\n    // after adding entry sync state\n    window.redux_store.dispatch(Actions.getState(window.getCurrentSite()));\n    this.onDOMReadyDo();\n  },\n\n  onDOMReady: function () {\n    // delay onDOMReady processing to allow all elements on page properly initialize\n    this.onDOMReadyDo.delay(1000, this);\n  },\n\n  onDOMReadyDo: function () {\n    this.edittingMode = $$(\"body\")[0].get(\"x_mode\");\n    if (!this.edittingMode) this.edittingMode = \"entries\";\n\n    //set wmode to transparent\n    this.setWmodeTransparent();\n\n    switch (this.edittingMode) {\n      case \"multipage\":\n        break;\n\n      case \"settings\":\n        this.editablesInit();\n\n        // Finish berta install button\n        $(\"xFinishInstall\").addEvent(\"click\", function (e) {\n          var path = e.target.data(\"data-path\");\n\n          redux_store.dispatch(\n            Actions.initUpdateSiteSettings(path, 1, function () {\n              window.location.reload();\n            })\n          );\n        });\n\n        // action links\n        $$(this.options.xActionClass).each(function (el) {\n          this.elementEdit_init(el, this.options.xBertaEditorClassAction);\n        }, this);\n\n        break;\n\n      case \"entries\":\n      default:\n        this.container = document.getElementById(\"contentContainer\");\n        this.entriesList = $$(\".xEntriesList\")[0];\n        this.portfolioThumbnails = $$(\".portfolioThumbnails\");\n\n        // section background editing\n        if ($(\"xBgEditorPanelTrig\"))\n          $(\"xBgEditorPanelTrig\").addEvent(\n            \"click\",\n            this.onBgEditClick.bindWithEvent(this)\n          );\n\n        if (this.entriesList) {\n          this.currentSection =\n            this.entriesList.getClassStoredValue(\"xSection\");\n          this.currentTag = this.entriesList.getClassStoredValue(\"xTag\");\n\n          if (this.currentSection) {\n            this.entriesList\n              .getElements(\".xEntry .xEntryEditWrap\")\n              .addEvent(\"mouseenter\", this.entryOnHover.bindWithEvent(this));\n            this.entriesList\n              .getElements(\".xEntry .xEntryEditWrap\")\n              .addEvent(\"mouseleave\", this.entryOnUnHover.bindWithEvent(this));\n\n            this.entriesList\n              .getElements(\".xEntry .xEntryDropdown\")\n              .addEvent(\n                \"mouseenter\",\n                this.entryDropdownToggle.bindWithEvent(this)\n              );\n            this.entriesList\n              .getElements(\".xEntry .xEntryDropdown\")\n              .addEvent(\"click\", this.entryDropdownToggle.bindWithEvent(this));\n\n            this.submenuSortingInit();\n\n            this.entriesList\n              .getElements(\".xEntry .xEntryDropdownBox\")\n              .addEvents({\n                mouseleave: function (event) {\n                  this.removeClass(\"xVisible\");\n                  dropdown = this.getParent().getElement(\".xEntryDropdown\");\n                  dropdown.removeClass(\"xEntryDropdowHover\");\n                },\n              });\n\n            // entry deleting and creating\n            if (\n              this.options.templateName.substr(0, 5) != \"messy\" &&\n              this.options.sectionType != \"portfolio\"\n            )\n              createNewEntryText = this.options.i18n[\"create new entry here\"];\n            else createNewEntryText = this.options.i18n[\"create new entry\"];\n            new Element(\"A\", {\n              class: \"xCreateNewEntry xPanel xAction-entryCreateNew\",\n              href: \"#\",\n            })\n              .adopt(\n                new Element(\"span\", {\n                  html: createNewEntryText,\n                })\n              )\n              .inject(this.entriesList, \"after\");\n            $$(\".xEntryDelete\").addEvent(\n              \"click\",\n              this.entryDelete.bindWithEvent(this)\n            );\n            $$(\".xCreateNewEntry\").addEvent(\n              \"click\",\n              this.entryCreate.bindWithEvent(this)\n            );\n\n            if (this.options.templateName.substr(0, 5) == \"messy\") {\n              $$(\".xCreateNewEntry\").addClass(\"mess\");\n              $$(\".xCreateNewEntry\").adopt(\n                new Element(\"div\", {\n                  class: \"xHandle\",\n                  events: {\n                    click: function () {\n                      return false;\n                    },\n                  },\n                })\n              );\n\n              var $xCreateNewEntry = $$(\".xCreateNewEntry\");\n              $xCreateNewEntry.makeDraggable({\n                handle: $xCreateNewEntry.getElement(\".xHandle\"),\n              });\n            }\n\n            // galleries\n            this.entriesList.getElements(\".xGalleryContainer\").each(\n              function (item) {\n                if (!item.getParent(\".xEntry\").hasClass(\"xHidden\")) {\n                  this.initGallery(item);\n                }\n              }.bind(this)\n            );\n            this.entriesList\n              .getElements(\".xGalleryEditButton\")\n              .addEvent(\"click\", this.onGalleryEditClick.bindWithEvent(this));\n\n            // editables\n            this.editablesInit();\n\n            // entry sorting\n            if (!this.entriesList.hasClass(\"xNoEntryOrdering\")) {\n              this.orderSortables = new Sortables(this.entriesList, {\n                handle: \".xEntryMove\",\n                constrain: true,\n                clone: true,\n                opacity: 0.3,\n                revert: true,\n                onComplete: function (el) {\n                  this.entriesList\n                    .getElements(\".xCreateNewEntry\")\n                    .setStyle(\"visibility\", \"visible\");\n                  this.entryOrderSave(el);\n                }.bind(this),\n                onStart: function () {\n                  this.entriesList\n                    .getElements(\".xCreateNewEntry\")\n                    .setStyle(\"visibility\", \"hidden\");\n                }.bind(this),\n              });\n\n              if (this.portfolioThumbnails.length) {\n                new Sortables(this.portfolioThumbnails, {\n                  handle: \".xHandle\",\n                  constrain: true,\n                  clone: function (_, el) {\n                    // We should create a new clone element with different tag name\n                    // to make nth-of-type css rule work\n                    // nth-of-type works with tag name not class selector\n                    return new Element(\"span\", {\n                      class: \"portfolioThumbnail\",\n                    })\n                      .setStyles({\n                        display: \"block\",\n                        visibility: \"hidden\",\n                        position: \"absolute\",\n                        left: el.offsetLeft,\n                        top: el.offsetTop,\n                      })\n                      .set(\"html\", el.get(\"html\"));\n                  },\n                  opacity: 0.3,\n                  revert: true,\n                  onComplete: function (el) {\n                    this.portfolioThumbnailsOrderSave(el);\n                  }.bind(this),\n                });\n              }\n            }\n\n            // Entry moving to other section\n            document\n              .querySelectorAll(\".js-bt-open-move-entry-to-section\")\n              .forEach(function (el) {\n                el.addEventListener(\"click\", function (e) {\n                  e.preventDefault();\n                  var xEntryEditWrap = this.closest(\".xEntryEditWrap\");\n                  var xEntryDropdownBox =\n                    xEntryEditWrap.querySelector(\".xEntryDropdownBox\");\n                  var moveEntryToSectionContainer =\n                    xEntryEditWrap.querySelector(\".bt-move-entry-to-section\");\n                  xEntryDropdownBox.classList.remove(\"xVisible\");\n                  moveEntryToSectionContainer.style.display = \"block\";\n                });\n              });\n\n            document.querySelectorAll(\".js-move-entry-to-section\").forEach(\n              function (el) {\n                el.addEventListener(\n                  \"change\",\n                  this.entryMoveToSection.bind(this)\n                );\n              }.bind(this)\n            );\n\n            this.highlightNewEntry.delay(100, this);\n          } else if (!this.currentSection) {\n            var h1 = this.container.getElement(\"h1\");\n            if (h1) {\n              h1.hide();\n            }\n          }\n        } else {\n          this.editablesInit();\n        }\n        break;\n    }\n  },\n\n  initGallery: function (item) {\n    var gallery;\n    var galleryType = item.getClassStoredValue(\"xGalleryType\");\n\n    switch (galleryType) {\n      case \"row\":\n        gallery = new BertaGalleryRow(item);\n        break;\n      case \"column\":\n        gallery = new BertaGalleryColumn(item);\n        break;\n      case \"pile\":\n        gallery = new BertaGalleryPile(item);\n        break;\n      case \"link\":\n        gallery = new BertaGalleryLink(item);\n        break;\n      default:\n        gallery = new BertaGallerySlideshow(item);\n    }\n\n    this.galleries.push(gallery);\n  },\n\n  onLoad: function () {},\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///|  INIT  |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  editablesInit: function () {\n    // instantiate all xEditable elements in the page\n    // simple text fields ///////////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassSimple).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassSimple);\n      }.bind(this)\n    );\n\n    // textareas ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassTA).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassTA);\n      }.bind(this)\n    );\n\n    // mce textareas ////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassMCE).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassMCE);\n      }.bind(this)\n    );\n    $$(this.options.xBertaEditorClassMCESimple).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassMCE);\n      }.bind(this)\n    );\n\n    // \"real content\" fields ////////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassRC).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassRC);\n      }.bind(this)\n    );\n\n    // selects and font-selects /////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassFontSelect).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassFontSelect);\n      }.bind(this)\n    );\n    $$(this.options.xBertaEditorClassSelect).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassSelect);\n      }.bind(this)\n    );\n    $$(this.options.xBertaEditorClassSelectRC).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassSelectRC);\n      }.bind(this)\n    );\n\n    // color edit field (settings page) /////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassColor).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassColor);\n      }.bind(this)\n    );\n\n    // dragging /////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassDragXY).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassDragXY);\n      }.bind(this)\n    );\n\n    // input fields //////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xEditableRealCheck).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xEditableRealCheck);\n      }.bind(this)\n    );\n\n    // uploads //////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    $$(this.options.xBertaEditorClassImage).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassImage);\n      }.bind(this)\n    );\n    $$(this.options.xBertaEditorClassICO).each(\n      function (el) {\n        this.elementEdit_init(el, this.options.xBertaEditorClassICO);\n      }.bind(this)\n    );\n\n    this.fireEvent(BertaEditor.EDITABLES_INIT);\n  },\n\n  highlightNewEntry: function () {\n    var idToHighlight = Cookie.read(\"_berta__entry_highlight\");\n    Cookie.dispose(\"_berta__entry_highlight\", {\n      path: this.options.paths.engineABSRoot,\n    });\n    if (idToHighlight) {\n      var entry = this.entriesList.getElement(\".xEntryId-\" + idToHighlight);\n      if (entry) {\n        var pos = entry.getPosition();\n        if (this.options.templateName.substr(0, 5) == \"messy\") {\n          window.scrollTo(pos.x, pos.y);\n        } else {\n          window.scrollTo(0, pos.y);\n        }\n      }\n    }\n  },\n\n  //sets iframe mode to transparent to allow click and edit in tiny mce\n  setWmodeTransparent: function () {\n    var objects = document.getElements(\"iframe\");\n\n    objects.each(function (obj) {\n      var srcAttr = obj.src;\n      if (srcAttr && !srcAttr.match(/javascript:/gi)) {\n        var uri = new URI(srcAttr);\n        try {\n          uri.setData(\"wmode\", \"transparent\");\n          uri = uri.toString();\n          obj.set(\"src\", uri);\n        } catch (err) {}\n      }\n    });\n  },\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///|  Gallery  |//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  onBgEditClick: function (event) {\n    event.stop();\n    var site = getCurrentSite();\n\n    window.parent.postMessage(\n      {\n        action: \"BackgroundGalleryEditorOpen\",\n        site: site,\n        section: this.currentSection,\n      },\n      \"*\"\n    );\n  },\n\n  onGalleryEditClick: function (event) {\n    event.stop();\n    var site = getCurrentSite();\n    var entryObj = $(event.target).getParent(\".xEntry\");\n    var entryId = entryObj.getClassStoredValue(\"xEntryId\");\n\n    window.parent.postMessage(\n      {\n        action: \"EntryGalleryEditorOpen\",\n        site: site,\n        section: this.currentSection,\n        entryId: entryId,\n      },\n      \"*\"\n    );\n  },\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///|  Entry Management  |/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  entryCreate: function (event) {\n    event = new Event(event).stop();\n    var target = $(event.target);\n    if (target.tagName != \"A\") target = target.getParent(\"a\");\n    var site = getCurrentSite();\n    var entryInfo = this.getEntryInfoForElement(target);\n\n    redux_store.dispatch(\n      Actions.initCreateSectionEntry(\n        site,\n        this.currentSection,\n        this.currentTag,\n        entryInfo.entryId,\n        function (resp) {\n          Cookie.write(\"_berta__entry_highlight\", resp.entryid, {\n            path: this.options.paths.engineABSRoot,\n          });\n          window.location.hash = \"entry-\" + resp.entryid;\n          // window.location.reload();\n        }.bindWithEvent(this)\n      )\n    );\n  },\n\n  entryMoveToSection: function (event) {\n    var site = getCurrentSite();\n    var toSection = event.target.value;\n    var entryObj = event.target.closest(\".xEntry\");\n    var entryId = entryObj.getClassStoredValue(\"xEntryId\");\n    var redirectUrl = window.BertaHelpers.updateQueryStringParameter(\n      window.location.href,\n      \"section\",\n      toSection\n    );\n\n    redux_store.dispatch(\n      Actions.initEntryMoveToSection(\n        site,\n        this.currentSection,\n        entryId,\n        toSection,\n        function () {\n          window.location.href = redirectUrl;\n        }\n      )\n    );\n  },\n\n  entryDelete: function (event) {\n    event = new Event(event).stop();\n    var entryObj = $(event.target).getParent(\".xEntry\");\n    var entryId = entryObj.getClassStoredValue(\"xEntryId\");\n    var entryThumbnail = $$('.portfolioThumbnail[data-id=\"' + entryId + '\"]');\n    var site = getCurrentSite();\n\n    redux_store.dispatch(\n      Actions.initDeleteSectionEntry(\n        site,\n        this.currentSection,\n        entryId,\n        function () {\n          entryObj.destroy();\n          entryThumbnail.destroy();\n        }.bindWithEvent(this)\n      )\n    );\n  },\n\n  entryOrderSave: function (elJustMoved) {\n    var entryId = elJustMoved.getClassStoredValue(\"xEntryId\");\n    var next = elJustMoved.getNext(\".xEntry\");\n    var value = next ? next.getClassStoredValue(\"xEntryId\") : null;\n    var site = getCurrentSite();\n\n    redux_store.dispatch(\n      Actions.initOrderSectionEntries(site, this.currentSection, entryId, value)\n    );\n  },\n\n  portfolioThumbnailsOrderSave: function (elJustMoved) {\n    var entryId = elJustMoved.get(\"data-id\");\n    var next = elJustMoved.getNext(\".portfolioThumbnail\");\n    var value = next ? next.get(\"data-id\") : null;\n    var site = getCurrentSite();\n\n    redux_store.dispatch(\n      Actions.initOrderSectionEntries(site, this.currentSection, entryId, value)\n    );\n  },\n\n  entryOnHover: function (event) {\n    event = new Event(event);\n    var target = $(event.target);\n    if (!target.hasClass(\"xEntry\")) target = target.getParent(\".xEntry\");\n    target.addClass(\"xEntryHover\");\n    target.setAttribute(\"data-hover\", \"on\");\n  },\n\n  entryOnUnHover: function (event) {\n    event = new Event(event);\n    var target = $(event.target);\n\n    if (!target.hasClass(\"xEntry\")) {\n      target = target.getParent(\".xEntry\");\n    }\n\n    var tagsListInput = target.getElement(\".tagsList input\");\n\n    // If submenu input is not focused\n    if (!tagsListInput) {\n      target.removeClass(\"xEntryHover\");\n    }\n    target.setAttribute(\"data-hover\", \"off\");\n  },\n\n  entryDropdownToggle: function (event) {\n    var dropdown = $(event.target);\n    var entry = dropdown.getParent().getParent();\n    dropdownBox = entry.getElement(\".xEntryDropdownBox\");\n\n    dropdownBox.toggleClass(\"xVisible\", true);\n\n    if (dropdownBox.hasClass(\"xVisible\")) {\n      dropdown.addClass(\"xEntryDropdowHover\");\n    } else {\n      dropdown.removeClass(\"xEntryDropdowHover\");\n    }\n  },\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///|  Submenu Sorting  |/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  submenuSortingInit: function () {\n    this.subMenu = $$(\".subMenu\");\n    if (!this.subMenu.length) {\n      return;\n    }\n\n    var subMenuAnchors = this.subMenu.getElements(\"a\");\n    subMenuAnchors.each(function (item, index) {\n      item.addEvent(\"click\", function (event) {\n        if (this.getParent(\"ul\").hasClass(\"xSortNotClick\")) {\n          event.preventDefault();\n        }\n      });\n    });\n\n    this.subMenu.each(\n      function (item, index) {\n        if (item.hasClass(\"xAllowOrdering\")) {\n          this.submenuSortables[index] = new Sortables(item, {\n            handle: \".handle\",\n            constrain: true,\n            clone: true,\n            opacity: 0.3,\n            revert: true,\n            onComplete: function (el) {\n              if (item.hasClass(\"xSortNotClick\")) {\n                this.submenuOrderSave(el, item);\n                item.removeClass(\"xSortNotClick\");\n              }\n            }.bind(this),\n            onStart: function (el, clone) {\n              item.addClass(\"xSortNotClick\");\n            }.bind(this),\n          });\n        }\n      }.bind(this)\n    );\n  },\n\n  submenuOrderSave: function (elJustMoved, subMenu) {\n    subMenu.addClass(\"xSaving\");\n    var site = getCurrentSite();\n    var section = subMenu.getClassStoredValue(\"xSection\");\n    var tag = elJustMoved.getClassStoredValue(\"xTag\");\n    var next = elJustMoved.getNext(\"li\");\n    var value = next ? next.getClassStoredValue(\"xTag\") : null;\n\n    redux_store.dispatch(\n      Actions.initOrderSectionTags(site, section, tag, value, function () {\n        subMenu.removeClass(\"xSaving\");\n      })\n    );\n  },\n});\n\nBertaEditor.EDITABLES_INIT = \"editables_init\";\n\nwindow.bertaEditor = new BertaEditor(window.bertaGlobalOptions);\n","/**\n * TinyMCE version 7.7.0 (TBD)\n */\n!function(){\"use strict\";var e=function(e){if(null===e)return\"null\";if(void 0===e)return\"undefined\";var t=typeof e;return\"object\"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&\"Array\"===e.constructor.name)?\"array\":\"object\"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&\"String\"===e.constructor.name)?\"string\":t},t=function(e){return{eq:e}},n=t((function(e,t){return e===t})),o=function(e){return t((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e.eq(t[r],n[r]))return!1;return!0}))},r=function(e){return t((function(r,s){var a=Object.keys(r),i=Object.keys(s);if(!function(e,n){return function(e,n){return t((function(t,o){return e.eq(n(t),n(o))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,n)}))}(n).eq(a,i))return!1;for(var l=a.length,d=0;d<l;d++){var c=a[d];if(!e.eq(r[c],s[c]))return!1}return!0}))},s=t((function(t,n){if(t===n)return!0;var a=e(t);return a===e(n)&&(function(e){return-1!==[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"xml\",\"null\"].indexOf(e)}(a)?t===n:\"array\"===a?o(s).eq(t,n):\"object\"===a&&r(s).eq(t,n))}));const a=Object.getPrototypeOf,i=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},l=e=>t=>(e=>{const t=typeof e;return null===e?\"null\":\"object\"===t&&Array.isArray(e)?\"array\":\"object\"===t&&i(e,String,((e,t)=>t.isPrototypeOf(e)))?\"string\":t})(t)===e,d=e=>t=>typeof t===e,c=e=>t=>e===t,u=(e,t)=>f(e)&&i(e,t,((e,t)=>a(e)===t)),m=l(\"string\"),f=l(\"object\"),g=e=>u(e,Object),p=l(\"array\"),h=c(null),b=d(\"boolean\"),v=c(void 0),y=e=>null==e,C=e=>!y(e),w=d(\"function\"),E=d(\"number\"),x=(e,t)=>{if(p(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},_=()=>{},k=(e,t)=>(...n)=>e(t.apply(null,n)),S=(e,t)=>n=>e(t(n)),N=e=>()=>e,R=e=>e,A=(e,t)=>e===t;function T(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const O=e=>t=>!e(t),B=e=>()=>{throw new Error(e)},P=e=>e(),D=e=>{e()},L=N(!1),M=N(!0);class I{constructor(e,t){this.tag=e,this.value=t}static some(e){return new I(!0,e)}static none(){return I.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?I.some(e(this.value)):I.none()}bind(e){return this.tag?e(this.value):I.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:I.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:\"Called getOrDie on None\")}static from(e){return C(e)?I.some(e):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:\"none()\"}}I.singletonNone=new I(!1);const F=Array.prototype.slice,U=Array.prototype.indexOf,z=Array.prototype.push,j=(e,t)=>U.call(e,t),H=(e,t)=>j(e,t)>-1,$=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},V=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},q=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},W=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},K=(e,t)=>{const n=[],o=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];(t(s,r)?n:o).push(s)}return{pass:n,fail:o}},Y=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},G=(e,t,n)=>(W(e,((e,o)=>{n=t(n,e,o)})),n),X=(e,t,n)=>(q(e,((e,o)=>{n=t(n,e,o)})),n),Z=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return I.some(r);if(n(r,o))break}return I.none()},Q=(e,t)=>Z(e,t,L),J=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return I.some(n);return I.none()},ee=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!p(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);z.apply(t,e[n])}return t},te=(e,t)=>ee(V(e,t)),ne=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},oe=e=>{const t=F.call(e,0);return t.reverse(),t},re=(e,t)=>Y(e,(e=>!H(t,e))),se=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},ae=(e,t)=>{const n=F.call(e,0);return n.sort(t),n},ie=(e,t)=>t>=0&&t<e.length?I.some(e[t]):I.none(),le=e=>ie(e,0),de=e=>ie(e,e.length-1),ce=w(Array.from)?Array.from:e=>F.call(e),ue=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return I.none()},me=(e,t)=>{const n=[],o=w(t)?e=>$(n,(n=>t(n,e))):e=>H(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},fe=Object.keys,ge=Object.hasOwnProperty,pe=(e,t)=>{const n=fe(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},he=(e,t)=>be(e,((e,n)=>({k:n,v:t(e,n)}))),be=(e,t)=>{const n={};return pe(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},ve=e=>(t,n)=>{e[n]=t},ye=(e,t,n,o)=>{pe(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},Ce=(e,t)=>{const n={};return ye(e,t,ve(n),_),n},we=(e,t)=>{const n=[];return pe(e,((e,o)=>{n.push(t(e,o))})),n},Ee=e=>we(e,R),xe=(e,t)=>_e(e,t)?I.from(e[t]):I.none(),_e=(e,t)=>ge.call(e,t),ke=(e,t)=>_e(e,t)&&void 0!==e[t]&&null!==e[t],Se=e=>{const t={};return q(e,(e=>{t[e]={}})),fe(t)},Ne=e=>void 0!==e.length,Re=Array.isArray,Ae=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ne(e)){for(let o=0,r=e.length;o<r;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(const o in e)if(_e(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},Te=(e,t)=>{const n=[];return Ae(e,((o,r)=>{n.push(t(o,r,e))})),n},Oe=(e,t)=>{const n=[];return Ae(e,((o,r)=>{t&&!t(o,r,e)||n.push(o)})),n},Be=(e,t,n,o)=>{let r=v(n)?e[0]:n;for(let n=0;n<e.length;n++)r=t.call(o,r,e[n],n);return r},Pe=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},De=e=>e[e.length-1],Le=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Me=()=>Ie(0,0),Ie=(e,t)=>({major:e,minor:t}),Fe={nu:Ie,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Me():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,\"$\"+e));return Ie(o(1),o(2))})(e,n)},unknown:Me},Ue=(e,t)=>{const n=String(t).toLowerCase();return Q(e,(e=>e.search(n)))},ze=(e,t,n)=>\"\"===t||e.length>=t.length&&e.substr(n,n+t.length)===t,je=(e,t)=>$e(e,t)?((e,t)=>e.substring(t))(e,t.length):e,He=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!v(o)||r+t.length<=o)},$e=(e,t)=>ze(e,t,0),Ve=(e,t)=>ze(e,t,e.length-t.length),qe=e=>t=>t.replace(e,\"\"),We=qe(/^\\s+|\\s+$/g),Ke=qe(/^\\s+/g),Ye=qe(/\\s+$/g),Ge=e=>e.length>0,Xe=e=>!Ge(e),Ze=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?I.none():I.some(n)},Qe=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,Je=e=>t=>He(t,e),et=[{name:\"Edge\",versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:e=>He(e,\"edge/\")&&He(e,\"chrome\")&&He(e,\"safari\")&&He(e,\"applewebkit\")},{name:\"Chromium\",brand:\"Chromium\",versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,Qe],search:e=>He(e,\"chrome\")&&!He(e,\"chromeframe\")},{name:\"IE\",versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:e=>He(e,\"msie\")||He(e,\"trident\")},{name:\"Opera\",versionRegexes:[Qe,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:Je(\"opera\")},{name:\"Firefox\",versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:Je(\"firefox\")},{name:\"Safari\",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(He(e,\"safari\")||He(e,\"mobile/\"))&&He(e,\"applewebkit\")}],tt=[{name:\"Windows\",search:Je(\"win\"),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"iOS\",search:e=>He(e,\"iphone\")||He(e,\"ipad\"),versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:\"Android\",search:Je(\"android\"),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"macOS\",search:Je(\"mac os x\"),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:\"Linux\",search:Je(\"linux\"),versionRegexes:[]},{name:\"Solaris\",search:Je(\"sunos\"),versionRegexes:[]},{name:\"FreeBSD\",search:Je(\"freebsd\"),versionRegexes:[]},{name:\"ChromeOS\",search:Je(\"cros\"),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}],nt={browsers:N(et),oses:N(tt)},ot=\"Edge\",rt=\"Chromium\",st=\"Opera\",at=\"Firefox\",it=\"Safari\",lt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(ot),isChromium:o(rt),isIE:o(\"IE\"),isOpera:o(st),isFirefox:o(at),isSafari:o(it)}},dt=()=>lt({current:void 0,version:Fe.unknown()}),ct=lt,ut=(N(ot),N(rt),N(\"IE\"),N(st),N(at),N(it),\"Windows\"),mt=\"Android\",ft=\"Linux\",gt=\"macOS\",pt=\"Solaris\",ht=\"FreeBSD\",bt=\"ChromeOS\",vt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ut),isiOS:o(\"iOS\"),isAndroid:o(mt),isMacOS:o(gt),isLinux:o(ft),isSolaris:o(pt),isFreeBSD:o(ht),isChromeOS:o(bt)}},yt=()=>vt({current:void 0,version:Fe.unknown()}),Ct=vt,wt=(N(ut),N(\"iOS\"),N(mt),N(ft),N(gt),N(pt),N(ht),N(bt),e=>window.matchMedia(e).matches);let Et=Le((()=>((e,t,n)=>{const o=nt.browsers(),r=nt.oses(),s=t.bind((e=>((e,t)=>ue(t.brands,(t=>{const n=t.brand.toLowerCase();return Q(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Fe.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>Ue(e,t).map((e=>{const n=Fe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(dt,ct),a=((e,t)=>Ue(e,t).map((e=>{const n=Fe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(yt,Ct),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),i=a||o(\"(pointer:coarse)\"),l=r||!s&&a&&o(\"(min-device-width:768px)\"),d=s||a&&!l,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!d&&!l&&!c;return{isiPad:N(r),isiPhone:N(s),isTablet:N(l),isPhone:N(d),isTouch:N(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:N(c),isDesktop:N(u)}})(a,s,e,n);return{browser:s,os:a,deviceType:i}})(window.navigator.userAgent,I.from(window.navigator.userAgentData),wt)));const xt=()=>Et(),_t=window.navigator.userAgent,kt=xt(),St=kt.browser,Nt=kt.os,Rt=kt.deviceType,At=-1!==_t.indexOf(\"Windows Phone\"),Tt={transparentSrc:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",documentMode:St.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!St.isIE(),windowsPhone:At,browser:{current:St.current,version:St.version,isChromium:St.isChromium,isEdge:St.isEdge,isFirefox:St.isFirefox,isIE:St.isIE,isOpera:St.isOpera,isSafari:St.isSafari},os:{current:Nt.current,version:Nt.version,isAndroid:Nt.isAndroid,isChromeOS:Nt.isChromeOS,isFreeBSD:Nt.isFreeBSD,isiOS:Nt.isiOS,isLinux:Nt.isLinux,isMacOS:Nt.isMacOS,isSolaris:Nt.isSolaris,isWindows:Nt.isWindows},deviceType:{isDesktop:Rt.isDesktop,isiPad:Rt.isiPad,isiPhone:Rt.isiPhone,isPhone:Rt.isPhone,isTablet:Rt.isTablet,isTouch:Rt.isTouch,isWebView:Rt.isWebView}},Ot=/^\\s*|\\s*$/g,Bt=e=>y(e)?\"\":(\"\"+e).replace(Ot,\"\"),Pt=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),Ae(e,((e,r)=>!1!==t.call(o,e,r,n)&&(Pt(e,t,n,o),!0))))},Dt={trim:Bt,isArray:Re,is:(e,t)=>t?!(\"array\"!==t||!Re(e))||typeof e===t:void 0!==e,toArray:e=>{if(Re(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const o=m(e)?e.split(t||\",\"):e||[];let r=o.length;for(;r--;)n[o[r]]={};return n},each:Ae,map:Te,grep:Oe,inArray:(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},hasOwn:_e,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(_e(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},walk:Pt,resolve:(e,t=window)=>{const n=e.split(\".\");for(let e=0,o=n.length;e<o&&(t=t[n[e]]);e++);return t},explode:(e,t)=>p(e)?e:\"\"===e?[]:Te(e.split(t||\",\"),Bt),_addCacheSuffix:e=>{const t=Tt.cacheSuffix;return t&&(e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+t),e}},Lt=(e,t,n=A)=>e.exists((e=>n(e,t))),Mt=(e,t,n=A)=>It(e,t,n).getOr(e.isNone()&&t.isNone()),It=(e,t,n)=>e.isSome()&&t.isSome()?I.some(n(e.getOrDie(),t.getOrDie())):I.none(),Ft=(e,t)=>e?I.some(t):I.none(),Ut=\"undefined\"!=typeof window?window:Function(\"return this;\")(),zt=(e,t)=>((e,t)=>{let n=null!=t?t:Ut;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split(\".\"),t),jt=Object.getPrototypeOf,Ht=e=>{const t=zt(\"ownerDocument.defaultView\",e);return f(e)&&((e=>((e,t)=>{const n=((e,t)=>zt(e,t))(e,t);if(null==n)throw new Error(e+\" not available on this browser\");return n})(\"HTMLElement\",e))(t).prototype.isPrototypeOf(e)||/^HTML\\w*Element$/.test(jt(e).constructor.name))},$t=e=>e.dom.nodeName.toLowerCase(),Vt=e=>e.dom.nodeType,qt=e=>t=>Vt(t)===e,Wt=e=>Kt(e)&&Ht(e.dom),Kt=qt(1),Yt=qt(3),Gt=qt(9),Xt=qt(11),Zt=e=>t=>Kt(t)&&$t(t)===e,Qt=(e,t,n)=>{if(!(m(n)||b(n)||E(n)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",n,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,n+\"\")},Jt=(e,t,n)=>{Qt(e.dom,t,n)},en=(e,t)=>{const n=e.dom;pe(t,((e,t)=>{Qt(n,t,e)}))},tn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},nn=(e,t)=>I.from(tn(e,t)),on=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},rn=(e,t)=>{e.dom.removeAttribute(t)},sn=e=>X(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),an=(e,t)=>{const n=tn(e,t);return void 0===n||\"\"===n?[]:n.split(\" \")},ln=e=>void 0!==e.dom.classList,dn=e=>an(e,\"class\"),cn=(e,t)=>((e,t,n)=>{const o=an(e,t).concat([n]);return Jt(e,t,o.join(\" \")),!0})(e,\"class\",t),un=(e,t)=>((e,t,n)=>{const o=Y(an(e,t),(e=>e!==n));return o.length>0?Jt(e,t,o.join(\" \")):rn(e,t),!1})(e,\"class\",t),mn=(e,t)=>{ln(e)?e.dom.classList.add(t):cn(e,t)},fn=e=>{0===(ln(e)?e.dom.classList:dn(e)).length&&rn(e,\"class\")},gn=(e,t)=>{ln(e)?e.dom.classList.remove(t):un(e,t),fn(e)},pn=(e,t)=>ln(e)&&e.dom.classList.contains(t),hn=e=>{if(null==e)throw new Error(\"Node cannot be null or undefined\");return{dom:e}},bn=(e,t)=>{const n=(t||document).createElement(\"div\");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t=\"HTML does not have a single root node\";throw console.error(t,e),new Error(t)}return hn(n.childNodes[0])},vn=(e,t)=>{const n=(t||document).createElement(e);return hn(n)},yn=(e,t)=>{const n=(t||document).createTextNode(e);return hn(n)},Cn=hn,wn=(e,t,n)=>I.from(e.dom.elementFromPoint(t,n)).map(hn),En=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let r=t(e);do{r=r.bind(o)}while(r.isSome());return n},xn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error(\"Browser lacks native selectors\")}},_n=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,kn=(e,t)=>e.dom===t.dom,Sn=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Nn=e=>Cn(e.dom.ownerDocument),Rn=e=>Gt(e)?e:Nn(e),An=e=>Cn(Rn(e).dom.defaultView),Tn=e=>I.from(e.dom.parentNode).map(Cn),On=e=>I.from(e.dom.parentElement).map(Cn),Bn=(e,t)=>{const n=w(t)?t:L;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=Cn(e);if(r.push(t),!0===n(t))break;o=e}return r},Pn=e=>I.from(e.dom.previousSibling).map(Cn),Dn=e=>I.from(e.dom.nextSibling).map(Cn),Ln=e=>oe(En(e,Pn)),Mn=e=>En(e,Dn),In=e=>V(e.dom.childNodes,Cn),Fn=(e,t)=>{const n=e.dom.childNodes;return I.from(n[t]).map(Cn)},Un=e=>Fn(e,0),zn=e=>Fn(e,e.dom.childNodes.length-1),jn=e=>e.dom.childNodes.length,Hn=e=>Xt(e)&&C(e.dom.host),$n=e=>Cn(e.dom.getRootNode()),Vn=e=>Hn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error(\"Head is not available yet\");return Cn(t)})(Rn(e)),qn=e=>Cn(e.dom.host),Wn=e=>{if(C(e.target)){const t=Cn(e.target);if(Kt(t)&&Kn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return le(t)}}return I.from(e.target)},Kn=e=>C(e.dom.shadowRoot),Yn=e=>{const t=Yt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=$n(e);return Hn(t)?I.some(t):I.none()})(Cn(t)).fold((()=>n.body.contains(t)),S(Yn,qn))};var Gn=(e,t,n,o,r)=>e(n,o)?I.some(n):w(r)&&r(n)?I.none():t(n,o,r);const Xn=(e,t,n)=>{let o=e.dom;const r=w(n)?n:L;for(;o.parentNode;){o=o.parentNode;const e=Cn(o);if(t(e))return I.some(e);if(r(e))break}return I.none()},Zn=(e,t,n)=>Gn(((e,t)=>t(e)),Xn,e,t,n),Qn=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Cn(e.childNodes[o]);if(t(r))return I.some(r);const s=n(e.childNodes[o]);if(s.isSome())return s}return I.none()};return n(e.dom)},Jn=(e,t,n)=>Xn(e,(e=>xn(e,t)),n),eo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return _n(n)?I.none():I.from(n.querySelector(e)).map(Cn)})(t,e),to=(e,t,n)=>Gn(((e,t)=>xn(e,t)),Jn,e,t,n),no=(e,t=!1)=>{return Yn(e)?e.dom.isContentEditable:(n=e,to(n,\"[contenteditable]\")).fold(N(t),(e=>\"true\"===oo(e)));var n},oo=e=>e.dom.contentEditable,ro=(e,t)=>{e.dom.contentEditable=t?\"true\":\"false\"},so=e=>void 0!==e.style&&w(e.style.getPropertyValue),ao=(e,t,n)=>{if(!m(n))throw console.error(\"Invalid call to CSS.set. Property \",t,\":: Value \",n,\":: Element \",e),new Error(\"CSS value must be a string: \"+n);so(e)&&e.style.setProperty(t,n)},io=(e,t,n)=>{const o=e.dom;ao(o,t,n)},lo=(e,t)=>{const n=e.dom;pe(t,((e,t)=>{ao(n,t,e)}))},co=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return\"\"!==o||Yn(e)?o:uo(n,t)},uo=(e,t)=>so(e)?e.style.getPropertyValue(t):\"\",mo=(e,t)=>{const n=e.dom,o=uo(n,t);return I.from(o).filter((e=>e.length>0))},fo=e=>{const t={},n=e.dom;if(so(n))for(let e=0;e<n.style.length;e++){const o=n.style.item(e);t[o]=n.style[o]}return t},go=(e,t)=>{((e,t)=>{so(e)&&e.style.removeProperty(t)})(e.dom,t),Lt(nn(e,\"style\").map(We),\"\")&&rn(e,\"style\")},po=(e,t)=>{Tn(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},ho=(e,t)=>{Dn(e).fold((()=>{Tn(e).each((e=>{vo(e,t)}))}),(e=>{po(e,t)}))},bo=(e,t)=>{Un(e).fold((()=>{vo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},vo=(e,t)=>{e.dom.appendChild(t.dom)},yo=(e,t)=>{po(e,t),vo(t,e)},Co=(e,t)=>{q(t,(t=>{vo(e,t)}))},wo=e=>{e.dom.textContent=\"\",q(In(e),(e=>{Eo(e)}))},Eo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},xo=e=>{const t=In(e);var n,o;t.length>0&&(n=e,q(o=t,((e,t)=>{const r=0===t?n:o[t-1];ho(r,e)}))),Eo(e)},_o=e=>V(e,Cn),ko=e=>e.dom.innerHTML,So=(e,t)=>{const n=Nn(e).dom,o=Cn(n.createDocumentFragment()),r=((e,t)=>{const n=(t||document).createElement(\"div\");return n.innerHTML=e,In(Cn(n))})(t,n);Co(o,r),wo(e),vo(e,o)},No=(e,t,n,o)=>((e,t,n,o,r)=>{const s=((e,t)=>n=>{e(n)&&t((e=>{const t=Cn(Wn(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=k(o,n);return((e,t,n,o,r,s,a)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:s,raw:a}))(t,e.clientX,e.clientY,n,o,r,e)})(n))})(n,o);return e.dom.addEventListener(t,s,r),{unbind:T(Ro,e,t,s,r)}})(e,t,n,o,!1),Ro=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Ao=(e,t)=>({left:e,top:t,translate:(n,o)=>Ao(e+n,t+o)}),To=Ao,Oo=(e,t)=>void 0!==e?e:void 0!==t?t:0,Bo=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?To(n.offsetLeft,n.offsetTop):Yn(e)?(e=>{const t=e.getBoundingClientRect();return To(t.left,t.top)})(t):To(0,0)},Po=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return To(n,o)},Do=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Lo=(e,t)=>{xt().browser.isSafari()&&w(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Mo=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Io=e=>{const t=void 0===e?window:e,n=t.document,o=Po(Cn(n));return(e=>{const t=void 0===e?window:e;return xt().browser.isFirefox()?I.none():I.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Mo(o.left,o.top,n,r)}),(e=>Mo(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Fo=(e,t)=>{let n=[];return q(In(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Fo(e,t))})),n},Uo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return _n(n)?[]:V(n.querySelectorAll(e),Cn)})(t,e),zo=(e,t,n)=>Xn(e,t,n).isSome(),jo=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?((e,t)=>Q(e.dom.childNodes,(e=>t(Cn(e)))).map(Cn))(Cn(n.parentNode),(n=>!kn(e,n)&&t(n))):I.none()})(e,t).isSome(),Ho=(e,t)=>Qn(e,t).isSome();class $o{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,\"firstChild\",\"nextSibling\",e),this.node}prev(e){return this.node=this.findSibling(this.node,\"lastChild\",\"previousSibling\",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const o=e.parentNode;if(o&&o!==this.rootNode)return o}}}const Vo=\"\\ufeff\",qo=\"\\xa0\",Wo=e=>e===Vo,Ko=/^[ \\t\\r\\n]*$/,Yo=e=>Ko.test(e),Go=e=>\"\\n\"===e||\"\\r\"===e,Xo=(e,t=4,n=!0,o=!0)=>{const r=((e,t)=>t<=0?\"\":new Array(t+1).join(\" \"))(0,t),s=e.replace(/\\t/g,r),a=X(s,((e,t)=>(e=>-1!==\" \\f\\t\\v\".indexOf(e))(t)||t===qo?e.pcIsSpace||\"\"===e.str&&n||e.str.length===s.length-1&&o||((e,t)=>t<e.length&&t>=0&&Go(e[t]))(s,e.str.length+1)?{pcIsSpace:!1,str:e.str+qo}:{pcIsSpace:!0,str:e.str+\" \"}:{pcIsSpace:Go(t),str:e.str+t}),{pcIsSpace:!1,str:\"\"});return a.str},Zo=e=>t=>!!t&&t.nodeType===e,Qo=e=>!!e&&!Object.getPrototypeOf(e),Jo=Zo(1),er=e=>Jo(e)&&Wt(Cn(e)),tr=e=>{const t=e.toLowerCase();return e=>C(e)&&e.nodeName.toLowerCase()===t},nr=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return H(t,n)}return!1}},or=(e,t)=>{const n=t.toLowerCase().split(\" \");return t=>{if(Jo(t)){const o=t.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const s=o.getComputedStyle(t,null);if((s?s.getPropertyValue(e):null)===n[r])return!0}}return!1}},rr=e=>Jo(e)&&e.hasAttribute(\"data-mce-bogus\"),sr=e=>Jo(e)&&\"TABLE\"===e.tagName,ar=e=>t=>{if(er(t)){if(t.contentEditable===e)return!0;if(t.getAttribute(\"data-mce-contenteditable\")===e)return!0}return!1},ir=nr([\"textarea\",\"input\"]),lr=Zo(3),dr=Zo(4),cr=Zo(7),ur=Zo(8),mr=Zo(9),fr=Zo(11),gr=tr(\"br\"),pr=tr(\"img\"),hr=ar(\"true\"),br=ar(\"false\"),vr=e=>er(e)&&e.isContentEditable&&C(e.parentElement)&&!e.parentElement.isContentEditable,yr=nr([\"td\",\"th\"]),Cr=nr([\"td\",\"th\",\"caption\"]),wr=nr([\"video\",\"audio\",\"object\",\"embed\"]),Er=tr(\"li\"),xr=tr(\"details\"),_r=tr(\"summary\"),kr={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Sr=e=>Jo(e)&&e.hasAttribute(\"data-mce-bookmark\");const Nr=(e,t,n,o)=>lr(e)&&!((e,t,n)=>Yo(e.data)&&!((e,t,n)=>{const o=Cn(t),r=Cn(e),s=n.getWhitespaceElements();return zo(r,(e=>_e(s,$t(e))),T(kn,o))})(e,t,n))(e,t,n)&&(!o.includeZwsp||!(e=>{for(const t of e)if(!Wo(t))return!1;return!0})(e.data)),Rr=(e,t,n,o)=>w(o.isContent)&&o.isContent(t)||((e,t)=>Jo(e)&&_e(t.getNonEmptyElements(),e.nodeName))(t,e)||Sr(t)||(e=>Jo(e)&&\"A\"===e.nodeName&&!e.hasAttribute(\"href\")&&(e.hasAttribute(\"name\")||e.hasAttribute(\"id\")))(t)||Nr(t,n,e,o)||br(t)||hr(t)&&(e=>On(Cn(e)).exists((e=>!no(e))))(t),Ar=(e,t,n)=>{const o={...kr,...n};if(o.checkRootAsContent&&Rr(e,t,t,o))return!1;let r=t.firstChild,s=0;if(!r)return!0;const a=new $o(r,t);do{if(o.skipBogus&&Jo(r)){const e=r.getAttribute(\"data-mce-bogus\");if(e){r=a.next(\"all\"===e);continue}}if(ur(r))r=a.next(!0);else if(gr(r))s++,r=a.next();else{if(Rr(e,r,t,o))return!1;r=a.next()}}while(r);return s<=1},Tr=(e,t,n)=>Ar(e,t.dom,{checkRootAsContent:!0,...n}),Or=(e,t,n)=>Rr(e,t,t,{includeZwsp:kr.includeZwsp,...n}),Br=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Pr=e=>{const t=Br(I.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(I.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{n(),t.set(I.some(setInterval(o,e)))}}},Dr=()=>{const e=(e=>{const t=Br(I.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(I.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(I.some(e))}}})(_);return{...e,on:t=>e.get().each(t)}},Lr=e=>{const t=e.toLowerCase();return\"svg\"===t?\"svg\":\"math\"===t?\"math\":\"html\"},Mr=e=>\"html\"!==Lr(e),Ir=e=>Mr(e.nodeName),Fr=e=>Lr(e.nodeName),Ur=[\"svg\",\"math\"],zr=\"data-mce-block\",jr=e=>V((e=>Y(fe(e),(e=>!/[A-Z]/.test(e))))(e),(e=>{const t=CSS.escape(e);return`${t}:`+V(Ur,(e=>`not(${e} ${t})`)).join(\":\")})).join(\",\"),Hr=(e,t)=>C(t.querySelector(e))?(t.setAttribute(zr,\"true\"),\"inline-boundary\"===t.getAttribute(\"data-mce-selected\")&&t.removeAttribute(\"data-mce-selected\"),!0):(t.removeAttribute(zr),!1),$r=(e,t)=>{const n=jr(e.getTransparentElements()),o=jr(e.getBlockElements());return Y(t.querySelectorAll(n),(e=>Hr(o,e)))},Vr=(e,t,n)=>{var o;const r=n?\"lastChild\":\"firstChild\";for(let n=t[r];n;n=n[r])if(Ar(e,n,{checkRootAsContent:!0}))return void(null===(o=n.parentNode)||void 0===o||o.removeChild(n))},qr=(e,t,n)=>{const o=e.getBlockElements(),r=Cn(t),s=e=>$t(e)in o,a=e=>kn(e,r);q(_o(n),(t=>{Xn(t,s,a).each((n=>{const o=(t=>Y(In(t),(t=>s(t)&&!e.isValidChild($t(n),$t(t)))))(t);if(o.length>0){const t=On(n);q(o,(t=>{Xn(t,s,a).each((n=>{((e,t,n)=>{const o=document.createRange(),r=t.parentNode;if(r){o.setStartBefore(t),o.setEndBefore(n);const s=o.extractContents();Vr(e,s,!0),o.setStartAfter(n),o.setEndAfter(t);const a=o.extractContents();Vr(e,a,!1),Ar(e,s,{checkRootAsContent:!0})||r.insertBefore(s,t),Ar(e,n,{checkRootAsContent:!0})||r.insertBefore(n,t),Ar(e,a,{checkRootAsContent:!0})||r.insertBefore(a,t),r.removeChild(t)}})(e,n.dom,t.dom)}))})),t.each((t=>$r(e,t.dom)))}}))}))},Wr=(e,t)=>{const n=$r(e,t);qr(e,t,n),((e,t,n)=>{q([...n,...Zr(e,t)?[t]:[]],(t=>q(Uo(Cn(t),t.nodeName.toLowerCase()),(t=>{Qr(e,t.dom)&&xo(t)}))))})(e,t,n)},Kr=(e,t)=>{if(Xr(e,t)){const n=jr(e.getBlockElements());Hr(n,t)}},Yr=e=>e.hasAttribute(zr),Gr=(e,t)=>_e(e.getTransparentElements(),t),Xr=(e,t)=>Jo(t)&&Gr(e,t.nodeName),Zr=(e,t)=>Xr(e,t)&&Yr(t),Qr=(e,t)=>Xr(e,t)&&!Yr(t),Jr=(e,t)=>1===t.type&&Gr(e,t.name)&&m(t.attr(zr)),es=xt().browser,ts=e=>Q(e,Kt),ns=(e,t)=>e.children&&H(e.children,t),os=(e,t={})=>{let n=0;const o={},r=Cn(e),s=Rn(r),a=e=>{vo(Vn(r),e)},i=e=>{const t=Vn(r);eo(t,\"#\"+e).each(Eo)},l=e=>xe(o,e).getOrThunk((()=>({id:\"mce-u\"+n++,passed:[],failed:[],count:0}))),d=e=>new Promise(((n,r)=>{let i;const d=Dt._addCacheSuffix(e),c=l(d);o[d]=c,c.count++;const u=(e,t)=>{q(e,D),c.status=t,c.passed=[],c.failed=[],i&&(i.onload=null,i.onerror=null,i=null)},m=()=>u(c.passed,2),f=()=>u(c.failed,3);if(n&&c.passed.push(n),r&&c.failed.push(r),1===c.status)return;if(2===c.status)return void m();if(3===c.status)return void f();c.status=1;const g=vn(\"link\",s.dom);en(g,{rel:\"stylesheet\",type:\"text/css\",id:c.id}),t.contentCssCors&&Jt(g,\"crossOrigin\",\"anonymous\"),t.referrerPolicy&&Jt(g,\"referrerpolicy\",t.referrerPolicy),i=g.dom,i.onload=m,i.onerror=f,a(g),Jt(g,\"href\",d)})),c=e=>{const t=Dt._addCacheSuffix(e);xe(o,t).each((e=>{0==--e.count&&(delete o[t],i(e.id))}))};return{load:d,loadRawCss:(e,t)=>{const n=l(e);o[e]=n,n.count++;const r=vn(\"style\",s.dom);en(r,{rel:\"stylesheet\",type:\"text/css\",id:n.id,\"data-mce-key\":e}),r.dom.innerHTML=t,a(r)},loadAll:e=>Promise.allSettled(V(e,(e=>d(e).then(N(e))))).then((e=>{const t=K(e,(e=>\"fulfilled\"===e.status));return t.fail.length>0?Promise.reject(V(t.fail,(e=>e.reason))):V(t.pass,(e=>e.value))})),unload:c,unloadRawCss:e=>{xe(o,e).each((t=>{0==--t.count&&(delete o[e],i(t.id))}))},unloadAll:e=>{q(e,(e=>{c(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},rs=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const o=$n(t).dom;return I.from(e.get(o)).getOrThunk((()=>{const t=os(o,n);return e.set(o,t),t}))}}})(),ss=(e,t)=>C(e)&&(Or(t,e)||t.isInline(e.nodeName.toLowerCase())),as=e=>(e=>\"span\"===e.nodeName.toLowerCase())(e)&&\"bookmark\"===e.getAttribute(\"data-mce-type\"),is=(e,t,n,o)=>{var r;const s=o||t;if(Jo(t)&&as(t))return t;const a=t.childNodes;for(let t=a.length-1;t>=0;t--)is(e,a[t],n,s);if(Jo(t)){const e=t.childNodes;1===e.length&&as(e[0])&&(null===(r=t.parentNode)||void 0===r||r.insertBefore(e[0],t))}return(e=>fr(e)||mr(e))(t)||Or(n,t)||(e=>!!Jo(e)&&e.childNodes.length>0)(t)||((e,t,n)=>lr(e)&&e.data.length>0&&((e,t,n)=>{const o=new $o(e,t).prev(!1),r=new $o(e,t).next(!1),s=v(o)||ss(o,n),a=v(r)||ss(r,n);return s&&a})(e,t,n))(t,s,n)||e.remove(t),t},ls=Dt.makeMap,ds=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,cs=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,us=/[<>&\\\"\\']/g,ms=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,fs={128:\"\\u20ac\",130:\"\\u201a\",131:\"\\u0192\",132:\"\\u201e\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02c6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017d\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201c\",148:\"\\u201d\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02dc\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203a\",156:\"\\u0153\",158:\"\\u017e\",159:\"\\u0178\"},gs={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"`\":\"&#96;\"},ps={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"},hs=(e,t)=>{const n={};if(e){const o=e.split(\",\");t=t||10;for(let e=0;e<o.length;e+=2){const r=String.fromCharCode(parseInt(o[e],t));if(!gs[r]){const t=\"&\"+o[e+1]+\";\";n[r]=t,n[t]=r}}return n}},bs=hs(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32),vs=(e,t)=>e.replace(t?ds:cs,(e=>gs[e]||e)),ys=(e,t)=>e.replace(t?ds:cs,(e=>e.length>1?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":gs[e]||\"&#\"+e.charCodeAt(0)+\";\")),Cs=(e,t,n)=>{const o=n||bs;return e.replace(t?ds:cs,(e=>gs[e]||o[e]||e))},ws={encodeRaw:vs,encodeAllRaw:e=>(\"\"+e).replace(us,(e=>gs[e]||e)),encodeNumeric:ys,encodeNamed:Cs,getEncodeFunc:(e,t)=>{const n=hs(t)||bs,o=ls(e.replace(/\\+/g,\",\"));return o.named&&o.numeric?(e,t)=>e.replace(t?ds:cs,(e=>void 0!==gs[e]?gs[e]:void 0!==n[e]?n[e]:e.length>1?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":\"&#\"+e.charCodeAt(0)+\";\")):o.named?t?(e,t)=>Cs(e,t,n):Cs:o.numeric?ys:vs},decode:e=>e.replace(ms,((e,t)=>t?(t=\"x\"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):fs[t]||String.fromCharCode(t):ps[e]||bs[e]||(e=>{const t=vn(\"div\").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},Es=(e,t)=>(e=Dt.trim(e))?e.split(t||\" \"):[],xs=e=>new RegExp(\"^\"+e.replace(/([?+*])/g,\".$1\")+\"$\"),_s=e=>Object.freeze([\"id\",\"accesskey\",\"class\",\"dir\",\"lang\",\"style\",\"tabindex\",\"title\",\"role\",...\"html4\"!==e?[\"contenteditable\",\"contextmenu\",\"draggable\",\"dropzone\",\"hidden\",\"spellcheck\",\"translate\",\"itemprop\",\"itemscope\",\"itemtype\"]:[],...\"html5-strict\"!==e?[\"xml:lang\"]:[]]),ks=e=>{let t,n;t=\"address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul\",n=\"a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment\",\"html4\"!==e&&(t+=\" article aside details dialog figure main header footer hgroup section nav a ins del canvas map\",n+=\" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg\"),\"html5-strict\"!==e&&(n=[n,\"acronym applet basefont big font strike tt\"].join(\" \"),t=[t,\"center dir isindex noframes\"].join(\" \"));const o=[t,n].join(\" \");return{blockContent:t,phrasingContent:n,flowContent:o}},Ss=e=>{const{blockContent:t,phrasingContent:n,flowContent:o}=ks(e),r=e=>Object.freeze(e.split(\" \"));return Object.freeze({blockContent:r(t),phrasingContent:r(n),flowContent:r(o)})},Ns={html4:Le((()=>Ss(\"html4\"))),html5:Le((()=>Ss(\"html5\"))),\"html5-strict\":Le((()=>Ss(\"html5-strict\")))},Rs=(e,t)=>{const{blockContent:n,phrasingContent:o,flowContent:r}=Ns[e]();return\"blocks\"===t?I.some(n):\"phrasing\"===t?I.some(o):\"flow\"===t?I.some(r):I.none()},As=e=>I.from(/^(@?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)$/.exec(e)).map((e=>({preset:\"@\"===e[1],name:e[2]}))),Ts={},Os=Dt.makeMap,Bs=Dt.each,Ps=Dt.extend,Ds=Dt.explode,Ls=(e,t={})=>{const n=Os(e,\" \",Os(e.toUpperCase(),\" \"));return Ps(n,t)},Ms=e=>Ls(\"td th li dt dd figcaption caption details summary\",e.getTextBlockElements()),Is=(e,t)=>{if(e){const n={};return m(e)&&(e={\"*\":e}),Bs(e,((e,o)=>{n[o]=n[o.toUpperCase()]=\"map\"===t?Os(e,/[, ]/):Ds(e,/[, ]/)})),n}},Fs=(e={})=>{var t;const n={},o={};let r=[];const s={},a={},i=(t,n,o)=>{const r=e[t];if(r)return Os(r,/[, ]/,Os(r.toUpperCase(),/[, ]/));{let e=Ts[t];return e||(e=Ls(n,o),Ts[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:\"html5\",d=(e=>{const t=_s(e),{phrasingContent:n,flowContent:o}=ks(e),r={},s=(e,t,n)=>{r[e]={attributes:se(t,N({})),attributesOrder:t,children:se(n,N({}))}},a=(e,n=\"\",o=\"\")=>{const r=Es(o),a=Es(e);let i=a.length;const l=[...t,...Es(n)];for(;i--;)s(a[i],l.slice(),r)},i=(e,t)=>{const n=Es(e),o=Es(t);let s=n.length;for(;s--;){const e=r[n[s]];for(let t=0,n=o.length;t<n;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};return\"html5-strict\"!==e&&(q(Es(\"acronym applet basefont big font strike tt\"),(e=>{a(e,\"\",n)})),q(Es(\"center dir isindex noframes\"),(e=>{a(e,\"\",o)}))),a(\"html\",\"manifest\",\"head body\"),a(\"head\",\"\",\"base command link meta noscript script style title\"),a(\"title hr noscript br\"),a(\"base\",\"href target\"),a(\"link\",\"href rel media hreflang type sizes hreflang\"),a(\"meta\",\"name http-equiv content charset\"),a(\"style\",\"media type scoped\"),a(\"script\",\"src async defer type charset\"),a(\"body\",\"onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload\",o),a(\"dd div\",\"\",o),a(\"address dt caption\",\"\",\"html4\"===e?n:o),a(\"h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn\",\"\",n),a(\"blockquote\",\"cite\",o),a(\"ol\",\"reversed start type\",\"li\"),a(\"ul\",\"\",\"li\"),a(\"li\",\"value\",o),a(\"dl\",\"\",\"dt dd\"),a(\"a\",\"href target rel media hreflang type\",\"html4\"===e?n:o),a(\"q\",\"cite\",n),a(\"ins del\",\"cite datetime\",o),a(\"img\",\"src sizes srcset alt usemap ismap width height\"),a(\"iframe\",\"src name width height\",o),a(\"embed\",\"src type width height\"),a(\"object\",\"data type typemustmatch name usemap form width height\",[o,\"param\"].join(\" \")),a(\"param\",\"name value\"),a(\"map\",\"name\",[o,\"area\"].join(\" \")),a(\"area\",\"alt coords shape href target rel media hreflang type\"),a(\"table\",\"border\",\"caption colgroup thead tfoot tbody tr\"+(\"html4\"===e?\" col\":\"\")),a(\"colgroup\",\"span\",\"col\"),a(\"col\",\"span\"),a(\"tbody thead tfoot\",\"\",\"tr\"),a(\"tr\",\"\",\"td th\"),a(\"td\",\"colspan rowspan headers\",o),a(\"th\",\"colspan rowspan headers scope abbr\",o),a(\"form\",\"accept-charset action autocomplete enctype method name novalidate target\",o),a(\"fieldset\",\"disabled form name\",[o,\"legend\"].join(\" \")),a(\"label\",\"form for\",n),a(\"input\",\"accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width\"),a(\"button\",\"disabled form formaction formenctype formmethod formnovalidate formtarget name type value\",\"html4\"===e?o:n),a(\"select\",\"disabled form multiple name required size\",\"option optgroup\"),a(\"optgroup\",\"disabled label\",\"option\"),a(\"option\",\"disabled label selected value\"),a(\"textarea\",\"cols dirname disabled form maxlength name readonly required rows wrap\"),a(\"menu\",\"type label\",[o,\"li\"].join(\" \")),a(\"noscript\",\"\",o),\"html4\"!==e&&(a(\"wbr\"),a(\"ruby\",\"\",[n,\"rt rp\"].join(\" \")),a(\"figcaption\",\"\",o),a(\"mark rt rp bdi\",\"\",n),a(\"summary\",\"\",[n,\"h1 h2 h3 h4 h5 h6\"].join(\" \")),a(\"canvas\",\"width height\",o),a(\"data\",\"value\",n),a(\"video\",\"src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered\",[o,\"track source\"].join(\" \")),a(\"audio\",\"src crossorigin preload autoplay mediagroup loop muted controls buffered volume\",[o,\"track source\"].join(\" \")),a(\"picture\",\"\",\"img source\"),a(\"source\",\"src srcset type media sizes\"),a(\"track\",\"kind src srclang label default\"),a(\"datalist\",\"\",[n,\"option\"].join(\" \")),a(\"article section nav aside main header footer\",\"\",o),a(\"hgroup\",\"\",\"h1 h2 h3 h4 h5 h6\"),a(\"figure\",\"\",[o,\"figcaption\"].join(\" \")),a(\"time\",\"datetime\",n),a(\"dialog\",\"open\",o),a(\"command\",\"type label icon disabled checked radiogroup command\"),a(\"output\",\"for form name\",n),a(\"progress\",\"value max\",n),a(\"meter\",\"value min max low high optimum\",n),a(\"details\",\"open\",[o,\"summary\"].join(\" \")),a(\"keygen\",\"autofocus challenge disabled form keytype name\"),s(\"svg\",\"id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform\".split(\" \"),[])),\"html5-strict\"!==e&&(i(\"script\",\"language xml:space\"),i(\"style\",\"xml:space\"),i(\"object\",\"declare classid code codebase codetype archive standby align border hspace vspace\"),i(\"embed\",\"align name hspace vspace\"),i(\"param\",\"valuetype type\"),i(\"a\",\"charset name rev shape coords\"),i(\"br\",\"clear\"),i(\"applet\",\"codebase archive code object alt name width height align hspace vspace\"),i(\"img\",\"name longdesc align border hspace vspace\"),i(\"iframe\",\"longdesc frameborder marginwidth marginheight scrolling align\"),i(\"font basefont\",\"size color face\"),i(\"input\",\"usemap align\"),i(\"select\"),i(\"textarea\"),i(\"h1 h2 h3 h4 h5 h6 div p legend caption\",\"align\"),i(\"ul\",\"type compact\"),i(\"li\",\"type\"),i(\"ol dl menu dir\",\"compact\"),i(\"pre\",\"width xml:space\"),i(\"hr\",\"align noshade size width\"),i(\"isindex\",\"prompt\"),i(\"table\",\"summary width frame rules cellspacing cellpadding align bgcolor\"),i(\"col\",\"width align char charoff valign\"),i(\"colgroup\",\"width align char charoff valign\"),i(\"thead\",\"align char charoff valign\"),i(\"tr\",\"align char charoff valign bgcolor\"),i(\"th\",\"axis align char charoff valign nowrap bgcolor width height\"),i(\"form\",\"accept\"),i(\"td\",\"abbr axis scope align char charoff valign nowrap bgcolor width height\"),i(\"tfoot\",\"align char charoff valign\"),i(\"tbody\",\"align char charoff valign\"),i(\"area\",\"nohref\"),i(\"body\",\"background bgcolor text link vlink alink\")),\"html4\"!==e&&(i(\"input button select textarea\",\"autofocus\"),i(\"input textarea\",\"placeholder\"),i(\"a\",\"download\"),i(\"link script img\",\"crossorigin\"),i(\"img\",\"loading\"),i(\"iframe\",\"sandbox seamless allow allowfullscreen loading referrerpolicy\")),\"html4\"!==e&&q([r.video,r.audio],(e=>{delete e.children.audio,delete e.children.video})),q(Es(\"a form meter progress dfn\"),(e=>{r[e]&&delete r[e].children[e]})),delete r.caption.children.table,delete r.script,r})(l);!1===e.verify_html&&(e.valid_elements=\"*[*]\");const c=Is(e.valid_styles),u=Is(e.invalid_styles,\"map\"),g=Is(e.valid_classes,\"map\"),h=i(\"whitespace_elements\",\"pre script noscript style textarea video audio iframe object code\"),v=i(\"self_closing_elements\",\"colgroup dd dt li option p td tfoot th thead tr\"),y=i(\"void_elements\",\"area base basefont br col frame hr img input isindex link meta param embed source wbr track\"),C=i(\"boolean_attributes\",\"checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen\"),w=\"td th iframe video audio object script code\",E=i(\"non_empty_elements\",w+\" pre svg textarea summary\",y),x=i(\"move_caret_before_on_enter_elements\",w+\" table\",y),_=\"h1 h2 h3 h4 h5 h6\",k=i(\"text_block_elements\",_+\" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure\"),S=i(\"block_elements\",\"hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing\",k),R=i(\"text_inline_elements\",\"span strong b em i font s strike u var cite dfn code mark q sup sub samp\"),A=i(\"transparent_elements\",\"a ins del canvas map\"),T=i(\"wrap_block_elements\",\"pre \"+_);Bs(\"script noscript iframe noframes noembed title style textarea xmp plaintext\".split(\" \"),(e=>{a[e]=new RegExp(\"</\"+e+\"[^>]*>\",\"gi\")}));const O=e=>{const t=I.from(n[\"@\"]),o=/[*?+]/;q(((e,t)=>{const n=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/;return te(Es(t,\",\"),(t=>{const o=n.exec(t);if(o){const t=o[1],n=o[2],r=o[3],s=o[4],a=o[5],i={attributes:{},attributesOrder:[]};if(e.each((e=>((e,t)=>{pe(e.attributes,((e,n)=>{t.attributes[n]=e})),t.attributesOrder.push(...e.attributesOrder)})(e,i))),\"#\"===t?i.paddEmpty=!0:\"-\"===t&&(i.removeEmpty=!0),\"!\"===s&&(i.removeEmptyAttrs=!0),a&&((e,t)=>{const n=/^([!\\-])?(\\w+[\\\\:]:\\w+|[^=~<]+)?(?:([=~<])(.*))?$/,o=/[*?+]/,{attributes:r,attributesOrder:s}=t;q(Es(e,\"|\"),(e=>{const a=n.exec(e);if(a){const e={},n=a[1],i=a[2].replace(/[\\\\:]:/g,\":\"),l=a[3],d=a[4];if(\"!\"===n&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(i),e.required=!0),\"-\"===n)return delete r[i],void s.splice(Dt.inArray(s,i),1);if(l&&(\"=\"===l?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:i,value:d}),e.defaultValue=d):\"~\"===l?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:i,value:d}),e.forcedValue=d):\"<\"===l&&(e.validValues=Dt.makeMap(d,\"?\"))),o.test(i)){const n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=xs(i),t.attributePatterns.push(n)}else r[i]||s.push(i),r[i]=e}}))})(a,i),r&&(i.outputName=n),\"@\"===n){if(!e.isNone())return[];e=I.some(i)}return[r?{name:n,element:i,aliasName:r}:{name:n,element:i}]}return[]}))})(t,null!=e?e:\"\"),(({name:e,element:t,aliasName:s})=>{if(s&&(n[s]=t),o.test(e)){const n=t;n.pattern=xs(e),r.push(n)}else n[e]=t}))},B=e=>{r=[],q(fe(n),(e=>{delete n[e]})),O(e)},P=(e,t)=>{var r,a;delete Ts.text_block_elements,delete Ts.block_elements;const i=!!t.extends&&!oe(t.extends),d=t.extends;if(o[e]=d?o[d]:{},s[e]=null!=d?d:e,E[e.toUpperCase()]={},E[e]={},i||(S[e.toUpperCase()]={},S[e]={}),d&&!n[e]&&n[d]){const t=(e=>{const t=e=>p(e)?V(e,t):(e=>f(e)&&e.source&&\"[object RegExp]\"===Object.prototype.toString.call(e))(e)?new RegExp(e.source,e.flags):f(e)?he(e,t):e;return t(e)})(n[d]);delete t.removeEmptyAttrs,delete t.removeEmpty,n[e]=t}else n[e]={attributesOrder:[],attributes:{}};if(p(t.attributes)){const o=e=>{s.attributesOrder.push(e),s.attributes[e]={}},s=null!==(r=n[e])&&void 0!==r?r:{};delete s.attributesDefault,delete s.attributesForced,delete s.attributePatterns,delete s.attributesRequired,s.attributesOrder=[],s.attributes={},q(t.attributes,(e=>{const t=_s(l);As(e).each((({preset:e,name:n})=>{e?\"global\"===n&&q(t,o):o(n)}))})),n[e]=s}if(b(t.padEmpty)){const o=null!==(a=n[e])&&void 0!==a?a:{};o.paddEmpty=t.padEmpty,n[e]=o}if(p(t.children)){const n={},r=e=>{n[e]={}},s=e=>{Rs(l,e).each((e=>{q(e,r)}))};q(t.children,(e=>{As(e).each((({preset:e,name:t})=>{e?s(t):r(t)}))})),o[e]=n}d&&pe(o,((t,n)=>{t[d]&&(o[n]=t=Ps({},o[n]),t[e]=t[d])}))},D=e=>{f(e)?pe(e,((e,t)=>P(t,e))):m(e)&&(e=>{q((e=>{const t=/^(~)?(.+)$/;return te(Es(e,\",\"),(e=>{const n=t.exec(e);return n?[{cloneName:\"~\"===n[1]?\"span\":\"div\",name:n[2]}]:[]}))})(null!=e?e:\"\"),(({name:e,cloneName:t})=>{P(e,{extends:t})}))})(e)},L=e=>{q((e=>{const t=/^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;return te(Es(e,\",\"),(e=>{const n=t.exec(e);if(n){const e=n[1],t=e?(e=>\"-\"===e?\"remove\":\"add\")(e):\"replace\";return[{operation:t,name:n[2],validChildren:te(Es(n[3],\"|\"),(e=>As(e).toArray()))}]}return[]}))})(null!=e?e:\"\"),(({operation:e,name:t,validChildren:n})=>{const r=\"replace\"===e?{\"#comment\":{}}:o[t],s=t=>{\"remove\"===e?delete r[t]:r[t]={}};q(n,(({preset:e,name:t})=>{e?(e=>{Rs(l,e).each((e=>{q(e,s)}))})(t):s(t)})),o[t]=r}))},M=e=>{const t=n[e];if(t)return t;let o=r.length;for(;o--;){const t=r[o];if(t.pattern.test(e))return t}},F=N(c),U=N(u),z=N(g),j=N(C),H=N(S),$=N(k),W=N(R),K=N(Object.seal(y)),Y=N(v),G=N(E),X=N(x),Z=N(h),Q=N(A),J=N(T),ee=N(Object.seal(a)),ne=(e,t)=>{const n=M(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},oe=e=>_e(H(),e),re=e=>!$e(e,\"#\")&&ne(e)&&!oe(e),ae=N(s);return e.valid_elements?(B(e.valid_elements),Bs(d,((e,t)=>{o[t]=e.children}))):(Bs(d,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),Bs(Es(\"strong/b em/i\"),(e=>{const t=Es(e,\"/\");n[t[1]].outputName=t[0]})),Bs(R,((t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)})),Bs(Es(\"ol ul blockquote a table tbody\"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),Bs(Es(\"p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary\"),(e=>{n[e]&&(n[e].paddEmpty=!0)})),Bs(Es(\"span\"),(e=>{n[e].removeEmptyAttrs=!0}))),delete n.svg,D(e.custom_elements),L(e.valid_children),O(e.extended_valid_elements),L(\"+ol[ul|ol],+ul[ul|ol]\"),Bs({dd:\"dl\",dt:\"dl\",li:\"ul ol\",td:\"tr\",th:\"tr\",tr:\"tbody thead tfoot\",tbody:\"table\",thead:\"table\",tfoot:\"table\",legend:\"fieldset\",area:\"map\",param:\"video audio object\"},((e,t)=>{n[t]&&(n[t].parentsRequired=Es(e))})),e.invalid_elements&&Bs(Ds(e.invalid_elements),(e=>{n[e]&&delete n[e]})),M(\"span\")||O(\"span[!data-mce-type|*]\"),{type:l,children:o,elements:n,getValidStyles:F,getValidClasses:z,getBlockElements:H,getInvalidStyles:U,getVoidElements:K,getTextBlockElements:$,getTextInlineElements:W,getBoolAttrs:j,getElementRule:M,getSelfClosingElements:Y,getNonEmptyElements:G,getMoveCaretBeforeOnEnterElements:X,getWhitespaceElements:Z,getTransparentElements:Q,getSpecialElements:ee,isValidChild:(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:ne,isBlock:oe,isInline:re,isWrapper:e=>_e(J(),e)||re(e),getCustomElements:ae,addValidElements:O,setValidElements:B,addCustomElements:D,addValidChildren:L}},Us=e=>{const t=e.toString(16);return(1===t.length?\"0\"+t:t).toUpperCase()},zs=e=>(e=>{return{value:(t=e,je(t,\"#\").toUpperCase())};var t})(Us(e.red)+Us(e.green)+Us(e.blue)),js=/^\\s*rgb\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*\\)\\s*$/i,Hs=/^\\s*rgba\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*((?:\\d?\\.\\d+|\\d+)%?)\\s*\\)\\s*$/i,$s=(e,t,n,o)=>((e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}))(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(o)),Vs=e=>{const t=js.exec(e);if(null!==t)return I.some($s(t[1],t[2],t[3],\"1\"));const n=Hs.exec(e);return null!==n?I.some($s(n[1],n[2],n[3],n[4])):I.none()},qs=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Ws=e=>Vs(e).map(zs).map((e=>\"#\"+e.value)).getOr(e),Ks=(e={},t)=>{const n=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,o=/\\s*([^:]+):\\s*([^;]+);?/g,r=/\\s+$/,s={};let a,i;const l=Vo;t&&(a=t.getValidStyles(),i=t.getInvalidStyles());const d=\"\\\\\\\" \\\\' \\\\; \\\\: ; : \\ufeff\".split(\" \");for(let e=0;e<d.length;e++)s[d[e]]=l+e,s[l+e]=d[e];const c={parse:t=>{const a={};let i=!1;const d=e.url_converter,u=e.url_converter_scope||c,m=(e,t,n)=>{const o=a[e+\"-top\"+t];if(!o)return;const r=a[e+\"-right\"+t];if(!r)return;const s=a[e+\"-bottom\"+t];if(!s)return;const i=a[e+\"-left\"+t];if(!i)return;const l=[o,r,s,i];let d=l.length-1;for(;d--&&l[d]===l[d+1];);d>-1&&n||(a[e+t]=-1===d?l[0]:l.join(\" \"),delete a[e+\"-top\"+t],delete a[e+\"-right\"+t],delete a[e+\"-bottom\"+t],delete a[e+\"-left\"+t])},f=e=>{const t=a[e];if(!t)return;const n=t.indexOf(\",\")>-1?[t]:t.split(\" \");let o=n.length;for(;o--;)if(n[o]!==n[0])return!1;return a[e]=n[0],!0},g=e=>(i=!0,s[e]),p=(e,t)=>(i&&(e=e.replace(/\\uFEFF[0-9]/g,(e=>s[e]))),t||(e=e.replace(/\\\\([\\'\\\";:])/g,\"$1\")),e),h=e=>String.fromCharCode(parseInt(e.slice(1),16)),b=e=>e.replace(/\\\\[0-9a-f]+/gi,h),v=(t,n,o,r,s,a)=>{if(s=s||a)return\"'\"+(s=p(s)).replace(/\\'/g,\"\\\\'\")+\"'\";if(n=p(n||o||r||\"\"),!e.allow_script_urls){const t=n.replace(/[\\s\\r\\n]+/g,\"\");if(/(java|vb)script:/i.test(t))return\"\";if(!e.allow_svg_data_urls&&/^data:image\\/svg/i.test(t))return\"\"}return d&&(n=d.call(u,n,\"style\")),\"url('\"+n.replace(/\\'/g,\"\\\\'\")+\"')\"};if(t){let s;for(t=(t=t.replace(/[\\u0000-\\u001F]/g,\"\")).replace(/\\\\[\\\"\\';:\\uFEFF]/g,g).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,(e=>e.replace(/[;:]/g,g)));s=o.exec(t);){o.lastIndex=s.index+s[0].length;let t=s[1].replace(r,\"\").toLowerCase(),d=s[2].replace(r,\"\");if(t&&d){if(t=b(t),d=b(d),-1!==t.indexOf(l)||-1!==t.indexOf('\"'))continue;if(!e.allow_script_urls&&(\"behavior\"===t||/expression\\s*\\(|\\/\\*|\\*\\//.test(d)))continue;\"font-weight\"===t&&\"700\"===d?d=\"bold\":\"color\"!==t&&\"background-color\"!==t||(d=d.toLowerCase()),\"rgb\"==(E=d,js.test(E)?\"rgb\":Hs.test(E)?\"rgba\":\"other\")&&Vs(d).each((e=>{d=Ws(qs(e)).toLowerCase()})),d=d.replace(n,v),a[t]=i?p(d,!0):d}}m(\"border\",\"\",!0),m(\"border\",\"-width\"),m(\"border\",\"-color\"),m(\"border\",\"-style\"),m(\"padding\",\"\"),m(\"margin\",\"\"),C=\"border-style\",w=\"border-color\",f(y=\"border-width\")&&f(C)&&f(w)&&(a.border=a[y]+\" \"+a[C]+\" \"+a[w],delete a[y],delete a[C],delete a[w]),\"medium none\"===a.border&&delete a.border,\"none\"===a[\"border-image\"]&&delete a[\"border-image\"]}var y,C,w,E;return a},serialize:(e,t)=>{let n=\"\";const o=(t,o)=>{const r=o[t];if(r)for(let t=0,o=r.length;t<o;t++){const o=r[t],s=e[o];s&&(n+=(n.length>0?\" \":\"\")+o+\": \"+s+\";\")}};return t&&a?(o(\"*\",a),o(t,a)):pe(e,((e,o)=>{e&&((e,t)=>{if(!i||!t)return!0;let n=i[\"*\"];return!(n&&n[e]||(n=i[t],n&&n[e]))})(o,t)&&(n+=(n.length>0?\" \":\"\")+o+\": \"+e+\";\")})),n}};return c},Ys={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Gs=(e,t)=>{const n=null!=t?t:{};for(const t in e)_e(Ys,t)||(n[t]=e[t]);return C(e.composedPath)&&(n.composedPath=()=>e.composedPath()),C(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),C(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Xs=(e,t,n,o)=>{var r;const s=Gs(t,o);return s.type=e,y(s.target)&&(s.target=null!==(r=s.srcElement)&&void 0!==r?r:n),(e=>y(e.preventDefault)||(e=>e instanceof Event||w(e.initEvent))(e))(t)&&(s.preventDefault=()=>{s.defaultPrevented=!0,s.isDefaultPrevented=M,w(t.preventDefault)&&t.preventDefault()},s.stopPropagation=()=>{s.cancelBubble=!0,s.isPropagationStopped=M,w(t.stopPropagation)&&t.stopPropagation()},s.stopImmediatePropagation=()=>{s.isImmediatePropagationStopped=M,s.stopPropagation()},(e=>e.isDefaultPrevented===M||e.isDefaultPrevented===L)(s)||(s.isDefaultPrevented=!0===s.defaultPrevented?M:L,s.isPropagationStopped=!0===s.cancelBubble?M:L,s.isImmediatePropagationStopped=L)),s},Zs=/^(?:mouse|contextmenu)|click/,Qs=(e,t,n,o)=>{e.addEventListener(t,n,o||!1)},Js=(e,t,n,o)=>{e.removeEventListener(t,n,o||!1)},ea=(e,t)=>{const n=Xs(e.type,e,document,t);if((e=>C(e)&&Zs.test(e.type))(e)&&v(e.pageX)&&!v(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,r=t.body,s=n;s.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),s.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},ta=(e,t,n)=>{const o=e.document,r={type:\"ready\"};if(n.domLoaded)return void t(r);const s=()=>{Js(e,\"DOMContentLoaded\",s),Js(e,\"load\",s),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};\"complete\"===o.readyState||\"interactive\"===o.readyState&&o.body?s():Qs(e,\"DOMContentLoaded\",s),n.domLoaded||Qs(e,\"load\",s)};class na{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=\"mce-data-\"+(+new Date).toString(32),this.hasFocusIn=\"onfocusin\"in document.documentElement,this.count=1}bind(e,t,n,o){const r=this;let s;const a=window,i=e=>{r.executeHandlers(ea(e||a.event),l)};if(!e||lr(e)||ur(e))return n;let l;e[r.expando]?l=e[r.expando]:(l=r.count++,e[r.expando]=l,r.events[l]={}),o=o||e;const d=t.split(\" \");let c=d.length;for(;c--;){let t=d[c],u=i,m=!1,f=!1;\"DOMContentLoaded\"===t&&(t=\"ready\"),r.domLoaded&&\"ready\"===t&&\"complete\"===e.readyState?n.call(o,ea({type:t})):(r.hasFocusIn||\"focusin\"!==t&&\"focusout\"!==t||(m=!0,f=\"focusin\"===t?\"focus\":\"blur\",u=e=>{const t=ea(e||a.event);t.type=\"focus\"===t.type?\"focusin\":\"focusout\",r.executeHandlers(t,l)}),s=r.events[l][t],s?\"ready\"===t&&r.domLoaded?n(ea({type:t})):s.push({func:n,scope:o}):(r.events[l][t]=s=[{func:n,scope:o}],s.fakeName=f,s.capture=m,s.nativeHandler=u,\"ready\"===t?ta(e,u,r):Qs(e,f||t,u,m)))}return e=s=null,n}unbind(e,t,n){if(!e||lr(e)||ur(e))return this;const o=e[this.expando];if(o){let r=this.events[o];if(t){const o=t.split(\" \");let s=o.length;for(;s--;){const t=o[s],a=r[t];if(a){if(n){let e=a.length;for(;e--;)if(a[e].func===n){const n=a.nativeHandler,o=a.fakeName,s=a.capture,i=a.slice(0,e).concat(a.slice(e+1));i.nativeHandler=n,i.fakeName=o,i.capture=s,r[t]=i}}n&&0!==a.length||(delete r[t],Js(e,a.fakeName||t,a.nativeHandler,a.capture))}}}else pe(r,((t,n)=>{Js(e,t.fakeName||n,t.nativeHandler,t.capture)})),r={};for(const e in r)if(_e(r,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||lr(e)||ur(e))return this;const o=ea({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||lr(e)||ur(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName(\"*\");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}na.Event=new na;const oa=Dt.each,ra=Dt.grep,sa=\"data-mce-style\",aa=Dt.makeMap(\"fill-opacity font-weight line-height opacity orphans widows z-index zoom\",\" \"),ia=(e,t,n)=>{y(n)||\"\"===n?rn(e,t):Jt(e,t,n)},la=e=>e.replace(/[A-Z]/g,(e=>\"-\"+e.toLowerCase())),da=(e,t)=>{let n=0;if(e)for(let o=e.nodeType,r=e.previousSibling;r;r=r.previousSibling){const e=r.nodeType;(!t||!lr(r)||e!==o&&r.data.length)&&(n++,o=e)}return n},ca=(e,t)=>{const n=tn(t,\"style\"),o=e.serialize(e.parse(n),$t(t));ia(t,sa,o)},ua=(e,t,n)=>{const o=la(t);y(n)||\"\"===n?go(e,o):io(e,o,((e,t)=>E(e)?_e(aa,t)?e+\"\":e+\"px\":e)(n,o))},ma=(e,t={})=>{const n={},o=window,r={};let s=0;const a=rs.forElement(Cn(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),i=[],l=t.schema?t.schema:Fs({}),d=Ks({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),c=t.ownEvents?new na:na.Event,u=l.getBlockElements(),f=t=>t&&e&&m(t)?e.getElementById(t):t,h=e=>{const t=f(e);return C(t)?Cn(t):null},b=(e,t,n=\"\")=>{let o;const r=h(e);if(C(r)&&Kt(r)){const e=G[t];o=e&&e.get?e.get(r.dom,t):tn(r,t)}return C(o)?o:n},v=e=>{const t=f(e);return y(t)?[]:t.attributes},E=(e,n,o)=>{B(e,(e=>{if(Jo(e)){const r=Cn(e),s=\"\"===o?null:o,a=tn(r,n),i=G[n];i&&i.set?i.set(r.dom,s,n):ia(r,n,s),a!==s&&t.onSetAttrib&&t.onSetAttrib({attrElm:r.dom,attrName:n,attrValue:s})}}))},x=()=>t.root_element||e.body,k=(t,n)=>((e,t,n)=>{let o=0,r=0;const s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&\"static\"===co(Cn(e),\"position\")){const n=t.getBoundingClientRect();return o=n.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,r=n.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:o,y:r}}let a=t;for(;a&&a!==n&&a.nodeType&&!ns(a,n);){const e=a;o+=e.offsetLeft||0,r+=e.offsetTop||0,a=e.offsetParent}for(a=t.parentNode;a&&a!==n&&a.nodeType&&!ns(a,n);)o-=a.scrollLeft||0,r-=a.scrollTop||0,a=a.parentNode;r+=(e=>es.isFirefox()&&\"table\"===$t(e)?ts(In(e)).filter((e=>\"caption\"===$t(e))).bind((e=>ts(Mn(e)).map((t=>{const n=t.dom.offsetTop,o=e.dom.offsetTop,r=e.dom.offsetHeight;return n<=o?-r:0})))).getOr(0):0)(Cn(t))}return{x:o,y:r}})(e.body,f(t),n),S=(e,t,n)=>{const o=f(e);var r;if(!y(o)&&(er(o)||Jo(r=o)&&\"http://www.w3.org/2000/svg\"===r.namespaceURI))return n?co(Cn(o),la(t)):(\"float\"===(t=t.replace(/-(\\D)/g,((e,t)=>t.toUpperCase())))&&(t=\"cssFloat\"),o.style?o.style[t]:void 0)},R=e=>{const t=f(e);if(!t)return{w:0,h:0};let n=S(t,\"width\"),o=S(t,\"height\");return n&&-1!==n.indexOf(\"px\")||(n=\"0\"),o&&-1!==o.indexOf(\"px\")||(o=\"0\"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},A=(e,t)=>{if(!e)return!1;const n=p(e)?e:[e];return $(n,(e=>xn(Cn(e),t)))},T=(e,t,n,o)=>{const r=[];let s=f(e);o=void 0===o;const a=n||(\"BODY\"!==x().nodeName?x().parentNode:null);if(m(t))if(\"*\"===t)t=Jo;else{const e=t;t=t=>A(t,e)}for(;s&&!(s===a||y(s.nodeType)||mr(s)||fr(s));){if(!t||t(s)){if(!o)return[s];r.push(s)}s=s.parentNode}return o?r:null},O=(e,t,n)=>{let o=t;if(e){m(t)&&(o=e=>A(e,t));for(let t=e[n];t;t=t[n])if(w(o)&&o(t))return t}return null},B=function(e,t,n){const o=null!=n?n:this;if(p(e)){const n=[];return oa(e,((e,r)=>{const s=f(e);s&&n.push(t.call(o,s,r))})),n}{const n=f(e);return!!n&&t.call(o,n)}},P=(e,t)=>{B(e,(e=>{pe(t,((t,n)=>{E(e,n,t)}))}))},D=(e,t)=>{B(e,(e=>{const n=Cn(e);So(n,t)}))},L=(t,n,o,r,s)=>B(t,(t=>{const a=m(n)?e.createElement(n):n;return C(o)&&P(a,o),r&&(!m(r)&&r.nodeType?a.appendChild(r):m(r)&&D(a,r)),s?a:t.appendChild(a)})),M=(t,n,o)=>L(e.createElement(t),t,n,o,!0),I=ws.encodeAllRaw,F=(e,t)=>B(e,(e=>{const n=Cn(e);return t&&q(In(n),(e=>{Yt(e)&&0===e.dom.length?Eo(e):po(n,e)})),Eo(n),n.dom})),U=(e,t,n)=>{B(e,(e=>{if(Jo(e)){const o=Cn(e),r=t.split(\" \");q(r,(e=>{C(n)?(n?mn:gn)(o,e):((e,t)=>{const n=ln(e)?e.dom.classList.toggle(t):((e,t)=>H(dn(e),t)?un(e,t):cn(e,t))(e,t);fn(e)})(o,e)}))}}))},z=(e,t,n)=>B(t,(o=>{var r;const s=p(t)?e.cloneNode(!0):e;return n&&oa(ra(o.childNodes),(e=>{s.appendChild(e)})),null===(r=o.parentNode)||void 0===r||r.replaceChild(s,o),o})),j=()=>e.createRange(),V=(n,r,s,a)=>{if(p(n)){let e=n.length;const t=[];for(;e--;)t[e]=V(n[e],r,s,a);return t}return!t.collect||n!==e&&n!==o||i.push([n,r,s,a]),c.bind(n,r,s,a||Y)},W=(t,n,r)=>{if(p(t)){let e=t.length;const o=[];for(;e--;)o[e]=W(t[e],n,r);return o}if(i.length>0&&(t===e||t===o)){let e=i.length;for(;e--;){const[o,s,a]=i[e];t!==o||n&&n!==s||r&&r!==a||c.unbind(o,s,a)}}return c.unbind(t,n,r)},K=e=>{if(e&&er(e)){const t=e.getAttribute(\"data-mce-contenteditable\");return t&&\"inherit\"!==t?t:\"inherit\"!==e.contentEditable?e.contentEditable:null}return null},Y={doc:e,settings:t,win:o,files:r,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:i,styles:d,schema:l,events:c,isBlock:e=>m(e)?_e(u,e):Jo(e)&&(_e(u,e.nodeName)||Zr(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:x,getViewPort:e=>{const t=Io(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=f(e),n=k(t),o=R(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},getSize:R,getParent:(e,t,n)=>{const o=T(e,t,n,!1);return o&&o.length>0?o[0]:null},getParents:T,get:f,getNext:(e,t)=>O(e,t,\"nextSibling\"),getPrev:(e,t)=>O(e,t,\"previousSibling\"),select:(n,o)=>{var r,s;const a=null!==(s=null!==(r=f(o))&&void 0!==r?r:t.root_element)&&void 0!==s?s:e;return w(a.querySelectorAll)?ce(a.querySelectorAll(n)):[]},is:A,add:L,create:M,createHTML:(e,t,n=\"\")=>{let o=\"<\"+e;for(const e in t)ke(t,e)&&(o+=\" \"+e+'=\"'+I(t[e])+'\"');return Xe(n)&&_e(l.getVoidElements(),e)?o+\" />\":o+\">\"+n+\"</\"+e+\">\"},createFragment:t=>{const n=e.createElement(\"div\"),o=e.createDocumentFragment();let r;for(o.appendChild(n),t&&(n.innerHTML=t);r=n.firstChild;)o.appendChild(r);return o.removeChild(n),o},remove:F,setStyle:(e,n,o)=>{B(e,(e=>{const r=Cn(e);ua(r,n,o),t.update_styles&&ca(d,r)}))},getStyle:S,setStyles:(e,n)=>{B(e,(e=>{const o=Cn(e);pe(n,((e,t)=>{ua(o,t,e)})),t.update_styles&&ca(d,o)}))},removeAllAttribs:e=>B(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:E,setAttribs:P,getAttrib:b,getPos:k,parseStyle:e=>d.parse(e),serializeStyle:(e,t)=>d.serialize(e,t),addStyle:t=>{if(Y!==ma.DOM&&e===document){if(n[t])return;n[t]=!0}let o=e.getElementById(\"mceDefaultStyles\");if(!o){o=e.createElement(\"style\"),o.id=\"mceDefaultStyles\",o.type=\"text/css\";const t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=\"\"),q(e.split(\",\"),(e=>{r[e]=!0,a.load(e).catch(_)}))},addClass:(e,t)=>{U(e,t,!0)},removeClass:(e,t)=>{U(e,t,!1)},hasClass:(e,t)=>{const n=h(e),o=t.split(\" \");return C(n)&&ne(o,(e=>pn(n,e)))},toggleClass:U,show:e=>{B(e,(e=>go(Cn(e),\"display\")))},hide:e=>{B(e,(e=>io(Cn(e),\"display\",\"none\")))},isHidden:e=>{const t=h(e);return C(t)&&Lt(mo(t,\"display\"),\"none\")},uniqueId:e=>(e||\"mce_\")+s++,setHTML:D,getOuterHTML:e=>{const t=h(e);return C(t)?Jo(t.dom)?t.dom.outerHTML:(e=>{const t=vn(\"div\"),n=Cn(e.dom.cloneNode(!0));return vo(t,n),ko(t)})(t):\"\"},setOuterHTML:(e,t)=>{B(e,(e=>{Jo(e)&&(e.outerHTML=t)}))},decode:ws.decode,encode:I,insertAfter:(e,t)=>{const n=f(t);return B(e,(e=>{const t=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e}))},replace:z,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=M(t);return oa(v(e),(t=>{E(n,t.nodeName,b(e,t.nodeName))})),z(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:B,getAttribs:v,isEmpty:(e,t,n)=>{if(g(t)){const o=e=>{const n=e.nodeName.toLowerCase();return Boolean(t[n])};return Ar(l,e,{...n,isContent:o})}return Ar(l,e,n)},createRng:j,nodeIndex:da,split:(e,t,n)=>{let o,r,s=j();if(e&&t&&e.parentNode&&t.parentNode){const a=e.parentNode;return s.setStart(a,da(e)),s.setEnd(t.parentNode,da(t)),o=s.extractContents(),s=j(),s.setStart(t.parentNode,da(t)+1),s.setEnd(a,da(e)+1),r=s.extractContents(),a.insertBefore(is(Y,o,l),e),n?a.insertBefore(n,e):a.insertBefore(t,e),a.insertBefore(is(Y,r,l),e),F(e),n||t}},bind:V,unbind:W,fire:(e,t,n)=>c.dispatch(e,t,n),dispatch:(e,t,n)=>c.dispatch(e,t,n),getContentEditable:K,getContentEditableParent:e=>{const t=x();let n=null;for(let o=e;o&&o!==t&&(n=K(o),null===n);o=o.parentNode);return n},isEditable:e=>{if(C(e)){const t=Jo(e)?e:e.parentElement;return C(t)&&er(t)&&no(Cn(t))}return!1},destroy:()=>{if(i.length>0){let e=i.length;for(;e--;){const[t,n,o]=i[e];c.unbind(t,n,o)}}pe(r,((e,t)=>{a.unload(t),delete r[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>\"startContainer: \"+e.startContainer.nodeName+\", startOffset: \"+e.startOffset+\", endContainer: \"+e.endContainer.nodeName+\", endOffset: \"+e.endOffset},G=((e,t,n)=>{const o=t.keep_values,r={set:(e,o,r)=>{const s=Cn(e);w(t.url_converter)&&C(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),String(o),r,e)),ia(s,\"data-mce-\"+r,o),ia(s,r,o)},get:(e,t)=>{const n=Cn(e);return tn(n,\"data-mce-\"+t)||tn(n,t)}},s={style:{set:(t,n)=>{const r=Cn(t);o&&ia(r,sa,n),rn(r,\"style\"),m(n)&&lo(r,e.parse(n))},get:t=>{const n=Cn(t),o=tn(n,sa)||tn(n,\"style\");return e.serialize(e.parse(o),$t(n))}}};return o&&(s.href=s.src=r),s})(d,t,N(Y));return Y};ma.DOM=ma(document),ma.nodeIndex=da;const fa=ma.DOM;class ga{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const o=fa;let r;const s=()=>{o.remove(a),r&&(r.onerror=r.onload=r=null)},a=o.uniqueId();r=document.createElement(\"script\"),r.id=a,r.type=\"text/javascript\",r.src=Dt._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,\"referrerpolicy\",this.settings.referrerPolicy),r.onload=()=>{s(),t()},r.onerror=()=>{s(),n(\"Failed to load script: \"+e)},(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(r)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{xe(t.scriptLoadedCallbacks,n).each((t=>{q(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=Y(e,(e=>\"rejected\"===e.status));return t.length>0?Promise.reject(te(t,(({reason:e})=>p(e)?e:[e]))):Promise.resolve()},r=e=>Promise.allSettled(V(e,(e=>2===t.states[e]?(n(\"resolve\",e),Promise.resolve()):3===t.states[e]?(n(\"reject\",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n(\"resolve\",e);const s=t.queue;return s.length>0?(t.queue=[],r(s).then(o)):Promise.resolve()}),(()=>(t.states[e]=3,n(\"reject\",e),Promise.reject(e)))))))),s=e=>(t.loading=!0,r(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return I.from(n).each(D),o(e)}))),a=Se(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>{s(a).then(e,n)}))})):s(a)}}ga.ScriptLoader=new ga;const pa={},ha=Br(\"en\"),ba=()=>xe(pa,ha.get()),va={getData:()=>he(pa,(e=>({...e}))),setCode:e=>{e&&ha.set(e)},getCode:()=>ha.get(),add:(e,t)=>{let n=pa[e];n||(pa[e]=n={});const o=V(fe(t),(e=>e.toLowerCase()));pe(t,((e,r)=>{const s=r.toLowerCase();s!==r&&((e,t)=>{const n=e.indexOf(t);return-1!==n&&e.indexOf(t,n+1)>n})(o,s)?(_e(t,s)||(n[s]=e),n[r]=e):n[s]=e}))},translate:e=>{const t=ba().getOr({}),n=e=>w(e)?Object.prototype.toString.call(e):o(e)?\"\":\"\"+e,o=e=>\"\"===e||null==e,r=e=>{const o=n(e);return _e(t,o)?n(t[o]):xe(t,o.toLowerCase()).map(n).getOr(o)},s=e=>e.replace(/{context:\\w+}$/,\"\");if(o(e))return\"\";if(f(a=e)&&_e(a,\"raw\"))return n(e.raw);var a;if((e=>p(e)&&e.length>1)(e)){const t=e.slice(1);return s(r(e[0]).replace(/\\{([0-9]+)\\}/g,((e,o)=>_e(t,o)?n(t[o]):e)))}return s(r(e))},isRtl:()=>ba().bind((e=>xe(e,\"_dir\"))).exists((e=>\"rtl\"===e)),hasCode:e=>_e(pa,e)},ya=()=>{const e=[],t={},n={},o=[],r=(e,t)=>{const n=Y(o,(n=>n.name===e&&n.state===t));q(n,(e=>e.resolve()))},s=e=>_e(t,e),a=(e,n)=>{const o=va.getCode();!o||n&&-1===(\",\"+(n||\"\")+\",\").indexOf(\",\"+o+\",\")||ga.ScriptLoader.add(t[e]+\"/langs/\"+o+\".js\")},i=(e,t=\"added\")=>\"added\"===t&&(e=>_e(n,e))(e)||\"loaded\"===t&&s(e)?Promise.resolve():new Promise((n=>{o.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==ya.languageLoad&&(s(e)?a(e,t):i(e,\"loaded\").then((()=>a(e,t))))},add:(t,o)=>(e.push(o),n[t]={instance:o},r(t,\"added\"),o),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>m(t)?m(e)?{prefix:\"\",resource:t,suffix:\"\"}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let s=m(o)?o:o.prefix+o.resource+o.suffix;0!==s.indexOf(\"/\")&&-1===s.indexOf(\"://\")&&(s=ya.baseURL+\"/\"+s),t[e]=s.substring(0,s.lastIndexOf(\"/\"));const a=()=>(r(e,\"loaded\"),Promise.resolve());return n[e]?a():ga.ScriptLoader.add(s).then(a)},waitFor:i}};ya.languageLoad=!0,ya.baseURL=\"\",ya.PluginManager=ya(),ya.ThemeManager=ya(),ya.ModelManager=ya();const Ca=(e,t)=>{let n=null;return{cancel:()=>{h(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{h(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}},wa=(e,t)=>{let n=null;const o=()=>{h(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}},Ea=N(\"mce-annotation\"),xa=N(\"data-mce-annotation\"),_a=N(\"data-mce-annotation-uid\"),ka=N(\"data-mce-annotation-active\"),Sa=N(\"data-mce-annotation-classes\"),Na=N(\"data-mce-annotation-attrs\"),Ra=e=>t=>kn(t,e),Aa=(e,t)=>{const n=e.selection.getRng(),o=Cn(n.startContainer),r=Cn(e.getBody()),s=t.fold((()=>\".\"+Ea()),(e=>`[${xa()}=\"${e}\"]`)),a=Fn(o,n.startOffset).getOr(o);return to(a,s,Ra(r)).bind((t=>nn(t,`${_a()}`).bind((n=>nn(t,`${xa()}`).map((t=>{const o=Oa(e,n);return{uid:n,name:t,elements:o}}))))))},Ta=(e,t)=>on(e,\"data-mce-bogus\")||((e,t,n)=>Jn(e,'[data-mce-bogus=\"all\"]',n).isSome())(e,0,Ra(t)),Oa=(e,t)=>{const n=Cn(e.getBody()),o=Uo(n,`[${_a()}=\"${t}\"]`);return Y(o,(e=>!Ta(e,n)))},Ba=(e,t)=>{const n=Cn(e.getBody()),o=Uo(n,`[${xa()}=\"${t}\"]`),r={};return q(o,(e=>{if(!Ta(e,n)){const t=tn(e,_a()),n=xe(r,t).getOr([]);r[t]=n.concat([e])}})),r},Pa=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Da=0;const La=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Pa());return Da++,e+\"_\"+n+Da+String(t)},Ma=(e,t)=>Cn(e.dom.cloneNode(t)),Ia=e=>Ma(e,!1),Fa=e=>Ma(e,!0),Ua=(e,t,n=L)=>{const o=new $o(e,t),r=e=>{let t;do{t=o[e]()}while(t&&!lr(t)&&!n(t));return I.from(t).filter(lr)};return{current:()=>I.from(o.current()).filter(lr),next:()=>r(\"next\"),prev:()=>r(\"prev\"),prev2:()=>r(\"prev2\")}},za=(e,t)=>{const n=t||(t=>e.isBlock(t)||gr(t)||br(t)),o=(e,t,n,r)=>{if(lr(e)){const n=r(e,t,e.data);if(-1!==n)return I.some({container:e,offset:n})}return n().bind((e=>o(e.container,e.offset,n,r)))};return{backwards:(t,r,s,a)=>{const i=Ua(t,null!=a?a:e.getRoot(),n);return o(t,r,(()=>i.prev().map((e=>({container:e,offset:e.length})))),s).getOrNull()},forwards:(t,r,s,a)=>{const i=Ua(t,null!=a?a:e.getRoot(),n);return o(t,r,(()=>i.next().map((e=>({container:e,offset:0})))),s).getOrNull()}}},ja=(e=>{const t=t=>e(t)?I.from(t.dom.nodeValue):I.none();return{get:n=>{if(!e(n))throw new Error(\"Can only get text value of a text node\");return t(n).getOr(\"\")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error(\"Can only set raw text value of a text node\");t.dom.nodeValue=n}}})(Yt),Ha=e=>ja.get(e),$a=(e,t)=>ja.set(e,t),Va=e=>{let t;return n=>(t=t||se(e,M),_e(t,$t(n)))},qa=e=>Kt(e)&&\"br\"===$t(e),Wa=Va([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"div\",\"address\",\"pre\",\"form\",\"blockquote\",\"center\",\"dir\",\"fieldset\",\"header\",\"footer\",\"article\",\"section\",\"hgroup\",\"aside\",\"nav\",\"figure\"]),Ka=Va([\"ul\",\"ol\",\"dl\"]),Ya=Va([\"li\",\"dd\",\"dt\"]),Ga=Va([\"thead\",\"tbody\",\"tfoot\"]),Xa=Va([\"td\",\"th\"]),Za=Va([\"pre\",\"script\",\"textarea\",\"style\"]),Qa=()=>{const e=vn(\"br\");return Jt(e,\"data-mce-bogus\",\"1\"),e},Ja=e=>{wo(e),vo(e,Qa())},ei=Vo,ti=Wo,ni=e=>e.replace(/\\uFEFF/g,\"\"),oi=Jo,ri=lr,si=e=>(ri(e)&&(e=e.parentNode),oi(e)&&e.hasAttribute(\"data-mce-caret\")),ai=e=>ri(e)&&ti(e.data),ii=e=>si(e)||ai(e),li=e=>e.firstChild!==e.lastChild||!gr(e.firstChild),di=e=>{const t=e.container();return!!lr(t)&&(t.data.charAt(e.offset())===ei||e.isAtStart()&&ai(t.previousSibling))},ci=e=>{const t=e.container();return!!lr(t)&&(t.data.charAt(e.offset()-1)===ei||e.isAtEnd()&&ai(t.nextSibling))},ui=e=>ri(e)&&e.data[0]===ei,mi=e=>ri(e)&&e.data[e.data.length-1]===ei,fi=e=>e&&e.hasAttribute(\"data-mce-caret\")?((e=>{var t;const n=e.getElementsByTagName(\"br\"),o=n[n.length-1];rr(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))})(e),e.removeAttribute(\"data-mce-caret\"),e.removeAttribute(\"data-mce-bogus\"),e.removeAttribute(\"style\"),e.removeAttribute(\"data-mce-style\"),e.removeAttribute(\"_moz_abspos\"),e):null,gi=e=>si(e.startContainer),pi=Math.round,hi=e=>e?{left:pi(e.left),top:pi(e.top),bottom:pi(e.bottom),right:pi(e.right),width:pi(e.width),height:pi(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},bi=(e,t)=>(e=hi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),vi=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,yi=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&vi(t.top-e.bottom,e,t)},Ci=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&vi(t.bottom-e.top,e,t),wi=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-r)*(n-r))},Ei=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},xi=(e,t)=>{if(Jo(e)&&e.hasChildNodes()){const n=e.childNodes,o=((e,t,n)=>Math.min(Math.max(e,0),n))(t,0,n.length-1);return n[o]}return e},_i=new RegExp(\"[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1abe\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20dd-\\u20e0\\u20e1\\u20e2-\\u20e4\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\ua670-\\ua672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]\"),ki=e=>m(e)&&e.charCodeAt(0)>=768&&_i.test(e),Si=hr,Ni=br,Ri=gr,Ai=lr,Ti=nr([\"script\",\"style\",\"textarea\"]),Oi=nr([\"img\",\"input\",\"textarea\",\"hr\",\"iframe\",\"video\",\"audio\",\"object\",\"embed\"]),Bi=nr([\"table\"]),Pi=ii,Di=e=>!Pi(e)&&(Ai(e)?!Ti(e.parentNode):Oi(e)||Ri(e)||Bi(e)||Li(e)),Li=e=>!(e=>Jo(e)&&\"true\"===e.getAttribute(\"unselectable\"))(e)&&Ni(e),Mi=(e,t)=>Di(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Li(n))return!1;if(Si(n))return!0}return!0})(e,t),Ii=Jo,Fi=Di,Ui=or(\"display\",\"block table\"),zi=or(\"float\",\"left right\"),ji=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(Ii,Fi,O(zi)),Hi=O(or(\"white-space\",\"pre pre-line pre-wrap\")),$i=lr,Vi=gr,qi=ma.nodeIndex,Wi=(e,t)=>t<0&&Jo(e)&&e.hasChildNodes()?void 0:xi(e,t),Ki=e=>e?e.createRange():ma.DOM.createRng(),Yi=e=>m(e)&&/[\\r\\n\\t ]/.test(e),Gi=e=>!!e.setStart&&!!e.setEnd,Xi=e=>{const t=e.startContainer,n=e.startOffset;if(Yi(e.toString())&&Hi(t.parentNode)&&lr(t)){const e=t.data;if(Yi(e[n-1])||Yi(e[n+1]))return!0}return!1},Zi=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Qi=e=>{var t;let n;const o=e.getClientRects();return n=o.length>0?hi(o[0]):hi(e.getBoundingClientRect()),!Gi(e)&&Vi(e)&&Zi(n)?(e=>{const t=e.ownerDocument,n=Ki(t),o=t.createTextNode(qo),r=e.parentNode;r.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const s=hi(n.getBoundingClientRect());return r.removeChild(o),s})(e):Zi(n)&&Gi(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,r=e.endOffset;if(t===n&&lr(n)&&0===o&&1===r){const t=e.cloneRange();return t.setEndAfter(n),Qi(t)}return null})(e))&&void 0!==t?t:n},Ji=(e,t)=>{const n=bi(e,t);return n.width=1,n.right=n.left+1,n},el=(e,t,n)=>{const o=()=>(n||(n=(e=>{const t=[],n=e=>{var n,o;0!==e.height&&(t.length>0&&(n=e,o=t[t.length-1],n.left===o.left&&n.top===o.top&&n.bottom===o.bottom&&n.right===o.right)||t.push(e))},o=(e,t)=>{const o=Ki(e.ownerDocument);if(t<e.data.length){if(ki(e.data[t]))return;if(ki(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!Xi(o)))return void n(Ji(Qi(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),Xi(o)||n(Ji(Qi(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),Xi(o)||n(Ji(Qi(o),!0)))},r=e.container(),s=e.offset();if($i(r))return o(r,s),t;if(Ii(r))if(e.isAtEnd()){const e=Wi(r,s);$i(e)&&o(e,e.data.length),ji(e)&&!Vi(e)&&n(Ji(Qi(e),!1))}else{const a=Wi(r,s);if($i(a)&&o(a,0),ji(a)&&e.isAtEnd())return n(Ji(Qi(a),!1)),t;const i=Wi(e.container(),e.offset()-1);ji(i)&&!Vi(i)&&(Ui(i)||Ui(a)||!ji(a))&&n(Ji(Qi(i),!1)),ji(a)&&n(Ji(Qi(a),!0))}return t})(el(e,t))),n);return{container:N(e),offset:N(t),toRange:()=>{const n=Ki(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>($i(e),0===t),isAtEnd:()=>$i(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Wi(e,n?t-1:t)}};el.fromRangeStart=e=>el(e.startContainer,e.startOffset),el.fromRangeEnd=e=>el(e.endContainer,e.endOffset),el.after=e=>el(e.parentNode,qi(e)+1),el.before=e=>el(e.parentNode,qi(e)),el.isAbove=(e,t)=>It(le(t.getClientRects()),de(e.getClientRects()),yi).getOr(!1),el.isBelow=(e,t)=>It(de(t.getClientRects()),le(e.getClientRects()),Ci).getOr(!1),el.isAtStart=e=>!!e&&e.isAtStart(),el.isAtEnd=e=>!!e&&e.isAtEnd(),el.isTextPosition=e=>!!e&&lr(e.container()),el.isElementPosition=e=>!el.isTextPosition(e);const tl=(e,t)=>{lr(t)&&0===t.data.length&&e.remove(t)},nl=(e,t,n)=>{fr(n)?((e,t,n)=>{const o=I.from(n.firstChild),r=I.from(n.lastChild);t.insertNode(n),o.each((t=>tl(e,t.previousSibling))),r.each((t=>tl(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),tl(e,n.previousSibling),tl(e,n.nextSibling)})(e,t,n)},ol=lr,rl=rr,sl=ma.nodeIndex,al=e=>{const t=e.parentNode;return rl(t)?al(t):t},il=e=>e?Be(e.childNodes,((e,t)=>(rl(t)&&\"BR\"!==t.nodeName?e=e.concat(il(t)):e.push(t),e)),[]):[],ll=e=>t=>e===t,dl=e=>(ol(e)?\"text()\":e.nodeName.toLowerCase())+\"[\"+(e=>{let t,n;t=il(al(e)),n=Pe(t,ll(e),e),t=t.slice(0,n+1);const o=Be(t,((e,n,o)=>(ol(n)&&ol(t[o-1])&&e++,e)),0);return t=Oe(t,nr([e.nodeName])),n=Pe(t,ll(e),e),n-o})(e)+\"]\",cl=(e,t)=>{let n,o=[],r=t.container(),s=t.offset();if(ol(r))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&ol(n);)t+=n.data.length;return t})(r,s);else{const e=r.childNodes;s>=e.length?(n=\"after\",s=e.length-1):n=\"before\",r=e[s]}o.push(dl(r));let a=((e,t)=>{const n=[];for(let o=t.parentNode;o&&o!==e;o=o.parentNode)n.push(o);return n})(e,r);return a=Oe(a,O(rr)),o=o.concat(Te(a,(e=>dl(e)))),o.reverse().join(\"/\")+\",\"+n},ul=(e,t)=>{if(!t)return null;const n=t.split(\",\"),o=n[0].split(\"/\"),r=n.length>1?n[1]:\"before\",s=Be(o,((e,t)=>{const n=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(t);return n?(\"text()\"===n[1]&&(n[1]=\"#text\"),((e,t,n)=>{let o=il(e);return o=Oe(o,((e,t)=>!ol(e)||!ol(o[t-1]))),o=Oe(o,nr([t])),o[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!s)return null;if(!ol(s)&&s.parentNode){let e;return e=\"after\"===r?sl(s)+1:sl(s),el(s.parentNode,e)}return((e,t)=>{let n=e,o=0;for(;ol(n);){const r=n.data.length;if(t>=o&&t<=o+r){e=n,t-=o;break}if(!ol(n.nextSibling)){e=n,t=r;break}o+=r,n=n.nextSibling}return ol(e)&&t>e.data.length&&(t=e.data.length),el(e,t)})(s,parseInt(r,10))},ml=br,fl=(e,t,n,o,r)=>{const s=r?o.startContainer:o.endContainer;let a=r?o.startOffset:o.endOffset;const i=[],l=e.getRoot();if(lr(s))i.push(n?((e,t,n)=>{let o=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&lr(n);n=n.previousSibling)o+=e(n.data).length;return o})(t,s,a):a);else{let t=0;const o=s.childNodes;a>=o.length&&o.length&&(t=1,a=Math.max(0,o.length-1)),i.push(e.nodeIndex(o[a],n)+t)}for(let t=s;t&&t!==l;t=t.parentNode)i.push(e.nodeIndex(t,n));return i},gl=(e,t,n)=>{let o=0;return Dt.each(e.select(t),(e=>\"all\"===e.getAttribute(\"data-mce-bogus\")?void 0:e!==n&&void o++)),o},pl=(e,t)=>{let n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(Jo(n)&&\"TR\"===n.nodeName){const r=n.childNodes;n=r[Math.min(t?o:o-1,r.length-1)],n&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))}},hl=e=>(pl(e,!0),pl(e,!1),e),bl=(e,t)=>{if(Jo(e)&&(e=xi(e,t),ml(e)))return e;if(ii(e)){lr(e)&&si(e)&&(e=e.parentNode);let t=e.previousSibling;if(ml(t))return t;if(t=e.nextSibling,ml(t))return t}},vl=(e,t,n)=>{const o=n.getNode(),r=n.getRng();if(\"IMG\"===o.nodeName||ml(o)){const e=o.nodeName;return{name:e,index:gl(n.dom,e,o)}}const s=(e=>bl(e.startContainer,e.startOffset)||bl(e.endContainer,e.endOffset))(r);if(s){const e=s.tagName;return{name:e,index:gl(n.dom,e,s)}}return((e,t,n,o)=>{const r=t.dom,s=fl(r,e,n,o,!0),a=t.isForward(),i=gi(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:s,forward:a,...i}:{start:s,end:fl(r,e,n,o,!1),forward:a,...i}})(e,n,t,r)},yl=(e,t,n)=>{const o={\"data-mce-type\":\"bookmark\",id:t,style:\"overflow:hidden;line-height:0px\"};return n?e.create(\"span\",o,\"&#xFEFF;\"):e.create(\"span\",o)},Cl=(e,t)=>{const n=e.dom;let o=e.getRng();const r=n.uniqueId(),s=e.isCollapsed(),a=e.getNode(),i=a.nodeName,l=e.isForward();if(\"IMG\"===i)return{name:i,index:gl(n,i,a)};const d=hl(o.cloneRange());if(!s){d.collapse(!1);const e=yl(n,r+\"_end\",t);nl(n,d,e)}o=hl(o),o.collapse(!0);const c=yl(n,r+\"_start\",t);return nl(n,o,c),e.moveToBookmark({id:r,keep:!0,forward:l}),{id:r,forward:l}},wl=T(vl,R,!0),El=e=>{const t=t=>t(e),n=N(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:M,isError:L,map:t=>_l.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>I.some(e)};return r},xl=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:L,isError:M,map:t,mapError:t=>_l.error(t(e)),bind:t,exists:L,forall:M,getOr:R,or:R,getOrThunk:P,orThunk:P,getOrDie:B(String(e)),each:_,toOptional:I.none};return n},_l={value:El,error:xl,fromOption:(e,t)=>e.fold((()=>xl(t)),El)},kl=e=>{if(!p(e))throw new Error(\"cases must be an array\");if(0===e.length)throw new Error(\"there must be at least one case\");const t=[],n={};return q(e,((o,r)=>{const s=fe(o);if(1!==s.length)throw new Error(\"one and only one name per case\");const a=s[0],i=o[a];if(void 0!==n[a])throw new Error(\"duplicate key detected:\"+a);if(\"cata\"===a)throw new Error(\"cannot have a case named cata (sorry)\");if(!p(i))throw new Error(\"case arguments must be an array\");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==i.length)throw new Error(\"Wrong number of arguments to case \"+a+\". Expected \"+i.length+\" (\"+i+\"), got \"+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+e.length+\", got \"+t.length);return t[r].apply(null,n)},match:e=>{const o=fe(e);if(t.length!==o.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+t.join(\",\")+\"\\nActual: \"+o.join(\",\"));if(!ne(t,(e=>H(o,e))))throw new Error(\"Not all branches were specified when using match. Specified: \"+o.join(\", \")+\"\\nRequired: \"+t.join(\", \"));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n};kl([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]);const Sl=e=>\"inline-command\"===e.type||\"inline-format\"===e.type,Nl=e=>\"block-command\"===e.type||\"block-format\"===e.type,Rl=e=>{var t;const n=t=>_l.error({message:t,pattern:e}),o=(t,o,r)=>{if(void 0!==e.format){let r;if(p(e.format)){if(!ne(e.format,m))return n(t+\" pattern has non-string items in the `format` array\");r=e.format}else{if(!m(e.format))return n(t+\" pattern has non-string `format` parameter\");r=[e.format]}return _l.value(o(r))}return void 0!==e.cmd?m(e.cmd)?_l.value(r(e.cmd,e.value)):n(t+\" pattern has non-string `cmd` parameter\"):n(t+\" pattern is missing both `format` and `cmd` parameters\")};if(!f(e))return n(\"Raw pattern is not an object\");if(!m(e.start))return n(\"Raw pattern is missing `start` parameter\");if(void 0!==e.end){if(!m(e.end))return n(\"Inline pattern has non-string `end` parameter\");if(0===e.start.length&&0===e.end.length)return n(\"Inline pattern has empty `start` and `end` parameters\");let t=e.start,r=e.end;return 0===r.length&&(r=t,t=\"\"),o(\"Inline\",(e=>({type:\"inline-format\",start:t,end:r,format:e})),((e,n)=>({type:\"inline-command\",start:t,end:r,cmd:e,value:n})))}if(void 0!==e.replacement)return m(e.replacement)?0===e.start.length?n(\"Replacement pattern has empty `start` parameter\"):_l.value({type:\"inline-command\",start:\"\",end:e.start,cmd:\"mceInsertContent\",value:e.replacement}):n(\"Replacement pattern has non-string `replacement` parameter\");{const r=null!==(t=e.trigger)&&void 0!==t?t:\"space\";return 0===e.start.length?n(\"Block pattern has empty `start` parameter\"):o(\"Block\",(t=>({type:\"block-format\",start:e.start,format:t[0],trigger:r})),((t,n)=>({type:\"block-command\",start:e.start,cmd:t,value:n,trigger:r})))}},Al=e=>Y(e,Nl),Tl=e=>Y(e,Sl),Ol=(e,t)=>({...e,blockPatterns:Y(e.blockPatterns,(e=>((e,t)=>(\"block-command\"===e.type||\"block-format\"===e.type)&&e.trigger===t)(e,t)))}),Bl=e=>{const t=(e=>{const t=[],n=[];return q(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(V(e,Rl));return q(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Pl=(e,t,n)=>{e.dispatch(t,n)},Dl=(e,t,n,o)=>{e.dispatch(\"FormatApply\",{format:t,node:n,vars:o})},Ll=(e,t,n,o)=>{e.dispatch(\"FormatRemove\",{format:t,node:n,vars:o})},Ml=(e,t)=>e.dispatch(\"SetContent\",t),Il=(e,t)=>e.dispatch(\"GetContent\",t),Fl=(e,t)=>{e.dispatch(\"AutocompleterUpdateActiveRange\",t)},Ul=(e,t)=>e.dispatch(\"PastePlainTextToggle\",{state:t}),zl=xt().deviceType,jl=zl.isTouch(),Hl=ma.DOM,$l=e=>u(e,RegExp),Vl=e=>t=>t.options.get(e),ql=e=>m(e)||f(e),Wl=(e,t=\"\")=>n=>{const o=m(n);if(o){if(-1!==n.indexOf(\"=\")){const r=(e=>{const t=e.indexOf(\"=\")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(\",\");return X(t,((e,t)=>{const n=t.split(\"=\"),o=n[0],r=n.length>1?n[1]:o;return e[We(o)]=We(r),e}),{})})(n);return{value:xe(r,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:\"Must be a string.\"}},Kl=Vl(\"iframe_attrs\"),Yl=Vl(\"doctype\"),Gl=Vl(\"document_base_url\"),Xl=Vl(\"body_id\"),Zl=Vl(\"body_class\"),Ql=Vl(\"content_security_policy\"),Jl=Vl(\"br_in_pre\"),ed=Vl(\"forced_root_block\"),td=Vl(\"forced_root_block_attrs\"),nd=Vl(\"newline_behavior\"),od=Vl(\"br_newline_selector\"),rd=Vl(\"no_newline_selector\"),sd=Vl(\"keep_styles\"),ad=Vl(\"end_container_on_empty_block\"),id=Vl(\"automatic_uploads\"),ld=Vl(\"images_reuse_filename\"),dd=Vl(\"images_replace_blob_uris\"),cd=Vl(\"icons\"),ud=Vl(\"icons_url\"),md=Vl(\"images_upload_url\"),fd=Vl(\"images_upload_base_path\"),gd=Vl(\"images_upload_credentials\"),pd=Vl(\"images_upload_handler\"),hd=Vl(\"content_css_cors\"),bd=Vl(\"referrer_policy\"),vd=Vl(\"language\"),yd=Vl(\"language_url\"),Cd=Vl(\"indent_use_margin\"),wd=Vl(\"indentation\"),Ed=Vl(\"content_css\"),xd=Vl(\"content_style\"),_d=Vl(\"font_css\"),kd=Vl(\"directionality\"),Sd=Vl(\"inline_boundaries_selector\"),Nd=Vl(\"object_resizing\"),Rd=Vl(\"resize_img_proportional\"),Ad=Vl(\"placeholder\"),Td=Vl(\"event_root\"),Od=Vl(\"service_message\"),Bd=Vl(\"theme\"),Pd=Vl(\"theme_url\"),Dd=Vl(\"model\"),Ld=Vl(\"model_url\"),Md=Vl(\"inline_boundaries\"),Id=Vl(\"formats\"),Fd=Vl(\"preview_styles\"),Ud=Vl(\"format_empty_lines\"),zd=Vl(\"format_noneditable_selector\"),jd=Vl(\"custom_ui_selector\"),Hd=Vl(\"inline\"),$d=Vl(\"hidden_input\"),Vd=Vl(\"submit_patch\"),qd=Vl(\"add_form_submit_trigger\"),Wd=Vl(\"add_unload_trigger\"),Kd=Vl(\"custom_undo_redo_levels\"),Yd=Vl(\"disable_nodechange\"),Gd=Vl(\"readonly\"),Xd=Vl(\"editable_root\"),Zd=Vl(\"content_css_cors\"),Qd=Vl(\"plugins\"),Jd=Vl(\"external_plugins\"),ec=Vl(\"block_unsupported_drop\"),tc=Vl(\"visual\"),nc=Vl(\"visual_table_class\"),oc=Vl(\"visual_anchor_class\"),rc=Vl(\"iframe_aria_text\"),sc=Vl(\"setup\"),ac=Vl(\"init_instance_callback\"),ic=Vl(\"urlconverter_callback\"),lc=Vl(\"auto_focus\"),dc=Vl(\"browser_spellcheck\"),cc=Vl(\"protect\"),uc=Vl(\"paste_block_drop\"),mc=Vl(\"paste_data_images\"),fc=Vl(\"paste_preprocess\"),gc=Vl(\"paste_postprocess\"),pc=Vl(\"newdocument_content\"),hc=Vl(\"paste_webkit_styles\"),bc=Vl(\"paste_remove_styles_if_webkit\"),vc=Vl(\"paste_merge_formats\"),yc=Vl(\"smart_paste\"),Cc=Vl(\"paste_as_text\"),wc=Vl(\"paste_tab_spaces\"),Ec=Vl(\"allow_html_data_urls\"),xc=Vl(\"text_patterns\"),_c=Vl(\"text_patterns_lookup\"),kc=Vl(\"noneditable_class\"),Sc=Vl(\"editable_class\"),Nc=Vl(\"noneditable_regexp\"),Rc=Vl(\"preserve_cdata\"),Ac=Vl(\"highlight_on_focus\"),Tc=Vl(\"xss_sanitization\"),Oc=Vl(\"init_content_sync\"),Bc=e=>Dt.explode(e.options.get(\"images_file_types\")),Pc=Vl(\"table_tab_navigation\"),Dc=Vl(\"details_initial_state\"),Lc=Vl(\"details_serialized_state\"),Mc=Vl(\"sandbox_iframes\"),Ic=e=>e.options.get(\"sandbox_iframes_exclusions\"),Fc=Vl(\"convert_unsafe_embeds\"),Uc=Vl(\"license_key\"),zc=Vl(\"api_key\"),jc=Vl(\"disabled\"),Hc=Jo,$c=lr,Vc=e=>{const t=e.parentNode;t&&t.removeChild(e)},qc=e=>{const t=ni(e);return{count:e.length-t.length,text:t}},Wc=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(ei));)e.deleteData(t,1)},Kc=(e,t)=>(Gc(e),t),Yc=(e,t)=>el.isTextPosition(t)?((e,t)=>$c(e)&&t.container()===e?((e,t)=>{const n=qc(e.data.substr(0,t.offset())),o=qc(e.data.substr(t.offset()));return(n.text+o.text).length>0?(Wc(e),el(e,t.offset()-n.count)):t})(e,t):Kc(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const n=t.container(),o=((e,t)=>{const n=j(e,t);return-1===n?I.none():I.some(n)})(ce(n.childNodes),e).map((e=>e<t.offset()?el(n,t.offset()-1):t)).getOr(t);return Gc(e),o})(e,t):Kc(e,t))(e,t),Gc=e=>{Hc(e)&&ii(e)&&(li(e)?e.removeAttribute(\"data-mce-caret\"):Vc(e)),$c(e)&&(Wc(e),0===e.data.length&&Vc(e))},Xc=br,Zc=wr,Qc=yr,Jc=(e,t,n)=>{const o=bi(t.getBoundingClientRect(),n);let r,s;if(\"BODY\"===e.tagName){const t=e.ownerDocument.documentElement;r=e.scrollLeft||t.scrollLeft,s=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();r=e.scrollLeft-t.left,s=e.scrollTop-t.top}o.left+=r,o.right+=r,o.top+=s,o.bottom+=s,o.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),o.left+=a,o.right+=a),o},eu=(e,t,n,o)=>{const r=Dr();let s,a;const i=ed(e),l=e.dom,d=()=>{(e=>{var t,n;const o=Uo(Cn(e),\"*[contentEditable=false],video,audio,embed,object\");for(let e=0;e<o.length;e++){const r=o[e].dom;let s=r.previousSibling;if(mi(s)){const e=s.data;1===e.length?null===(t=s.parentNode)||void 0===t||t.removeChild(s):s.deleteData(e.length-1,1)}s=r.nextSibling,ui(s)&&(1===s.data.length?null===(n=s.parentNode)||void 0===n||n.removeChild(s):s.deleteData(0,1))}})(t),a&&(Gc(a),a=null),r.on((e=>{l.remove(e.caret),r.clear()})),s&&(clearInterval(s),s=void 0)};return{show:(e,c)=>{let u;if(d(),Qc(c))return null;if(!n(c))return a=((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(ei),r=e.parentNode;if(t){const t=e.previousSibling;if(ri(t)){if(ii(t))return t;if(mi(t))return t.splitText(t.data.length-1)}null==r||r.insertBefore(o,e)}else{const t=e.nextSibling;if(ri(t)){if(ii(t))return t;if(ui(t))return t.splitText(1),t}e.nextSibling?null==r||r.insertBefore(o,e.nextSibling):null==r||r.appendChild(o)}return o})(c,e),u=c.ownerDocument.createRange(),nu(a.nextSibling)?(u.setStart(a,0),u.setEnd(a,0)):(u.setStart(a,1),u.setEnd(a,1)),u;{const n=((e,t,n)=>{var o;const r=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createElement(e);r.setAttribute(\"data-mce-caret\",n?\"before\":\"after\"),r.setAttribute(\"data-mce-bogus\",\"all\"),r.appendChild(Qa().dom);const s=t.parentNode;return n?null==s||s.insertBefore(r,t):t.nextSibling?null==s||s.insertBefore(r,t.nextSibling):null==s||s.appendChild(r),r})(i,c,e),d=Jc(t,c,e);l.setStyle(n,\"top\",d.top),l.setStyle(n,\"caret-color\",\"transparent\"),a=n;const m=l.create(\"div\",{class:\"mce-visual-caret\",\"data-mce-bogus\":\"all\"});l.setStyles(m,{...d}),l.add(t,m),r.set({caret:m,element:c,before:e}),e&&l.addClass(m,\"mce-visual-caret-before\"),s=setInterval((()=>{r.on((e=>{o()?l.toggleClass(e.caret,\"mce-visual-caret-hidden\"):l.addClass(e.caret,\"mce-visual-caret-hidden\")}))}),500),u=c.ownerDocument.createRange(),u.setStart(n,0),u.setEnd(n,0)}return u},hide:d,getCss:()=>\".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}\",reposition:()=>{r.on((e=>{const n=Jc(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(s)}},tu=()=>Tt.browser.isFirefox(),nu=e=>Xc(e)||Zc(e),ou=e=>(nu(e)||sr(e)&&tu())&&On(Cn(e)).exists(no),ru=hr,su=br,au=wr,iu=or(\"display\",\"block table table-cell table-row table-caption list-item\"),lu=ii,du=si,cu=Jo,uu=lr,mu=Di,fu=e=>1===e,gu=e=>-1===e,pu=(e,t)=>{let n;for(;n=e(t);)if(!du(n))return n;return null},hu=(e,t,n,o,r)=>{const s=new $o(e,o),a=su(e)||du(e);let i;if(gu(t)){if(a&&(i=pu(s.prev.bind(s),!0),n(i)))return i;for(;i=pu(s.prev.bind(s),r);)if(n(i))return i}if(fu(t)){if(a&&(i=pu(s.next.bind(s),!0),n(i)))return i;for(;i=pu(s.next.bind(s),r);)if(n(i))return i}return null},bu=(e,t)=>{for(;e&&e!==t;){if(iu(e))return e;e=e.parentNode}return null},vu=(e,t,n)=>bu(e.container(),n)===bu(t.container(),n),yu=(e,t)=>{if(!t)return I.none();const n=t.container(),o=t.offset();return cu(n)?I.from(n.childNodes[o+e]):I.none()},Cu=(e,t)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},wu=(e,t,n)=>bu(t,e)===bu(n,e),Eu=(e,t,n)=>{const o=e?\"previousSibling\":\"nextSibling\";let r=n;for(;r&&r!==t;){let e=r[o];if(e&&lu(e)&&(e=e[o]),su(e)||au(e)){if(wu(t,e,r))return e;break}if(mu(e))break;r=r.parentNode}return null},xu=T(Cu,!0),_u=T(Cu,!1),ku=(e,t,n)=>{let o;const r=T(Eu,!0,t),s=T(Eu,!1,t),a=n.startContainer,i=n.startOffset;if(si(a)){const e=uu(a)?a.parentNode:a,t=e.getAttribute(\"data-mce-caret\");if(\"before\"===t&&(o=e.nextSibling,ou(o)))return xu(o);if(\"after\"===t&&(o=e.previousSibling,ou(o)))return _u(o)}if(!n.collapsed)return n;if(lr(a)){if(lu(a)){if(1===e){if(o=s(a),o)return xu(o);if(o=r(a),o)return _u(o)}if(-1===e){if(o=r(a),o)return _u(o);if(o=s(a),o)return xu(o)}return n}if(mi(a)&&i>=a.data.length-1)return 1===e&&(o=s(a),o)?xu(o):n;if(ui(a)&&i<=1)return-1===e&&(o=r(a),o)?_u(o):n;if(i===a.data.length)return o=s(a),o?xu(o):n;if(0===i)return o=r(a),o?_u(o):n}return n},Su=(e,t)=>yu(e?0:-1,t).filter(su),Nu=(e,t,n)=>{const o=ku(e,t,n);return-1===e?el.fromRangeStart(o):el.fromRangeEnd(o)},Ru=e=>I.from(e.getNode()).map(Cn),Au=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Tu=(e,t)=>{const n=vu(e,t);return!(n||!gr(e.getNode()))||n},Ou=br,Bu=lr,Pu=Jo,Du=gr,Lu=Di,Mu=e=>Oi(e)||(e=>!!Li(e)&&!X(ce(e.getElementsByTagName(\"*\")),((e,t)=>e||Si(t)),!1))(e),Iu=Mi,Fu=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Uu=(e,t)=>{if(fu(e)){if(Lu(t.previousSibling)&&!Bu(t.previousSibling))return el.before(t);if(Bu(t))return el(t,0)}if(gu(e)){if(Lu(t.nextSibling)&&!Bu(t.nextSibling))return el.after(t);if(Bu(t))return el(t,t.data.length)}return gu(e)?Du(t)?el.before(t):el.after(t):el.before(t)},zu=(e,t,n)=>{let o,r,s,a;if(!Pu(n)||!t)return null;if(t.isEqual(el.after(n))&&n.lastChild){if(a=el.after(n.lastChild),gu(e)&&Lu(n.lastChild)&&Pu(n.lastChild))return Du(n.lastChild)?el.before(n.lastChild):a}else a=t;const i=a.container();let l=a.offset();if(Bu(i)){if(gu(e)&&l>0)return el(i,--l);if(fu(e)&&l<i.length)return el(i,++l);o=i}else{if(gu(e)&&l>0&&(r=Fu(i,l-1),Lu(r)))return!Mu(r)&&(s=hu(r,e,Iu,r),s)?Bu(s)?el(s,s.data.length):el.after(s):Bu(r)?el(r,r.data.length):el.before(r);if(fu(e)&&l<i.childNodes.length&&(r=Fu(i,l),Lu(r)))return Du(r)?((e,t)=>{const n=t.nextSibling;return n&&Lu(n)?Bu(n)?el(n,0):el.before(n):zu(1,el.after(t),e)})(n,r):!Mu(r)&&(s=hu(r,e,Iu,r),s)?Bu(s)?el(s,0):el.before(s):Bu(r)?el(r,0):el.after(r);o=r||a.getNode()}if(o&&(fu(e)&&a.isAtEnd()||gu(e)&&a.isAtStart())&&(o=hu(o,e,M,n,!0),Iu(o,n)))return Uu(e,o);r=o?hu(o,e,Iu,n):o;const d=De(Y(((e,t)=>{const n=[];let o=e;for(;o&&o!==t;)n.push(o),o=o.parentNode;return n})(i,n),Ou));return!d||r&&d.contains(r)?r?Uu(e,r):null:(a=fu(e)?el.after(d):el.before(d),a)},ju=e=>({next:t=>zu(1,t,e),prev:t=>zu(-1,t,e)}),Hu=e=>el.isTextPosition(e)?0===e.offset():Di(e.getNode()),$u=e=>{if(el.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Di(e.getNode(!0))},Vu=(e,t)=>!el.isTextPosition(e)&&!el.isTextPosition(t)&&e.getNode()===t.getNode(!0),qu=(e,t,n)=>{const o=ju(t);return I.from(e?o.next(n):o.prev(n))},Wu=(e,t,n)=>qu(e,t,n).bind((o=>vu(n,o,t)&&((e,t,n)=>{return e?!Vu(t,n)&&(o=t,!(!el.isTextPosition(o)&&gr(o.getNode())))&&$u(t)&&Hu(n):!Vu(n,t)&&Hu(t)&&$u(n);var o})(e,n,o)?qu(e,t,o):I.some(o))),Ku=(e,t,n,o)=>Wu(e,t,n).bind((n=>o(n)?Ku(e,t,n,o):I.some(n))),Yu=(e,t)=>{const n=e?t.firstChild:t.lastChild;return lr(n)?I.some(el(n,e?0:n.data.length)):n?Di(n)?I.some(e?el.before(n):gr(o=n)?el.before(o):el.after(o)):((e,t,n)=>{const o=e?el.before(n):el.after(n);return qu(e,t,o)})(e,t,n):I.none();var o},Gu=T(qu,!0),Xu=T(qu,!1),Zu=T(Yu,!0),Qu=T(Yu,!1),Ju=\"_mce_caret\",em=e=>Jo(e)&&e.id===Ju,tm=(e,t)=>{let n=t;for(;n&&n!==e;){if(em(n))return n;n=n.parentNode}return null},nm=e=>_e(e,\"name\"),om=e=>Dt.isArray(e.start),rm=e=>!(!nm(e)&&b(e.forward))||e.forward,sm=(e,t)=>(Jo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus=\"1\" />'),t),am=(e,t)=>Qu(e).fold(L,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),im=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!tm(e,t)||(((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(ei);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)})(t,n),0)),lm=(e,t,n,o)=>{const r=n[t?\"start\":\"end\"],s=e.getRoot();if(r){let e=s,n=r[0];for(let t=r.length-1;e&&t>=1;t--){const n=e.childNodes;if(im(s,e,o))return!0;if(r[t]>n.length-1)return!!im(s,e,o)||am(e,o);e=n[r[t]]}lr(e)&&(n=Math.min(r[0],e.data.length)),Jo(e)&&(n=Math.min(r[0],e.childNodes.length)),t?o.setStart(e,n):o.setEnd(e,n)}return!0},dm=e=>lr(e)&&e.data.length>0,cm=(e,t,n)=>{const o=e.get(n.id+\"_\"+t),r=null==o?void 0:o.parentNode,s=n.keep;if(o&&r){let a,i;if(\"start\"===t?s?o.hasChildNodes()?(a=o.firstChild,i=1):dm(o.nextSibling)?(a=o.nextSibling,i=0):dm(o.previousSibling)?(a=o.previousSibling,i=o.previousSibling.data.length):(a=r,i=e.nodeIndex(o)+1):(a=r,i=e.nodeIndex(o)):s?o.hasChildNodes()?(a=o.firstChild,i=1):dm(o.previousSibling)?(a=o.previousSibling,i=o.previousSibling.data.length):(a=r,i=e.nodeIndex(o)):(a=r,i=e.nodeIndex(o)),!s){const r=o.previousSibling,s=o.nextSibling;let l;for(Dt.each(Dt.grep(o.childNodes),(e=>{lr(e)&&(e.data=e.data.replace(/\\uFEFF/g,\"\"))}));l=e.get(n.id+\"_\"+t);)e.remove(l,!0);if(lr(s)&&lr(r)&&!Tt.browser.isOpera()){const t=r.data.length;r.appendData(s.data),e.remove(s),a=r,i=t}}return I.some(el(a,i))}return I.none()},um=(e,t,n)=>((e,t,n=!1)=>2===t?vl(ni,n,e):3===t?(e=>{const t=e.getRng();return{start:cl(e.dom.getRoot(),el.fromRangeStart(t)),end:cl(e.dom.getRoot(),el.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):Cl(e,!1))(e,t,n),mm=(e,t)=>{((e,t)=>{const n=e.dom;if(t){if(om(t))return((e,t)=>{const n=e.createRng();return lm(e,!0,t,n)&&lm(e,!1,t,n)?I.some({range:n,forward:rm(t)}):I.none()})(n,t);if((e=>m(e.start))(t))return((e,t)=>{const n=I.from(ul(e.getRoot(),t.start)),o=I.from(ul(e.getRoot(),t.end));return It(n,o,((n,o)=>{const r=e.createRng();return r.setStart(n.container(),n.offset()),r.setEnd(o.container(),o.offset()),{range:r,forward:rm(t)}}))})(n,t);if((e=>_e(e,\"id\"))(t))return((e,t)=>{const n=cm(e,\"start\",t),o=cm(e,\"end\",t);return It(n,o.or(n),((n,o)=>{const r=e.createRng();return r.setStart(sm(e,n.container()),n.offset()),r.setEnd(sm(e,o.container()),o.offset()),{range:r,forward:rm(t)}}))})(n,t);if(nm(t))return((e,t)=>I.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>_e(e,\"rng\"))(t))return I.some({range:t.rng,forward:rm(t)})}return I.none()})(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},fm=e=>Jo(e)&&\"SPAN\"===e.tagName&&\"bookmark\"===e.getAttribute(\"data-mce-type\"),gm=(pm=qo,e=>pm===e);var pm;const hm=e=>\"\"!==e&&-1!==\" \\f\\n\\r\\t\\v\".indexOf(e),bm=e=>!hm(e)&&!gm(e)&&!Wo(e),vm=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},ym=(e,t)=>{const n=Uo(t,\"td[data-mce-selected],th[data-mce-selected]\");return n.length>0?n:(e=>Y((e=>te(e,(e=>{const t=Ei(e);return t?[Cn(t)]:[]})))(e),Xa))(e)},Cm=e=>ym(vm(e.selection.getSel()),Cn(e.getBody())),wm=(e,t)=>Jn(e,\"table\",t),Em=e=>Un(e).fold(N([e]),(t=>[e].concat(Em(t)))),xm=e=>zn(e).fold(N([e]),(t=>\"br\"===$t(t)?Pn(t).map((t=>[e].concat(xm(t)))).getOr([]):[e].concat(xm(t)))),_m=(e,t)=>It((e=>{const t=e.startContainer,n=e.startOffset;return lr(t)?0===n?I.some(Cn(t)):I.none():I.from(t.childNodes[n]).map(Cn)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return lr(t)?n===t.data.length?I.some(Cn(t)):I.none():I.from(t.childNodes[n-1]).map(Cn)})(t),((t,n)=>{const o=Q(Em(e),T(kn,t)),r=Q(xm(e),T(kn,n));return o.isSome()&&r.isSome()})).getOr(!1),km=(e,t,n,o)=>{const r=n,s=new $o(n,r),a=Ce(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!H([\"td\",\"th\",\"table\"],t.toLowerCase())));let i=n;do{if(lr(i)&&0!==Dt.trim(i.data).length)return void(o?t.setStart(i,0):t.setEnd(i,i.data.length));if(a[i.nodeName])return void(o?t.setStartBefore(i):\"BR\"===i.nodeName?t.setEndBefore(i):t.setEndAfter(i))}while(i=o?s.next():s.prev());\"BODY\"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Sm=e=>{const t=e.selection.getSel();return C(t)&&t.rangeCount>0},Nm=(e,t)=>{const n=Cm(e);n.length>0?q(n,(n=>{const o=n.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)})):t(e.selection.getRng(),!1)},Rm=(e,t,n)=>{const o=Cl(e,t);n(o),e.moveToBookmark(o)},Am=e=>E(null==e?void 0:e.nodeType),Tm=e=>Jo(e)&&!fm(e)&&!em(e)&&!rr(e),Om=(e,t,n)=>{const{selection:o,dom:r}=e,s=o.getNode(),a=br(s);Rm(o,!0,(()=>{t()})),a&&br(s)&&r.isChildOf(s,e.getBody())?e.selection.select(s):n(o.getStart())&&Bm(r,o)},Bm=(e,t)=>{var n,o;const r=t.getRng(),{startContainer:s,startOffset:a}=r;if(!((e,t)=>{if(Tm(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,\"data-mce-selected\"),o=parseInt(n,10);return!isNaN(o)&&o>0}return!1})(e,t.getNode())&&Jo(s)){const i=s.childNodes,l=e.getRoot();let d;if(a<i.length){const t=i[a];d=new $o(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=i[i.length-1];d=new $o(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l),d.next(!0)}for(let n=d.current();n;n=d.next()){if(\"false\"===e.getContentEditable(n))return;if(lr(n)&&!Mm(n))return r.setStart(n,0),void t.setRng(r)}}},Pm=(e,t,n)=>{if(e){const o=t?\"nextSibling\":\"previousSibling\";for(e=n?e:e[o];e;e=e[o])if(Jo(e)||!Mm(e))return e}},Dm=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Zr(e,t),Lm=(e,t,n)=>e.schema.isValidChild(t,n),Mm=(e,t=!1)=>{if(C(e)&&lr(e)){const n=t?e.data.replace(/ /g,\"\\xa0\"):e.data;return Yo(n)}return!1},Im=(e,t)=>{const n=e.dom;return Tm(t)&&\"false\"===n.getContentEditable(t)&&((e,t)=>{const n=\"[data-mce-cef-wrappable]\",o=zd(e),r=Xe(o)?n:`${n},${o}`;return xn(Cn(t),r)})(e,t)&&0===n.select('[contenteditable=\"true\"]',t).length},Fm=(e,t)=>w(e)?e(t):(C(t)&&(e=e.replace(/%(\\w+)/g,((e,n)=>t[n]||e))),e),Um=(e,t)=>(t=t||\"\",e=\"\"+((e=e||\"\").nodeName||e),t=\"\"+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),zm=(e,t)=>{if(y(e))return null;{let n=String(e);return\"color\"!==t&&\"backgroundColor\"!==t||(n=Ws(n)),\"fontWeight\"===t&&700===e&&(n=\"bold\"),\"fontFamily\"===t&&(n=n.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\")),n}},jm=(e,t,n)=>{const o=e.getStyle(t,n);return zm(o,n)},Hm=(e,t)=>{let n;return e.getParent(t,(t=>!!Jo(t)&&(n=e.getStyle(t,\"text-decoration\"),!!n&&\"none\"!==n))),n},$m=(e,t,n)=>e.getParents(t,n,e.getRoot()),Vm=(e,t,n)=>{const o=e.formatter.get(t);return C(o)&&$(o,n)},qm=e=>ke(e,\"block\"),Wm=e=>ke(e,\"selector\"),Km=e=>ke(e,\"inline\"),Ym=e=>Wm(e)&&!1!==e.expand&&!Km(e),Gm=e=>(e=>{const t=[];let n=e;for(;n;){if(lr(n)&&n.data!==ei||n.childNodes.length>1)return[];Jo(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Xm=e=>em(e.dom)&&Gm(e.dom),Zm=fm,Qm=$m,Jm=Mm,ef=Dm,tf=(e,t)=>{let n=t;for(;n;){if(Jo(n)&&e.getContentEditable(n))return\"false\"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},nf=(e,t,n,o)=>{const r=t.data;if(e){for(let e=n;e>0;e--)if(o(r.charAt(e-1)))return e}else for(let e=n;e<r.length;e++)if(o(r.charAt(e)))return e;return-1},of=(e,t,n)=>nf(e,t,n,(e=>gm(e)||hm(e))),rf=(e,t,n)=>nf(e,t,n,bm),sf=(e,t,n,o,r,s)=>{let a;const i=e.getParent(n,(t=>vr(t)||e.isBlock(t))),l=C(i)?i:t,d=(t,n,o)=>{const s=za(e),i=r?s.backwards:s.forwards;return I.from(i(t,n,((e,t)=>Zm(e.parentNode)?-1:(a=e,o(r,e,t))),l))};return d(n,o,of).bind((e=>s?d(e.container,e.offset+(r?-1:0),rf):I.some(e))).orThunk((()=>a?I.some({container:a,offset:r?0:a.length}):I.none()))},af=(e,t,n,o,r)=>{const s=o[r];lr(o)&&Xe(o.data)&&s&&(o=s);const a=Qm(e,o);for(let o=0;o<a.length;o++)for(let r=0;r<t.length;r++){const s=t[r];if((!C(s.collapsed)||s.collapsed===n.collapsed)&&Wm(s)&&e.is(a[o],s.selector))return a[o]}return o},lf=(e,t,n,o)=>{var r;let s=n;const a=e.getRoot(),i=t[0];if(qm(i)&&(s=i.wrapper?null:e.getParent(n,i.block,a)),!s){const t=null!==(r=e.getParent(n,\"LI,TD,TH,SUMMARY\"))&&void 0!==r?r:a;s=e.getParent(lr(n)?n.parentNode:n,(t=>t!==a&&ef(e.schema,t)),t)}if(s&&qm(i)&&i.wrapper&&(s=Qm(e,s,\"ul,ol\").reverse()[0]||s),!s)for(s=n;s&&s[o]&&!e.isBlock(s[o])&&(s=s[o],!Um(s,\"br\")););return s||n},df=(e,t,n,o)=>{const r=n.parentNode;return!C(n[o])&&(!(r!==t&&!y(r)&&!e.isBlock(r))||df(e,t,r,o))},cf=(e,t,n,o,r,s)=>{let a=n;const i=r?\"previousSibling\":\"nextSibling\",l=e.getRoot();if(lr(n)&&!Jm(n)&&(r?o>0:o<n.data.length))return n;for(;a;){if(vr(a))return n;if(!t[0].block_expand&&e.isBlock(a))return s?a:n;for(let t=a[i];t;t=t[i]){const n=lr(t)&&!df(e,l,t,i);if(!Zm(t)&&(!gr(d=t)||!d.getAttribute(\"data-mce-bogus\")||d.nextSibling)&&!Jm(t,n))return a}if(a===l||a.parentNode===l){n=a;break}a=a.parentNode}var d;return n},uf=e=>Zm(e.parentNode)||Zm(e),mf=(e,t,n,o={})=>{const{includeTrailingSpace:r=!1,expandToBlock:s=!0}=o,a=e.getParent(t.commonAncestorContainer,(e=>vr(e))),i=C(a)?a:e.getRoot();let{startContainer:l,startOffset:d,endContainer:c,endOffset:u}=t;const m=n[0];return Jo(l)&&l.hasChildNodes()&&(l=xi(l,d),lr(l)&&(d=0)),Jo(c)&&c.hasChildNodes()&&(c=xi(c,t.collapsed?u:u-1),lr(c)&&(u=c.data.length)),l=tf(e,l),c=tf(e,c),uf(l)&&(l=Zm(l)?l:l.parentNode,l=t.collapsed?l.previousSibling||l:l.nextSibling||l,lr(l)&&(d=t.collapsed?l.length:0)),uf(c)&&(c=Zm(c)?c:c.parentNode,c=t.collapsed?c.nextSibling||c:c.previousSibling||c,lr(c)&&(u=t.collapsed?0:c.length)),t.collapsed&&(sf(e,i,l,d,!0,r).each((({container:e,offset:t})=>{l=e,d=t})),sf(e,i,c,u,!1,r).each((({container:e,offset:t})=>{c=e,u=t}))),(Km(m)||m.block_expand)&&(Km(m)&&lr(l)&&0!==d||(l=cf(e,n,l,d,!0,s)),Km(m)&&lr(c)&&u!==c.data.length||(c=cf(e,n,c,u,!1,s))),Ym(m)&&(l=af(e,n,t,l,\"previousSibling\"),c=af(e,n,t,c,\"nextSibling\")),(qm(m)||Wm(m))&&(l=lf(e,n,l,\"previousSibling\"),c=lf(e,n,c,\"nextSibling\"),qm(m)&&(e.isBlock(l)||(l=cf(e,n,l,d,!0,s),lr(l)&&(d=0)),e.isBlock(c)||(c=cf(e,n,c,u,!1,s),lr(c)&&(u=c.data.length)))),Jo(l)&&l.parentNode&&(d=e.nodeIndex(l),l=l.parentNode),Jo(c)&&c.parentNode&&(u=e.nodeIndex(c)+1,c=c.parentNode),{startContainer:l,startOffset:d,endContainer:c,endOffset:u}},ff=(e,t,n)=>{var o;const r=t.startOffset,s=xi(t.startContainer,r),a=t.endOffset,i=xi(t.endContainer,a-1),l=e=>{const t=e[0];lr(t)&&t===s&&r>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===a&&e.length>0&&n===i&&lr(n)&&e.splice(e.length-1,1),e},d=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},c=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),u=(e,t,o)=>{const r=o?\"nextSibling\":\"previousSibling\";for(let s=e,a=s.parentNode;s&&s!==t;s=a){a=s.parentNode;const t=d(s===e?s:s[r],r);t.length&&(o||t.reverse(),n(l(t)))}};if(s===i)return n(l([s]));const m=null!==(o=e.findCommonAncestor(s,i))&&void 0!==o?o:e.getRoot();if(e.isChildOf(s,i))return u(s,m,!0);if(e.isChildOf(i,s))return u(i,m);const f=c(s,m)||s,g=c(i,m)||i;u(s,f,!0);const p=d(f===s?f:f.nextSibling,\"nextSibling\",g===i?g.nextSibling:g);p.length&&n(l(p)),u(i,g)},gf=['pre[class*=language-][contenteditable=\"false\"]',\"figure.image\",\"div[data-ephox-embed-iri]\",\"div.tiny-pageembed\",\"div.mce-toc\",\"div[data-mce-toc]\"],pf=(e,t,n,o,r,s)=>{const{uid:a=t,...i}=n;mn(e,Ea()),Jt(e,`${_a()}`,a),Jt(e,`${xa()}`,o);const{attributes:l={},classes:d=[]}=r(a,i);if(en(e,l),((e,t)=>{q(t,(t=>{mn(e,t)}))})(e,d),s){d.length>0&&Jt(e,`${Sa()}`,d.join(\",\"));const t=fe(l);t.length>0&&Jt(e,`${Na()}`,t.join(\",\"))}},hf=(e,t,n,o,r)=>{const s=vn(\"span\",e);return pf(s,t,n,o,r,!1),s},bf=(e,t,n,o,r,s)=>{const a=[],i=hf(e.getDoc(),n,s,o,r),l=Dr(),d=()=>{l.clear()},c=e=>{q(e,u)},u=t=>{switch(((e,t,n,o)=>Tn(t).fold((()=>\"skipping\"),(r=>\"br\"===o||(e=>Yt(e)&&Ha(e)===ei)(t)?\"valid\":(e=>Kt(e)&&pn(e,Ea()))(t)?\"existing\":em(t.dom)?\"caret\":$(gf,(e=>xn(t,e)))?\"valid-block\":Lm(e,n,o)&&Lm(e,$t(r),n)?\"valid\":\"invalid-child\")))(e,t,\"span\",$t(t))){case\"invalid-child\":{d();const e=In(t);c(e),d();break}case\"valid-block\":d(),pf(t,n,s,o,r,!0);break;case\"valid\":{const e=l.get().getOrThunk((()=>{const e=Ia(i);return a.push(e),l.set(e),e}));yo(t,e);break}}};return ff(e.dom,t,(e=>{d(),(e=>{const t=V(e,Cn);c(t)})(e)})),a},vf=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>xe(e,t).map((e=>e.settings)),getNames:()=>fe(e)}})();((e,t)=>{const n=xa(),o=e=>I.from(e.attr(n)).bind(t.lookup),r=e=>{var t,n;e.attr(_a(),null),e.attr(xa(),null),e.attr(ka(),null);const o=I.from(e.attr(Na())).map((e=>e.split(\",\"))).getOr([]),r=I.from(e.attr(Sa())).map((e=>e.split(\",\"))).getOr([]);q(o,(t=>e.attr(t,null)));const s=null!==(n=null===(t=e.attr(\"class\"))||void 0===t?void 0:t.split(\" \"))&&void 0!==n?n:[],a=re(s,[Ea()].concat(r));e.attr(\"class\",a.length>0?a.join(\" \"):null),e.attr(Sa(),null),e.attr(Na(),null)};e.serializer.addTempAttr(ka()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)o(t).each((e=>{!1===e.persistent&&(\"span\"===t.name?t.unwrap():r(t))}))}))})(e,t);const n=((e,t)=>{const n=Br({}),o=()=>({listeners:[],previous:Dr()}),r=(e,t)=>{s(e,(e=>(t(e),e)))},s=(e,t)=>{const r=n.get(),s=t(xe(r,e).getOrThunk(o));r[e]=s,n.set(r)},a=(t,n)=>{q(Oa(e,t),(e=>{n?Jt(e,ka(),\"true\"):rn(e,ka())}))},i=wa((()=>{const n=ae(t.getNames());q(n,(t=>{s(t,(n=>{const o=n.previous.get();return Aa(e,I.some(t)).fold((()=>{o.each((e=>{(e=>{r(e,(t=>{q(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),a(e,!1)}))}),(({uid:e,name:t,elements:s})=>{Lt(o,e)||(o.each((e=>a(e,!1))),((e,t,n)=>{r(e,(o=>{q(o.listeners,(o=>o(!0,e,{uid:t,nodes:V(n,(e=>e.dom))})))}))})(t,e,s),n.previous.set(e),a(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return e.on(\"remove\",(()=>{i.cancel()})),e.on(\"NodeChange\",(()=>{i.throttle()})),{addListener:(e,t)=>{s(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}})(e,t),o=Zt(\"span\"),r=e=>{q(e,(e=>{o(e)?xo(e):(e=>{gn(e,Ea()),rn(e,`${_a()}`),rn(e,`${xa()}`),rn(e,`${ka()}`);const t=nn(e,`${Na()}`).map((e=>e.split(\",\"))).getOr([]),n=nn(e,`${Sa()}`).map((e=>e.split(\",\"))).getOr([]);var o;q(t,(t=>rn(e,t))),o=e,q(n,(e=>{gn(o,e)})),rn(e,`${Sa()}`),rn(e,`${Na()}`)})(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each((t=>{((e,t,n,o)=>{e.undoManager.transact((()=>{const r=e.selection,s=r.getRng(),a=Cm(e).length>0,i=La(\"mce-annotation\");if(s.collapsed&&!a&&((e,t)=>{const n=mf(e.dom,t,[{inline:\"span\"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,s),r.getRng().collapsed&&!a){const s=hf(e.getDoc(),i,o,t,n.decorate);So(s,qo),r.getRng().insertNode(s.dom),r.select(s.dom)}else Rm(r,!1,(()=>{Nm(e,(r=>{bf(e,r,i,t,n.decorate,o)}))}))}))})(e,n,t,o)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{Aa(e,I.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();r(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();pe(Ba(e,t),((e,t)=>{r(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=Ba(e,t);return he(n,(e=>V(e,(e=>e.dom))))}}},yf=e=>({getBookmark:T(um,e),moveToBookmark:T(mm,e)});yf.isBookmarkNode=fm;const Cf=(e,t,n)=>!n.collapsed&&$(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),wf=()=>Cn(document),Ef=(e,t=!1)=>e.dom.focus({preventScroll:t}),xf=e=>{const t=$n(e).dom;return e.dom===t.activeElement},_f=(e=wf())=>I.from(e.dom.activeElement).map(Cn),kf=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Sf=kl([{before:[\"element\"]},{on:[\"element\",\"offset\"]},{after:[\"element\"]}]),Nf={before:Sf.before,on:Sf.on,after:Sf.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(R,R,R)},Rf=kl([{domRange:[\"rng\"]},{relative:[\"startSitu\",\"finishSitu\"]},{exact:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),Af={domRange:Rf.domRange,relative:Rf.relative,exact:Rf.exact,exactFromRange:e=>Rf.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Cn(e.startContainer),relative:(e,t)=>Nf.getStart(e),exact:(e,t,n,o)=>e}))(e);return An(t)},range:kf},Tf=(e,t)=>{const n=Yt(t)?Ha(t).length:In(t).length+1;return e>n?n:e<0?0:e},Of=e=>Af.range(e.start,Tf(e.soffset,e.start),e.finish,Tf(e.foffset,e.finish)),Bf=(e,t)=>!Qo(t.dom)&&(Sn(e,t)||kn(e,t)),Pf=e=>t=>Bf(e,t.start)&&Bf(e,t.finish),Df=e=>Af.range(Cn(e.startContainer),e.startOffset,Cn(e.endContainer),e.endOffset),Lf=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),I.some(t)}catch(e){return I.none()}},Mf=e=>{const t=(e=>e.inline||Tt.browser.isFirefox())(e)?(n=Cn(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?I.from(t.getRangeAt(0)):I.none()).map(Df)})(An(n).dom).filter(Pf(n))):I.none();var n;e.bookmark=t.isSome()?t:e.bookmark},If=e=>(e.bookmark?e.bookmark:I.none()).bind((t=>{return n=Cn(e.getBody()),o=t,I.from(o).filter(Pf(n)).map(Of);var n,o})).bind(Lf),Ff={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf(\"tox-\")||-1!==t.indexOf(\"mce-\")}},Uf={setEditorTimeout:(e,t,n)=>((e,t)=>(E(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const o=((e,t)=>(E(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(o):t()}),n);return o}};let zf;const jf=ma.DOM,Hf=e=>{const t=e.classList;return void 0!==t&&(t.contains(\"tox-edit-area\")||t.contains(\"tox-edit-area__iframe\")||t.contains(\"mce-content-body\"))},$f=(e,t)=>{const n=jd(e),o=jf.getParent(t,(t=>(e=>Jo(e)&&Ff.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==o},Vf=e=>{try{const t=$n(Cn(e.getElement()));return _f(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},qf=(e,t)=>{const n=t.editor;(e=>{const t=Ca((()=>{Mf(e)}),0);e.on(\"init\",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};ma.DOM.bind(document,\"mouseup\",n),e.on(\"remove\",(()=>{ma.DOM.unbind(document,\"mouseup\",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on(\"mouseup touchend\",(e=>{t.throttle()}))})(e,t),e.on(\"keyup NodeChange AfterSetSelectionRange\",(t=>{(e=>\"nodechange\"===e.type&&e.selectionChange)(t)||Mf(e)}))})(e,t)})),e.on(\"remove\",(()=>{t.cancel()}))})(n);const o=(e,t)=>{Ac(e)&&!0!==e.inline&&t(Cn(e.getContainer()),\"tox-edit-focus\")};n.on(\"focusin\",(()=>{const t=e.focusedEditor;Hf(Vf(n))&&o(n,mn),t!==n&&(t&&t.dispatch(\"blur\",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch(\"focus\",{blurredEditor:t}),n.focus(!0))})),n.on(\"focusout\",(()=>{Uf.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Hf(Vf(n))&&t===n||o(n,gn),$f(n,Vf(n))||t!==n||(n.dispatch(\"blur\",{focusedEditor:null}),e.focusedEditor=null)}))})),zf||(zf=t=>{const n=e.activeEditor;n&&Wn(t).each((t=>{const o=t;o.ownerDocument===document&&(o===document.body||$f(n,o)||e.focusedEditor!==n||(n.dispatch(\"blur\",{focusedEditor:null}),e.focusedEditor=null))}))},jf.bind(document,\"focusin\",zf))},Wf=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&zf&&(jf.unbind(document,\"focusin\",zf),zf=null)},Kf=(e,t)=>{((e,t)=>(e=>e.collapsed?I.from(xi(e.startContainer,e.startOffset)).map(Cn):I.none())(t).bind((t=>Ga(t)?I.some(t):Sn(e,t)?I.none():I.some(e))))(Cn(e.getBody()),t).bind((e=>Zu(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},Yf=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Gf=e=>e.inline?(e=>{const t=e.getBody();return t&&(n=Cn(t),xf(n)||(o=n,_f($n(o)).filter((e=>o.dom.contains(e.dom)))).isSome());var n,o})(e):(e=>C(e.iframeElement)&&xf(Cn(e.iframeElement)))(e),Xf=e=>Gf(e)||(e=>{const t=$n(Cn(e.getElement()));return _f(t).filter((t=>!Hf(t.dom)&&$f(e,t.dom))).isSome()})(e),Zf=e=>e.editorManager.setActive(e),Qf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Qf.metaKeyPressed(e),metaKeyPressed:e=>Tt.os.isMacOS()||Tt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Jf=\"data-mce-selected\",eg=Math.abs,tg=Math.round,ng={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},og=(e,t)=>{const n=t.dom,o=t.getDoc(),r=document,s=t.getBody();let a,i,l,d,c,u,m,f,g,p,h,b,v,y,w;const E=e=>C(e)&&(pr(e)||n.is(e,\"figure.image\")),x=e=>wr(e)||n.hasClass(e,\"mce-preview-object\"),_=e=>{const n=e.target;((e,t)=>{if((e=>\"longpress\"===e.type||0===e.type.indexOf(\"touch\"))(e)){const n=e.touches[0];return E(e.target)&&!Cf(n.clientX,n.clientY,t)}return E(e.target)&&!Cf(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},k=e=>n.hasClass(e,\"mce-preview-object\")&&C(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,\"figure.image\")?[e.querySelector(\"img\")]:[e],S=e=>{const o=Nd(t);return!(!o||t.mode.isReadOnly())&&\"false\"!==e.getAttribute(\"data-mce-resize\")&&e!==t.getBody()&&(n.hasClass(e,\"mce-preview-object\")&&C(e.firstElementChild)?xn(Cn(e.firstElementChild),o):xn(Cn(e),o))},N=(e,o,r)=>{if(C(r)){const s=k(e);q(s,(e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,r):n.setAttrib(e,o,\"\"+r)}))}},R=(e,t,n)=>{N(e,\"width\",t),N(e,\"height\",n)},A=e=>{let o,r,c,C,_;o=e.screenX-u,r=e.screenY-m,b=o*d[2]+f,v=r*d[3]+g,b=b<5?5:b,v=v<5?5:v,c=(E(a)||x(a))&&!1!==Rd(t)?!Qf.modifierPressed(e):Qf.modifierPressed(e),c&&(eg(o)>eg(r)?(v=tg(b*p),b=tg(v/p)):(b=tg(v/p),v=tg(b*p))),R(i,b,v),C=d.startPos.x+o,_=d.startPos.y+r,C=C>0?C:0,_=_>0?_:0,n.setStyles(l,{left:C,top:_,display:\"block\"}),l.innerHTML=b+\" &times; \"+v,o=s.scrollWidth-y,r=s.scrollHeight-w,o+r!==0&&n.setStyles(l,{left:C-o,top:_-r}),h||(((e,t,n,o,r)=>{e.dispatch(\"ObjectResizeStart\",{target:t,width:n,height:o,origin:r})})(t,a,f,g,\"corner-\"+d.name),h=!0)},T=()=>{const e=h;h=!1,e&&(N(a,\"width\",b),N(a,\"height\",v)),n.unbind(o,\"mousemove\",A),n.unbind(o,\"mouseup\",T),r!==o&&(n.unbind(r,\"mousemove\",A),n.unbind(r,\"mouseup\",T)),n.remove(i),n.remove(l),n.remove(c),O(a),e&&(((e,t,n,o,r)=>{e.dispatch(\"ObjectResized\",{target:t,width:n,height:o,origin:r})})(t,a,b,v,\"corner-\"+d.name),n.setAttrib(a,\"style\",n.getAttrib(a,\"style\"))),t.nodeChanged()},O=e=>{M();const h=n.getPos(e,s),C=h.x,E=h.y,_=e.getBoundingClientRect(),N=_.width||_.right-_.left,O=_.height||_.bottom-_.top;a!==e&&(P(),a=e,b=v=0);const B=t.dispatch(\"ObjectSelected\",{target:e});S(e)&&!B.isDefaultPrevented()?pe(ng,((e,t)=>{let h=n.get(\"mceResizeHandle\"+t);h&&n.remove(h),h=n.add(s,\"div\",{id:\"mceResizeHandle\"+t,\"data-mce-bogus\":\"all\",class:\"mce-resizehandle\",unselectable:!0,style:\"cursor:\"+t+\"-resize; margin:0; padding:0\"}),n.bind(h,\"mousedown\",(h=>{h.stopImmediatePropagation(),h.preventDefault(),(h=>{const b=k(a)[0];u=h.screenX,m=h.screenY,f=b.clientWidth,g=b.clientHeight,p=g/f,d=e,d.name=t,d.startPos={x:N*e[0]+C,y:O*e[1]+E},y=s.scrollWidth,w=s.scrollHeight,c=n.add(s,\"div\",{class:\"mce-resize-backdrop\",\"data-mce-bogus\":\"all\"}),n.setStyles(c,{position:\"fixed\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\"}),i=((e,t)=>{if(x(t))return e.create(\"img\",{src:Tt.transparentSrc});if(sr(t)){const n=$e(d.name,\"n\")?le:de,o=t.cloneNode(!0);return n(e.select(\"tr\",o)).each((t=>{const n=e.select(\"td,th\",t);e.setStyle(t,\"height\",null),q(n,(t=>e.setStyle(t,\"height\",null)))})),o}return t.cloneNode(!0)})(n,a),n.addClass(i,\"mce-clonedresizable\"),n.setAttrib(i,\"data-mce-bogus\",\"all\"),i.contentEditable=\"false\",n.setStyles(i,{left:C,top:E,margin:0}),R(i,N,O),i.removeAttribute(Jf),s.appendChild(i),n.bind(o,\"mousemove\",A),n.bind(o,\"mouseup\",T),r!==o&&(n.bind(r,\"mousemove\",A),n.bind(r,\"mouseup\",T)),l=n.add(s,\"div\",{class:\"mce-resize-helper\",\"data-mce-bogus\":\"all\"},f+\" &times; \"+g)})(h)})),e.elm=h,n.setStyles(h,{left:N*e[0]+C-h.offsetWidth/2,top:O*e[1]+E-h.offsetHeight/2})})):P(!1)},B=Ca(O,0),P=(e=!0)=>{B.cancel(),M(),a&&e&&a.removeAttribute(Jf),pe(ng,((e,t)=>{const o=n.get(\"mceResizeHandle\"+t);o&&(n.unbind(o),n.remove(o))}))},D=(e,t)=>n.isChildOf(e,t),L=o=>{if(h||t.removed||t.composing)return;const r=\"mousedown\"===o.type?o.target:e.getNode(),a=to(Cn(r),\"table,img,figure.image,hr,video,span.mce-preview-object,details\").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement)||\"IMG\"===e.nodeName&&n.isEditable(e))).getOrUndefined(),i=C(a)?n.getAttrib(a,Jf,\"1\"):\"1\";if(q(n.select(`img[${Jf}],hr[${Jf}]`),(e=>{e.removeAttribute(Jf)})),C(a)&&D(a,s)&&Xf(t)){I();const t=e.getStart(!0);if(D(t,a)&&D(e.getEnd(!0),a))return n.setAttrib(a,Jf,i),void B.throttle(a)}P()},M=()=>{pe(ng,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},I=()=>{try{t.getDoc().execCommand(\"enableObjectResizing\",!1,\"false\")}catch(e){}};return t.on(\"init\",(()=>{I(),t.on(\"NodeChange ResizeEditor ResizeWindow ResizeContent drop\",L),t.on(\"keyup compositionend\",(e=>{a&&\"TABLE\"===a.nodeName&&L(e)})),t.on(\"hide blur\",P),t.on(\"contextmenu longpress\",_,!0)})),t.on(\"remove\",M),{isResizable:S,showResizeRect:O,hideResizeRect:P,updateResizeRect:L,destroy:()=>{B.cancel(),a=i=c=null}}},rg=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},sg=(e,t,n,o,r)=>{const s=e.document.createRange();return s.setStart(t.dom,n),s.setEnd(o.dom,r),s},ag=kl([{ltr:[\"start\",\"soffset\",\"finish\",\"foffset\"]},{rtl:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),ig=(e,t,n)=>t(Cn(n.startContainer),n.startOffset,Cn(n.endContainer),n.endOffset);ag.ltr,ag.rtl;const lg=(e,t)=>{const n=$t(e);return\"input\"===n?Nf.after(e):H([\"br\",\"img\"],n)?0===t?Nf.before(e):Nf.after(e):Nf.on(e,t)},dg=(e,t)=>{const n=e.fold(Nf.before,lg,Nf.after),o=t.fold(Nf.before,lg,Nf.after);return Af.relative(n,o)},cg=(e,t,n,o)=>{const r=lg(e,t),s=lg(n,o);return Af.relative(r,s)},ug=(e,t)=>{const n=(t||document).createDocumentFragment();return q(e,(e=>{n.appendChild(e.dom)})),Cn(n)},mg=e=>{const t=Af.getWin(e).dom,n=(e,n,o,r)=>sg(t,e,n,o,r),o=(e=>e.match({domRange:e=>{const t=Cn(e.startContainer),n=Cn(e.endContainer);return cg(t,e.startOffset,n,e.endOffset)},relative:dg,exact:cg}))(e);return((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:N(e),rtl:I.none}),relative:(t,n)=>({ltr:Le((()=>rg(e,t,n))),rtl:Le((()=>I.some(rg(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Le((()=>sg(e,t,n,o,r))),rtl:Le((()=>I.some(sg(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>ag.rtl(Cn(e.endContainer),e.endOffset,Cn(e.startContainer),e.startOffset))).getOrThunk((()=>ig(0,ag.ltr,n))):ig(0,ag.ltr,n)})(0,n)})(t,o).match({ltr:n,rtl:n})},fg=(e,t,n)=>((e,t,n)=>((e,t,n)=>e.caretPositionFromPoint?((e,t,n)=>{var o;return I.from(null===(o=e.caretPositionFromPoint)||void 0===o?void 0:o.call(e,t,n)).bind((t=>{if(null===t.offsetNode)return I.none();const n=e.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),I.some(n)}))})(e,t,n):e.caretRangeFromPoint?((e,t,n)=>{var o;return I.from(null===(o=e.caretRangeFromPoint)||void 0===o?void 0:o.call(e,t,n))})(e,t,n):I.none())(e.document,t,n).map((e=>kf(Cn(e.startContainer),e.startOffset,Cn(e.endContainer),e.endOffset))))(e,t,n),gg=(e,t,n)=>{const o=An(Cn(n));return fg(o.dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},pg=(e,t)=>C(e)&&C(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,hg=(e,t,n)=>null!==((e,t,n)=>{let o=e;for(;o&&o!==t;){if(n(o))return o;o=o.parentNode}return null})(e,t,n),bg=(e,t,n)=>hg(e,t,(e=>e.nodeName===n)),vg=(e,t)=>ii(e)&&!hg(e,t,em),yg=(e,t,n)=>{const o=t.parentNode;if(o){const r=new $o(t,e.getParent(o,e.isBlock)||e.getRoot());let s;for(;s=r[n?\"prev\":\"next\"]();)if(gr(s))return!0}return!1},Cg=(e,t,n,o,r)=>{const s=e.getRoot(),a=e.schema.getNonEmptyElements(),i=r.parentNode;let l,d;if(!i)return I.none();const c=e.getParent(i,e.isBlock)||s;if(o&&gr(r)&&t&&e.isEmpty(c))return I.some(el(i,e.nodeIndex(r)));const u=new $o(r,c);for(;d=u[o?\"prev\":\"next\"]();){if(\"false\"===e.getContentEditableParent(d)||vg(d,s))return I.none();if(lr(d)&&d.data.length>0)return bg(d,s,\"A\")?I.none():I.some(el(d,o?d.data.length:0));if(e.isBlock(d)||a[d.nodeName.toLowerCase()])return I.none();l=d}return ur(l)?I.none():n&&l?I.some(el(l,0)):I.none()},wg=(e,t,n,o)=>{const r=e.getRoot();let s,a=!1,i=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const d=Jo(i)&&l===i.childNodes.length,c=e.schema.getNonEmptyElements();let u=n;if(ii(i))return I.none();if(Jo(i)&&l>i.childNodes.length-1&&(u=!1),mr(i)&&(i=r,l=0),i===r){if(u&&(s=i.childNodes[l>0?l-1:0],s)){if(ii(s))return I.none();if(c[s.nodeName]||sr(s))return I.none()}if(i.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,i.childNodes.length-1),i=i.childNodes[l],l=lr(i)&&d?i.data.length:0,!t&&i===r.lastChild&&sr(i))return I.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(br(n))return!0;n=n.parentNode}return!1})(r,i)||ii(i))return I.none();if(xr(i))return I.none();if(i.hasChildNodes()&&!sr(i)){s=i;const t=new $o(i,r);do{if(br(s)||ii(s)){a=!1;break}if(lr(s)&&s.data.length>0){l=u?0:s.data.length,i=s,a=!0;break}if(c[s.nodeName.toLowerCase()]&&!Cr(s)){l=e.nodeIndex(s),i=s.parentNode,u||l++,a=!0;break}}while(s=u?t.next():t.prev())}}}return t&&(lr(i)&&0===l&&Cg(e,d,t,!0,i).each((e=>{i=e.container(),l=e.offset(),a=!0})),Jo(i)&&(s=i.childNodes[l],s||(s=i.childNodes[l-1]),!s||!gr(s)||(e=>{var t;return\"A\"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)})(s)||yg(e,s,!1)||yg(e,s,!0)||Cg(e,d,t,!0,s).each((e=>{i=e.container(),l=e.offset(),a=!0})))),u&&!t&&lr(i)&&l===i.data.length&&Cg(e,d,t,!1,i).each((e=>{i=e.container(),l=e.offset(),a=!0})),a&&i?I.some(el(i,l)):I.none()},Eg=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),r=el.fromRangeStart(t);return wg(e,n,!0,o).each((e=>{n&&el.isAbove(r,e)||o.setStart(e.container(),e.offset())})),n||wg(e,n,!1,o).each((e=>{o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),pg(t,o)?I.none():I.some(o)},xg=(e,t)=>e.splitText(t),_g=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,r=e.endOffset;if(t===o&&lr(t)){if(n>0&&n<t.data.length)if(o=xg(t,n),t=o.previousSibling,r>n){r-=n;const e=xg(o,r).previousSibling;t=o=e,r=e.data.length,n=0}else r=0}else if(lr(t)&&n>0&&n<t.data.length&&(t=xg(t,n),n=0),lr(o)&&r>0&&r<o.data.length){const e=xg(o,r).previousSibling;o=e,r=e.data.length}return{startContainer:t,startOffset:n,endContainer:o,endOffset:r}},kg=e=>({walk:(t,n)=>ff(e,t,n),split:_g,expand:(t,n={type:\"word\"})=>{if(\"word\"===n.type){const n=mf(e,t,[{inline:\"span\"}],{includeTrailingSpace:!1,expandToBlock:!1}),o=e.createRng();return o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),o}return t},normalize:t=>Eg(e,t).fold(L,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});kg.compareRanges=pg,kg.getCaretRangeFromPoint=gg,kg.getSelectedNode=Ei,kg.getNode=xi;const Sg=(e=>{const t=t=>{const n=(e=>{const t=e.dom;return Yn(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(n<=0||null===n){const n=co(t,e);return parseFloat(n)||0}return n},n=(e,t)=>X(t,((t,n)=>{const o=co(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0);return{set:(t,n)=>{if(!E(n)&&!n.match(/^[0-9]+$/))throw new Error(e+\".set accepts only positive integer values. Value was \"+n);const o=t.dom;so(o)&&(o.style[e]=n+\"px\")},get:t,getOuter:t,aggregate:n,max:(e,t,o)=>{const r=n(e,o);return t>r?t-r:0}}})(\"height\"),Ng=(e,t)=>e.view(t).fold(N([]),(t=>{const n=e.owner(t),o=Ng(e,n);return[t].concat(o)}));var Rg=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?I.none():I.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Cn)},owner:e=>Rn(e)});const Ag=e=>\"textarea\"===$t(e),Tg=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return To(n.offsetLeft,n.offsetTop);const s=Oo(null==o?void 0:o.pageYOffset,r.scrollTop),a=Oo(null==o?void 0:o.pageXOffset,r.scrollLeft),i=Oo(r.clientTop,n.clientTop),l=Oo(r.clientLeft,n.clientLeft);return Bo(e).translate(a-l,s-i)})(e),o=(e=>Sg.get(e))(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},Og=(e,t,n,o)=>{Lg(e,((r,s)=>Pg(e,t,n,o)),n)},Bg=(e,t,n,o,r)=>{const s={elm:o.element.dom,alignToTop:r};((e,t)=>e.dispatch(\"ScrollIntoView\",t).isDefaultPrevented())(e,s)||(n(e,t,Po(t).top,o,r),((e,t)=>{e.dispatch(\"AfterScrollIntoView\",t)})(e,s))},Pg=(e,t,n,o)=>{const r=Cn(e.getBody()),s=Cn(e.getDoc());r.dom.offsetWidth;const a=((e,t)=>{const n=((e,t)=>{const n=In(e);if(0===n.length||Ag(e))return{element:e,offset:t};if(t<n.length&&!Ag(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return Ag(o)?{element:e,offset:t}:\"img\"===$t(o)?{element:o,offset:1}:Yt(o)?{element:o,offset:Ha(o).length}:{element:o,offset:In(o).length}}})(e,t),o=bn('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">\\ufeff</span>');return po(n.element,o),Tg(o,(()=>Eo(o)))})(Cn(n.startContainer),n.startOffset);Bg(e,s,t,a,o),a.cleanup()},Dg=(e,t,n,o)=>{const r=Cn(e.getDoc());Bg(e,r,n,(e=>Tg(Cn(e),_))(t),o)},Lg=(e,t,n)=>{const o=n.startContainer,r=n.startOffset,s=n.endContainer,a=n.endOffset;t(Cn(o),Cn(s));const i=e.dom.createRng();i.setStart(o,r),i.setEnd(s,a),e.selection.setRng(n)},Mg=(e,t,n,o,r)=>{const s=t.pos;if(o)Do(s.left,s.top,r);else{const o=s.top-n+t.height;Do(-e.getBody().getBoundingClientRect().left,o,r)}},Ig=(e,t,n,o,r,s)=>{const a=o+n,i=r.pos.top,l=r.bottom,d=l-i>=o;i<n?Mg(e,r,o,!1!==s,t):i>a?Mg(e,r,o,d?!1!==s:!0===s,t):l>a&&!d&&Mg(e,r,o,!0===s,t)},Fg=(e,t,n,o,r)=>{const s=An(t).dom.innerHeight;Ig(e,t,n,s,o,r)},Ug=(e,t,n,o,r)=>{const s=An(t).dom.innerHeight;Ig(e,t,n,s,o,r);const a=(e=>{const t=wf(),n=Po(t),o=((e,t)=>{const n=t.owner(e);return Ng(t,n)})(e,Rg),r=Bo(e),s=G(o,((e,t)=>{const n=Bo(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return To(s.left+r.left+n.left,s.top+r.top+n.top)})(o.element),i=Io(window);a.top<i.y?Lo(o.element,!1!==r):a.top>i.bottom&&Lo(o.element,!0===r)},zg=(e,t,n)=>Og(e,Fg,t,n),jg=(e,t,n)=>Dg(e,t,Fg,n),Hg=(e,t,n)=>Og(e,Ug,t,n),$g=(e,t,n)=>Dg(e,t,Ug,n),Vg=(e,t,n)=>{(e.inline?zg:Hg)(e,t,n)},qg=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),Wg=(e,t,n,o,r)=>{const s=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return I.from(s).map(Cn).map((e=>o&&t.collapsed?e:Fn(e,r(e,a)).getOr(e))).bind((e=>Kt(e)?I.some(e):Tn(e).filter(Kt))).map((e=>e.dom)).getOr(e)},Kg=(e,t,n=!1)=>Wg(e,t,!0,n,((e,t)=>Math.min(jn(e),t))),Yg=(e,t,n=!1)=>Wg(e,t,!1,n,((e,t)=>t>0?t-1:t)),Gg=(e,t)=>{const n=e;for(;e&&lr(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Xg=(e,t)=>V(t,(t=>{const n=e.dispatch(\"GetSelectionRange\",{range:t});return n.range!==t?n.range:t})),Zg={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11},Qg=(e,t,n)=>{const o=n?\"lastChild\":\"firstChild\",r=n?\"prev\":\"next\";if(e[o])return e[o];if(e!==t){let n=e[r];if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[r],n)return n}},Jg=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:\"\";if(!Yo(n))return!1;const o=e.parent;return!o||\"span\"===o.name&&!o.attr(\"style\")||!/^[ ]+$/.test(n)},ep=e=>{const t=\"a\"===e.name&&!e.attr(\"href\")&&e.attr(\"id\");return e.attr(\"name\")||e.attr(\"id\")&&!e.firstChild||e.attr(\"data-mce-bookmark\")||t};class tp{static create(e,t){const n=new tp(e,Zg[e]||1);return t&&pe(t,((e,t)=>{n.attr(t,e)})),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!m(e))return C(e)&&pe(e,((e,t)=>{n.attr(t,e)})),n;const o=n.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;for(;n--;)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new tp(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];\"id\"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o&&(o.next=n),t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n&&(n.prev=o),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=Qg(o,t))o.name===e&&n.push(o);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=Qg(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var o;const r=this;let s=r.firstChild;if(ep(r))return!1;if(s)do{if(1===s.type){if(s.attr(\"data-mce-bogus\"))continue;if(e[s.name])return!1;if(ep(s))return!1}if(8===s.type)return!1;if(3===s.type&&!Jg(s))return!1;if(3===s.type&&s.parent&&t[s.parent.name]&&Yo(null!==(o=s.value)&&void 0!==o?o:\"\"))return!1;if(n&&n(s))return!1}while(s=Qg(s,r));return!0}walk(e){return Qg(this,null,e)}}const np=Dt.makeMap(\"NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT\",\" \"),op=e=>m(e.nodeValue)&&e.nodeValue.includes(ei),rp=e=>(0===e.length?\"\":`${V(e,(e=>`[${e}]`)).join(\",\")},`)+'[data-mce-bogus=\"all\"]',sp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,(e=>op(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)),ap=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(e=>{if(op(e)){const t=e.parentNode;return t&&_e(np,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})),ip=e=>null!==sp(e).nextNode(),lp=e=>null!==ap(e).nextNode(),dp=(e,t)=>null!==t.querySelector(rp(e)),cp=(e,t)=>{q(((e,t)=>t.querySelectorAll(rp(e)))(e,t),(t=>{const n=Cn(t);\"all\"===tn(n,\"data-mce-bogus\")?Eo(n):q(e,(e=>{on(n,e)&&rn(n,e)}))}))},up=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},mp=k(up,sp),fp=k(up,ap),gp=(e,t)=>{const n=[{condition:T(dp,t),action:T(cp,t)},{condition:ip,action:mp},{condition:lp,action:fp}];let o=e,r=!1;return q(n,(({condition:t,action:n})=>{t(o)&&(r||(o=e.cloneNode(!0),r=!0),n(o))})),o},pp=e=>{const t=Uo(e,\"[data-mce-bogus]\");q(t,(e=>{\"all\"===tn(e,\"data-mce-bogus\")?Eo(e):qa(e)?(po(e,yn(Vo)),Eo(e)):xo(e)}))},hp=e=>{const t=Uo(e,\"input\");q(t,(e=>{rn(e,\"name\")}))},bp=(e,t,n)=>{let o;return o=\"raw\"===t.format?Dt.trim(ni(gp(n,e.serializer.getTempAttrs()).innerHTML)):\"text\"===t.format?((e,t)=>{const n=e.getDoc(),o=$n(Cn(e.getBody())),r=vn(\"div\",n);Jt(r,\"data-mce-bogus\",\"all\"),lo(r,{position:\"fixed\",left:\"-9999999px\",top:\"0\"}),So(r,t.innerHTML),pp(r),hp(r);const s=(e=>Hn(e)?e:Cn(Rn(e).dom.body))(o);vo(s,r);const a=ni(r.dom.innerText);return Eo(r),a})(e,n):\"tree\"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=ed(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\\\s|\\xa0|<br \\\\/>|)<\\\\/${n}>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$`);return t.replace(o,\"\")})(e,e.serializer.serialize(n,t)),\"text\"!==t.format&&!Za(Cn(n))&&m(o)?Dt.trim(o):o},vp=Dt.makeMap,yp=e=>{const t=[],n=(e=e||{}).indent,o=vp(e.indent_before||\"\"),r=vp(e.indent_after||\"\"),s=ws.getEncodeFunc(e.entity_encoding||\"raw\",e.entities),a=\"xhtml\"!==e.element_format;return{start:(e,i,l)=>{if(n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&\"\\n\"!==e&&t.push(\"\\n\")}if(t.push(\"<\",e),i)for(let e=0,n=i.length;e<n;e++){const n=i[e];t.push(\" \",n.name,'=\"',s(n.value,!0),'\"')}if(t[t.length]=!l||a?\">\":\" />\",l&&n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&\"\\n\"!==e&&t.push(\"\\n\")}},end:e=>{let o;t.push(\"</\",e,\">\"),n&&r[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&\"\\n\"!==o&&t.push(\"\\n\"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:s(e))},cdata:e=>{t.push(\"<![CDATA[\",e,\"]]>\")},comment:e=>{t.push(\"\\x3c!--\",e,\"--\\x3e\")},pi:(e,o)=>{o?t.push(\"<?\",e,\" \",s(o),\"?>\"):t.push(\"<?\",e,\"?>\"),n&&t.push(\"\\n\")},doctype:e=>{t.push(\"<!DOCTYPE\",e,\">\",n?\"\\n\":\"\")},reset:()=>{t.length=0},getContent:()=>t.join(\"\").replace(/\\n$/,\"\")}},Cp=(e={},t=Fs())=>{const n=yp(e);return e.validate=!(\"validate\"in e)||e.validate,{serialize:o=>{const r=e.validate,s={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:\"\",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:\"\")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:\"\")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:\"\")},11:e=>{let t=e;if(t=t.firstChild)do{a(t)}while(t=t.next)}};n.reset();const a=e=>{var o;const i=s[e.type];if(i)i(e);else{const s=e.name,i=s in t.getVoidElements();let l=e.attributes;if(r&&l&&l.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(s,l,i),Mr(s))m(e.value)&&n.text(e.value,!0),n.end(s);else if(!i){let t=e.firstChild;if(t){\"pre\"!==s&&\"textarea\"!==s||3!==t.type||\"\\n\"!==(null===(o=t.value)||void 0===o?void 0:o[0])||n.text(\"\\n\",!0);do{a(t)}while(t=t.next)}n.end(s)}}};return 1!==o.type||e.inner?3===o.type?s[3](o):s[11](o):a(o),n.getContent()}}},wp=new Set;q([\"margin\",\"margin-left\",\"margin-right\",\"margin-top\",\"margin-bottom\",\"padding\",\"padding-left\",\"padding-right\",\"padding-top\",\"padding-bottom\",\"border\",\"border-width\",\"border-style\",\"border-color\",\"background\",\"background-attachment\",\"background-clip\",\"background-image\",\"background-origin\",\"background-position\",\"background-repeat\",\"background-size\",\"float\",\"position\",\"left\",\"right\",\"top\",\"bottom\",\"z-index\",\"display\",\"transform\",\"width\",\"max-width\",\"min-width\",\"height\",\"max-height\",\"min-height\",\"overflow\",\"overflow-x\",\"overflow-y\",\"text-overflow\",\"vertical-align\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\"],(e=>{wp.add(e)}));const Ep=new Set;q([\"background-color\"],(e=>{Ep.add(e)}));const xp=[\"font\",\"text-decoration\",\"text-emphasis\"],_p=(e,t)=>fe(((e,t)=>e.parseStyle(e.getAttrib(t,\"style\")))(e,t)),kp=(e,t)=>$(_p(e,t),(e=>(e=>wp.has(e))(e))),Sp=(e,t,n)=>I.from(n.container()).filter(lr).exists((o=>{const r=e?0:-1;return t(o.data.charAt(n.offset()+r))})),Np=T(Sp,!0,hm),Rp=T(Sp,!1,hm),Ap=e=>{const t=e.container();return lr(t)&&(0===t.data.length||ti(t.data)&&yf.isBookmarkNode(t.parentNode))},Tp=(e,t)=>n=>yu(e?0:-1,n).filter(t).isSome(),Op=e=>pr(e)&&\"block\"===co(Cn(e),\"display\"),Bp=e=>br(e)&&!(e=>Jo(e)&&\"all\"===e.getAttribute(\"data-mce-bogus\"))(e),Pp=Tp(!0,Op),Dp=Tp(!1,Op),Lp=Tp(!0,wr),Mp=Tp(!1,wr),Ip=Tp(!0,sr),Fp=Tp(!1,sr),Up=Tp(!0,Bp),zp=Tp(!1,Bp),jp=(e,t)=>((e,t,n)=>Sn(t,e)?Bn(e,(e=>n(e)||kn(e,t))).slice(0,-1):[])(e,t,L),Hp=(e,t)=>[e].concat(jp(e,t)),$p=(e,t,n)=>Ku(e,t,n,Ap),Vp=(e,t,n)=>Q(Hp(Cn(t.container()),e),(e=>t=>e.isBlock($t(t)))(n)),qp=(e,t,n,o)=>$p(e,t.dom,n).forall((e=>Vp(t,n,o).fold((()=>!vu(e,n,t.dom)),(o=>!vu(e,n,t.dom)&&Sn(o,Cn(e.container())))))),Wp=(e,t,n,o)=>Vp(t,n,o).fold((()=>$p(e,t.dom,n).forall((e=>!vu(e,n,t.dom)))),(t=>$p(e,t.dom,n).isNone())),Kp=T(Wp,!1),Yp=T(Wp,!0),Gp=T(qp,!1),Xp=T(qp,!0),Zp=e=>Ru(e).exists(qa),Qp=(e,t,n,o)=>{const r=Y(Hp(Cn(n.container()),t),(e=>o.isBlock($t(e)))),s=le(r).getOr(t);return qu(e,s.dom,n).filter(Zp)},Jp=(e,t,n)=>Ru(t).exists(qa)||Qp(!0,e,t,n).isSome(),eh=(e,t,n)=>(e=>I.from(e.getNode(!0)).map(Cn))(t).exists(qa)||Qp(!1,e,t,n).isSome(),th=T(Qp,!1),nh=T(Qp,!0),oh=e=>el.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),rh=(e,t,n)=>{const o=Y(Hp(Cn(t.container()),e),(e=>n.isBlock($t(e))));return le(o).getOr(e)},sh=(e,t,n)=>oh(t)?Rp(t):Rp(t)||Xu(rh(e,t,n).dom,t).exists(Rp),ah=(e,t,n)=>oh(t)?Np(t):Np(t)||Gu(rh(e,t,n).dom,t).exists(Np),ih=e=>Ru(e).bind((e=>Zn(e,Kt))).exists((e=>(e=>H([\"pre\",\"pre-wrap\"],e))(co(e,\"white-space\")))),lh=(e,t)=>n=>{return o=new $o(n,e)[t](),C(o)&&br(o)&&iu(o);var o},dh=(e,t,n)=>!ih(t)&&(((e,t,n)=>((e,t)=>Xu(e.dom,t).isNone())(e,t)||((e,t)=>Gu(e.dom,t).isNone())(e,t)||Kp(e,t,n)||Yp(e,t,n)||eh(e,t,n)||Jp(e,t,n))(e,t,n)||sh(e,t,n)||ah(e,t,n)),ch=(e,t,n)=>!ih(t)&&(Kp(e,t,n)||Gp(e,t,n)||eh(e,t,n)||sh(e,t,n)||((e,t)=>{const n=Xu(e.dom,t).getOr(t),o=lh(e.dom,\"prev\");return t.isAtStart()&&(o(t.container())||o(n.container()))})(e,t)),uh=(e,t,n)=>!ih(t)&&(Yp(e,t,n)||Xp(e,t,n)||Jp(e,t,n)||ah(e,t,n)||((e,t)=>{const n=Gu(e.dom,t).getOr(t),o=lh(e.dom,\"next\");return t.isAtEnd()&&(o(t.container())||o(n.container()))})(e,t)),mh=(e,t,n)=>ch(e,t,n)||uh(e,(e=>{const t=e.container(),n=e.offset();return lr(t)&&n<t.data.length?el(t,n+1):e})(t),n),fh=(e,t)=>gm(e.charAt(t)),gh=(e,t)=>hm(e.charAt(t)),ph=(e,t,n,o)=>{const r=t.data,s=el(t,0);return n||!fh(r,0)||mh(e,s,o)?!!(n&&gh(r,0)&&ch(e,s,o))&&(t.data=qo+r.slice(1),!0):(t.data=\" \"+r.slice(1),!0)},hh=(e,t,n,o)=>{const r=t.data,s=el(t,r.length-1);return n||!fh(r,r.length-1)||mh(e,s,o)?!!(n&&gh(r,r.length-1)&&uh(e,s,o))&&(t.data=r.slice(0,-1)+qo,!0):(t.data=r.slice(0,-1)+\" \",!0)},bh=(e,t,n)=>{const o=t.container();if(!lr(o))return I.none();if((e=>{const t=e.container();return lr(t)&&He(t.data,qo)})(t)){const r=ph(e,o,!1,n)||(e=>{const t=e.data,n=(e=>{const t=e.split(\"\");return V(t,((e,n)=>gm(e)&&n>0&&n<t.length-1&&bm(t[n-1])&&bm(t[n+1])?\" \":e)).join(\"\")})(t);return n!==t&&(e.data=n,!0)})(o)||hh(e,o,!1,n);return Ft(r,t)}if(mh(e,t,n)){const r=ph(e,o,!0,n)||hh(e,o,!0,n);return Ft(r,t)}return I.none()},vh=(e,t,n,o)=>{if(0===n)return;const r=Cn(e),s=Xn(r,(e=>o.isBlock($t(e)))).getOr(r),a=e.data.slice(t,t+n),i=t+n>=e.data.length&&uh(s,el(e,e.data.length),o),l=0===t&&ch(s,el(e,0),o);e.replaceData(t,n,Xo(a,4,l,i))},yh=(e,t,n)=>{const o=e.data.slice(t),r=o.length-Ke(o).length;vh(e,t,r,n)},Ch=(e,t,n)=>{const o=e.data.slice(0,t),r=o.length-Ye(o).length;vh(e,t-r,r,n)},wh=(e,t,n,o,r=!0)=>{const s=Ye(e.data).length,a=r?e:t,i=r?t:e;return r?a.appendData(i.data):a.insertData(0,i.data),Eo(Cn(i)),o&&yh(a,s,n),a},Eh=(e,t)=>((e,t)=>{const n=e.container(),o=e.offset();return!el.isTextPosition(e)&&n===t.parentNode&&o>el.before(t).offset()})(t,e)?el(t.container(),t.offset()-1):t,xh=e=>{return Di(e.previousSibling)?I.some((t=e.previousSibling,lr(t)?el(t,t.data.length):el.after(t))):e.previousSibling?Qu(e.previousSibling):I.none();var t},_h=e=>{return Di(e.nextSibling)?I.some((t=e.nextSibling,lr(t)?el(t,0):el.before(t))):e.nextSibling?Zu(e.nextSibling):I.none();var t},kh=(e,t,n)=>((e,t,n)=>e?((e,t)=>_h(t).orThunk((()=>xh(t))).orThunk((()=>((e,t)=>Gu(e,el.after(t)).orThunk((()=>Xu(e,el.before(t)))))(e,t))))(t,n):((e,t)=>xh(t).orThunk((()=>_h(t))).orThunk((()=>((e,t)=>I.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Xu(e,el.before(t)))).orThunk((()=>Gu(e,el.after(t)))))(e,t))))(t,n))(e,t,n).map(T(Eh,n)),Sh=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},Nh=(e,t)=>t&&_e(e.schema.getBlockElements(),$t(t)),Rh=(e,t,n,o=!0,r=!1)=>{const s=kh(t,e.getBody(),n.dom),a=Xn(n,T(Nh,e),(i=e.getBody(),e=>e.dom===i));var i;const l=((e,t,n,o)=>{const r=Pn(e).filter(Yt),s=Dn(e).filter(Yt);return Eo(e),(a=r,i=s,l=t,d=(e,t,r)=>{const s=e.dom,a=t.dom,i=s.data.length;return wh(s,a,n,o),r.container()===a?el(s,i):r},a.isSome()&&i.isSome()&&l.isSome()?I.some(d(a.getOrDie(),i.getOrDie(),l.getOrDie())):I.none()).orThunk((()=>(o&&(r.each((e=>Ch(e.dom,e.dom.length,n))),s.each((e=>yh(e.dom,0,n)))),t)));var a,i,l,d})(n,s,e.schema,((e,t)=>_e(e.schema.getTextInlineElements(),$t(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(\"\"),e.selection.setCursorLocation()):a.bind((t=>((e,t,n)=>{if(Tr(e,t)){const e=bn('<br data-mce-bogus=\"1\">');return n?q(In(t),(e=>{Xm(e)||Eo(e)})):wo(t),vo(t,e),I.some(el.before(e.dom))}return I.none()})(e.schema,t,r))).fold((()=>{o&&Sh(e,t,l)}),(n=>{o&&Sh(e,t,I.some(n))}))},Ah=/[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/,Th=(e,t)=>xn(Cn(t),Sd(e))&&!Zr(e.schema,t)&&e.dom.isEditable(t),Oh=e=>{var t;return\"rtl\"===ma.DOM.getStyle(e,\"direction\",!0)||(e=>Ah.test(e))(null!==(t=e.textContent)&&void 0!==t?t:\"\")},Bh=(e,t,n)=>{const o=((e,t,n)=>Y(ma.DOM.getParents(n.container(),\"*\",t),e))(e,t,n);return I.from(o[o.length-1])},Ph=(e,t)=>{const n=t.container(),o=t.offset();return e?ai(n)?lr(n.nextSibling)?el(n.nextSibling,0):el.after(n):di(t)?el(n,o+1):t:ai(n)?lr(n.previousSibling)?el(n.previousSibling,n.previousSibling.data.length):el.before(n):ci(t)?el(n,o-1):t},Dh=T(Ph,!0),Lh=T(Ph,!1),Mh=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on(\"beforeinput input\",n,!0),e.getDoc().execCommand(t),e.off(\"beforeinput input\",n)},Ih=e=>Mh(e,\"Delete\"),Fh=e=>Mh(e,\"ForwardDelete\"),Uh=e=>Wa(e)||Ya(e),zh=(e,t)=>Sn(e,t)?Zn(t,Uh,(e=>t=>Lt(Tn(t),e,kn))(e)):I.none(),jh=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent(\"\",{no_selection:!t})},Hh=(e,t,n)=>It(Zu(n),Qu(n),((o,r)=>{const s=Ph(!0,o),a=Ph(!1,r),i=Ph(!1,t);return e?Gu(n,i).exists((e=>e.isEqual(a)&&t.isEqual(s))):Xu(n,i).exists((e=>e.isEqual(s)&&t.isEqual(a)))})).getOr(!0),$h=e=>{var t;return(8===Vt(t=e)||\"#comment\"===$t(t)?Pn(e):zn(e)).bind($h).orThunk((()=>I.some(e)))},Vh=(e,t,n,o=!0)=>{var r;t.deleteContents();const s=$h(n).getOr(n),a=Cn(null!==(r=e.dom.getParent(s.dom,e.dom.isBlock))&&void 0!==r?r:n.dom);if(a.dom===e.getBody()?jh(e,o):Tr(e.schema,a,{checkRootAsContent:!1})&&(Ja(a),o&&e.selection.setCursorLocation(a.dom,0)),!kn(n,a)){const t=Lt(Tn(a),n)?[]:Tn(i=a).map(In).map((e=>Y(e,(e=>!kn(i,e))))).getOr([]);q(t.concat(In(n)),(t=>{kn(t,a)||Sn(t,a)||!Tr(e.schema,t)||Eo(t)}))}var i},qh=e=>Uo(e,\"td,th\"),Wh=(e,t)=>wm(Cn(e),t),Kh=(e,t)=>({start:e,end:t}),Yh=kl([{singleCellTable:[\"rng\",\"cell\"]},{fullTable:[\"table\"]},{partialTable:[\"cells\",\"outsideDetails\"]},{multiTable:[\"startTableCells\",\"endTableCells\",\"betweenRng\"]}]),Gh=(e,t)=>to(Cn(e),\"td,th\",t),Xh=e=>!kn(e.start,e.end),Zh=(e,t)=>wm(e.start,t).bind((n=>wm(e.end,t).bind((e=>Ft(kn(n,e),n))))),Qh=e=>t=>Zh(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,qh(e)))),Jh=(e,t,n,o)=>{if(n.collapsed||!e.forall(Xh))return I.none();if(t.isSameTable){const t=e.bind(Qh(o));return I.some({start:t,end:t})}{const e=Gh(n.startContainer,o),t=Gh(n.endContainer,o),r=e.bind((e=>t=>wm(t,e).bind((e=>de(qh(e)).map((e=>Kh(t,e))))))(o)).bind(Qh(o)),s=t.bind((e=>t=>wm(t,e).bind((e=>le(qh(e)).map((e=>Kh(e,t))))))(o)).bind(Qh(o));return I.some({start:r,end:s})}},eb=(e,t)=>J(e,(e=>kn(e,t))),tb=e=>It(eb(e.cells,e.rng.start),eb(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),nb=(e,t)=>{const{startTable:n,endTable:o}=t,r=e.cloneRange();return n.each((e=>r.setStartAfter(e.dom))),o.each((e=>r.setEndBefore(e.dom))),r},ob=(e,t)=>{const n=(e=>t=>kn(e,t))(e),o=((e,t)=>{const n=Gh(e.startContainer,t),o=Gh(e.endContainer,t);return It(n,o,Kh)})(t,n),r=((e,t)=>{const n=Wh(e.startContainer,t),o=Wh(e.endContainer,t),r=n.isSome(),s=o.isSome(),a=It(n,o,kn).getOr(!1);return(e=>It(e.startTable,e.endTable,((t,n)=>{const o=Ho(t,(e=>kn(e,n))),r=Ho(n,(e=>kn(e,t)));return o||r?{...e,startTable:o?I.none():e.startTable,endTable:r?I.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e})).getOr(e))({startTable:n,endTable:o,isStartInTable:r,isEndInTable:s,isSameTable:a,isMultiTable:!a&&r&&s})})(t,n);return((e,t,n)=>e.exists((e=>((e,t)=>!Xh(e)&&Zh(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&_m(e.start,t))))(o,t,n)?o.map((e=>Yh.singleCellTable(t,e.start))):r.isMultiTable?((e,t,n,o)=>Jh(e,t,n,o).bind((({start:e,end:o})=>{const r=e.bind(tb).getOr([]),s=o.bind(tb).getOr([]);if(r.length>0&&s.length>0){const e=nb(n,t);return I.some(Yh.multiTable(r,s,e))}return I.none()})))(o,r,t,n):((e,t,n,o)=>Jh(e,t,n,o).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:o}=t,r=tb(e).getOr([]);if(o&&e.cells.length===r.length)return I.some(Yh.fullTable(e.table));if(r.length>0){if(o)return I.some(Yh.partialTable(r,I.none()));{const e=nb(n,t);return I.some(Yh.partialTable(r,I.some({...t,rng:e})))}}return I.none()})))(o,r,t,n)},rb=e=>q(e,(e=>{rn(e,\"contenteditable\"),Ja(e)})),sb=(e,t,n,o)=>{const r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),db(e,r,t,!1).each((e=>e()))},ab=e=>{const t=Cm(e),n=Cn(e.selection.getNode());yr(n.dom)&&Tr(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&$(t,(e=>kn(e,n)))&&Jt(n,\"data-mce-selected\",\"1\")},ib=(e,t,n)=>I.some((()=>{const o=e.selection.getRng(),r=n.bind((({rng:n,isStartInTable:r})=>{const s=((e,t)=>I.from(e.dom.getParent(t,e.dom.isBlock)).map(Cn))(e,r?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?Eo(n):(Ja(n),e.selection.setCursorLocation(n.dom,0))}))})(e,r,s.filter(T(Tr,e.schema)));const a=r?t[0]:t[t.length-1];return sb(e,a,o,r),Tr(e.schema,a)?I.none():I.some(r?t.slice(1):t.slice(0,-1))})).getOr(t);rb(r),ab(e)})),lb=(e,t,n,o)=>I.some((()=>{const r=e.selection.getRng(),s=t[0],a=n[n.length-1];sb(e,s,r,!0),sb(e,a,r,!1);const i=Tr(e.schema,s)?t:t.slice(1),l=Tr(e.schema,a)?n:n.slice(0,-1);rb(i.concat(l)),o.deleteContents(),ab(e)})),db=(e,t,n,o=!0)=>I.some((()=>{Vh(e,t,n,o)})),cb=(e,t)=>I.some((()=>Rh(e,!1,t))),ub=(e,t)=>Q(Hp(t,e),Xa),mb=(e,t)=>Q(Hp(t,e),Zt(\"caption\")),fb=(e,t)=>I.some((()=>{Ja(t),e.selection.setCursorLocation(t.dom,0)})),gb=(e,t)=>e?Ip(t):Fp(t),pb=(e,t,n)=>{const o=Cn(e.getBody());return mb(o,n).fold((()=>((e,t,n,o)=>{const r=el.fromRangeStart(e.selection.getRng());return ub(n,o).bind((o=>Tr(e.schema,o,{checkRootAsContent:!1})?fb(e,o):((e,t,n,o,r)=>Wu(n,e.getBody(),r).bind((e=>ub(t,Cn(e.getNode())).bind((e=>kn(e,o)?I.none():I.some(_))))))(e,n,t,o,r)))})(e,t,o,n).orThunk((()=>Ft(((e,t)=>{const n=el.fromRangeStart(e.selection.getRng());return gb(t,n)||qu(t,e.getBody(),n).exists((e=>gb(t,e)))})(e,t),_)))),(n=>((e,t,n,o)=>{const r=el.fromRangeStart(e.selection.getRng());return Tr(e.schema,o)?fb(e,o):((e,t,n,o,r)=>Wu(n,e.getBody(),r).fold((()=>I.some(_)),(s=>((e,t,n,o)=>Zu(e.dom).bind((r=>Qu(e.dom).map((e=>t?n.isEqual(r)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(r))))).getOr(!0))(o,n,r,s)?((e,t)=>fb(e,t))(e,o):((e,t,n)=>mb(e,Cn(n.getNode())).fold((()=>I.some(_)),(e=>Ft(!kn(e,t),_))))(t,o,s))))(e,n,t,o,r)})(e,t,o,n)))},hb=(e,t)=>{const n=Cn(e.selection.getStart(!0)),o=Cm(e);return e.selection.isCollapsed()&&0===o.length?pb(e,t,n):((e,t,n)=>{const o=Cn(e.getBody()),r=e.selection.getRng();return 0!==n.length?ib(e,n,I.none()):((e,t,n,o)=>mb(t,o).fold((()=>((e,t,n)=>ob(t,n).bind((t=>t.fold(T(db,e),T(cb,e),T(ib,e),T(lb,e)))))(e,t,n)),(t=>((e,t)=>fb(e,t))(e,t))))(e,o,r,t)})(e,n,o)},bb=(e,t)=>{let n=t;for(;n&&n!==e;){if(hr(n)||br(n))return n;n=n.parentNode}return null},vb=[\"data-ephox-\",\"data-mce-\",\"data-alloy-\",\"data-snooker-\",\"_\"],yb=Dt.each,Cb=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),o=e=>$(vb,(t=>$e(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const r=e=>{const n={};return yb(t.getAttribs(e),(r=>{const s=r.nodeName.toLowerCase();\"style\"===s||o(s)||(n[s]=t.getAttrib(e,s))})),n},s=(e,t)=>{for(const n in e)if(_e(e,n)){const o=t[n];if(v(o))return!1;if(e[n]!==o)return!1;delete t[n]}for(const e in t)if(_e(t,e))return!1;return!0};if(Jo(e)&&Jo(n)){if(!s(r(e),r(n)))return!1;if(!s(t.parseStyle(t.getAttrib(e,\"style\")),t.parseStyle(t.getAttrib(n,\"style\"))))return!1}return!fm(e)&&!fm(n)},isAttributeInternal:o}},wb=e=>[\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"].includes(e.name),Eb=(e,t,n,o)=>{const r=n.name;for(let t=0,s=e.length;t<s;t++){const s=e[t];if(s.name===r){const e=o.nodes[r];e?e.nodes.push(n):o.nodes[r]={filter:s,nodes:[n]}}}if(n.attributes)for(let e=0,r=t.length;e<r;e++){const r=t[e],s=r.name;if(s in n.attributes.map){const e=o.attributes[s];e?e.nodes.push(n):o.attributes[s]={filter:r,nodes:[n]}}}},xb=(e,t)=>{const n=(e,n)=>{pe(e,(e=>{const o=ce(e.nodes);q(e.filter.callbacks,(r=>{for(let t=o.length-1;t>=0;t--){const r=o[t];(n?void 0!==r.attr(e.filter.name):r.name===e.filter.name)&&!y(r.parent)||o.splice(t,1)}o.length>0&&r(o,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},_b=(e,t,n,o={})=>{const r=((e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&(n=>{let r=n;for(;r=r.walk();)Eb(e,t,r,o)})(n),o})(e,t,n);xb(r,o)},kb=(e,t,n,o)=>{if((e.pad_empty_with_br||t.insert)&&n(o)){const e=new tp(\"br\",1);t.insert&&e.attr(\"data-mce-bogus\",\"1\"),o.empty().append(e)}else o.empty().append(new tp(\"#text\",3)).value=qo},Sb=(e,t)=>{const n=null==e?void 0:e.firstChild;return C(n)&&n===e.lastChild&&n.name===t},Nb=(e,t,n,o)=>o.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),Rb=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr(\"contenteditable\");if(\"false\"===e)break;\"true\"===e&&(t=n)}return I.from(t)},Ab=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)n&&!t.isValidChild(n.name,e.name)&&Ab(e,t,n);e.unwrap()}},Tb=(e,t,n,o=_)=>{const r=t.getTextBlockElements(),s=t.getNonEmptyElements(),a=t.getWhitespaceElements(),i=Dt.makeMap(\"tr,td,th,tbody,thead,tfoot,table,summary\"),l=new Set,d=e=>e!==n&&!i[e.name];for(let n=0;n<e.length;n++){const i=e[n];let c,u,m;if(!i.parent||l.has(i))continue;if(r[i.name]&&\"li\"===i.parent.name){let e=i.next;for(;e&&r[e.name];)e.name=\"li\",l.add(e),i.parent.insert(e,i.parent),e=e.next;i.unwrap();continue}const f=[i];for(c=i.parent;c&&!t.isValidChild(c.name,i.name)&&d(c);c=c.parent)f.push(c);if(c&&f.length>1)if(Ob(t,i,c))Ab(i,t);else{f.reverse(),u=f[0].clone(),o(u);let e=u;for(let n=0;n<f.length-1;n++){t.isValidChild(e.name,f[n].name)&&n>0?(m=f[n].clone(),o(m),e.append(m)):m=e;for(let e=f[n].firstChild;e&&e!==f[n+1];){const t=e.next;m.append(e),e=t}e=m}Nb(t,s,a,u)?c.insert(i,f[0],!0):(c.insert(u,f[0],!0),c.insert(i,u)),c=f[0],(Nb(t,s,a,c)||Sb(c,\"br\"))&&c.empty().remove()}else if(i.parent){if(\"li\"===i.name){let e=i.prev;if(e&&(\"ul\"===e.name||\"ol\"===e.name)){e.append(i);continue}if(e=i.next,e&&(\"ul\"===e.name||\"ol\"===e.name)&&e.firstChild){e.insert(i,e.firstChild,!0);continue}const t=new tp(\"ul\",1);o(t),i.wrap(t);continue}if(t.isValidChild(i.parent.name,\"div\")&&t.isValidChild(\"div\",i.name)){const e=new tp(\"div\",1);o(e),i.wrap(e)}else Ab(i,t)}}},Ob=(e,t,n=t.parent)=>!(!n||(!e.children[t.name]||e.isValidChild(n.name,t.name))&&(\"a\"!==t.name||!(e=>{let t=e;for(;t;){if(\"a\"===t.name)return!0;t=t.parent}return!1})(n))&&(!(e=>\"summary\"===e.name)(n)||!wb(t)||(null==n?void 0:n.firstChild)===t&&(null==n?void 0:n.lastChild)===t)),Bb=e=>e.collapsed?e:(e=>{const t=el.fromRangeStart(e),n=el.fromRangeEnd(e),o=e.commonAncestorContainer;return qu(!1,o,n).map((r=>!vu(t,n,o)&&vu(t,r,o)?((e,t,n,o)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(n,o),r})(t.container(),t.offset(),r.container(),r.offset()):e)).getOr(e)})(e),Pb=(e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&\"meta\"===n.name&&(n=n.next),o&&\"mce_marker\"===o.attr(\"id\")&&(o=o.prev),((e,t)=>{const n=e.getNonEmptyElements();return C(t)&&(t.isEmpty(n)||((e,t)=>e.getBlockElements()[t.name]&&(e=>C(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>\"br\"===e.name||e.value===qo)(t.firstChild))(e,t))})(e,o)&&(o=null==o?void 0:o.prev),!(!n||n!==o||\"ul\"!==n.name&&\"ol\"!==n.name)},Db=e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||C(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===qo||gr(e))(t.firstChild))?e.slice(0,-1):e;var t,n},Lb=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&\"LI\"===n.nodeName?n:null},Mb=(e,t)=>{const n=el.after(e),o=ju(t).prev(n);return o?o.toRange():null},Ib=(e,t,n,o)=>{const r=((e,t,n)=>{const o=t.serialize(n);return(e=>{var t,n;const o=e.firstChild,r=e.lastChild;return o&&\"META\"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),r&&\"mce_marker\"===r.id&&(null===(n=r.parentNode)||void 0===n||n.removeChild(r)),e})(e.createFragment(o))})(t,e,o),s=Lb(t,n.startContainer),a=Db((i=r.firstChild,Y(null!==(l=null==i?void 0:i.childNodes)&&void 0!==l?l:[],(e=>\"LI\"===e.nodeName))));var i,l;const d=t.getRoot(),c=e=>{const o=el.fromRangeStart(n),r=ju(t.getRoot()),a=1===e?r.prev(o):r.next(o),i=null==a?void 0:a.getNode();return!i||Lb(t,i)!==s};return s?c(1)?((e,t,n)=>{const o=e.parentNode;return o&&Dt.each(t,(t=>{o.insertBefore(t,e)})),((e,t)=>{const n=el.before(e),o=ju(t).next(n);return o?o.toRange():null})(e,n)})(s,a,d):c(2)?((e,t,n,o)=>(o.insertAfter(t.reverse(),e),Mb(t[0],n)))(s,a,d,t):((e,t,n,o)=>{const r=((e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]})(e,o),s=e.parentNode;return s&&(s.insertBefore(r[0],e),Dt.each(t,(t=>{s.insertBefore(t,e)})),s.insertBefore(r[1],e),s.removeChild(e)),Mb(t[t.length-1],n)})(s,a,d,n):null},Fb=[\"pre\"],Ub=yr,zb=(e,t,n)=>{var o,r;const s=e.selection,a=e.dom,i=e.parser,l=n.merge,d=Cp({validate:!0},e.schema),c='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';n.preserve_zwsp||(t=ni(t)),-1===t.indexOf(\"{$caret}\")&&(t+=\"{$caret}\"),t=t.replace(/\\{\\$caret\\}/,c);let u=s.getRng();const m=u.startContainer,f=e.getBody();m===f&&s.isCollapsed()&&a.isBlock(f.firstChild)&&((e,t)=>C(t)&&!e.schema.getVoidElements()[t.nodeName])(e,f.firstChild)&&a.isEmpty(f.firstChild)&&(u=a.createRng(),u.setStart(f.firstChild,0),u.setEnd(f.firstChild,0),s.setRng(u)),s.isCollapsed()||(e=>{const t=e.dom,n=Bb(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,Ub);((e,t,n)=>!!C(n)&&n===e.getParent(t.endContainer,Ub)&&_m(Cn(n),t))(t,n,o)?db(e,n,Cn(o)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&lr(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand(\"Delete\",!1)})(e);const g=s.getNode(),p={context:g.nodeName.toLowerCase(),data:n.data,insert:!0},h=i.parse(t,p);if(!0===n.paste&&Pb(e.schema,h)&&((e,t)=>!!Lb(e,t))(a,g))return u=Ib(d,a,s.getRng(),h),u&&s.setRng(u),t;!0===n.paste&&((e,t,n,o)=>{var r;const s=t.firstChild,a=t.lastChild,i=s===(\"bookmark\"===a.attr(\"data-mce-type\")?a.prev:a),l=H(Fb,s.name);if(i&&l){const t=\"false\"!==s.attr(\"contenteditable\"),a=(null===(r=e.getParent(n,e.isBlock))||void 0===r?void 0:r.nodeName.toLowerCase())===s.name,i=I.from(bb(o,n)).forall(hr);return t&&a&&i}return!1})(a,h,g,e.getBody())&&(null===(o=h.firstChild)||void 0===o||o.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr(\"data-mce-fragment\",\"1\")})(h);let b=h.lastChild;if(b&&\"mce_marker\"===b.attr(\"id\")){const t=b;for(b=b.prev;b&&\"table\"!==b.name;b=b.walk(!0))if(3===b.type||!a.isBlock(b.name)){b.parent&&e.schema.isValidChild(b.parent.name,\"span\")&&b.parent.insert(t,b,\"br\"===b.name);break}}if(e._selectionOverrides.showBlockCaretContainer(g),p.invalid||((e,t,n)=>{var o;return $(n.children(),wb)&&\"SUMMARY\"===(null===(o=e.getParent(t,e.isBlock))||void 0===o?void 0:o.nodeName)})(a,g,h)){e.selection.setContent(c);let n,o=s.getNode();const l=e.getBody();for(mr(o)?o=n=l:n=o;n&&n!==l;)o=n,n=n.parentNode;t=o===l?l.innerHTML:a.getOuterHTML(o);const u=i.parse(t),m=(e=>{for(let t=e;t;t=t.walk())if(\"mce_marker\"===t.attr(\"id\"))return I.some(t);return I.none()})(u),f=m.bind(Rb).getOr(u);m.each((e=>e.replace(h)));const g=h.children(),p=null!==(r=h.parent)&&void 0!==r?r:u;h.unwrap();const b=Y(g,(t=>Ob(e.schema,t,p)));Tb(b,e.schema,f),_b(i.getNodeFilters(),i.getAttributeFilters(),u),t=d.serialize(u),o===l?a.setHTML(l,t):a.setOuterHTML(o,t)}else t=d.serialize(h),((e,t,n)=>{var o;\"all\"===n.getAttribute(\"data-mce-bogus\")?null===(o=n.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),n):((e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const e=t.childNodes;return 1===e.length&&gr(e[0])||0===e.length}return!1})(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})})(e,t,g);var v;return((e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),r=Cb(e),s=\"*[data-mce-fragment]\",a=o.select(s);Dt.each(a,(e=>{const a=e=>C(n[e.nodeName.toLowerCase()]),i=e=>1===e.childNodes.length;if(!kp(o,l=e)&&!((e,t)=>kp(e,t)&&$(_p(e,t),(e=>(e=>Ep.has(e))(e))))(o,l)&&a(e)&&i(e)){const n=_p(o,e),l=(e,t)=>ne(e,(e=>H(t,e))),d=t=>i(e)&&o.is(t,s)&&a(t)&&(t.nodeName===e.nodeName&&l(n,_p(o,t))||d(t.children[0])),c=n=>C(n)&&n!==t&&(r.compare(e,n)||c(n.parentElement)),u=n=>C(n)&&n!==t&&o.is(n,s)&&(((e,t,n)=>{const o=_p(e,t),r=_p(e,n),s=o=>{var r,s;const a=null!==(r=e.getStyle(t,o))&&void 0!==r?r:\"\",i=null!==(s=e.getStyle(n,o))&&void 0!==s?s:\"\";return Ge(a)&&Ge(i)&&a!==i};return $(o,(e=>{const t=t=>$(t,(t=>t===e));if(!t(r)&&t(xp)){const e=Y(r,(e=>$(xp,(t=>$e(e,t)))));return $(e,s)}return s(e)}))})(o,e,n)||u(n.parentElement));(d(e.children[0])||c(e.parentElement)&&!u(e.parentElement))&&o.remove(e,!0)}var l}))}})(e,l),((e,t)=>{var n,o,r;let s;const a=e.dom,i=e.selection;if(!t)return;i.scrollIntoView(t);const l=bb(e.getBody(),t);if(l&&\"false\"===a.getContentEditable(l))return a.remove(t),void i.select(l);let d=a.createRng();const c=t.previousSibling;if(lr(c)){d.setStart(c,null!==(o=null===(n=c.nodeValue)||void 0===n?void 0:n.length)&&void 0!==o?o:0);const e=t.nextSibling;lr(e)&&(c.appendData(e.data),null===(r=e.parentNode)||void 0===r||r.removeChild(e))}else d.setStartBefore(t),d.setEndBefore(t);const u=a.getParent(t,a.isBlock);if(a.remove(t),u&&a.isEmpty(u)){const t=Ub(u);wo(Cn(u)),d.setStart(u,0),d.setEnd(u,0),t||(e=>!!e.getAttribute(\"data-mce-fragment\"))(u)||!(s=(t=>{let n=el.fromRangeStart(t);return n=ju(e.getBody()).next(n),null==n?void 0:n.toRange()})(d))?a.add(u,a.create(\"br\",t?{}:{\"data-mce-bogus\":\"1\"})):(d=s,a.remove(u))}i.setRng(d)})(e,a.get(\"mce_marker\")),v=e.getBody(),Dt.each(v.getElementsByTagName(\"*\"),(e=>{e.removeAttribute(\"data-mce-fragment\")})),((e,t,n)=>{I.from(e.getParent(t,\"td,th\")).map(Cn).each((e=>((e,t)=>{zn(e).each((n=>{Pn(n).each((o=>{t.isBlock($t(e))&&qa(n)&&t.isBlock($t(o))&&Eo(n)}))}))})(e,n)))})(a,s.getStart(),e.schema),((e,t,n)=>{const o=Bn(Cn(n),(e=>kn(e,Cn(t))));ie(o,o.length-2).filter(Kt).fold((()=>Wr(e,t)),(t=>Wr(e,t.dom)))})(e.schema,e.getBody(),s.getStart()),t},jb=e=>e instanceof tp,Hb=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{Gf(e)&&Zu(e.getBody()).each((t=>{const n=t.getNode(),o=sr(n)?Zu(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e)},$b=e=>w(e)?e:L,Vb=(e,t,n)=>{const o=t(e),r=$b(n);return o.orThunk((()=>r(e)?I.none():((e,t,n)=>{let o=e.dom;const r=$b(n);for(;o.parentNode;){o=o.parentNode;const e=Cn(o),n=t(e);if(n.isSome())return n;if(r(e))break}return I.none()})(e,t,r)))},qb=Um,Wb=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let n=0;n<o.length;n++){const r=o[n];if(Wm(r)&&!1===r.inherit&&e.dom.is(t,r.selector))return!0}return!1},Kb=(e,t,n,o,r)=>{const s=e.dom.getRoot();if(t===s)return!1;const a=e.dom.getParent(t,(t=>!!Wb(e,t,n)||t.parentNode===s||!!Xb(e,t,n,o,!0)));return!!Xb(e,a,n,o,r)},Yb=(e,t,n)=>!(!Km(n)||!qb(t,n.inline))||!(!qm(n)||!qb(t,n.block))||!!Wm(n)&&Jo(t)&&e.is(t,n.selector),Gb=(e,t,n,o,r,s)=>{const a=n[o],i=\"attributes\"===o;if(w(n.onmatch))return n.onmatch(t,n,o);if(a)if(Ne(a)){for(let n=0;n<a.length;n++)if(i?e.getAttrib(t,a[n]):jm(e,t,a[n]))return!0}else for(const o in a)if(_e(a,o)){const l=i?e.getAttrib(t,o):jm(e,t,o),d=Fm(a[o],s),c=y(l)||Xe(l);if(c&&y(d))continue;if(r&&c&&!n.exact)return!1;if((!r||n.exact)&&!qb(l,zm(d,o)))return!1}return!0},Xb=(e,t,n,o,r)=>{const s=e.formatter.get(n),a=e.dom;if(s&&Jo(t))for(let n=0;n<s.length;n++){const i=s[n];if(Yb(e.dom,t,i)&&Gb(a,t,i,\"attributes\",r,o)&&Gb(a,t,i,\"styles\",r,o)){const n=i.classes;if(n)for(let r=0;r<n.length;r++)if(!e.dom.hasClass(t,Fm(n[r],o)))return;return i}}},Zb=(e,t,n,o,r)=>{if(o)return Kb(e,o,t,n,r);if(o=e.selection.getNode(),Kb(e,o,t,n,r))return!0;const s=e.selection.getStart();return!(s===o||!Kb(e,s,t,n,r))},Qb=ei,Jb=e=>{if(e){const t=new $o(e,e);for(let e=t.current();e;e=t.next())if(lr(e))return e}return null},ev=e=>{const t=vn(\"span\");return en(t,{id:Ju,\"data-mce-bogus\":\"1\",\"data-mce-type\":\"format-caret\"}),e&&vo(t,yn(Qb)),t},tv=(e,t,n)=>{const o=e.dom,r=e.selection;if(Gm(t))Rh(e,!1,Cn(t),n,!0);else{const e=r.getRng(),n=o.getParent(t,o.isBlock),s=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset,d=(e=>{const t=Jb(e);return t&&t.data.charAt(0)===Qb&&t.deleteData(0,1),t})(t);o.remove(t,!0),s===d&&a>0&&e.setStart(d,a-1),i===d&&l>0&&e.setEnd(d,l-1),n&&o.isEmpty(n)&&Ja(Cn(n)),r.setRng(e)}},nv=(e,t,n)=>{const o=e.dom,r=e.selection;if(t)tv(e,t,n);else if(!(t=tm(e.getBody(),r.getStart())))for(;t=o.get(Ju);)tv(e,t,n)},ov=(e,t)=>(e.appendChild(t),t),rv=(e,t)=>{var n;const o=G(e,((e,t)=>ov(e,t.cloneNode(!1))),t),r=null!==(n=o.ownerDocument)&&void 0!==n?n:document;return ov(o,r.createTextNode(Qb))},sv=e=>$a(e,Ha(e).replace(new RegExp(`${qo}$`),\" \")),av=(e,t)=>{const n=()=>{null===t||e.dom.isEmpty(t)||Pn(Cn(t)).each((e=>{Yt(e)?sv(e):Qn(e,(e=>Yt(e))).each((e=>{Yt(e)&&sv(e)}))}))};e.once(\"input\",(t=>{t.data&&!hm(t.data)&&(t.isComposing?e.once(\"compositionend\",(()=>{n()})):n())}))},iv=(e,t,n,o)=>{const a=e.dom,i=e.selection;let l=!1;const d=e.formatter.get(t);if(!d)return;const c=i.getRng(),u=c.startContainer,m=c.startOffset;let f=u;lr(u)&&(m!==u.data.length&&(l=!0),f=f.parentNode);const g=[];let h;for(;f;){if(Xb(e,f,t,n,o)){h=f;break}f.nextSibling&&(l=!0),g.push(f),f=f.parentNode}if(h)if(l){const r=i.getBookmark();c.collapse(!0);let s=mf(a,c,d,{includeTrailingSpace:!0});s=_g(s),e.formatter.remove(t,n,s,o),i.moveToBookmark(r)}else{const l=tm(e.getBody(),h),d=C(l)?a.getParents(h.parentNode,M,l):[],c=ev(!1).dom;((e,t,n)=>{var o,r;const s=e.dom,a=s.getParent(n,T(Dm,e.schema));a&&s.isEmpty(a)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):((e=>{const t=Uo(e,\"br\"),n=Y((e=>{const t=[];let n=e.dom;for(;n;)t.push(Cn(n)),n=n.lastChild;return t})(e).slice(-1),qa);t.length===n.length&&q(n,Eo)})(Cn(n)),s.isEmpty(n)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):s.insertAfter(t,n))})(e,c,null!=l?l:h);const u=((e,t,n,o,a,i)=>{const l=e.formatter,d=e.dom,c=Y(fe(l.get()),(e=>e!==o&&!He(e,\"removeformat\"))),u=((e,t,n)=>X(n,((n,o)=>{const r=((e,t)=>Vm(e,t,(e=>{const t=e=>w(e)||e.length>1&&\"%\"===e.charAt(0);return $([\"styles\",\"attributes\"],(n=>xe(e,n).exists((e=>{const n=p(e)?e:Ee(e);return $(n,t)}))))})))(e,o);return e.formatter.matchNode(t,o,{},r)?n.concat([o]):n}),[]))(e,n,c);if(Y(u,(t=>!((e,t,n)=>{const o=[\"inline\",\"block\",\"selector\",\"attributes\",\"styles\",\"classes\"],a=e=>Ce(e,((e,t)=>$(o,(e=>e===t))));return Vm(e,t,(t=>{const o=a(t);return Vm(e,n,(e=>{const t=a(e);return((e,t,n=s)=>r(n).eq(e,t))(o,t)}))}))})(e,t,o))).length>0){const e=n.cloneNode(!1);return d.add(t,e),l.remove(o,a,e,i),d.remove(e),I.some(e)}return I.none()})(e,c,h,t,n,o),m=rv([...g,...u.toArray(),...d],c);l&&tv(e,l,C(l)),i.setCursorLocation(m,1),av(e,c),a.isEmpty(h)&&a.remove(h)}},lv=e=>{const t=ev(!1),n=rv(e,t.dom);return{caretContainer:t,caretPosition:el(n,0)}},dv=(e,t)=>{const{caretContainer:n,caretPosition:o}=lv(t);return po(Cn(e),n),Eo(Cn(e)),o},cv=(e,t)=>{if(em(t.dom))return!1;const n=e.schema.getTextInlineElements();return _e(n,$t(t))&&!em(t.dom)&&!rr(t.dom)},uv={},mv=nr([\"pre\"]);(e=>{uv[e]||(uv[e]=[]),uv[e].push((e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),n=Y(Y(t,mv),(e=>t=>{const n=t.previousSibling;return mv(n)&&H(e,n)})(t));q(n,(e=>{((e,t)=>{const n=Cn(t),o=Rn(n).dom;Eo(n),Co(Cn(e),[vn(\"br\",o),vn(\"br\",o),...In(n)])})(e.previousSibling,e)}))}}))})(\"pre\");const fv=[\"fontWeight\",\"fontStyle\",\"color\",\"fontSize\",\"fontFamily\"],gv=(e,t)=>{const n=e.get(t);return p(n)?Q(n,(e=>Km(e)&&\"span\"===e.inline&&(e=>f(e.styles)&&$(fe(e.styles),(e=>H(fv,e))))(e))):I.none()},pv=(e,t)=>Xu(t,el.fromRangeStart(e)).isNone(),hv=(e,t)=>!1===Gu(t,el.fromRangeEnd(e)).exists((e=>!gr(e.getNode())||Gu(t,e).isSome())),bv=e=>t=>Er(t)&&e.isEditable(t),vv=e=>Y(e.getSelectedBlocks(),bv(e.dom)),yv=Dt.each,Cv=e=>Jo(e)&&!fm(e)&&!em(e)&&!rr(e),wv=(e,t)=>{for(let n=e;n;n=n[t]){if(lr(n)&&Ge(n.data))return e;if(Jo(n)&&!fm(n))return n}return e},Ev=(e,t,n)=>{const o=Cb(e),r=er(t)&&e.dom.isEditable(t),s=er(n)&&e.dom.isEditable(n);if(r&&s){const r=wv(t,\"previousSibling\"),s=wv(n,\"nextSibling\");if(o.compare(r,s)){for(let e=r.nextSibling;e&&e!==s;){const t=e;e=e.nextSibling,r.appendChild(t)}return e.dom.remove(s),Dt.each(Dt.grep(s.childNodes),(e=>{r.appendChild(e)})),r}}return n},xv=(e,t,n,o)=>{var r;if(o&&!1!==t.merge_siblings){const t=null!==(r=Ev(e,Pm(o),o))&&void 0!==r?r:o;Ev(e,t,Pm(t,!0))}},_v=(e,t,n)=>{yv(e.childNodes,(e=>{Cv(e)&&(t(e)&&n(e),e.hasChildNodes()&&_v(e,t,n))}))},kv=(e,t)=>n=>!(!n||!jm(e,n,t)),Sv=(e,t,n)=>o=>{e.setStyle(o,t,n),\"\"===o.getAttribute(\"style\")&&o.removeAttribute(\"style\"),((e,t)=>{\"SPAN\"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,o)},Nv=kl([{keep:[]},{rename:[\"name\"]},{removed:[]}]),Rv=/^(src|href|style)$/,Av=Dt.each,Tv=Um,Ov=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Bv=(e,t,n)=>{let o=t[n?\"startContainer\":\"endContainer\"],r=t[n?\"startOffset\":\"endOffset\"];if(Jo(o)){const e=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>e?e:r]}return lr(o)&&n&&r>=o.data.length&&(o=new $o(o,e.getBody()).next()||o),lr(o)&&!n&&0===r&&(o=new $o(o,e.getBody()).prev()||o),o},Pv=(e,t)=>{const n=t?\"firstChild\":\"lastChild\",o=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&o?\"TR\"===e.nodeName&&o[n]||o:e},Dv=(e,t,n,o)=>{var r;const s=e.create(n,o);return null===(r=t.parentNode)||void 0===r||r.insertBefore(s,t),s.appendChild(t),s},Lv=(e,t,n,o,r)=>{const s=Cn(t),a=Cn(e.create(o,r)),i=n?Mn(s):Ln(s);return Co(a,i),n?(po(s,a),bo(a,s)):(ho(s,a),vo(a,s)),a.dom},Mv=(e,t,n)=>{const o=t.parentNode;let r;const s=e.dom,a=ed(e);qm(n)&&o===s.getRoot()&&(n.list_block&&Tv(t,n.list_block)||q(ce(t.childNodes),(t=>{Lm(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Dv(s,t,a),s.setAttribs(r,td(e))):r=null}))),(e=>Wm(e)&&Km(e)&&Lt(xe(e,\"mixed\"),!0))(n)&&!Tv(n.inline,t)||s.remove(t,!0)},Iv=(e,t,n)=>E(e)?{name:t,value:null}:{name:e,value:Fm(t,n)},Fv=(e,t)=>{\"\"===e.getAttrib(t,\"style\")&&(t.removeAttribute(\"style\"),t.removeAttribute(\"data-mce-style\"))},Uv=(e,t,n,o,r)=>{let s=!1;Av(n.styles,((a,i)=>{const{name:l,value:d}=Iv(i,a,o),c=zm(d,l);(n.remove_similar||h(d)||!Jo(r)||Tv(jm(e,r,l),c))&&e.setStyle(t,l,\"\"),s=!0})),s&&Fv(e,t)},zv=(e,t,n,o,r)=>{const s=e.dom,a=Cb(e),i=e.schema;if(Km(t)&&Gr(i,t.inline)&&Zr(i,o)&&o.parentElement===e.getBody())return Mv(e,o,t),Nv.removed();if(!t.ceFalseOverride&&o&&\"false\"===s.getContentEditableParent(o))return Nv.keep();if(o&&!Yb(s,o,t)&&!((e,t)=>t.links&&\"A\"===e.nodeName)(o,t))return Nv.keep();const l=o,d=t.preserve_attributes;if(Km(t)&&\"all\"===t.remove&&p(d)){const e=Y(s.getAttribs(l),(e=>H(d,e.name.toLowerCase())));if(s.removeAllAttribs(l),q(e,(e=>s.setAttrib(l,e.name,e.value))),e.length>0)return Nv.rename(\"span\")}if(\"all\"!==t.remove){Uv(s,l,t,n,r),Av(t.attributes,((e,o)=>{const{name:a,value:i}=Iv(o,e,n);if(t.remove_similar||h(i)||!Jo(r)||Tv(s.getAttrib(r,a),i)){if(\"class\"===a){const e=s.getAttrib(l,a);if(e){let t=\"\";if(q(e.split(/\\s+/),(e=>{/mce\\-\\w+/.test(e)&&(t+=(t?\" \":\"\")+e)})),t)return void s.setAttrib(l,a,t)}}if(Rv.test(a)&&l.removeAttribute(\"data-mce-\"+a),\"style\"===a&&nr([\"li\"])(l)&&\"none\"===s.getStyle(l,\"list-style-type\"))return l.removeAttribute(a),void s.setStyle(l,\"list-style-type\",\"none\");\"class\"===a&&l.removeAttribute(\"className\"),l.removeAttribute(a)}})),Av(t.classes,(e=>{e=Fm(e,n),Jo(r)&&!s.hasClass(r,e)||s.removeClass(l,e)}));const e=s.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!a.isAttributeInternal(n))return Nv.keep()}}return\"none\"!==t.remove?(Mv(e,l,t),Nv.removed()):Nv.keep()},jv=(e,t,n,o)=>zv(e,t,n,o,o).fold(N(o),(t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t))),N(null)),Hv=(e,t,n,o,r)=>{(o||e.selection.isEditable())&&((e,t,n,o,r)=>{const s=e.formatter.get(t),a=s[0],i=e.dom,l=e.selection,d=o=>{const i=((e,t,n,o,r)=>{let s;return t.parentNode&&q($m(e.dom,t.parentNode).reverse(),(t=>{if(!s&&Jo(t)&&\"_start\"!==t.id&&\"_end\"!==t.id){const a=Xb(e,t,n,o,r);a&&!1!==a.split&&(s=t)}})),s})(e,o,t,n,r);return((e,t,n,o,r,s,a,i)=>{var l,d;let c,u;const m=e.dom;if(n){const s=n.parentNode;for(let n=o.parentNode;n&&n!==s;n=n.parentNode){let o=m.clone(n,!1);for(let n=0;n<t.length&&(o=jv(e,t[n],i,o),null!==o);n++);o&&(c&&o.appendChild(c),u||(u=o),c=o)}a.mixed&&m.isBlock(n)||(o=null!==(l=m.split(n,o))&&void 0!==l?l:o),c&&u&&(null===(d=r.parentNode)||void 0===d||d.insertBefore(c,r),u.appendChild(r),Km(a)&&xv(e,a,0,c))}return o})(e,s,i,o,o,0,a,n)},c=t=>$(s,(o=>$v(e,o,n,t,t))),u=t=>{const n=ce(t.childNodes),o=c(t)||$(s,(e=>Yb(i,t,e))),r=t.parentNode;if(!o&&C(r)&&Ym(a)&&c(r),a.deep&&n.length)for(let e=0;e<n.length;e++)u(n[e]);q([\"underline\",\"line-through\",\"overline\"],(n=>{Jo(t)&&e.dom.getStyle(t,\"text-decoration\")===n&&t.parentNode&&Hm(i,t.parentNode)===n&&$v(e,{deep:!1,exact:!0,inline:\"span\",styles:{textDecoration:n}},void 0,t)}))},m=e=>{const t=i.get(e?\"_start\":\"_end\");if(t){let n=t[e?\"firstChild\":\"lastChild\"];return(e=>fm(e)&&Jo(e)&&(\"_start\"===e.id||\"_end\"===e.id))(n)&&(n=n[e?\"firstChild\":\"lastChild\"]),lr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),i.remove(t,!0),n}return null},f=t=>{let n,o,r=mf(i,t,s,{includeTrailingSpace:t.collapsed});if(a.split){if(r=_g(r),n=Bv(e,r,!0),o=Bv(e,r),n!==o){if(n=Pv(n,!0),o=Pv(o,!1),Ov(i,n,o)){const e=I.from(n.firstChild).getOr(n);return d(Lv(i,e,!0,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"})),void m(!0)}if(Ov(i,o,n)){const e=I.from(o.lastChild).getOr(o);return d(Lv(i,e,!1,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"})),void m(!1)}n=Dv(i,n,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"}),o=Dv(i,o,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"});const e=i.createRng();e.setStartAfter(n),e.setEndBefore(o),ff(i,e,(e=>{q(e,(e=>{fm(e)||fm(e.parentNode)||d(e)}))})),d(n),d(o),n=m(!0),o=m()}else n=o=d(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=i.nodeIndex(n),r.endContainer=o.parentNode?o.parentNode:o,r.endOffset=i.nodeIndex(o)+1}ff(i,r,(e=>{q(e,u)}))};if(o){if(Am(o)){const e=i.createRng();e.setStartBefore(o),e.setEndAfter(o),f(e)}else f(o);Ll(e,t,o,n)}else l.isCollapsed()&&Km(a)&&!Cm(e).length?iv(e,t,n,r):(Om(e,(()=>Nm(e,f)),(o=>Km(a)&&Zb(e,t,n,o))),e.nodeChanged()),((e,t,n)=>{\"removeformat\"===t?q(vv(e.selection),(t=>{q(fv,(n=>e.dom.setStyle(t,n,\"\"))),Fv(e.dom,t)})):gv(e.formatter,t).each((t=>{q(vv(e.selection),(o=>Uv(e.dom,o,t,n,null)))}))})(e,t,n),Ll(e,t,o,n)})(e,t,n,o,r)},$v=(e,t,n,o,r)=>zv(e,t,n,o,r).fold(L,(t=>(e.dom.rename(o,t),!0)),M),Vv=Dt.each,qv=Dt.each,Wv=(e,t,n,o)=>{if(qv(n.styles,((n,r)=>{e.setStyle(t,r,Fm(n,o))})),n.styles){const n=e.getAttrib(t,\"style\");n&&e.setAttrib(t,\"data-mce-style\",n)}},Kv=(e,t,n,o)=>{const r=e.formatter.get(t),s=r[0],a=!o&&e.selection.isCollapsed(),i=e.dom,l=e.selection,d=(e,t=s)=>{w(t.onformat)&&t.onformat(e,t,n,o),Wv(i,e,t,n),qv(t.attributes,((t,o)=>{i.setAttrib(e,o,Fm(t,n))})),qv(t.classes,(t=>{const o=Fm(t,n);i.hasClass(e,o)||i.addClass(e,o)}))},c=(e,t)=>{let n=!1;return qv(e,(e=>!(!Wm(e)||(\"false\"!==i.getContentEditable(t)||e.ceFalseOverride)&&(!C(e.collapsed)||e.collapsed===a)&&i.is(t,e.selector)&&!em(t)&&(d(t,e),n=!0,1)))),n},u=e=>{if(m(e)){const t=i.create(e);return d(t),t}return null},f=(o,a,i)=>{const l=[];let m=!0;const f=s.inline||s.block,g=u(f);ff(o,a,(a=>{let u;const p=a=>{let h=!1,b=m,v=!1;const y=a.parentNode,w=y.nodeName.toLowerCase(),E=o.getContentEditable(a);C(E)&&(b=m,m=\"true\"===E,h=!0,v=Im(e,a));const x=m&&!h;if(gr(a)&&!((e,t,n,o)=>{if(Ud(e)&&Km(t)&&n.parentNode){const t=Ms(e.schema),r=jo(Cn(n),(e=>em(e.dom)));return ke(t,o)&&Ar(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!r}return!1})(e,s,a,w))return u=null,void(qm(s)&&o.remove(a));if((o=>(e=>qm(e)&&!0===e.wrapper)(s)&&Xb(e,o,t,n))(a))u=null;else{if(((t,n,o)=>{const r=(e=>qm(e)&&!0!==e.wrapper)(s)&&Dm(e.schema,t)&&Lm(e,n,f);return o&&r})(a,w,x)){const e=o.rename(a,f);return d(e),l.push(e),void(u=null)}if(Wm(s)){let e=c(r,a);if(!e&&C(y)&&Ym(s)&&(e=c(r,y)),!Km(s)||e)return void(u=null)}C(g)&&((t,n,r,a)=>{const l=t.nodeName.toLowerCase(),d=Lm(e,f,l)&&Lm(e,n,f),c=!i&&lr(t)&&ti(t.data),u=em(t),m=!Km(s)||!o.isBlock(t);return(r||a)&&d&&!c&&!u&&m})(a,w,x,v)?(u||(u=o.clone(g,!1),y.insertBefore(u,a),l.push(u)),v&&h&&(m=b),u.appendChild(a)):(u=null,q(ce(a.childNodes),p),h&&(m=b),u=null)}};q(a,p)})),!0===s.links&&q(l,(e=>{const t=e=>{\"A\"===e.nodeName&&d(e,s),q(ce(e.childNodes),t)};t(e)})),q(l,(a=>{const i=(e=>{let t=0;return q(e.childNodes,(e=>{(e=>C(e)&&lr(e)&&0===e.length)(e)||fm(e)||t++})),t})(a);!(l.length>1)&&o.isBlock(a)||0!==i?(Km(s)||qm(s)&&s.wrapper)&&(s.exact||1!==i||(a=(e=>{const t=Q(e.childNodes,Tm).filter((e=>\"false\"!==o.getContentEditable(e)&&Yb(o,e,s)));return t.map((t=>{const n=o.clone(t,!1);return d(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e)})(a)),((e,t,n,o)=>{Vv(t,(t=>{Km(t)&&Vv(e.dom.select(t.inline,o),(o=>{Cv(o)&&$v(e,t,n,o,t.exact?o:null)})),((e,t,n)=>{if(t.clear_child_styles){const o=t.links?\"*:not(a)\":\"*\";yv(e.select(o,n),(n=>{Cv(n)&&e.isEditable(n)&&yv(t.styles,((t,o)=>{e.setStyle(n,o,\"\")}))}))}})(e.dom,t,o)}))})(e,r,n,a),((e,t,n,o,r)=>{const s=r.parentNode;Xb(e,s,n,o)&&$v(e,t,o,r)||t.merge_with_parents&&s&&e.dom.getParent(s,(s=>!!Xb(e,s,n,o)&&($v(e,t,o,r),!0)))})(e,s,t,n,a),((e,t,n,o)=>{if(t.styles&&t.styles.backgroundColor){const r=kv(e,\"fontSize\");_v(o,(t=>r(t)&&e.isEditable(t)),Sv(e,\"backgroundColor\",Fm(t.styles.backgroundColor,n)))}})(o,s,n,a),((e,t,n,o)=>{const r=t=>{if(er(t)&&Jo(t.parentNode)&&e.isEditable(t)){const n=Hm(e,t.parentNode);e.getStyle(t,\"color\")&&n?e.setStyle(t,\"text-decoration\",n):e.getStyle(t,\"text-decoration\")===n&&e.setStyle(t,\"text-decoration\",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Dt.walk(o,r,\"childNodes\"),r(o))})(o,s,0,a),((e,t,n,o)=>{if(Km(t)&&(\"sub\"===t.inline||\"sup\"===t.inline)){const n=kv(e,\"fontSize\");_v(o,(t=>n(t)&&e.isEditable(t)),Sv(e,\"fontSize\",\"\"));const r=Y(e.select(\"sup\"===t.inline?\"sub\":\"sup\",o),e.isEditable);e.remove(r,!0)}})(o,s,0,a),xv(e,s,0,a)):o.remove(a,!0)}))},g=Am(o)?o:l.getNode();if(\"false\"===i.getContentEditable(g)&&!Im(e,g))return c(r,o=g),void Dl(e,t,o,n);if(s){if(o)if(Am(o)){if(!c(r,o)){const e=i.createRng();e.setStartBefore(o),e.setEndAfter(o),f(i,mf(i,e,r),!0)}}else f(i,o,!0);else a&&Km(s)&&!Cm(e).length?((e,t,n)=>{let o;const r=e.selection,s=e.formatter.get(t);if(!s)return;const a=r.getRng();let i=a.startOffset;const l=a.startContainer.nodeValue;o=tm(e.getBody(),r.getStart());const d=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;if(l&&i>0&&i<l.length&&d.test(l.charAt(i))&&d.test(l.charAt(i-1))){const o=r.getBookmark();a.collapse(!0);let i=mf(e.dom,a,s);i=_g(i),e.formatter.apply(t,n,i),r.moveToBookmark(o)}else{let s=o?Jb(o):null;o&&(null==s?void 0:s.data)===Qb||(c=e.getDoc(),u=ev(!0).dom,o=c.importNode(u,!0),s=o.firstChild,a.insertNode(o),i=1,av(e,o)),e.formatter.apply(t,n,o),r.setCursorLocation(s,i)}var c,u})(e,t,n):(l.setRng(Bb(l.getRng())),Om(e,(()=>{Nm(e,((e,t)=>{const n=t?e:mf(i,e,r);f(i,n,!1)}))}),M),e.nodeChanged()),gv(e.formatter,t).each((t=>{q((e=>Y((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return pv(n,t[0])&&hv(n,t[0])?t:[];{const e=le(t).filter((e=>pv(n,e))).toArray(),o=de(t).filter((e=>hv(n,e))).toArray(),r=t.slice(1,-1);return e.concat(r).concat(o)}})(e),bv(e.dom)))(e.selection),(e=>Wv(i,e,t,n)))}));((e,t)=>{_e(uv,e)&&q(uv[e],(e=>{e(t)}))})(t,e)}Dl(e,t,o,n)},Yv=(e,t,n,o)=>{(o||e.selection.isEditable())&&Kv(e,t,n,o)},Gv=e=>_e(e,\"vars\"),Xv=e=>e.selection.getStart(),Zv=(e,t,n,o,r)=>Z(t,(t=>{const s=e.formatter.matchNode(t,n,null!=r?r:{},o);return!v(s)}),(t=>!!Wb(e,t,n)||!o&&C(e.formatter.matchNode(t,n,r,!0)))),Qv=(e,t)=>{const n=null!=t?t:Xv(e);return Y($m(e.dom,n),(e=>Jo(e)&&!rr(e)))},Jv=(e,t,n)=>{const o=Qv(e,t);pe(n,((n,r)=>{const s=n=>{const s=Zv(e,o,r,n.similar,Gv(n)?n.vars:void 0),a=s.isSome();if(n.state.get()!==a){n.state.set(a);const e=s.getOr(t);Gv(n)?n.callback(a,{node:e,format:r,parents:o}):q(n.callbacks,(t=>t(a,{node:e,format:r,parents:o})))}};q([n.withSimilar,n.withoutSimilar],s),q(n.withVars,s)}))},ey=Dt.explode,ty=()=>{const e={};return{addFilter:(t,n)=>{q(ey(t),(t=>{_e(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>Ee(e),removeFilter:(t,n)=>{q(ey(t),(t=>{if(_e(e,t))if(C(n)){const o=e[t],r=Y(o.callbacks,(e=>e!==n));r.length>0?o.callbacks=r:delete e[t]}else delete e[t]}))}}},ny=(e,t,n)=>{var o;const r=Ks();t.convert_fonts_to_spans&&((e,t,n)=>{e.addNodeFilter(\"font\",(e=>{q(e,(e=>{const o=t.parse(e.attr(\"style\")),r=e.attr(\"color\"),s=e.attr(\"face\"),a=e.attr(\"size\");r&&(o.color=r),s&&(o[\"font-family\"]=s),a&&Ze(a).each((e=>{o[\"font-size\"]=n[e-1]})),e.name=\"span\",e.attr(\"style\",t.serialize(o)),(e=>{q([\"color\",\"face\",\"size\"],(t=>{e.attr(t,null)}))})(e)}))}))})(e,r,Dt.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:\"\")),((e,t,n)=>{e.addNodeFilter(\"strike\",(e=>{const o=\"html4\"!==t.type;q(e,(e=>{if(o)e.name=\"s\";else{const t=n.parse(e.attr(\"style\"));t[\"text-decoration\"]=\"line-through\",e.name=\"span\",e.attr(\"style\",n.serialize(t))}}))}))})(e,n,r)},oy=e=>{const[t,...n]=e.split(\",\"),o=n.join(\",\"),r=/data:([^/]+\\/[^;]+)(;.+)?/.exec(t);if(r){const e=\";base64\"===r[2],t=(e=>{try{return decodeURIComponent(e)}catch(t){return e}})(o),n=e?(e=>{const t=/([a-z0-9+\\/=\\s]+)/i.exec(e);return t?t[1]:\"\"})(t):t;return I.some({type:r[1],data:n,base64Encoded:e})}return I.none()},ry=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(e){return I.none()}const r=new Uint8Array(o.length);for(let e=0;e<r.length;e++)r[e]=o.charCodeAt(e);return I.some(new Blob([r],{type:e}))},sy=e=>new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)}));let ay=0;const iy=(e,t,n)=>oy(e).bind((({data:e,type:o,base64Encoded:r})=>{if(t&&!r)return I.none();{const t=r?e:btoa(e);return n(t,o)}})),ly=(e,t,n)=>{const o=e.create(\"blobid\"+ay++,t,n);return e.add(o),o},dy=(e,t,n=!1)=>iy(t,n,((t,n)=>I.from(e.getByData(t,n)).orThunk((()=>ry(n,t).map((n=>ly(e,n,t))))))),cy=/^(?:(?:(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)([A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*))(?::\\d+)?(?:\\/(?:[-.~*+=!;:'%@$(),\\/\\w]*[-~*+=%@$()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+)?)?)$/,uy=e=>I.from(e.match(cy)).bind((e=>ie(e,1))).map((e=>$e(e,\"www.\")?e.substring(4):e)),my=(e,t)=>{I.from(e.attr(\"src\")).bind(uy).forall((e=>!H(t,e)))&&e.attr(\"sandbox\",\"\")},fy=(e,t)=>$e(e,`${t}/`),{entries:gy,setPrototypeOf:py,isFrozen:hy,getPrototypeOf:by,getOwnPropertyDescriptor:vy}=Object;let{freeze:yy,seal:Cy,create:wy}=Object,{apply:Ey,construct:xy}=\"undefined\"!=typeof Reflect&&Reflect;// eslint-disable-line import/no-mutable-exports\nyy||(yy=function(e){return e}),Cy||(Cy=function(e){return e}),Ey||(Ey=function(e,t,n){return e.apply(t,n)}),xy||(xy=function(e,t){return new e(...t)});const _y=Iy(Array.prototype.forEach),ky=Iy(Array.prototype.pop),Sy=Iy(Array.prototype.push),Ny=Iy(String.prototype.toLowerCase),Ry=Iy(String.prototype.toString),Ay=Iy(String.prototype.match),Ty=Iy(String.prototype.replace),Oy=Iy(String.prototype.indexOf),By=Iy(String.prototype.trim),Py=Iy(Object.prototype.hasOwnProperty),Dy=Iy(RegExp.prototype.test),Ly=(My=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xy(My,t)});\n/**\n     * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n     *\n     * @param {Function} func - The constructor function to be wrapped and called.\n     * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n     */\nvar My;\n/**\n     * Add properties to a lookup table\n     *\n     * @param {Object} set - The set to which elements will be added.\n     * @param {Array} array - The array containing elements to be added to the set.\n     * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n     * @returns {Object} The modified set with added elements.\n     */\n/**\n     * Creates a new function that calls the given function with a specified thisArg and arguments.\n     *\n     * @param {Function} func - The function to be wrapped and called.\n     * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n     */\nfunction Iy(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return Ey(e,t,o)}}function Fy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ny;py&&\n// Make 'in' and truthy checks like Boolean(set.constructor)\n// independent of any properties defined on Object.prototype.\n// Prevent prototype setters from intercepting set as a this value.\npy(e,null);let o=t.length;for(;o--;){let r=t[o];if(\"string\"==typeof r){const e=n(r);e!==r&&(\n// Config presets (e.g. tags.js, attrs.js) are immutable.\nhy(t)||(t[o]=e),r=e)}e[r]=!0}return e}\n/**\n     * Clean up an array to harden against CSPP\n     *\n     * @param {Array} array - The array to be cleaned.\n     * @returns {Array} The cleaned version of the array\n     */function Uy(e){for(let t=0;t<e.length;t++)Py(e,t)||(e[t]=null);return e}\n/**\n     * Shallow clone an object\n     *\n     * @param {Object} object - The object to be cloned.\n     * @returns {Object} A new object that copies the original.\n     */function zy(e){const t=wy(null);for(const[n,o]of gy(e))Py(e,n)&&(Array.isArray(o)?t[n]=Uy(o):o&&\"object\"==typeof o&&o.constructor===Object?t[n]=zy(o):t[n]=o);return t}\n/**\n     * This method automatically checks if the prop is function or getter and behaves accordingly.\n     *\n     * @param {Object} object - The object to look up the getter function in its prototype chain.\n     * @param {String} prop - The property name for which to find the getter function.\n     * @returns {Function} The getter function found in the prototype chain or a fallback function.\n     */function jy(e,t){for(;null!==e;){const n=vy(e,t);if(n){if(n.get)return Iy(n.get);if(\"function\"==typeof n.value)return Iy(n.value)}e=by(e)}return function(){return null}}const Hy=yy([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),$y=yy([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),Vy=yy([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),qy=yy([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),Wy=yy([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),Ky=yy([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),Yy=yy([\"#text\"]),Gy=yy([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"popover\",\"popovertarget\",\"popovertargetaction\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),Xy=yy([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"amplitude\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"exponent\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"intercept\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"slope\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"tablevalues\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),Zy=yy([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),Qy=yy([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),Jy=Cy(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),eC=Cy(/<%[\\w\\W]*|[\\w\\W]*%>/gm),tC=Cy(/\\${[\\w\\W]*}/gm),nC=Cy(/^data-[\\-\\w.\\u00B7-\\uFFFF]/),oC=Cy(/^aria-[\\-\\w]+$/),rC=Cy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),sC=Cy(/^(?:\\w+script|data):/i),aC=Cy(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),iC=Cy(/^html$/i),lC=Cy(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n// SVG\nvar dC=Object.freeze({__proto__:null,MUSTACHE_EXPR:Jy,ERB_EXPR:eC,TMPLIT_EXPR:tC,DATA_ATTR:nC,ARIA_ATTR:oC,IS_ALLOWED_URI:rC,IS_SCRIPT_OR_DATA:sC,ATTR_WHITESPACE:aC,DOCTYPE_NAME:iC,CUSTOM_ELEMENT:lC});\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst cC=function(){return\"undefined\"==typeof window?null:window};var uC=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cC();const n=t=>e(t)\n/**\n       * Version label, exposed for easier checks\n       * if DOMPurify is up to date or not\n       */;if(n.version=\"3.1.7\",\n/**\n       * Array of elements that DOMPurify removed during sanitation.\n       * Empty if nothing was removed.\n       */\nn.removed=[],!t||!t.document||9!==t.document.nodeType)\n// Not running in a browser, provide a factory function\n// so that you can pass your own Window\nreturn n.isSupported=!1,n;let{document:o}=t;const r=o,s=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:i,Node:l,Element:d,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:f,trustedTypes:g}=t,p=d.prototype,h=jy(p,\"cloneNode\"),b=jy(p,\"remove\"),v=jy(p,\"nextSibling\"),y=jy(p,\"childNodes\"),C=jy(p,\"parentNode\");\n// As per issue #47, the web-components registry is inherited by a\n// new document created via createHTMLDocument. As per the spec\n// (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n// a new empty registry is used when creating a template contents owner\n// document, so we use that as our parent document to ensure nothing\n// is inherited.\nif(\"function\"==typeof i){const e=o.createElement(\"template\");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let w,E=\"\";const{implementation:x,createNodeIterator:_,createDocumentFragment:k,getElementsByTagName:S}=o,{importNode:N}=r;let R={};\n/**\n       * Expose whether this browser supports running the full DOMPurify.\n       */n.isSupported=\"function\"==typeof gy&&\"function\"==typeof C&&x&&void 0!==x.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:T,TMPLIT_EXPR:O,DATA_ATTR:B,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:M}=dC;let{IS_ALLOWED_URI:I}=dC,F=null;\n/**\n       * We consider the elements and attributes below to be safe. Ideally\n       * don't add any new ones but feel free to remove unwanted ones.\n       */\n/* allowed element names */const U=Fy({},[...Hy,...$y,...Vy,...Wy,...Yy]);\n/* Allowed attribute names */let z=null;const j=Fy({},[...Gy,...Xy,...Zy,...Qy]);\n/*\n       * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n       * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n       * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n       * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n       */let H=Object.seal(wy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,V=null,q=!0,W=!0,K=!1,Y=!0,G=!1,X=!0,Z=!1,Q=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,re=!1,se=!0,ae=!1,ie={},le=null;\n/* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */const de=Fy({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]);\n/* Tags that are safe for data: URIs */let ce=null;const ue=Fy({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]);\n/* Attributes safe for values like \"javascript:\" */let me=null;const fe=Fy({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),ge=\"http://www.w3.org/1998/Math/MathML\",pe=\"http://www.w3.org/2000/svg\",he=\"http://www.w3.org/1999/xhtml\";\n/* Document namespace */\nlet be=he,ve=!1,ye=null;const Ce=Fy({},[ge,pe,he],Ry);\n/* Parsing of strict XHTML documents */let we=null;const Ee=[\"application/xhtml+xml\",\"text/html\"];let xe=null,_e=null;\n/* Keep a reference to config to pass to hooks */\n/* Ideally, do not touch anything below this line */\n/* ______________________________________________ */\nconst ke=o.createElement(\"form\"),Se=function(e){return e instanceof RegExp||e instanceof Function},Ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!_e||_e!==e){if(\n/* Shield configuration object from tampering */\ne&&\"object\"==typeof e||(e={})\n/* Shield configuration object from prototype pollution */,e=zy(e),we=\n// eslint-disable-next-line unicorn/prefer-includes\n-1===Ee.indexOf(e.PARSER_MEDIA_TYPE)?\"text/html\":e.PARSER_MEDIA_TYPE,\n// HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\nxe=\"application/xhtml+xml\"===we?Ry:Ny,\n/* Set configuration parameters */\nF=Py(e,\"ALLOWED_TAGS\")?Fy({},e.ALLOWED_TAGS,xe):U,z=Py(e,\"ALLOWED_ATTR\")?Fy({},e.ALLOWED_ATTR,xe):j,ye=Py(e,\"ALLOWED_NAMESPACES\")?Fy({},e.ALLOWED_NAMESPACES,Ry):Ce,me=Py(e,\"ADD_URI_SAFE_ATTR\")?Fy(zy(fe),\n// eslint-disable-line indent\ne.ADD_URI_SAFE_ATTR,\n// eslint-disable-line indent\nxe):fe,ce=Py(e,\"ADD_DATA_URI_TAGS\")?Fy(zy(ue),\n// eslint-disable-line indent\ne.ADD_DATA_URI_TAGS,\n// eslint-disable-line indent\nxe):ue,le=Py(e,\"FORBID_CONTENTS\")?Fy({},e.FORBID_CONTENTS,xe):de,$=Py(e,\"FORBID_TAGS\")?Fy({},e.FORBID_TAGS,xe):{},V=Py(e,\"FORBID_ATTR\")?Fy({},e.FORBID_ATTR,xe):{},ie=!!Py(e,\"USE_PROFILES\")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,// Default true\nW=!1!==e.ALLOW_DATA_ATTR,// Default true\nK=e.ALLOW_UNKNOWN_PROTOCOLS||!1,// Default false\nY=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,// Default true\nG=e.SAFE_FOR_TEMPLATES||!1,// Default false\nX=!1!==e.SAFE_FOR_XML,// Default true\nZ=e.WHOLE_DOCUMENT||!1,// Default false\nee=e.RETURN_DOM||!1,// Default false\nte=e.RETURN_DOM_FRAGMENT||!1,// Default false\nne=e.RETURN_TRUSTED_TYPE||!1,// Default false\nJ=e.FORCE_BODY||!1,// Default false\noe=!1!==e.SANITIZE_DOM,// Default true\nre=e.SANITIZE_NAMED_PROPS||!1,// Default false\nse=!1!==e.KEEP_CONTENT,// Default true\nae=e.IN_PLACE||!1,// Default false\nI=e.ALLOWED_URI_REGEXP||rC,be=e.NAMESPACE||he,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&\"boolean\"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(W=!1),te&&(ee=!0)\n/* Parse profile info */,ie&&(F=Fy({},Yy),z=[],!0===ie.html&&(Fy(F,Hy),Fy(z,Gy)),!0===ie.svg&&(Fy(F,$y),Fy(z,Xy),Fy(z,Qy)),!0===ie.svgFilters&&(Fy(F,Vy),Fy(z,Xy),Fy(z,Qy)),!0===ie.mathMl&&(Fy(F,Wy),Fy(z,Zy),Fy(z,Qy)))\n/* Merge configuration parameters */,e.ADD_TAGS&&(F===U&&(F=zy(F)),Fy(F,e.ADD_TAGS,xe)),e.ADD_ATTR&&(z===j&&(z=zy(z)),Fy(z,e.ADD_ATTR,xe)),e.ADD_URI_SAFE_ATTR&&Fy(me,e.ADD_URI_SAFE_ATTR,xe),e.FORBID_CONTENTS&&(le===de&&(le=zy(le)),Fy(le,e.FORBID_CONTENTS,xe))\n/* Add #text in case KEEP_CONTENT is set to true */,se&&(F[\"#text\"]=!0)\n/* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */,Z&&Fy(F,[\"html\",\"head\",\"body\"])\n/* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */,F.table&&(Fy(F,[\"tbody\"]),delete $.tbody),e.TRUSTED_TYPES_POLICY){if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ly('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ly('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n// Overwrite existing TrustedTypes policy.\nw=e.TRUSTED_TYPES_POLICY,\n// Sign local variables required by `sanitize`.\nE=w.createHTML(\"\")}else\n// Uninitialized policy, attempt to initialize the internal dompurify policy.\nvoid 0===w&&(w=function(e,t){if(\"object\"!=typeof e||\"function\"!=typeof e.createPolicy)return null;\n// Allow the callers to control the unique policy name\n// by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n// Policy creation with duplicate names throws in Trusted Types.\nlet n=null;const o=\"data-tt-policy-suffix\";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r=\"dompurify\"+(n?\"#\"+n:\"\");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){\n// Policy creation failed (most likely another DOMPurify script has\n// already run). Skip creating the policy, as this will only cause errors\n// if TT are enforced.\nreturn console.warn(\"TrustedTypes policy \"+r+\" could not be created.\"),null}}(g,s)),\n// If creating the internal policy succeeded sign internal variables.\nnull!==w&&\"string\"==typeof E&&(E=w.createHTML(\"\"));\n// Prevent further manipulation of configuration.\n// Not available in IE8, Safari 5, etc.\nyy&&yy(e),_e=e}},Re=Fy({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),Ae=Fy({},[\"annotation-xml\"]),Te=Fy({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),Oe=Fy({},[...$y,...Vy,...qy]),Be=Fy({},[...Wy,...Ky]),Pe=function(e){Sy(n.removed,{element:e});try{\n// eslint-disable-next-line unicorn/prefer-dom-node-remove\nC(e).removeChild(e)}catch(t){b(e)}},De=function(e,t){try{Sy(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Sy(n.removed,{attribute:null,from:t})}\n// We void attribute values for unremovable \"is\"\" attributes\nif(t.removeAttribute(e),\"is\"===e&&!z[e])if(ee||te)try{Pe(t)}catch(e){}else try{t.setAttribute(e,\"\")}catch(e){}},Le=function(e){\n/* Create a HTML document */\nlet t=null,n=null;if(J)e=\"<remove></remove>\"+e;else{\n/* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\nconst t=Ay(e,/^[\\r\\n\\t ]+/);n=t&&t[0]}\"application/xhtml+xml\"===we&&be===he&&(\n// Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\ne='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+e+\"</body></html>\");const r=w?w.createHTML(e):e;\n/*\n         * Use the DOMParser API by default, fallback later if needs be\n         * DOMParser not work for svg when has multiple root element.\n         */if(be===he)try{t=(new f).parseFromString(r,we)}catch(e){}\n/* Use createHTMLDocument in case DOMParser is not available */if(!t||!t.documentElement){t=x.createDocument(be,\"template\",null);try{t.documentElement.innerHTML=ve?E:r}catch(e){\n// Syntax error if dirtyPayload is invalid xml\n}}const s=t.body||t.documentElement;\n/* Work on whole document or just its body */\nreturn e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),be===he?S.call(t,Z?\"html\":\"body\")[0]:Z?t.documentElement:s},Me=function(e){return _.call(e.ownerDocument||e,e,\n// eslint-disable-next-line no-bitwise\nc.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Ie=function(e){return e instanceof m&&(\"string\"!=typeof e.nodeName||\"string\"!=typeof e.textContent||\"function\"!=typeof e.removeChild||!(e.attributes instanceof u)||\"function\"!=typeof e.removeAttribute||\"function\"!=typeof e.setAttribute||\"string\"!=typeof e.namespaceURI||\"function\"!=typeof e.insertBefore||\"function\"!=typeof e.hasChildNodes)},Fe=function(e){return\"function\"==typeof l&&e instanceof l},Ue=function(e,t,o){R[e]&&_y(R[e],(e=>{e.call(n,t,o,_e)}))},ze=function(e){let t=null;\n/* Execute a hook if present */\n/* Check if element is clobbered or can clobber */\nif(Ue(\"beforeSanitizeElements\",e,null),Ie(e))return Pe(e),!0;\n/* Now let's check the element's type and name */const o=xe(e.nodeName);\n/* Execute a hook if present */\n/* Detect mXSS attempts abusing namespace confusion */\nif(Ue(\"uponSanitizeElement\",e,{tagName:o,allowedTags:F}),e.hasChildNodes()&&!Fe(e.firstElementChild)&&Dy(/<[/\\w]/g,e.innerHTML)&&Dy(/<[/\\w]/g,e.textContent))return Pe(e),!0;\n/* Remove any occurrence of processing instructions */if(7===e.nodeType)return Pe(e),!0;\n/* Remove any kind of possibly harmful comments */if(X&&8===e.nodeType&&Dy(/<[/\\w]/g,e.data))return Pe(e),!0;\n/* Remove element if anything forbids its presence */if(!F[o]||$[o]){\n/* Check if we have a custom element to handle */\nif(!$[o]&&He(o)){if(H.tagNameCheck instanceof RegExp&&Dy(H.tagNameCheck,o))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(o))return!1}\n/* Keep content except for bad-listed elements */if(se&&!le[o]){const t=C(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o){const r=h(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,v(e))}}return Pe(e),!0}\n/* Check whether element has a valid namespace */return e instanceof d&&!function(e){let t=C(e);\n// In JSDOM, if we're inside shadow DOM, then parentNode\n// can be null. We just simulate parent in this case.\nt&&t.tagName||(t={namespaceURI:be,tagName:\"template\"});const n=Ny(e.tagName),o=Ny(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===pe?\n// The only way to switch from HTML namespace to SVG\n// is via <svg>. If it happens via any other tag, then\n// it should be killed.\nt.namespaceURI===he?\"svg\"===n:\n// The only way to switch from MathML to SVG is via`\n// svg if parent is either <annotation-xml> or MathML\n// text integration points.\nt.namespaceURI===ge?\"svg\"===n&&(\"annotation-xml\"===o||Re[o]):Boolean(Oe[n]):e.namespaceURI===ge?\n// The only way to switch from HTML namespace to MathML\n// is via <math>. If it happens via any other tag, then\n// it should be killed.\nt.namespaceURI===he?\"math\"===n:\n// The only way to switch from SVG to MathML is via\n// <math> and HTML integration points\nt.namespaceURI===pe?\"math\"===n&&Ae[o]:Boolean(Be[n]):e.namespaceURI===he?\n// The only way to switch from SVG to HTML is via\n// HTML integration points, and from MathML to HTML\n// is via MathML text integration points\n!(t.namespaceURI===pe&&!Ae[o])&&!(t.namespaceURI===ge&&!Re[o])&&!Be[n]&&(Te[n]||!Oe[n]):!(\"application/xhtml+xml\"!==we||!ye[e.namespaceURI]))}(e)?(Pe(e),!0):\n/* Make sure that older browsers don't get fallback-tag mXSS */\n\"noscript\"!==o&&\"noembed\"!==o&&\"noframes\"!==o||!Dy(/<\\/no(script|embed|frames)/i,e.innerHTML)?(\n/* Sanitize element content to be template-safe */\nG&&3===e.nodeType&&(\n/* Get the element's text content */\nt=e.textContent,_y([A,T,O],(e=>{t=Ty(t,e,\" \")})),e.textContent!==t&&(Sy(n.removed,{element:e.cloneNode()}),e.textContent=t))\n/* Execute a hook if present */,Ue(\"afterSanitizeElements\",e,null),!1):(Pe(e),!0)},je=function(e,t,n){\n/* Make sure attribute cannot clobber */\nif(oe&&(\"id\"===t||\"name\"===t)&&(n in o||n in ke))return!1;\n/* Allow valid data-* attributes: At least one character after \"-\"\n            (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n            XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n            We don't need to check the value; it's always URI safe. */if(W&&!V[t]&&Dy(B,t));else if(q&&Dy(P,t));else if(!z[t]||V[t]){if(\n// First condition does a very basic check if a) it's basically a valid custom element tagname AND\n// b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n// and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n!(He(e)&&(H.tagNameCheck instanceof RegExp&&Dy(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&Dy(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t))||\n// Alternative, second condition checks if it's an `is`-attribute, AND\n// the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n\"is\"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&Dy(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1;\n/* Check value is safe. First, is attr inert? If so, is safe */}else if(me[t]);else if(Dy(I,Ty(n,L,\"\")));else if(\"src\"!==t&&\"xlink:href\"!==t&&\"href\"!==t||\"script\"===e||0!==Oy(n,\"data:\")||!ce[e])if(K&&!Dy(D,Ty(n,L,\"\")));else if(n)return!1;return!0},He=function(e){return\"annotation-xml\"!==e&&Ay(e,M)},$e=function(e){\n/* Execute a hook if present */\nUe(\"beforeSanitizeAttributes\",e,null);const{attributes:t}=e;\n/* Check if we have attributes; if not we might have a text node */if(!t)return;const o={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:z};let r=t.length;\n/* Go backwards over all attributes; safely remove bad ones */for(;r--;){const s=t[r],{name:a,namespaceURI:i,value:l}=s,d=xe(a);let c=\"value\"===a?l:By(l);const u=c;\n/* Execute a hook if present */\n/* Did the hooks approve of the attribute? */\nif(o.attrName=d,o.attrValue=c,o.keepAttr=!0,o.forceKeepAttr=void 0,// Allows developers to see this is a property they can set\nUe(\"uponSanitizeAttribute\",e,o),c=o.attrValue,o.forceKeepAttr)continue;\n/* Remove attribute */\n/* Did the hooks approve of the attribute? */if(!o.keepAttr){De(a,e);continue}\n/* Work around a security issue in jQuery 3.0 */if(!Y&&Dy(/\\/>/i,c)){De(a,e);continue}\n/* Sanitize attribute content to be template-safe */G&&_y([A,T,O],(e=>{c=Ty(c,e,\" \")}))\n/* Is `value` valid for this attribute? */;const m=xe(e.nodeName);if(je(m,d,c))\n/* Work around a security issue with comments inside attributes */\nif(\n/* Full DOM Clobbering protection via namespace isolation,\n           * Prefix id and name attributes with `user-content-`\n           */\n!re||\"id\"!==d&&\"name\"!==d||(\n// Remove the attribute with this value\nDe(a,e),\n// Prefix the value and later re-create the attribute with the sanitized value\nc=\"user-content-\"+c),X&&Dy(/((--!?|])>)|<\\/(style|title)/i,c))De(a,e);else{\n/* Handle attributes that require Trusted Types */\nif(w&&\"object\"==typeof g&&\"function\"==typeof g.getAttributeType)if(i);else switch(g.getAttributeType(m,d)){case\"TrustedHTML\":c=w.createHTML(c);break;case\"TrustedScriptURL\":c=w.createScriptURL(c)}\n/* Handle invalid data-* attribute set by try-catching it */if(c!==u)try{i?e.setAttributeNS(i,a,c):\n/* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\ne.setAttribute(a,c),Ie(e)?Pe(e):ky(n.removed)}catch(e){}}else De(a,e)}\n/* Execute a hook if present */Ue(\"afterSanitizeAttributes\",e,null)},Ve=function e(t){let n=null;const o=Me(t);\n/* Execute a hook if present */for(Ue(\"beforeSanitizeShadowDOM\",t,null);n=o.nextNode();)\n/* Execute a hook if present */\nUe(\"uponSanitizeShadowNode\",n,null),\n/* Sanitize tags and elements */\nze(n)||(\n/* Deep shadow DOM detected */\nn.content instanceof a&&e(n.content)\n/* Check attributes, sanitize if necessary */,$e(n));\n/* Execute a hook if present */Ue(\"afterSanitizeShadowDOM\",t,null)};\n/**\n       * Sanitize\n       * Public method providing core sanitation functionality\n       *\n       * @param {String|Node} dirty string or DOM node\n       * @param {Object} cfg object\n       */\n// eslint-disable-next-line complexity\nreturn n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,s=null,i=null,d=null;\n/* Stringify, in case dirty is an object */\nif(\n/* Make sure we have a string to sanitize.\n          DO NOT return early, as this will return the wrong type if\n          the user has requested a DOM object rather than a string */\nve=!e,ve&&(e=\"\\x3c!--\\x3e\"),\"string\"!=typeof e&&!Fe(e)){if(\"function\"!=typeof e.toString)throw Ly(\"toString is not a function\");if(\"string\"!=typeof(e=e.toString()))throw Ly(\"dirty is not a string, aborting\")}\n/* Return dirty HTML if DOMPurify cannot run */if(!n.isSupported)return e;\n/* Assign config vars */if(Q||Ne(t)\n/* Clean up removed elements */,n.removed=[],\n/* Check if dirty is correctly typed for IN_PLACE */\n\"string\"==typeof e&&(ae=!1),ae){\n/* Do some early pre-sanitization to avoid unsafe root nodes */\nif(e.nodeName){const t=xe(e.nodeName);if(!F[t]||$[t])throw Ly(\"root node is forbidden and cannot be sanitized in-place\")}}else if(e instanceof l)\n/* If dirty is a DOM element, append to an empty document to avoid\n             elements being stripped by the parser */\no=Le(\"\\x3c!----\\x3e\"),s=o.ownerDocument.importNode(e,!0),1===s.nodeType&&\"BODY\"===s.nodeName||\"HTML\"===s.nodeName?\n/* Node is already a body, use as is */\no=s:\n// eslint-disable-next-line unicorn/prefer-dom-node-append\no.appendChild(s);else{\n/* Exit directly if we have nothing to do */\nif(!ee&&!G&&!Z&&\n// eslint-disable-next-line unicorn/prefer-includes\n-1===e.indexOf(\"<\"))return w&&ne?w.createHTML(e):e;\n/* Initialize the document to work on */\n/* Check we have a DOM node from the data */\nif(o=Le(e),!o)return ee?null:ne?E:\"\"}\n/* Remove first element node (ours) if FORCE_BODY is set */o&&J&&Pe(o.firstChild)\n/* Get node iterator */;const c=Me(ae?e:o);\n/* Now start iterating over the created document */for(;i=c.nextNode();)\n/* Sanitize tags and elements */\nze(i)||(\n/* Shadow DOM detected, sanitize it */\ni.content instanceof a&&Ve(i.content)\n/* Check attributes, sanitize if necessary */,$e(i));\n/* If we sanitized `dirty` in-place, return it. */if(ae)return e;\n/* Return sanitized string or DOM */if(ee){if(te)for(d=k.call(o.ownerDocument);o.firstChild;)\n// eslint-disable-next-line unicorn/prefer-dom-node-append\nd.appendChild(o.firstChild);else d=o;return(z.shadowroot||z.shadowrootmode)&&(\n/*\n              AdoptNode() is not used because internal state is not reset\n              (e.g. the past names map of a HTMLFormElement), this is safe\n              in theory but we would rather not risk another attack vector.\n              The state that is cloned by importNode() is explicitly defined\n              by the specs.\n            */\nd=N.call(r,d,!0)),d}let u=Z?o.outerHTML:o.innerHTML;\n/* Serialize doctype if allowed */return Z&&F[\"!doctype\"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Dy(iC,o.ownerDocument.doctype.name)&&(u=\"<!DOCTYPE \"+o.ownerDocument.doctype.name+\">\\n\"+u)\n/* Sanitize final string template-safe */,G&&_y([A,T,O],(e=>{u=Ty(u,e,\" \")})),w&&ne?w.createHTML(u):u},\n/**\n       * Public method to set the configuration once\n       * setConfig\n       *\n       * @param {Object} cfg configuration object\n       */\nn.setConfig=function(){Ne(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},\n/**\n       * Public method to remove the configuration\n       * clearConfig\n       *\n       */\nn.clearConfig=function(){_e=null,Q=!1},\n/**\n       * Public method to check if an attribute value is valid.\n       * Uses last set config, if any. Otherwise, uses config defaults.\n       * isValidAttribute\n       *\n       * @param  {String} tag Tag name of containing element.\n       * @param  {String} attr Attribute name.\n       * @param  {String} value Attribute value.\n       * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n       */\nn.isValidAttribute=function(e,t,n){\n/* Initialize shared config vars if necessary. */\n_e||Ne({});const o=xe(e),r=xe(t);return je(o,r,n)},\n/**\n       * AddHook\n       * Public method to add DOMPurify hooks\n       *\n       * @param {String} entryPoint entry point for the hook to add\n       * @param {Function} hookFunction function to execute\n       */\nn.addHook=function(e,t){\"function\"==typeof t&&(R[e]=R[e]||[],Sy(R[e],t))},\n/**\n       * RemoveHook\n       * Public method to remove a DOMPurify hook at a given entryPoint\n       * (pops it from the stack of hooks if more are present)\n       *\n       * @param {String} entryPoint entry point for the hook to remove\n       * @return {Function} removed(popped) hook\n       */\nn.removeHook=function(e){if(R[e])return ky(R[e])},\n/**\n       * RemoveHooks\n       * Public method to remove all DOMPurify hooks at a given entryPoint\n       *\n       * @param  {String} entryPoint entry point for the hooks to remove\n       */\nn.removeHooks=function(e){R[e]&&(R[e]=[])},\n/**\n       * RemoveAllHooks\n       * Public method to remove all DOMPurify hooks\n       */\nn.removeAllHooks=function(){R={}},n}();const mC=Dt.each,fC=Dt.trim,gC=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],pC={ftp:21,http:80,https:443,mailto:25},hC=[\"img\",\"video\"],bC=(e,t,n)=>{const o=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\\s/g,\"\");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\\//i.test(o)?((e,t)=>C(e)?!e:!C(t)||!H(hC,t))(e.allow_svg_data_urls,n)&&/^data:image\\/svg\\+xml/i.test(o):/^data:/i.test(o)))};class vC{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(\",\"),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=ws.decode(e).replace(/[\\s\\u0000-\\u001F]+/g,\"\");return!bC(n,o,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf(\"http\")&&\"file:\"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:\"\":e.protocol+\"//\"+e.host+e.pathname,/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(n)&&(n=n.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(n)||(n+=\"/\")),n}constructor(e,t={}){this.path=\"\",this.directory=\"\",e=fC(e),this.settings=t;const n=t.base_uri,o=this;if(/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e))return void(o.source=e);const r=0===e.indexOf(\"//\");if(0!==e.indexOf(\"/\")||r||(e=(n&&n.protocol||\"http\")+\"://mce_host\"+e),!/^[\\w\\-]*:?\\/\\//.test(e)){const t=n?n.path:new vC(document.location.href).directory;if(\"\"===(null==n?void 0:n.protocol))e=\"//mce_host\"+o.toAbsPath(t,e);else{const r=/([^#?]*)([#?]?.*)/.exec(e);r&&(e=(n&&n.protocol||\"http\")+\"://mce_host\"+o.toAbsPath(t,r[1])+r[2])}}e=e.replace(/@@/g,\"(mce_at)\");const s=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e);s&&mC(gC,((e,t)=>{let n=s[t];n&&(n=n.replace(/\\(mce_at\\)/g,\"@@\")),o[e]=n})),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||\"mce_host\"!==o.host||(o.port=n.port),o.host&&\"mce_host\"!==o.host||(o.host=n.host),o.source=\"\"),r&&(o.protocol=\"\")}setPath(e){const t=/^(.*?)\\/?(\\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source=\"\",this.getURI()}toRelative(e){if(\"./\"===e)return e;const t=new vC(e,{base_uri:this});if(\"mce_host\"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&\"\"!==t.protocol)return t.getURI();const n=this.getURI(),o=t.getURI();if(n===o||\"/\"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===o)return n;let r=this.toRelPath(this.path,t.path);return t.query&&(r+=\"?\"+t.query),t.anchor&&(r+=\"#\"+t.anchor),r}toAbsolute(e,t){const n=new vC(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?pC[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,r=0,s=\"\";const a=e.substring(0,e.lastIndexOf(\"/\")).split(\"/\"),i=t.split(\"/\");if(a.length>=i.length)for(n=0,o=a.length;n<o;n++)if(n>=i.length||a[n]!==i[n]){r=n+1;break}if(a.length<i.length)for(n=0,o=i.length;n<o;n++)if(n>=a.length||a[n]!==i[n]){r=n+1;break}if(1===r)return t;for(n=0,o=a.length-(r-1);n<o;n++)s+=\"../\";for(n=r-1,o=i.length;n<o;n++)s+=n!==r-1?\"/\"+i[n]:i[n];return s}toAbsPath(e,t){let n=0;const o=/\\/$/.test(t)?\"/\":\"\",r=e.split(\"/\"),s=t.split(\"/\"),a=[];mC(r,(e=>{e&&a.push(e)}));const i=[];for(let e=s.length-1;e>=0;e--)0!==s[e].length&&\".\"!==s[e]&&(\"..\"!==s[e]?n>0?n--:i.push(s[e]):n++);const l=a.length-n;let d;return d=l<=0?oe(i).join(\"/\"):a.slice(0,l).join(\"/\")+\"/\"+oe(i).join(\"/\"),0!==d.indexOf(\"/\")&&(d=\"/\"+d),o&&d.lastIndexOf(\"/\")!==d.length-1&&(d+=o),d}getURI(e=!1){let t;return this.source&&!e||(t=\"\",e||(this.protocol?t+=this.protocol+\"://\":t+=\"//\",this.userInfo&&(t+=this.userInfo+\"@\"),this.host&&(t+=this.host),this.port&&(t+=\":\"+this.port)),this.path&&(t+=this.path),this.query&&(t+=\"?\"+this.query),this.anchor&&(t+=\"#\"+this.anchor),this.source=t),this.source}}const yC=Dt.makeMap(\"src,href,data,background,action,formaction,poster,xlink:href\"),CC=\"data-mce-type\";let wC=0;const EC=(e,t,n,o,r)=>{var s,a,i,l;const d=t.validate,c=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\\[if/i.test(null!==(s=e.nodeValue)&&void 0!==s?s:\"\")&&(e.nodeValue=\" \"+e.nodeValue);const u=null!==(a=null==r?void 0:r.tagName)&&void 0!==a?a:e.nodeName.toLowerCase();if(\"html\"!==o&&n.isValid(o))return void(C(r)&&(r.allowedTags[u]=!0));if(1!==e.nodeType||\"body\"===u)return;const f=Cn(e),g=on(f,CC),p=tn(f,\"data-mce-bogus\");if(!g&&m(p))return void(\"all\"===p?Eo(f):xo(f));const h=n.getElementRule(u);if(!d||h){if(C(r)&&(r.allowedTags[u]=!0),d&&h&&!g){if(q(null!==(i=h.attributesForced)&&void 0!==i?i:[],(e=>{Jt(f,e.name,\"{$uid}\"===e.value?\"mce_\"+wC++:e.value)})),q(null!==(l=h.attributesDefault)&&void 0!==l?l:[],(e=>{on(f,e.name)||Jt(f,e.name,\"{$uid}\"===e.value?\"mce_\"+wC++:e.value)})),h.attributesRequired&&!$(h.attributesRequired,(e=>on(f,e))))return void xo(f);if(h.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(f))return void xo(f);h.outputName&&h.outputName!==u&&((e,t)=>{const n=((e,t)=>{const n=vn(t),o=sn(e);return en(n,o),n})(e,t);ho(e,n);const o=In(e);Co(n,o),Eo(e)})(f,h.outputName)}}else _e(c,u)?Eo(f):xo(f)},xC=(e,t,n,o,r,s)=>\"html\"!==n&&!Mr(o)||!(r in yC&&bC(e,s,o))&&(!e.validate||t.isValid(o,r)||$e(r,\"data-\")||$e(r,\"aria-\")),_C=(e,t)=>e.hasAttribute(CC)&&(\"id\"===t||\"class\"===t||\"style\"===t),kC=(e,t)=>e in t.getBoolAttrs(),SC=(e,t,n,o)=>{const{attributes:r}=e;for(let s=r.length-1;s>=0;s--){const a=r[s],i=a.name,l=a.value;xC(t,n,o,e.tagName.toLowerCase(),i,l)||_C(e,i)?kC(i,n)&&e.setAttribute(i,i):e.removeAttribute(i)}},NC=(e,t,n)=>{const o=uC();return o.addHook(\"uponSanitizeElement\",((o,r)=>{EC(o,e,t,n.track(o),r)})),o.addHook(\"uponSanitizeAttribute\",((o,r)=>{((e,t,n,o,r)=>{const s=e.tagName.toLowerCase(),{attrName:a,attrValue:i}=r;r.keepAttr=xC(t,n,o,s,a,i),r.keepAttr?(r.allowedAttributes[a]=!0,kC(a,n)&&(r.attrValue=a),t.allow_svg_data_urls&&$e(i,\"data:image/svg+xml\")&&(r.forceKeepAttr=!0)):_C(e,a)&&(r.forceKeepAttr=!0)})(o,e,t,n.current(),r)})),o},RC=e=>t=>{const n=Fr(t);if(\"svg\"===n)(e=>{const t=[\"type\",\"href\",\"role\",\"arcrole\",\"title\",\"show\",\"actuate\",\"label\",\"from\",\"to\"].map((e=>`xlink:${e}`)),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};uC().sanitize(e,n)})(t);else{if(\"math\"!==n)throw new Error(\"Not a namespace element\");((e,t)=>{const n=uC(),o=t.allow_mathml_annotation_encodings,r=p(o)&&o.length>0;n.addHook(\"uponSanitizeElement\",((e,t)=>{var n;const s=null!==(n=t.tagName)&&void 0!==n?n:e.nodeName.toLowerCase();if(r&&\"semantics\"===s&&(t.allowedTags[s]=!0),\"annotation\"===s){const n=(e=>{const t=e.getAttribute(\"encoding\");return r&&m(t)&&H(o,t)})(e);t.allowedTags[s]=n,n||e.remove()}})),n.sanitize(e,{IN_PLACE:!0,USE_PROFILES:{mathMl:!0}})})(t,e)}},AC=Dt.makeMap,TC=Dt.extend,OC=(e,t,n,o)=>{const r=e.name,s=r in n&&\"title\"!==r&&\"textarea\"!==r&&\"noscript\"!==r,a=t.childNodes;for(let t=0,r=a.length;t<r;t++){const r=a[t],i=new tp(r.nodeName.toLowerCase(),r.nodeType);if(Jo(r)){const e=r.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];i.attr(n.name,n.value)}Mr(i.name)&&(o(r),i.value=r.innerHTML)}else lr(r)?(i.value=r.data,s&&(i.raw=!0)):(ur(r)||dr(r)||cr(r))&&(i.value=r.data);Mr(i.name)||OC(i,r,n,o),e.append(i)}},BC=(e={},t=Fs())=>{const n=ty(),o=ty(),r={validate:!0,root_name:\"body\",sanitize:!0,...e},s=new DOMParser,a=((e,t)=>{const n=(()=>{const e=Dr(),t=()=>e.get().map(Fr).getOr(\"html\");return{track:n=>(Ir(n)?e.set(n):e.get().exists((e=>!e.contains(n)))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}})();if(e.sanitize){const o=NC(e,t,n),r=(t,r)=>{o.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:[\"#comment\",\"#cdata-section\",\"body\"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\\w+script|mhtml):)/i),n})(e,r)),o.removed=[],n.reset()};return{sanitizeHtmlElement:r,sanitizeNamespaceElement:RC(e)}}return{sanitizeHtmlElement:(o,r)=>{const s=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let a;for(;a=s.nextNode();){const o=n.track(a);EC(a,e,t,o),Jo(a)&&SC(a,e,t,o)}n.reset()},sanitizeNamespaceElement:_}})(r,t),i=n.addFilter,l=n.getFilters,d=n.removeFilter,c=o.addFilter,u=o.getFilters,f=o.removeFilter,g=(e,n)=>{const o=m(n.attr(CC)),r=1===n.type&&!_e(e,n.name)&&!Jr(t,n)&&!Mr(n.name);return 3===n.type||r&&!o},p={schema:t,addAttributeFilter:c,getAttributeFilters:u,removeAttributeFilter:f,addNodeFilter:i,getNodeFilters:l,removeNodeFilter:d,parse:(e,n={})=>{var o;const i=r.validate,d=null!==(o=n.context)&&void 0!==o?o:r.root_name,c=((e,n,o=\"html\")=>{const r=\"xhtml\"===o?\"application/xhtml+xml\":\"text/html\",i=_e(t.getSpecialElements(),n.toLowerCase()),l=i?`<${n}>${e}</${n}>`:e,d=s.parseFromString(\"xhtml\"===o?`<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>${l}</body></html>`:/^[\\s]*<head/i.test(e)||/^[\\s]*<html/i.test(e)||/^[\\s]*<!DOCTYPE/i.test(e)?`<html>${l}</html>`:`<body>${l}</body>`,r).body;return a.sanitizeHtmlElement(d,r),i?d.firstChild:d})(e,d,n.format);Wr(t,c);const m=new tp(d,11);OC(m,c,t.getSpecialElements(),a.sanitizeNamespaceElement),c.innerHTML=\"\";const[f,p]=((e,t,n,o)=>{const r=n.validate,s=t.getNonEmptyElements(),a=t.getWhitespaceElements(),i=TC(AC(\"script,style,head,html,body,title,meta,param\"),t.getBlockElements()),l=Ms(t),d=/[ \\t\\r\\n]+/g,c=/^[ \\t\\r\\n]+/,u=/[ \\t\\r\\n]+$/,m=e=>{let t=e.parent;for(;C(t);){if(t.name in a)return!0;t=t.parent}return!1},f=n=>n.name in i||Jr(t,n)||Mr(n.name)&&n.parent===e,g=(t,n)=>{const r=n?t.prev:t.next;return!C(r)&&!y(t.parent)&&f(t.parent)&&(t.parent!==e||!0===o.isRootContent)};return[e=>{var t;if(3===e.type&&!m(e)){let n=null!==(t=e.value)&&void 0!==t?t:\"\";n=n.replace(d,\" \"),(((e,t)=>C(e)&&(t(e)||\"br\"===e.name))(e.prev,f)||g(e,!0))&&(n=n.replace(c,\"\")),0===n.length||\" \"===n&&e.prev&&8===e.prev.type&&e.next&&8===e.next.type?e.remove():e.value=n}},e=>{var i;if(1===e.type){const i=t.getElementRule(e.name);if(r&&i){const r=Nb(t,s,a,e);i.paddInEmptyBlock&&r&&(e=>{let n=e;for(;C(n);){if(n.name in l)return Nb(t,s,a,n);n=n.parent}return!1})(e)?kb(n,o,f,e):i.removeEmpty&&r?f(e)?e.remove():e.unwrap():i.paddEmpty&&(r||(e=>{var t;return Sb(e,\"#text\")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===qo})(e))&&kb(n,o,f,e)}}else if(3===e.type&&!m(e)){let t=null!==(i=e.value)&&void 0!==i?i:\"\";(e.next&&f(e.next)||g(e,!1))&&(t=t.replace(u,\"\")),0===t.length?e.remove():e.value=t}}]})(m,t,r,n),h=[],b=i?e=>((e,n)=>{Ob(t,e)&&n.push(e)})(e,h):_,v={nodes:{},attributes:{}},w=e=>Eb(l(),u(),e,v);if(((e,t,n)=>{const o=[];for(let n=e,r=n;n;r=n,n=n.walk()){const s=n;q(t,(e=>e(s))),y(s.parent)&&s!==e?n=r:o.push(s)}for(let e=o.length-1;e>=0;e--){const t=o[e];q(n,(e=>e(t)))}})(m,[f,w],[p,b]),h.reverse(),i&&h.length>0)if(n.context){const{pass:e,fail:o}=K(h,(e=>e.parent===m));Tb(o,t,m,w),n.invalid=e.length>0}else Tb(h,t,m,w);const E=((e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?\"\":!0===o?\"p\":o})(r,n);return E&&(\"body\"===m.name||n.isRootContent)&&((e,n)=>{const o=TC(AC(\"script,style,head,html,body,title,meta,param\"),t.getBlockElements()),s=/^[ \\t\\r\\n]+/,a=/[ \\t\\r\\n]+$/;let i=e.firstChild,l=null;const d=e=>{var t,n;e&&(i=e.firstChild,i&&3===i.type&&(i.value=null===(t=i.value)||void 0===t?void 0:t.replace(s,\"\")),i=e.lastChild,i&&3===i.type&&(i.value=null===(n=i.value)||void 0===n?void 0:n.replace(a,\"\")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;i;){const t=i.next;g(o,i)?(l||(l=new tp(n,1),l.attr(r.forced_root_block_attrs),e.insert(l,i)),l.append(i)):(d(l),l=null),i=t}d(l)}})(m,E),n.invalid||xb(v,n),m}};return((e,t)=>{var n,o;const r=e.schema;e.addAttributeFilter(\"href\",(e=>{let n=e.length;const o=e=>{const t=e?Dt.trim(e):\"\";return/\\b(noopener)\\b/g.test(t)?t:(e=>e.split(\" \").filter((e=>e.length>0)).concat([\"noopener\"]).sort().join(\" \"))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];\"a\"===t.name&&\"_blank\"===t.attr(\"target\")&&t.attr(\"rel\",o(t.attr(\"rel\")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter(\"id,name\",(e=>{let t,n,o,r,s=e.length;for(;s--;)if(r=e[s],\"a\"===r.name&&r.firstChild&&!r.attr(\"href\"))for(o=r.parent,t=r.lastChild;t&&o;)n=t.prev,o.insert(t,r),t=n})),t.fix_list_elements&&e.addNodeFilter(\"ul,ol\",(e=>{let t,n,o=e.length;for(;o--;)if(t=e[o],n=t.parent,n&&(\"ul\"===n.name||\"ol\"===n.name))if(t.prev&&\"li\"===t.prev.name)t.prev.append(t);else{const e=new tp(\"li\",1);e.attr(\"style\",\"list-style-type: none\"),t.wrap(e)}}));const s=r.getValidClasses();t.validate&&s&&e.addAttributeFilter(\"class\",(e=>{var t;let n=e.length;for(;n--;){const o=e[n],r=null!==(t=o.attr(\"class\"))&&void 0!==t?t:\"\",a=Dt.explode(r,\" \");let i=\"\";for(let e=0;e<a.length;e++){const t=a[e];let n=!1,r=s[\"*\"];r&&r[t]&&(n=!0),r=s[o.name],!n&&r&&r[t]&&(n=!0),n&&(i&&(i+=\" \"),i+=t)}i.length||(i=null),o.attr(\"class\",i)}})),((e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr(\"src\");(e=>e.attr(\"src\")===Tt.transparentSrc||C(e.attr(\"data-mce-placeholder\")))(e)||(e=>C(e.attr(\"data-mce-bogus\")))(e)||y(t)||dy(n,t,!0).each((t=>{e.attr(\"src\",t.blobUri())}))};e.addAttributeFilter(\"src\",(e=>q(e,t)))}})(e,t);const a=null!==(n=t.sandbox_iframes)&&void 0!==n&&n,i=me(null!==(o=t.sandbox_iframes_exclusions)&&void 0!==o?o:[]);t.convert_unsafe_embeds&&e.addNodeFilter(\"object,embed\",(e=>q(e,(e=>{e.replace((({type:e,src:t,width:n,height:o}={},r,s)=>{const a=(e=>v(e)?\"iframe\":fy(e,\"image\")?\"img\":fy(e,\"video\")?\"video\":fy(e,\"audio\")?\"audio\":\"iframe\")(e),i=new tp(a,1);return i.attr(\"audio\"===a?{src:t}:{src:t,width:n,height:o}),\"audio\"!==a&&\"video\"!==a||i.attr(\"controls\",\"\"),\"iframe\"===a&&r&&my(i,s),i})({type:e.attr(\"type\"),src:\"object\"===e.name?e.attr(\"data\"):e.attr(\"src\"),width:e.attr(\"width\"),height:e.attr(\"height\")},a,i))})))),a&&e.addNodeFilter(\"iframe\",(e=>q(e,(e=>my(e,i)))))})(p,r),((e,t,n)=>{t.inline_styles&&ny(e,t,n)})(p,r,t),p},PC=(e,t,n)=>{const o=(e=>jb(e)?Cp({validate:!1}).serialize(e):e)(e),r=t(o);if(r.isDefaultPrevented())return r;if(jb(e)){if(r.content!==o){const t=BC({validate:!1,forced_root_block:!1,...n}).parse(r.content,{context:e.name});return{...r,content:t}}return{...r,content:e}}return r},DC=e=>({sanitize:Tc(e),sandbox_iframes:Mc(e),sandbox_iframes_exclusions:Ic(e)}),LC=(e,t)=>{if(t.no_events)return _l.value(t);{const n=((e,t)=>e.dispatch(\"BeforeGetContent\",t))(e,t);return n.isDefaultPrevented()?_l.error(Il(e,{content:\"\",...n}).content):_l.value(n)}},MC=(e,t,n)=>{if(n.no_events)return t;{const o=PC(t,(t=>Il(e,{...n,content:t})),DC(e));return o.content}},IC=(e,t)=>{if(t.no_events)return _l.value(t);{const n=PC(t.content,(n=>((e,t)=>e.dispatch(\"BeforeSetContent\",t))(e,{...t,content:n})),DC(e));return n.isDefaultPrevented()?(Ml(e,n),_l.error(void 0)):_l.value(n)}},FC=(e,t,n)=>{n.no_events||Ml(e,{...n,content:t})},UC=(e,t,n)=>({element:e,width:t,rows:n}),zC=(e,t)=>({element:e,cells:t}),jC=(e,t)=>({x:e,y:t}),HC=(e,t)=>nn(e,t).bind(Ze).getOr(1),$C=(e,t,n)=>{const o=e.rows;return!!(o[n]?o[n].cells:[])[t]},VC=e=>X(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),qC=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const o=n[e].cells;for(let n=0;n<o.length;n++)if(kn(o[n],t))return I.some(jC(n,e))}return I.none()},WC=(e,t,n,o,r)=>{const s=[],a=e.rows;for(let e=n;e<=r;e++){const n=a[e].cells,r=t<o?n.slice(t,o+1):n.slice(o,t+1);s.push(zC(a[e].element,r))}return s},KC=e=>((e,t)=>{const n=Ia(e.element),o=vn(\"tbody\");return Co(o,t),vo(n,o),n})(e,(e=>V(e.rows,(e=>{const t=V(e.cells,(e=>{const t=Fa(e);return rn(t,\"colspan\"),rn(t,\"rowspan\"),t})),n=Ia(e.element);return Co(n,t),n})))(e)),YC=(e,t,n)=>{const o=Cn(t.commonAncestorContainer),r=Hp(o,e),s=Y(r,(e=>n.isWrapper($t(e)))),a=((e,t)=>Q(e,(e=>\"li\"===$t(e)&&_m(e,t))).fold(N([]),(t=>(e=>Q(e,(e=>\"ul\"===$t(e)||\"ol\"===$t(e))))(e).map((e=>{const t=vn($t(e)),n=Ce(fo(e),((e,t)=>$e(t,\"list-style\")));return lo(t,n),[vn(\"li\"),t]})).getOr([]))))(r,t),i=s.concat(a.length?a:(e=>Ya(e)?Tn(e).filter(Ka).fold(N([]),(t=>[e,t])):Ka(e)?[e]:[])(o));return V(i,Ia)},GC=()=>ug([]),XC=(e,t)=>((e,t)=>Jn(t,\"table\",T(kn,e)))(e,t[0]).bind((e=>{const n=t[0],o=t[t.length-1],r=(e=>{const t=UC(Ia(e),0,[]);return q(Uo(e,\"tr\"),((e,n)=>{q(Uo(e,\"td,th\"),((o,r)=>{((e,t,n,o,r)=>{const s=HC(r,\"rowspan\"),a=HC(r,\"colspan\"),i=e.rows;for(let e=n;e<n+s;e++){i[e]||(i[e]=zC(Fa(o),[]));for(let o=t;o<t+a;o++)i[e].cells[o]=e===n&&o===t?r:Ia(r)}})(t,((e,t,n)=>{for(;$C(e,t,n);)t++;return t})(t,r,n),n,e,o)}))})),UC(t.element,VC(t.rows),t.rows)})(e);return((e,t,n)=>qC(e,t).bind((t=>qC(e,n).map((n=>((e,t,n)=>{const o=t.x,r=t.y,s=n.x,a=n.y,i=r<a?WC(e,o,r,s,a):WC(e,o,a,s,r);return UC(e.element,VC(i),i)})(e,t,n))))))(r,n,o).map((e=>ug([KC(e)])))})).getOrThunk(GC),ZC=(e,t,n)=>{const o=ym(t,e);return o.length>0?XC(e,o):((e,t,n)=>t.length>0&&t[0].collapsed?GC():((e,t,n)=>((e,t)=>{const n=X(t,((e,t)=>(vo(t,e),t)),e);return t.length>0?ug([n]):n})(Cn(t.cloneContents()),YC(e,t,n)))(e,t[0],n))(e,t,n)},QC=(e,t)=>t>=0&&t<e.length&&hm(e.charAt(t)),JC=e=>ni(e.innerText),ew=e=>Jo(e)?e.outerHTML:lr(e)?ws.encodeRaw(e.data,!1):ur(e)?\"\\x3c!--\"+e.data+\"--\\x3e\":\"\",tw=(e,t)=>(((e,t)=>{let n=0;q(e,(e=>{0===e[0]?n++:1===e[0]?(((e,t,n)=>{const o=(e=>{let t;const n=document.createElement(\"div\"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(o,t)}else e.appendChild(o)})(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,o=new Array(n),r=new Array(n),s=(n,o,r,a,l)=>{const d=i(n,o,r,a);if(null===d||d.start===o&&d.diag===o-a||d.end===n&&d.diag===n-r){let s=n,i=r;for(;s<o||i<a;)s<o&&i<a&&e[s]===t[i]?(l.push([0,e[s]]),++s,++i):o-n>a-r?(l.push([2,e[s]]),++s):(l.push([1,t[i]]),++i)}else{s(n,d.start,r,d.start-d.diag,l);for(let t=d.start;t<d.end;++t)l.push([0,e[t]]);s(d.end,o,d.end-d.diag,a,l)}},a=(n,o,r,s)=>{let a=n;for(;a-o<s&&a<r&&e[a]===t[a-o];)++a;return((e,t,n)=>({start:e,end:t,diag:n}))(n,a,o)},i=(n,s,i,l)=>{const d=s-n,c=l-i;if(0===d||0===c)return null;const u=d-c,m=c+d,f=(m%2==0?m:m+1)/2;let g,p,h,b,v;for(o[1+f]=n,r[1+f]=s+1,g=0;g<=f;++g){for(p=-g;p<=g;p+=2){for(h=p+f,p===-g||p!==g&&o[h-1]<o[h+1]?o[h]=o[h+1]:o[h]=o[h-1]+1,b=o[h],v=b-n+i-p;b<s&&v<l&&e[b]===t[v];)o[h]=++b,++v;if(u%2!=0&&u-g<=p&&p<=u+g&&r[h-u]<=o[h])return a(r[h-u],p+n-i,s,l)}for(p=u-g;p<=u+g;p+=2){for(h=p+f-u,p===u-g||p!==u+g&&r[h+1]<=r[h-1]?r[h]=r[h+1]-1:r[h]=r[h-1],b=r[h]-1,v=b-n+i-p;b>=n&&v>=i&&e[b]===t[v];)r[h]=b--,v--;if(u%2==0&&-g<=p&&p<=g&&r[h]<=o[h+u])return a(r[h],p+n-i,s,l)}}return null},l=[];return s(0,e.length,0,t.length,l),l})(V(ce(t.childNodes),ew),e),t),t),nw=Le((()=>document.implementation.createHTMLDocument(\"undo\"))),ow=e=>{const t=e.serializer.getTempAttrs(),n=gp(e.getBody(),t);return(e=>null!==e.querySelector(\"iframe\"))(n)?{type:\"fragmented\",fragments:Y(V(ce(n.childNodes),k(ni,ew)),(e=>e.length>0)),content:\"\",bookmark:null,beforeBookmark:null}:{type:\"complete\",fragments:null,content:ni(n.innerHTML),bookmark:null,beforeBookmark:null}},rw=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;\"fragmented\"===t.type?tw(t.fragments,e.getBody()):e.setContent(t.content,{format:\"raw\",no_selection:!C(o)||!om(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},sw=e=>\"fragmented\"===e.type?e.fragments.join(\"\"):e.content,aw=e=>{const t=vn(\"body\",nw());return So(t,sw(e)),q(Uo(t,\"*[data-mce-bogus]\"),xo),ko(t)},iw=(e,t)=>!(!e||!t)&&(!!((e,t)=>sw(e)===sw(t))(e,t)||((e,t)=>aw(e)===aw(t))(e,t)),lw=e=>0===e.get(),dw=(e,t,n)=>{lw(n)&&(e.typing=t)},cw=(e,t)=>{e.typing&&(dw(e,!1,t),e.add())},uw=e=>({init:{bindEvents:_},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{lw(t)&&n.set(wl(e.selection))})(e,t,n),add:(t,n,o,r,s,a)=>((e,t,n,o,r,s,a)=>{const i=ow(e),l=Dt.extend(s||{},i);if(!lw(o)||e.removed)return null;const d=t.data[n.get()];if(e.dispatch(\"BeforeAddUndo\",{level:l,lastLevel:d,originalEvent:a}).isDefaultPrevented())return null;if(d&&iw(d,l))return null;t.data[n.get()]&&r.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const c=Kd(e);if(c&&t.data.length>c){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=wl(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const u={level:l,lastLevel:d,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch(\"AddUndo\",u),e.dispatch(\"change\",u)):e.dispatch(\"AddUndo\",u),l})(e,t,n,o,r,s,a),undo:(t,n,o)=>((e,t,n,o)=>{let r;return t.typing&&(t.add(),t.typing=!1,dw(t,!1,n)),o.get()>0&&(o.set(o.get()-1),r=t.data[o.get()],rw(e,r,!0),e.setDirty(!0),e.dispatch(\"Undo\",{level:r})),r})(e,t,n,o),redo:(t,n)=>((e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],rw(e,o,!1),e.setDirty(!0),e.dispatch(\"Redo\",{level:o})),o})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch(\"ClearUndos\")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!iw(ow(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(cw(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,o,r)=>((e,t,n,o,r)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,s=t.data[n.get()-1];rw(e,s,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}})(e,t,n,o,r)},formatter:{match:(t,n,o,r)=>Zb(e,t,n,o,r),matchAll:(t,n)=>((e,t,n)=>{const o=[],r={},s=e.selection.getStart();return e.dom.getParent(s,(s=>{for(let a=0;a<t.length;a++){const i=t[a];!r[i]&&Xb(e,s,i,n)&&(r[i]=!0,o.push(i))}}),e.dom.getRoot()),o})(e,t,n),matchNode:(t,n,o,r)=>Xb(e,t,n,o,r),canApply:t=>((e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),r=$m(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!Wm(t))return!0;for(let e=r.length-1;e>=0;e--)if(o.is(r[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const n=t=>kn(t,Cn(e.getBody()));return I.from(e.selection.getStart(!0)).bind((o=>Vb(Cn(o),(n=>ue(t,(t=>((t,n)=>Xb(e,t.dom,n)?I.some(n):I.none())(n,t)))),n))).getOrNull()})(e,t),apply:(t,n,o)=>Yv(e,t,n,o),remove:(t,n,o,r)=>Hv(e,t,n,o,r),toggle:(t,n,o)=>((e,t,n,o)=>{const r=e.formatter.get(t);r&&(!Zb(e,t,n,o)||\"toggle\"in r[0]&&!r[0].toggle?Yv(e,t,n,o):Hv(e,t,n,o))})(e,t,n,o),formatChanged:(t,n,o,r,s)=>((e,t,n,o,r,s)=>(((e,t,n,o,r,s)=>{const a=t.get();q(n.split(\",\"),(t=>{const n=xe(a,t).getOrThunk((()=>{const e={withSimilar:{state:Br(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Br(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e,e})),i=()=>{const n=Qv(e);return Zv(e,n,t,r,s).isSome()};if(v(s)){const e=r?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(i())}else n.withVars.push({state:Br(i()),similar:r,vars:s,callback:o})})),t.set(a)})(e,t,n,o,r,s),{unbind:()=>((e,t,n)=>{const o=e.get();q(t.split(\",\"),(e=>xe(o,e).each((t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:Y(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:Y(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:Y(t.withVars,(e=>e.callback!==n))}})))),e.set(o)})(t,n,o)}))(e,t,n,o,r,s)},editor:{getContent:t=>((e,t)=>I.from(e.getBody()).fold(N(\"tree\"===t.format?new tp(\"body\",11):\"\"),(n=>bp(e,t,n))))(e,t),setContent:(t,n)=>((e,t,n)=>I.from(e.getBody()).map((o=>jb(t)?((e,t,n,o)=>{_b(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const r=Cp({validate:!1},e.schema).serialize(n),s=ni(Za(Cn(t))?r:Dt.trim(r));return Hb(e,s,o.no_selection),{content:n,html:s}})(e,o,t,n):((e,t,n,o)=>{if(0===(n=ni(n)).length||/^\\s+$/.test(n)){const r='<br data-mce-bogus=\"1\">';\"TABLE\"===t.nodeName?n=\"<tr><td>\"+r+\"</td></tr>\":/^(UL|OL)$/.test(t.nodeName)&&(n=\"<li>\"+r+\"</li>\");const s=ed(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),s.toLowerCase())?(n=r,n=e.dom.createHTML(s,td(e),n)):n||(n=r),Hb(e,n,o.no_selection),{content:n,html:n}}{\"raw\"!==o.format&&(n=Cp({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const r=Za(Cn(t))?n:Dt.trim(n);return Hb(e,r,o.no_selection),{content:r,html:r}}})(e,o,t,n))).getOr({content:t,html:jb(n.content)?\"\":n.content}))(e,t,n),insertContent:(t,n)=>zb(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,o=C(t)?t:e.getBody();q(n.select(\"table,a\",o),(t=>{switch(t.nodeName){case\"TABLE\":const o=nc(e),r=n.getAttrib(t,\"border\");r&&\"0\"!==r||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case\"A\":if(!n.getAttrib(t,\"href\")){const o=n.getAttrib(t,\"name\")||t.id,r=oc(e);o&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r)}}})),e.dispatch(\"VisualAid\",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const o=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return LC(e,o).fold(R,(t=>{const n=((e,t)=>{if(\"text\"===t.format)return(e=>I.from(e.selection.getRng()).map((t=>{var n;const o=I.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),s=(e=>e.map((e=>e.nodeName)).getOr(\"div\").toLowerCase())(o),a=Cn(t.cloneContents());pp(a),hp(a);const i=e.dom.add(r,s,{\"data-mce-bogus\":\"all\",style:\"overflow: hidden; opacity: 0;\"},a.dom),l=JC(i),d=ni(null!==(n=i.textContent)&&void 0!==n?n:\"\");if(e.dom.remove(i),QC(d,0)||QC(d,d.length-1)){const e=o.getOr(r),t=JC(e),n=t.indexOf(l);return-1===n?l:(QC(t,n-1)?\" \":\"\")+l+(QC(t,n+l.length)?\" \":\"\")}return l})).getOr(\"\"))(e);{const n=((e,t)=>{const n=e.selection.getRng(),o=e.dom.create(\"body\"),r=e.selection.getSel(),s=Xg(e,vm(r)),a=t.contextual?ZC(Cn(e.getBody()),s,e.schema).dom:n.cloneContents();return a&&o.appendChild(a),e.selection.serializer.serialize(o,t)})(e,t);return\"tree\"===t.format?n:e.selection.isCollapsed()?\"\":n}})(e,t);return MC(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:_,removeDecoration:_},raw:{getModel:()=>I.none()}}),mw=e=>_e(e.plugins,\"rtc\"),fw=e=>e.rtcInstance?e.rtcInstance:uw(e),gw=e=>{const t=e.rtcInstance;if(t)return t;throw new Error(\"Failed to get RTC instance not yet initialized.\")},pw=e=>gw(e).init.bindEvents(),hw=e=>0===e.dom.length?(Eo(e),I.none()):I.some(e),bw=(e,t,n,o,r)=>{e.bind((e=>((o?Ch:yh)(e.dom,o?e.dom.length:0,r),t.filter(Yt).map((t=>((e,t,n,o,r)=>{const s=e.dom,a=t.dom,i=o?s.length:a.length;o?(wh(s,a,r,!1,!o),n.setStart(a,i)):(wh(a,s,r,!1,!o),n.setEnd(a,i))})(e,t,n,o,r)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>yf.isBookmarkNode(e.dom))).bind(t?Dn:Pn))(t,o).or(t).filter(Yt);return e.map((e=>((e,t,n)=>{Tn(e).each((o=>{const r=e.dom;t&&ch(o,el(r,0),n)?yh(r,0,n):!t&&uh(o,el(r,r.length),n)&&Ch(r,r.length,n)}))})(e,o,r)))}))},vw=(e,t,n)=>{if(_e(e,t)){const o=Y(e[t],(e=>e!==n));0===o.length?delete e[t]:e[t]=o}};const yw=e=>!(!e||!e.ownerDocument)&&Sn(Cn(e.ownerDocument),Cn(e)),Cw=(e,t,n,o)=>{let r,s;const{selectorChangedWithUnbind:a}=((e,t)=>{let n,o;const r=(t,n)=>Q(n,(n=>e.is(n,t))),s=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,a)=>(n||(n={},o={},t.on(\"NodeChange\",(e=>{const t=e.element,a=s(t),i={};pe(n,((e,t)=>{r(t,a).each((n=>{o[t]||(q(e,(e=>{e(!0,{node:n,selector:t,parents:a})})),o[t]=e),i[t]=e}))})),pe(o,((e,n)=>{i[n]||(delete o[n],q(e,(e=>{e(!1,{node:t,selector:n,parents:a})})))}))}))),n[e]||(n[e]=[]),n[e].push(a),r(e,s(t.selection.getStart())).each((()=>{o[e]=n[e]})),{unbind:()=>{vw(n,e,a),vw(o,e,a)}})}})(e,o),i=(e,t)=>((e,t,n={})=>{const o=((e,t)=>({format:\"html\",...e,set:!0,selection:!0,content:t}))(n,t);IC(e,o).each((t=>{const n=((e,t)=>{if(\"raw\"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=o?{context:o.nodeName.toLowerCase()}:{},s=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return Cp({validate:!1},e.schema).serialize(s)}return t.content})(e,t),o=e.selection.getRng();((e,t,n)=>{const o=I.from(t.firstChild).map(Cn),r=I.from(t.lastChild).map(Cn);e.deleteContents(),e.insertNode(t);const s=o.bind(Pn).filter(Yt).bind(hw),a=r.bind(Dn).filter(Yt).bind(hw);bw(s,o,e,!0,n),bw(a,r,e,!1,n),e.collapse(!1)})(o,o.createContextualFragment(n),e.schema),e.selection.setRng(o),Vg(e,o),FC(e,n,t)}))})(o,e,t),l=e=>{const t=c();t.collapse(!!e),u(t)},d=()=>t.getSelection?t.getSelection():t.document.selection,c=()=>{let n;const a=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},i=t.document;if(C(o.bookmark)&&!Gf(o)){const e=If(o);if(e.isSome())return e.map((e=>Xg(o,[e])[0])).getOr(i.createRange())}try{const e=d();e&&!Qo(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):i.createRange(),n=Xg(o,[n])[0])}catch(e){}if(n||(n=i.createRange()),mr(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return r&&s&&(0===a(n.START_TO_START,n,r)&&0===a(n.END_TO_END,n,r)?n=s:(r=null,s=null)),n},u=(e,t)=>{if(!(e=>!!e&&yw(e.startContainer)&&yw(e.endContainer))(e))return;const n=d();if(e=o.dispatch(\"SetSelectionRange\",{range:e,forward:t}).range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&\"IMG\"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}o.dispatch(\"AfterSetSelectionRange\",{range:e,forward:t})},m=()=>{const t=d(),n=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!n||!o||Qo(n)||Qo(o))return!0;const r=e.createRng(),s=e.createRng();try{r.setStart(n,t.anchorOffset),r.collapse(!0),s.setStart(o,t.focusOffset),s.collapse(!0)}catch(e){return!0}return r.compareBoundaryPoints(r.START_TO_START,s)<=0},f={dom:e,win:t,serializer:n,editor:o,expand:(t={type:\"word\"})=>u(kg(e).expand(c(),t)),collapse:l,setCursorLocation:(t,n)=>{const r=e.createRng();C(t)&&C(n)?(r.setStart(t,n),r.setEnd(t,n),u(r),l(!1)):(km(e,r,o.getBody(),!0),u(r))},getContent:e=>((e,t={})=>((e,t,n)=>gw(e).selection.getContent(t,n))(e,t.format?t.format:\"html\",t))(o,e),setContent:i,getBookmark:(e,t)=>g.getBookmark(e,t),moveToBookmark:e=>g.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>I.from(t).bind((t=>I.from(t.parentNode).map((o=>{const r=e.nodeIndex(t),s=e.createRng();return s.setStart(o,r),s.setEnd(o,r+1),n&&(km(e,s,t,!0),km(e,s,t,!1)),s})))))(e,t,n).each(u),t),isCollapsed:()=>{const e=c(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints(\"StartToEnd\",e):!t||e.collapsed)},isEditable:()=>{if(o.mode.isReadOnly())return!1;const t=c(),n=o.getBody().querySelectorAll('[data-mce-selected=\"1\"]');return n.length>0?ne(n,(t=>e.isEditable(t.parentElement))):qg(e,t)},isForward:m,setNode:t=>(i(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,o=t.endContainer;const r=t.startOffset,s=t.endOffset;let a=t.commonAncestorContainer;t.collapsed||(n===o&&s-r<2&&n.hasChildNodes()&&(a=n.childNodes[r]),lr(n)&&lr(o)&&(n=n.length===r?Gg(n.nextSibling,!0):n.parentNode,o=0===s?Gg(o.previousSibling,!1):o.parentNode,n&&n===o&&(a=n)));const i=lr(a)?a.parentNode:a;return er(i)?i:e})(o.getBody(),c()),getSel:d,setRng:u,getRng:c,getStart:e=>Kg(o.getBody(),c(),e),getEnd:e=>Yg(o.getBody(),c(),e),getSelectedBlocks:(t,n)=>((e,t,n,o)=>{const r=[],s=e.getRoot(),a=e.getParent(n||Kg(s,t,t.collapsed),e.isBlock),i=e.getParent(o||Yg(s,t,t.collapsed),e.isBlock);if(a&&a!==s&&r.push(a),a&&i&&a!==i){let t;const n=new $o(a,s);for(;(t=n.next())&&t!==i;)e.isBlock(t)&&r.push(t)}return i&&a!==i&&i!==s&&r.push(i),r})(e,c(),t,n),normalize:()=>{const t=c(),n=d();if(!(vm(n).length>1)&&Sm(o)){const n=Eg(e,t);return n.each((e=>{u(e,m())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(a(e,t),f),selectorChangedWithUnbind:a,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&\"BODY\"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{C(e)?((e,t,n)=>{(e.inline?jg:$g)(e,t,n)})(o,e,t):Vg(o,c(),t)},placeCaretAt:(e,t)=>u(gg(e,t,o.getDoc())),getBoundingClientRect:()=>{const e=c();return e.collapsed?el.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=r=s=null,p.destroy()}},g=yf(f),p=og(f,o);return f.bookmarkManager=g,f.controlSelection=p,f},ww=(e,t,n)=>{-1===Dt.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},Ew=(e,t)=>{const n=[\"data-mce-selected\"],o={entity_encoding:\"named\",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},r=t&&t.dom?t.dom:ma.DOM,s=t&&t.schema?t.schema:Fs(o),a=BC(o,s);return((e,t,n)=>{e.addAttributeFilter(\"data-mce-tabindex\",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];o.attr(\"tabindex\",o.attr(\"data-mce-tabindex\")),o.attr(t,null)}})),e.addAttributeFilter(\"src,href,style\",((e,o)=>{const r=\"data-mce-\"+o,s=t.url_converter,a=t.url_converter_scope;let i=e.length;for(;i--;){const t=e[i];let l=t.attr(r);void 0!==l?(t.attr(o,l.length>0?l:null),t.attr(r,null)):(l=t.attr(o),\"style\"===o?l=n.serializeStyle(n.parseStyle(l),t.name):s&&(l=s.call(a,l,o,t.name)),t.attr(o,l.length>0?l:null))}})),e.addAttributeFilter(\"class\",(e=>{let t=e.length;for(;t--;){const n=e[t];let o=n.attr(\"class\");o&&(o=o.replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,\"\"),n.attr(\"class\",o.length>0?o:null))}})),e.addAttributeFilter(\"data-mce-type\",((e,t,n)=>{let o=e.length;for(;o--;){const t=e[o];if(\"bookmark\"===t.attr(\"data-mce-type\")&&!n.cleanup){const e=I.from(t.firstChild).exists((e=>{var t;return!ti(null!==(t=e.value)&&void 0!==t?t:\"\")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter(\"script,style\",((e,n)=>{var o;const r=e=>e.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,\"\").replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,\"\");let s=e.length;for(;s--;){const a=e[s],i=a.firstChild,l=null!==(o=null==i?void 0:i.value)&&void 0!==o?o:\"\";if(\"script\"===n){const e=a.attr(\"type\");e&&a.attr(\"type\",\"mce-no/type\"===e?null:e.replace(/^mce\\-/,\"\")),\"xhtml\"===t.element_format&&i&&l.length>0&&(i.value=\"// <![CDATA[\\n\"+r(l)+\"\\n// ]]>\")}else\"xhtml\"===t.element_format&&i&&l.length>0&&(i.value=\"\\x3c!--\\n\"+r(l)+\"\\n--\\x3e\")}})),e.addNodeFilter(\"#comment\",(e=>{let o=e.length;for(;o--;){const r=e[o],s=r.value;t.preserve_cdata&&0===(null==s?void 0:s.indexOf(\"[CDATA[\"))?(r.name=\"#cdata\",r.type=4,r.value=n.decode(s.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\"))):0===(null==s?void 0:s.indexOf(\"mce:protected \"))&&(r.name=\"#text\",r.type=3,r.raw=!0,r.value=unescape(s).substr(14))}})),e.addNodeFilter(\"xml:namespace,input\",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];7===o.type?o.remove():1===o.type&&(\"input\"!==t||o.attr(\"type\")||o.attr(\"type\",\"text\"))}})),e.addAttributeFilter(\"data-mce-type\",(t=>{q(t,(t=>{\"format-caret\"===t.attr(\"data-mce-type\")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder\",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.remove_trailing_brs&&((e,t,n)=>{t.addNodeFilter(\"br\",((t,o,r)=>{const s=Dt.extend({},n.getBlockElements()),a=n.getNonEmptyElements(),i=n.getWhitespaceElements();s.body=1;const l=e=>e.name in s||Jr(n,e);for(let o=0,d=t.length;o<d;o++){let d=t[o],c=d.parent;if(c&&l(c)&&d===c.lastChild){let t=d.prev;for(;t;){const e=t.name;if(\"span\"!==e||\"bookmark\"!==t.attr(\"data-mce-type\")){\"br\"===e&&(d=null);break}t=t.prev}if(d&&(d.remove(),Nb(n,a,i,c))){const t=n.getElementRule(c.name);t&&(t.removeEmpty?c.remove():t.paddEmpty&&kb(e,r,l,c))}}else{let e=d;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!s[c.name]);)c=c.parent;if(e===c){const e=new tp(\"#text\",3);e.value=qo,d.replace(e)}}}}))})(t,e,e.schema)})(a,o,r),{schema:s,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:(e,n={})=>{const i={format:\"html\",...n},l=((e,t,n)=>((e,t)=>C(e)&&e.hasEventListeners(\"PreProcess\")&&!t.no_events)(e,n)?((e,t,n)=>{let o;const r=e.dom;let s=t.cloneNode(!0);const a=document.implementation;if(a.createHTMLDocument){const e=a.createHTMLDocument(\"\");Dt.each(\"BODY\"===s.nodeName?s.childNodes:[s],(t=>{e.body.appendChild(e.importNode(t,!0))})),s=\"BODY\"!==s.nodeName?e.body.firstChild:e.body,o=r.doc,r.doc=e}return((e,t)=>{e.dispatch(\"PreProcess\",t)})(e,{...n,node:s}),o&&(r.doc=o),s})(e,t,n):t)(t,e,i),d=((e,t,n)=>{const o=ni(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Za(Cn(t))?o:Dt.trim(o)})(r,l,i),c=((e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,r=e.parse(t,o);return(e=>{const t=e=>\"br\"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(r),r})(a,d,i);return\"tree\"===i.format?c:((e,t,n,o,r)=>{const s=((e,t,n)=>Cp(e,t).serialize(n))(t,n,o);return((e,t,n)=>{if(!t.no_events&&e){const o=((e,t)=>e.dispatch(\"PostProcess\",t))(e,{...t,content:n});return o.content}return n})(e,r,s)})(t,o,s,c,i)},addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:T(ww,a,n),getTempAttrs:N(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},xw=(e,t)=>{const n=Ew(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},_w=(e,t,n={})=>{const o=((e,t)=>({format:\"html\",...e,set:!0,content:t}))(n,t);return IC(e,o).map((t=>{const n=((e,t,n)=>fw(e).editor.setContent(t,n))(e,t.content,t);return FC(e,n.html,t),n.content})).getOr(t)},kw=\"autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format\".split(\",\"),Sw=[],Nw=\"bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc\".split(\",\"),Rw=[],Aw=(e,t)=>{const n=Y(t,(t=>_e(e,t)));return ae(n)},Tw=e=>{const t=Aw(e,kw),n=e.forced_root_block;return!1!==n&&\"\"!==n||t.push(\"forced_root_block (false only)\"),ae(t)},Ow=e=>Aw(e,Sw),Bw=(e,t)=>{const n=Dt.makeMap(e.plugins,\" \"),o=Y(t,(e=>_e(n,e)));return ae(o)},Pw=e=>Bw(e,Nw),Dw=e=>Bw(e,Rw.map((e=>e.name))),Lw=e=>Q(Rw,(t=>t.name===e)).fold((()=>e),(t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e)),Mw=ma.DOM,Iw=e=>I.from(e).each((e=>e.destroy())),Fw=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>_e(e,t)}})(),Uw=ya.ModelManager,zw=(e,t)=>t.dom[e],jw=(e,t)=>parseInt(co(t,e),10),Hw=T(zw,\"clientWidth\"),$w=T(zw,\"clientHeight\"),Vw=T(jw,\"margin-top\"),qw=T(jw,\"margin-left\"),Ww=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error(\"Theme did not provide a NotificationManager implementation.\")};return{open:e,close:e,getArgs:e}})()},o=()=>I.from(t[0]),r=()=>{o().each((e=>{e.reposition()}))},s=e=>{J(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},a=(o,a=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),I.from(t).map(Cn)).map(Yn).getOr(!1);var t})(e)?{}:(a&&e.dispatch(\"BeforeOpenNotification\",{notification:o}),Q(t,(e=>{return t=n().getArgs(e),r=o,!(t.type!==r.type||t.text!==r.text||t.progressBar||t.timeout||r.progressBar||r.timeout);var t,r})).getOrThunk((()=>{e.editorManager.setActive(e);const a=n().open(o,(()=>{s(a)}),(()=>Xf(e)));return(e=>{t.push(e)})(a),r(),e.dispatch(\"OpenNotification\",{notification:{...a}}),a}))),i=N(t);return(e=>{e.on(\"SkinLoaded\",(()=>{const t=Od(e);t&&a({text:t,type:\"warning\",timeout:0},!1),r()})),e.on(\"show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged\",(()=>{requestAnimationFrame(r)})),e.on(\"remove\",(()=>{q(t.slice(),(e=>{n().close(e)}))})),e.on(\"keydown\",(e=>{var t;const n=\"f12\"===(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||123===e.keyCode;e.altKey&&n&&(e.preventDefault(),o().map((e=>Cn(e.getEl()))).each((e=>Ef(e))))}))})(e),{open:a,close:()=>{o().each((e=>{n().close(e),s(e),r()}))},getNotifications:i}},Kw=ya.PluginManager,Yw=ya.ThemeManager,Gw=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error(\"Theme did not provide a WindowManager implementation.\")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,r=n=>{(t=>{e.dispatch(\"CloseWindow\",{dialog:t})})(n),t=Y(t,(e=>e!==n)),0===t.length&&e.focus()},s=n=>{e.editorManager.setActive(e),Mf(e),e.ui.show();const o=n();return(n=>{t.push(n),(t=>{e.dispatch(\"OpenWindow\",{dialog:t})})(n)})(o),o};return e.on(\"remove\",(()=>{q(t,(e=>{n().close(e)}))})),{open:(e,t)=>s((()=>n().open(e,t,r))),openUrl:e=>s((()=>n().openUrl(e,r))),alert:(e,t,r)=>{const s=n();s.alert(e,o(r||s,t))},confirm:(e,t,r)=>{const s=n();s.confirm(e,o(r||s,t))},close:()=>{I.from(t[t.length-1]).each((e=>{n().close(e),r(e)}))}}},Xw=(e,t)=>{e.notificationManager.open({type:\"error\",text:t})},Zw=(e,t)=>{e._skinLoaded?Xw(e,t):e.on(\"SkinLoaded\",(()=>{Xw(e,t)}))},Qw=(e,t,n)=>{Pl(e,t,{message:n}),console.error(n)},Jw=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,eE=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},tE=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},nE=(e,t,n)=>{pn(e,t)&&!n?gn(e,t):n&&mn(e,t)},oE=e=>{const t=Cn(e.getBody());nE(t,\"mce-content-readonly\",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{I.from(e.selection.getNode()).each((e=>{e.removeAttribute(\"data-mce-selected\")}))})(e)},rE=e=>{const t=Cn(e.getBody());nE(t,\"mce-content-readonly\",!1),e.hasEditableRoot()&&ro(t,!0),((e,t)=>{tE(e,\"StyleWithCSS\",t),tE(e,\"enableInlineTableEditing\",t),tE(e,\"enableObjectResizing\",t)})(e,!1),Xf(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged()},sE=e=>jc(e),aE=\"data-mce-contenteditable\",iE=(e,t)=>{const n=Cn(e.getBody());t?(oE(e),ro(n,!1),q(Uo(n,'*[contenteditable=\"true\"]'),(e=>{Jt(e,aE,\"true\"),ro(e,!1)}))):(q(Uo(n,`*[${aE}=\"true\"]`),(e=>{rn(e,aE),ro(e,!0)})),rE(e))},lE=e=>{e.parser.addAttributeFilter(\"contenteditable\",(t=>{sE(e)&&q(t,(e=>{e.attr(aE,e.attr(\"contenteditable\")),e.attr(\"contenteditable\",\"false\")}))})),e.serializer.addAttributeFilter(aE,(t=>{sE(e)&&q(t,(e=>{e.attr(\"contenteditable\",e.attr(aE))}))})),e.serializer.addTempAttr(aE)},dE=[\"copy\"],cE=e=>\"content/\"+e+\"/content.css\",uE=(e,t)=>{const n=e.editorManager.baseURL+\"/skins/content\",o=`content${e.editorManager.suffix}.css`;return V(t,(t=>(e=>tinymce.Resource.has(cE(e)))(t)?t:(e=>/^[a-z0-9\\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${o}`:e.documentBaseURI.toAbsolute(t)))},mE=(e,t)=>{const n={};return{findAll:(o,r=M)=>{const s=Y((e=>e?ce(e.getElementsByTagName(\"img\")):[])(o),(t=>{const n=t.src;return!t.hasAttribute(\"data-mce-bogus\")&&!t.hasAttribute(\"data-mce-placeholder\")&&!(!n||n===Tt.transparentSrc)&&($e(n,\"blob:\")?!e.isUploaded(n)&&r(t):!!$e(n,\"data:\")&&r(t))})),a=V(s,(e=>{const o=e.src;if(_e(n,o))return n[o].then((t=>m(t)?t:{image:e,blobInfo:t.blobInfo}));{const r=((e,t)=>{const n=()=>Promise.reject(\"Invalid data URI\");if($e(t,\"blob:\")){const s=e.getByUri(t);return C(s)?Promise.resolve(s):(o=t,$e(o,\"blob:\")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:\"blob\"}))))(o):$e(o,\"data:\")?(r=o,new Promise(((e,t)=>{oy(r).bind((({type:e,data:t,base64Encoded:n})=>ry(e,t,n))).fold((()=>t(\"Invalid data URI\")),e)}))):Promise.reject(\"Unknown URI format\")).then((t=>sy(t).then((o=>iy(o,!1,(n=>I.some(ly(e,t,n)))).getOrThunk(n)))))}var o,r;return $e(t,\"data:\")?dy(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject(\"Unknown image data format\")})(t,o).then((t=>(delete n[o],{image:e,blobInfo:t}))).catch((e=>(delete n[o],e)));return n[o]=r,r}}));return Promise.all(a)}}},fE=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,o)=>{e[n]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let gE=0;const pE=(e,t)=>{const n={},o=(e,n)=>new Promise(((o,r)=>{const s=new XMLHttpRequest;s.open(\"POST\",t.url),s.withCredentials=t.credentials,s.upload.onprogress=e=>{n(e.loaded/e.total*100)},s.onerror=()=>{r(\"Image upload failed due to a XHR Transport error. Code: \"+s.status)},s.onload=()=>{if(s.status<200||s.status>=300)return void r(\"HTTP Error: \"+s.status);const e=JSON.parse(s.responseText);var n,a;e&&m(e.location)?o((n=t.basePath,a=e.location,n?n.replace(/\\/$/,\"\")+\"/\"+a.replace(/^\\//,\"\"):a)):r(\"Invalid JSON: \"+s.responseText)};const a=new FormData;a.append(\"file\",e.blob(),e.filename()),s.send(a)})),r=w(t.handler)?t.handler:o,s=(e,t)=>({url:t,blobInfo:e,status:!0}),a=(e,t)=>({url:\"\",blobInfo:e,status:!1,error:t}),i=(e,t)=>{Dt.each(n[e],(e=>{e(t)})),delete n[e]};return{upload:(l,d)=>t.url||r!==o?((t,o)=>(t=Dt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Dt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,o)=>(e.markPending(t.blobUri()),new Promise((r=>{let l,d;try{const c=()=>{l&&(l.close(),d=_)},u=n=>{c(),e.markUploaded(t.blobUri(),n),i(t.blobUri(),s(t,n)),r(s(t,n))},f=n=>{c(),e.removeFailed(t.blobUri()),i(t.blobUri(),a(t,n)),r(a(t,n))};d=e=>{e<0||e>100||I.from(l).orThunk((()=>I.from(o).map(P))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,d).then(u,(e=>{f(m(e)?{message:e}:e)}))}catch(e){r(a(t,e))}}))))(t,r,o))))))(l,d):new Promise((e=>{e([])}))}},hE=e=>()=>e.notificationManager.open({text:e.translate(\"Image uploading...\"),type:\"info\",timeout:-1,progressBar:!0}),bE=(e,t)=>pE(t,{url:md(e),basePath:fd(e),credentials:gd(e),handler:pd(e)}),vE=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error(\"blob and base64 representations of the image are required for BlobInfo to be created\");const t=e.id||\"blobid\"+gE+++(()=>{const e=()=>Math.round(4294967295*Pa()).toString(36);return\"s\"+(new Date).getTime().toString(36)+e()+e()+e()})(),n=e.name||t,o=e.blob;var r;return{id:N(t),name:N(n),filename:N(e.filename||n+\".\"+(r=o.type,{\"image/jpeg\":\"jpg\",\"image/jpg\":\"jpg\",\"image/gif\":\"gif\",\"image/png\":\"png\",\"image/apng\":\"apng\",\"image/avif\":\"avif\",\"image/svg+xml\":\"svg\",\"image/webp\":\"webp\",\"image/bmp\":\"bmp\",\"image/tiff\":\"tiff\"}[r.toLowerCase()]||\"dat\")),blob:N(o),base64:N(e.base64),blobUri:N(e.blobUri||URL.createObjectURL(o)),uri:N(e.uri)}},n=t=>Q(e,t).getOrUndefined(),o=e=>n((t=>t.id()===e));return{create:(e,n,o,r,s)=>{if(m(e))return t({id:e,name:r,filename:s,blob:n,base64:o});if(f(e))return t(e);throw new Error(\"Unknown input type\")},add:t=>{o(t.id())||e.push(t)},get:o,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=Y(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{q(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,o;const r=fE(),s=[],a=t=>n=>e.selection?t(n):[],i=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=(e,t,n)=>{const o=`src=\"${n}\"${n===Tt.transparentSrc?' data-mce-placeholder=\"1\"':\"\"}`;return e=i(e,`src=\"${t}\"`,o),i(e,'data-mce-src=\"'+t+'\"','data-mce-src=\"'+n+'\"')},d=(t,n)=>{q(e.undoManager.data,(e=>{\"fragmented\"===e.type?e.fragments=V(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},c=()=>(n||(n=bE(e,r)),p().then(a((o=>{const r=V(o,(e=>e.blobInfo));return n.upload(r,hE(e)).then(a((n=>{const r=[];let s=!1;const a=V(n,((n,a)=>{const{blobInfo:i,image:l}=o[a];let c=!1;return n.status&&dd(e)?(n.url&&!He(l.src,n.url)&&(s=!0),t.removeByUri(l.src),mw(e)||((t,n)=>{const o=e.convertURL(n,\"src\");var r;d(t.src,n),en(Cn(t),{src:ld(e)?(r=n,r+(-1===r.indexOf(\"?\")?\"?\":\"&\")+(new Date).getTime()):n,\"data-mce-src\":o})})(l,n.url)):n.error&&(n.error.remove&&(d(l.src,Tt.transparentSrc),r.push(l),c=!0),((e,t)=>{Zw(e,va.translate([\"Failed to upload image: {0}\",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:i,removed:c}}));return r.length>0&&!mw(e)?e.undoManager.transact((()=>{q(_o(r),(n=>{const o=Tn(n);Eo(n),o.each((e=>t=>{((e,t)=>e.dom.isEmpty(t.dom)&&C(e.schema.getTextBlockElements()[$t(t)]))(e,t)&&vo(t,bn('<br data-mce-bogus=\"1\" />'))})(e)),t.removeByUri(n.dom.src)}))})):s&&e.undoManager.dispatchChange(),a})))})))),u=()=>id(e)?c():Promise.resolve([]),g=e=>ne(s,(t=>t(e))),p=()=>(o||(o=mE(r,t)),o.findAll(e.getBody(),g).then(a((t=>{const n=Y(t,(t=>m(t)?(Zw(e,t),!1):\"blob\"!==t.uriType));return mw(e)||q(n,(e=>{d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(\"data-mce-src\")})),n})))),h=n=>n.replace(/src=\"(blob:[^\"]+)\"/g,((n,o)=>{const s=r.getResultUri(o);if(s)return'src=\"'+s+'\"';let a=t.getByUri(o);return a||(a=X(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o)),void 0)),a?'src=\"data:'+a.blob().type+\";base64,\"+a.base64()+'\"':n}));return e.on(\"SetContent\",(()=>{id(e)?u():p()})),e.on(\"RawSaveContent\",(e=>{e.content=h(e.content)})),e.on(\"GetContent\",(e=>{e.source_view||\"raw\"===e.format||\"tree\"===e.format||(e.content=h(e.content))})),e.on(\"PostRender\",(()=>{e.parser.addNodeFilter(\"img\",(e=>{q(e,(e=>{const n=e.attr(\"src\");if(!n||t.getByUri(n))return;const o=r.getResultUri(n);o&&e.attr(\"src\",o)}))}))})),{blobCache:t,addFilter:e=>{s.push(e)},uploadImages:c,uploadImagesAuto:u,scanForImages:p,destroy:()=>{t.destroy(),r.destroy(),o=n=null}}},yE={remove_similar:!0,inherit:!1},CE={selector:\"td,th\",...yE},wE={tablecellbackgroundcolor:{styles:{backgroundColor:\"%value\"},...CE},tablecellverticalalign:{styles:{\"vertical-align\":\"%value\"},...CE},tablecellbordercolor:{styles:{borderColor:\"%value\"},...CE},tablecellclass:{classes:[\"%value\"],...CE},tableclass:{selector:\"table\",classes:[\"%value\"],...yE},tablecellborderstyle:{styles:{borderStyle:\"%value\"},...CE},tablecellborderwidth:{styles:{borderWidth:\"%value\"},...CE}},EE=N(wE),xE=Dt.each,_E=ma.DOM,kE=e=>C(e)&&f(e),SE=(e,t)=>{const n=t&&t.schema||Fs({}),o=e=>{const t=m(e)?{name:e,classes:[],attrs:{}}:e,n=_E.create(t.name);return((e,t)=>{t.classes.length>0&&_E.addClass(e,t.classes.join(\" \")),_E.setAttribs(e,t.attrs)})(n,t),n},r=(e,t,s)=>{let a;const i=t[0],l=kE(i)?i.name:void 0,d=((e,t)=>{const o=n.getElementRule(e.nodeName.toLowerCase()),r=null==o?void 0:o.parentsRequired;return!(!r||!r.length)&&(t&&H(r,t)?t:r[0])})(e,l);if(d)l===d?(a=i,t=t.slice(1)):a=d;else if(i)a=i,t=t.slice(1);else if(!s)return e;const c=a?o(a):_E.create(\"div\");c.appendChild(e),s&&Dt.each(s,(t=>{const n=o(t);c.insertBefore(n,e)}));const u=kE(a)?a.siblings:void 0;return r(c,t,u)},s=_E.create(\"div\");if(e.length>0){const t=e[0],n=o(t),a=kE(t)?t.siblings:void 0;s.appendChild(r(n,e.slice(1),a))}return s},NE=e=>{let t=\"div\";const n={name:t,classes:[],attrs:{},selector:e=Dt.trim(e)};return\"*\"!==e&&(t=e.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,((e,t,o,r,s)=>{switch(t){case\"#\":n.attrs.id=o;break;case\".\":n.classes.push(o);break;case\":\":-1!==Dt.inArray(\"checked disabled enabled read-only required\".split(\" \"),o)&&(n.attrs[o]=o)}if(\"[\"===r){const e=s.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return\"\"}))),n.name=t||\"div\",n},RE=(e,t)=>{let n=\"\",o=Fd(e);if(\"\"===o)return\"\";const r=e=>m(e)?e.replace(/%(\\w+)/g,\"\"):\"\",s=(t,n)=>_E.getStyle(null!=n?n:e.getBody(),t,!0);if(m(t)){const n=e.formatter.get(t);if(!n)return\"\";t=n[0]}if(\"preview\"in t){const e=t.preview;if(!1===e)return\"\";o=e||o}let a,i=t.block||t.inline||\"span\";const l=(d=t.selector,m(d)?(d=(d=d.split(/\\s*,\\s*/)[0]).replace(/\\s*(~\\+|~|\\+|>)\\s*/g,\"$1\"),Dt.map(d.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),(e=>{const t=Dt.map(e.split(/(?:~\\+|~|\\+)/),NE),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var d;l.length>0?(l[0].name||(l[0].name=i),i=t.selector,a=SE(l,e)):a=SE([i],e);const c=_E.select(i,a)[0]||a.firstChild;xE(t.styles,((e,t)=>{const n=r(e);n&&_E.setStyle(c,t,n)})),xE(t.attributes,((e,t)=>{const n=r(e);n&&_E.setAttrib(c,t,n)})),xE(t.classes,(e=>{const t=r(e);_E.hasClass(c,t)||_E.addClass(c,t)})),e.dispatch(\"PreviewFormats\"),_E.setStyles(a,{position:\"absolute\",left:-65535}),e.getBody().appendChild(a);const u=s(\"fontSize\"),f=/px$/.test(u)?parseInt(u,10):0;return xE(o.split(\" \"),(e=>{let t=s(e,c);if(!(\"background-color\"===e&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(t)&&(t=s(e),\"#ffffff\"===Ws(t).toLowerCase())||\"color\"===e&&\"#000000\"===Ws(t).toLowerCase())){if(\"font-size\"===e&&/em|%$/.test(t)){if(0===f)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*f+\"px\"}\"border\"===e&&t&&(n+=\"padding:0 2px;\"),n+=e+\":\"+t+\";\"}})),e.dispatch(\"AfterPreviewFormats\"),_E.remove(a),n},AE=e=>{const t=(e=>{const t={},n=(e,o)=>{e&&(m(e)?(p(o)||(o=[o]),q(o,(e=>{v(e.deep)&&(e.deep=!Wm(e)),v(e.split)&&(e.split=!Wm(e)||Km(e)),v(e.remove)&&Wm(e)&&!Km(e)&&(e.remove=\"none\"),Wm(e)&&Km(e)&&(e.mixed=!0,e.block_expand=!0),m(e.classes)&&(e.classes=e.classes.split(/\\s+/))})),t[e]=o):pe(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:\"td,th\",styles:{verticalAlign:\"top\"}}],valignmiddle:[{selector:\"td,th\",styles:{verticalAlign:\"middle\"}}],valignbottom:[{selector:\"td,th\",styles:{verticalAlign:\"bottom\"}}],alignleft:[{selector:\"figure.image\",collapsed:!1,classes:\"align-left\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre\",styles:{textAlign:\"left\"},inherit:!1,preview:!1},{selector:\"img,audio,video\",collapsed:!1,styles:{float:\"left\"},preview:\"font-family font-size\"},{selector:\".mce-placeholder\",styles:{float:\"left\"},ceFalseOverride:!0},{selector:\"table\",collapsed:!1,styles:{marginLeft:\"0px\",marginRight:\"auto\"},onformat:e=>{t.setStyle(e,\"float\",null)},preview:\"font-family font-size\"},{selector:\".mce-preview-object,[data-ephox-embed-iri]\",ceFalseOverride:!0,styles:{float:\"left\"}}],aligncenter:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre\",styles:{textAlign:\"center\"},inherit:!1,preview:\"font-family font-size\"},{selector:\"figure.image\",collapsed:!1,classes:\"align-center\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"img,audio,video\",collapsed:!1,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},preview:!1},{selector:\".mce-placeholder\",styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},ceFalseOverride:!0},{selector:\"table\",collapsed:!1,styles:{marginLeft:\"auto\",marginRight:\"auto\"},preview:\"font-family font-size\"},{selector:\".mce-preview-object\",ceFalseOverride:!0,styles:{display:\"table\",marginLeft:\"auto\",marginRight:\"auto\"},preview:!1},{selector:\"[data-ephox-embed-iri]\",ceFalseOverride:!0,styles:{marginLeft:\"auto\",marginRight:\"auto\"},preview:!1}],alignright:[{selector:\"figure.image\",collapsed:!1,classes:\"align-right\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre\",styles:{textAlign:\"right\"},inherit:!1,preview:\"font-family font-size\"},{selector:\"img,audio,video\",collapsed:!1,styles:{float:\"right\"},preview:\"font-family font-size\"},{selector:\".mce-placeholder\",styles:{float:\"right\"},ceFalseOverride:!0},{selector:\"table\",collapsed:!1,styles:{marginRight:\"0px\",marginLeft:\"auto\"},onformat:e=>{t.setStyle(e,\"float\",null)},preview:\"font-family font-size\"},{selector:\".mce-preview-object,[data-ephox-embed-iri]\",ceFalseOverride:!0,styles:{float:\"right\"},preview:!1}],alignjustify:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre\",styles:{textAlign:\"justify\"},inherit:!1,preview:\"font-family font-size\"}],bold:[{inline:\"strong\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],italic:[{inline:\"em\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:!0},{inline:\"u\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],strikethrough:(()=>{const e={inline:\"span\",styles:{textDecoration:\"line-through\"},exact:!0},t={inline:\"strike\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},o={inline:\"s\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]};return\"html4\"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:\"span\",styles:{color:\"%value\"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:\"span\",toggle:!1,styles:{fontFamily:\"%value\"},clear_child_styles:!0},fontsize:{inline:\"span\",toggle:!1,styles:{fontSize:\"%value\"},clear_child_styles:!0},lineheight:{selector:\"h1,h2,h3,h4,h5,h6,p,li,td,th,div\",styles:{lineHeight:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{class:\"%value\"}},blockquote:{block:\"blockquote\",wrapper:!0,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},code:{inline:\"code\"},samp:{inline:\"samp\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:!0,deep:!0,onmatch:(e,t,n)=>Jo(e)&&e.hasAttribute(\"href\"),onformat:(e,n,o)=>{Dt.each(o,((n,o)=>{t.setAttrib(e,o,n)}))}},lang:{inline:\"span\",clear_child_styles:!0,remove_similar:!0,attributes:{lang:\"%value\",\"data-mce-lang\":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:\"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small\",remove:\"all\",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:!0,expand:!1,deep:!0},{selector:\"*\",attributes:[\"style\",\"class\"],split:!1,expand:!1,deep:!0}]};return Dt.each(\"p h1 h2 h3 h4 h5 h6 div address pre dt dd\".split(/\\s/),(e=>{o[e]={block:e,remove:\"all\"}})),o})(e)),n(EE()),n(Id(e)),{get:e=>C(e)?t[e]:t,has:e=>_e(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),n=Br({});return(e=>{e.addShortcut(\"meta+b\",\"\",\"Bold\"),e.addShortcut(\"meta+i\",\"\",\"Italic\"),e.addShortcut(\"meta+u\",\"\",\"Underline\");for(let t=1;t<=6;t++)e.addShortcut(\"access+\"+t,\"\",[\"FormatBlock\",!1,\"h\"+t]);e.addShortcut(\"access+7\",\"\",[\"FormatBlock\",!1,\"p\"]),e.addShortcut(\"access+8\",\"\",[\"FormatBlock\",!1,\"div\"]),e.addShortcut(\"access+9\",\"\",[\"FormatBlock\",!1,\"address\"])})(e),(e=>{e.on(\"mouseup keydown\",(t=>{var n;((e,t,n)=>{const o=e.selection,r=e.getBody();nv(e,null,n),8!==t&&46!==t||!o.isCollapsed()||o.getStart().innerHTML!==Qb||nv(e,tm(r,o.getStart()),!0),37!==t&&39!==t||nv(e,tm(r,o.getStart()),!0)})(e,t.keyCode,(n=e.selection.getRng().endContainer,lr(n)&&Ve(n.data,qo)))}))})(e),mw(e)||((e,t)=>{e.set({}),t.on(\"NodeChange\",(n=>{Jv(t,n.element,e.get())})),t.on(\"FormatApply FormatRemove\",(n=>{const o=I.from(n.node).map((e=>Am(e)?e:e.startContainer)).bind((e=>Jo(e)?I.some(e):I.from(e.parentElement))).getOrThunk((()=>Xv(t)));Jv(t,o,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{((e,t,n,o)=>{gw(e).formatter.apply(t,n,o)})(e,t,n,o)},remove:(t,n,o,r)=>{((e,t,n,o,r)=>{gw(e).formatter.remove(t,n,o,r)})(e,t,n,o,r)},toggle:(t,n,o)=>{((e,t,n,o)=>{gw(e).formatter.toggle(t,n,o)})(e,t,n,o)},match:(t,n,o,r)=>((e,t,n,o,r)=>gw(e).formatter.match(t,n,o,r))(e,t,n,o,r),closest:t=>((e,t)=>gw(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>gw(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,o,r)=>((e,t,n,o,r)=>gw(e).formatter.matchNode(t,n,o,r))(e,t,n,o,r),canApply:t=>((e,t)=>gw(e).formatter.canApply(t))(e,t),formatChanged:(t,o,r,s)=>((e,t,n,o,r,s)=>gw(e).formatter.formatChanged(t,n,o,r,s))(e,n,t,o,r,s),getCssText:T(RE,e)}},TE=e=>{switch(e.toLowerCase()){case\"undo\":case\"redo\":case\"mcefocus\":return!0;default:return!1}},OE=e=>{const t=Dr(),n=Br(0),o=Br(0),r={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{gw(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(s,a)=>((e,t,n,o,r,s,a)=>gw(e).undoManager.add(t,n,o,r,s,a))(e,r,o,n,t,s,a),dispatchChange:()=>{e.setDirty(!0);const t=ow(e);t.bookmark=wl(e.selection),e.dispatch(\"change\",{level:t,lastLevel:ie(r.data,o.get()).getOrUndefined()})},undo:()=>((e,t,n,o)=>gw(e).undoManager.undo(t,n,o))(e,r,n,o),redo:()=>((e,t,n)=>gw(e).undoManager.redo(t,n))(e,o,r.data),clear:()=>{((e,t,n)=>{gw(e).undoManager.clear(t,n)})(e,r,o)},reset:()=>{((e,t)=>{gw(e).undoManager.reset(t)})(e,r)},hasUndo:()=>((e,t,n)=>gw(e).undoManager.hasUndo(t,n))(e,r,o),hasRedo:()=>((e,t,n)=>gw(e).undoManager.hasRedo(t,n))(e,r,o),transact:t=>((e,t,n,o)=>gw(e).undoManager.transact(t,n,o))(e,r,n,t),ignore:t=>{((e,t,n)=>{gw(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,o,r)=>{gw(e).undoManager.extra(t,n,o,r)})(e,r,o,t,n)}};return mw(e)||((e,t,n)=>{const o=Br(!1),r=e=>{dw(t,!1,n),t.add({},e)};e.on(\"init\",(()=>{t.add()})),e.on(\"BeforeExecCommand\",(e=>{const o=e.command;TE(o)||(cw(t,n),t.beforeChange())})),e.on(\"ExecCommand\",(e=>{const t=e.command;TE(t)||r(e)})),e.on(\"ObjectResizeStart cut\",(()=>{t.beforeChange()})),e.on(\"SaveContent ObjectResized blur\",r),e.on(\"dragend\",r),e.on(\"keyup\",(n=>{const s=n.keyCode;if(n.isDefaultPrevented())return;const a=Tt.os.isMacOS()&&\"Meta\"===n.key;(s>=33&&s<=36||s>=37&&s<=40||45===s||n.ctrlKey||a)&&(r(),e.nodeChanged()),46!==s&&8!==s||e.nodeChanged(),o.get()&&t.typing&&!iw(ow(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch(\"TypingUndo\"),o.set(!1),e.nodeChanged())})),e.on(\"keydown\",(e=>{const s=e.keyCode;if(e.isDefaultPrevented())return;if(s>=33&&s<=36||s>=37&&s<=40||45===s)return void(t.typing&&r(e));const a=e.ctrlKey&&!e.altKey||e.metaKey;if((s<16||s>20)&&224!==s&&91!==s&&!t.typing&&!a)return t.beforeChange(),dw(t,!0,n),t.add({},e),void o.set(!0);(Tt.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()})),e.on(\"mousedown\",(e=>{t.typing&&r(e)})),e.on(\"input\",(e=>{var t;e.inputType&&(\"insertReplacementText\"===e.inputType||\"insertText\"===(t=e).inputType&&null===t.data||(e=>\"insertFromPaste\"===e.inputType||\"insertFromDrop\"===e.inputType)(e))&&r(e)})),e.on(\"AddUndo Undo Redo ClearUndos\",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,r,n),(e=>{e.addShortcut(\"meta+z\",\"\",\"Undo\"),e.addShortcut(\"meta+y,meta+shift+z\",\"\",\"Redo\")})(e),r},BE=[9,27,Qf.HOME,Qf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Qf.DOWN,Qf.UP,Qf.LEFT,Qf.RIGHT].concat(Tt.browser.isFirefox()?[224]:[]),PE=\"data-mce-placeholder\",DE=e=>\"keydown\"===e.type||\"keyup\"===e.type,LE=e=>{const t=e.keyCode;return t===Qf.BACKSPACE||t===Qf.DELETE},ME=(e,t)=>({from:e,to:t}),IE=(e,t)=>{const n=Cn(e),o=Cn(t.container());return zh(n,o).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},FE=(e,t)=>Zn(t,(e=>Xa(e)||hr(e.dom)),(t=>kn(t,e))).filter(Kt).getOr(e),UE=(e,t)=>{const n=((e,t)=>{const n=In(e);return J(n,(e=>t.isBlock($t(e)))).fold(N(n),(e=>n.slice(0,e)))})(e,t);return q(n,Eo),n},zE=(e,t,n)=>{const o=Hp(n,t);return Q(o.reverse(),(t=>Tr(e,t))).each(Eo)},jE=(e,t,n,o,r)=>{if(Tr(o,n))return Ja(n),Zu(n.dom);((e,t)=>0===Y(Ln(t),(t=>!Tr(e,t))).length)(o,r)&&Tr(o,t)&&po(r,vn(\"br\"));const s=Xu(n.dom,el.before(r.dom));return q(UE(t,o),(e=>{po(r,e)})),zE(o,e,t),s},HE=(e,t,n,o)=>{if(Tr(o,n)){if(Tr(o,t)){const e=e=>{const t=(e,n)=>Un(e).fold((()=>n),(e=>((e,t)=>e.isInline($t(t)))(o,e)?t(e,n.concat(Ia(e))):n));return t(e,[])},r=G(e(n),((e,t)=>(yo(e,t),t)),Qa());wo(t),vo(t,r)}return Eo(n),Zu(t.dom)}const r=Qu(n.dom);return q(UE(t,o),(e=>{vo(n,e)})),zE(o,e,t),r},$E=(e,t)=>{Yu(e,t.dom).bind((e=>I.from(e.getNode()))).map(Cn).filter(qa).each(Eo)},VE=(e,t,n,o)=>($E(!0,t),$E(!1,n),((e,t)=>Sn(t,e)?((e,t)=>{const n=Hp(t,e);return I.from(n[n.length-1])})(t,e):I.none())(t,n).fold(T(HE,e,t,n,o),T(jE,e,t,n,o))),qE=(e,t,n,o,r)=>t?VE(e,o,n,r):VE(e,n,o,r),WE=(e,t)=>{const n=Cn(e.getBody()),o=((e,t,n,o)=>o.collapsed?((e,t,n,o)=>{const r=IE(t,el.fromRangeStart(o)),s=r.bind((o=>qu(n,t,o.position).bind((o=>IE(t,o).map((o=>((e,t,n,o)=>gr(o.position.getNode())&&!Tr(e,o.block)?Yu(!1,o.block.dom).bind((e=>e.isEqual(o.position)?qu(n,t,e).bind((e=>IE(t,e))):I.some(o))).getOr(o):o)(e,t,n,o)))))));return It(r,s,ME).filter((e=>(e=>!kn(e.from.block,e.to.block))(e)&&((e,t)=>{const n=Cn(e);return kn(FE(n,t.from.block),FE(n,t.to.block))})(t,e)&&(e=>!1===br(e.from.block.dom)&&!1===br(e.to.block.dom))(e)&&(e=>{const t=e=>Wa(e)||Yr(e.dom)||Ya(e);return t(e.from.block)&&t(e.to.block)})(e)&&(e=>!(Sn(e.to.block,e.from.block)||Sn(e.from.block,e.to.block)))(e)))})(e,t,n,o):I.none())(e.schema,n.dom,t,e.selection.getRng()).map((o=>()=>{qE(n,t,o.from.block,o.to.block,e.schema).each((t=>{e.selection.setRng(t.toRange())}))}));return o},KE=(e,t)=>{const n=Cn(t),o=T(kn,e);return Xn(n,Xa,o).isSome()},YE=e=>{const t=Cn(e.getBody());return((e,t)=>{const n=Xu(e.dom,el.fromRangeStart(t)).isNone(),o=Gu(e.dom,el.fromRangeEnd(t)).isNone();return!((e,t)=>KE(e,t.startContainer)||KE(e,t.endContainer))(e,t)&&n&&o})(t,e.selection.getRng())?(e=>I.some((()=>{e.setContent(\"\"),e.selection.setCursorLocation()})))(e):((e,t,n)=>{const o=t.getRng();return It(zh(e,Cn(o.startContainer)),zh(e,Cn(o.endContainer)),((r,s)=>kn(r,s)?I.none():I.some((()=>{o.deleteContents(),qE(e,!0,r,s,n).each((e=>{t.setRng(e.toRange())}))})))).getOr(I.none())})(t,e.selection,e.schema)},GE=(e,t)=>e.selection.isCollapsed()?I.none():YE(e),XE=(e,t,n,o,r)=>I.from(t._selectionOverrides.showCaret(e,n,o,r)),ZE=(e,t)=>e.dispatch(\"BeforeObjectSelected\",{target:t}).isDefaultPrevented()?I.none():I.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),QE=(e,t,n)=>t.collapsed?((e,t,n)=>{const o=ku(1,e.getBody(),t),r=el.fromRangeStart(o),s=r.getNode();if(nu(s))return XE(1,e,s,!r.isAtEnd(),!1);const a=r.getNode(!0);if(nu(a))return XE(1,e,a,!1,!1);const i=bb(e.dom.getRoot(),r.getNode());return nu(i)?XE(1,e,i,!1,n):I.none()})(e,t,n).getOr(t):t,JE=e=>Up(e)||Lp(e),ex=e=>zp(e)||Mp(e),tx=(e,t,n,o,r,s)=>{XE(o,e,s.getNode(!r),r,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();r?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{lr(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},nx=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!lr(n.commonAncestorContainer))return I.none();const o=t?1:-1,r=ju(e.getBody()),s=T(Au,t?r.next:r.prev),a=t?JE:ex,i=Nu(o,e.getBody(),n),l=s(i),d=l?Ph(t,l):l;if(!d||!Tu(i,d))return I.none();if(a(d))return I.some((()=>tx(e,n,i.getNode(),o,t,d)));const c=s(d);return c&&a(c)&&Tu(d,c)?I.some((()=>tx(e,n,i.getNode(),o,t,c))):I.none()})(e,t),ox=(e,t)=>{const n=e.getBody();return t?Zu(n).filter(Up):Qu(n).filter(zp)},rx=e=>{const t=e.selection.getRng();return!t.collapsed&&(ox(e,!0).exists((e=>e.isEqual(el.fromRangeStart(t))))||ox(e,!1).exists((e=>e.isEqual(el.fromRangeEnd(t)))))},sx=kl([{remove:[\"element\"]},{moveToElement:[\"element\"]},{moveToPosition:[\"position\"]}]),ax=(e,t,n,o)=>qu(t,e,n).bind((r=>{return s=r.getNode(),C(s)&&(Xa(Cn(s))||Ya(Cn(s)))||((e,t,n,o,r)=>{const s=t=>r.isInline(t.nodeName.toLowerCase())&&!vu(n,o,e);return Su(!t,n).fold((()=>Su(t,o).fold(L,s)),s)})(e,t,n,r,o)?I.none():t&&br(r.getNode())||!t&&br(r.getNode(!0))?((e,t,n,o,r)=>{const s=r.getNode(!n);return zh(Cn(t),Cn(o.getNode())).map((t=>Tr(e,t)?sx.remove(t.dom):sx.moveToElement(s))).orThunk((()=>I.some(sx.moveToElement(s))))})(o,e,t,n,r):t&&zp(n)||!t&&Up(n)?I.some(sx.moveToPosition(r)):I.none();var s})),ix=(e,t)=>I.from(bb(e.getBody(),t)),lx=(e,t)=>{const n=e.selection.getNode();return ix(e,n).filter(br).fold((()=>((e,t,n,o)=>{const r=ku(t?1:-1,e,n),s=el.fromRangeStart(r),a=Cn(e);return!t&&zp(s)?I.some(sx.remove(s.getNode(!0))):t&&Up(s)?I.some(sx.remove(s.getNode())):!t&&Up(s)&&eh(a,s,o)?th(a,s,o).map((e=>sx.remove(e.getNode()))):t&&zp(s)&&Jp(a,s,o)?nh(a,s,o).map((e=>sx.remove(e.getNode()))):((e,t,n,o)=>((e,t)=>{const n=t.getNode(!e),o=e?\"after\":\"before\";return Jo(n)&&n.getAttribute(\"data-mce-caret\")===o})(t,n)?((e,t)=>y(t)?I.none():e&&br(t.nextSibling)?I.some(sx.moveToElement(t.nextSibling)):!e&&br(t.previousSibling)?I.some(sx.moveToElement(t.previousSibling)):I.none())(t,n.getNode(!t)).orThunk((()=>ax(e,t,n,o))):ax(e,t,n,o).bind((t=>((e,t,n)=>n.fold((e=>I.some(sx.remove(e))),(e=>I.some(sx.moveToElement(e))),(n=>vu(t,n,e)?I.none():I.some(sx.moveToPosition(n)))))(e,n,t))))(e,t,s,o)})(e.getBody(),t,e.selection.getRng(),e.schema).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Rh(e,t,Cn(n)),!0))(e,t),((e,t)=>n=>{const o=t?el.before(n):el.after(n);return e.selection.setRng(o.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>I.some(_)))},dx=e=>{const t=e.dom,n=e.selection,o=bb(e.getBody(),n.getNode());if(hr(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create(\"br\",{\"data-mce-bogus\":\"1\"});t.setHTML(o,\"\"),o.appendChild(e),n.setRng(el.before(e).toRange())}return!0},cx=(e,t)=>e.selection.isCollapsed()?lx(e,t):((e,t)=>{const n=e.selection.getNode();return br(n)&&!yr(n)?ix(e,n.parentNode).filter(br).fold((()=>I.some((()=>{var n;n=Cn(e.getBody()),q(Uo(n,\".mce-offscreen-selection\"),Eo),Rh(e,t,Cn(e.selection.getNode())),jh(e)}))),(()=>I.some(_))):rx(e)?I.some((()=>{Vh(e,e.selection.getRng(),Cn(e.getBody()))})):I.none()})(e,t),ux=e=>e.hasOwnProperty(\"text\"),mx=e=>e.hasOwnProperty(\"marker\"),fx=(e,t)=>{const n=(e,n)=>{if(lr(e))return{text:e,offset:n};{const o=t(),r=e.childNodes;return n<r.length?(e.insertBefore(o,r[n]),{marker:o,before:!0}):(e.appendChild(o),{marker:o,before:!1})}},o=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:o}},gx=e=>{var t,n;const{start:o,end:r}=e,s=new window.Range;return ux(o)?s.setStart(o.text,o.offset):mx(o)&&(o.before?s.setStartBefore(o.marker):s.setStartAfter(o.marker),null===(t=o.marker.parentNode)||void 0===t||t.removeChild(o.marker)),ux(r)?s.setEnd(r.text,r.offset):mx(r)&&(r.before?s.setEndBefore(r.marker):s.setEndAfter(r.marker),null===(n=r.marker.parentNode)||void 0===n||n.removeChild(r.marker)),s},px=(e,t)=>{var n;const o=e.dom,r=o.getParent(e.selection.getStart(),o.isBlock),s=o.getParent(e.selection.getEnd(),o.isBlock),a=e.getBody();if(\"div\"===(null===(n=null==r?void 0:r.nodeName)||void 0===n?void 0:n.toLowerCase())&&r&&s&&r===a.firstChild&&s===a.lastChild&&!o.isEmpty(a)){const n=r.cloneNode(!1),o=()=>{if(t?Fh(e):Ih(e),a.firstChild!==r){const t=fx(e.selection.getRng(),(()=>document.createElement(\"span\")));Array.from(a.childNodes).forEach((e=>n.appendChild(e))),a.appendChild(n),e.selection.setRng(gx(t))}};return I.some(o)}return I.none()},hx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=el.fromRangeStart(e.selection.getRng());return qu(t,e.getBody(),n).filter((e=>t?Pp(e):Dp(e))).bind((e=>yu(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):I.none(),bx=lr,vx=e=>bx(e)&&e.data[0]===ei,yx=e=>bx(e)&&e.data[e.data.length-1]===ei,Cx=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(ei)},wx=(e,t)=>e?(e=>{var t;if(bx(e.previousSibling))return yx(e.previousSibling)||e.previousSibling.appendData(ei),e.previousSibling;if(bx(e))return vx(e)||e.insertData(0,ei),e;{const n=Cx(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(bx(e.nextSibling))return vx(e.nextSibling)||e.nextSibling.insertData(0,ei),e.nextSibling;if(bx(e))return yx(e)||e.appendData(ei),e;{const o=Cx(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(o),o}})(t),Ex=T(wx,!0),xx=T(wx,!1),_x=(e,t)=>lr(e.container())?wx(t,e.container()):wx(t,e.getNode()),kx=(e,t)=>{const n=t.get();return n&&e.container()===n&&ai(n)},Sx=(e,t)=>t.fold((t=>{Gc(e.get());const n=Ex(t);return e.set(n),I.some(el(n,n.length-1))}),(t=>Zu(t).map((t=>{if(kx(t,e)){const t=e.get();return el(t,1)}{Gc(e.get());const n=_x(t,!0);return e.set(n),el(n,1)}}))),(t=>Qu(t).map((t=>{if(kx(t,e)){const t=e.get();return el(t,t.length-1)}{Gc(e.get());const n=_x(t,!1);return e.set(n),el(n,n.length-1)}}))),(t=>{Gc(e.get());const n=xx(t);return e.set(n),I.some(el(n,1))})),Nx=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return I.none()},Rx=kl([{before:[\"element\"]},{start:[\"element\"]},{end:[\"element\"]},{after:[\"element\"]}]),Ax=(e,t)=>bu(t,e)||e,Tx=(e,t,n)=>{const o=Dh(n),r=Ax(t,o.container());return Bh(e,r,o).fold((()=>Gu(r,o).bind(T(Bh,e,r)).map((e=>Rx.before(e)))),I.none)},Ox=(e,t)=>null===tm(e,t),Bx=(e,t,n)=>Bh(e,t,n).filter(T(Ox,t)),Px=(e,t,n)=>{const o=Lh(n);return Bx(e,t,o).bind((e=>Xu(e,o).isNone()?I.some(Rx.start(e)):I.none()))},Dx=(e,t,n)=>{const o=Dh(n);return Bx(e,t,o).bind((e=>Gu(e,o).isNone()?I.some(Rx.end(e)):I.none()))},Lx=(e,t,n)=>{const o=Lh(n),r=Ax(t,o.container());return Bh(e,r,o).fold((()=>Xu(r,o).bind(T(Bh,e,r)).map((e=>Rx.after(e)))),I.none)},Mx=e=>!Oh(Fx(e)),Ix=(e,t,n)=>Nx([Tx,Px,Dx,Lx],[e,t,n]).filter(Mx),Fx=e=>e.fold(R,R,R,R),Ux=e=>e.fold(N(\"before\"),N(\"start\"),N(\"end\"),N(\"after\")),zx=e=>e.fold(Rx.before,Rx.before,Rx.after,Rx.after),jx=e=>e.fold(Rx.start,Rx.start,Rx.end,Rx.end),Hx=(e,t,n,o,r,s)=>It(Bh(t,n,o),Bh(t,n,r),((t,o)=>t!==o&&((e,t,n)=>{const o=bu(t,e),r=bu(n,e);return C(o)&&o===r})(n,t,o)?Rx.after(e?t:o):s)).getOr(s),$x=(e,t)=>e.fold(M,(e=>{return o=t,!(Ux(n=e)===Ux(o)&&Fx(n)===Fx(o));var n,o})),Vx=(e,t)=>e?t.fold(k(I.some,Rx.start),I.none,k(I.some,Rx.after),I.none):t.fold(I.none,k(I.some,Rx.before),I.none,k(I.some,Rx.end)),qx=(e,t,n)=>{const o=e?1:-1;return t.setRng(el(n.container(),n.offset()+o).toRange()),t.getSel().modify(\"move\",e?\"forward\":\"backward\",\"word\"),!0};var Wx;!function(e){e[e.Br=0]=\"Br\",e[e.Block=1]=\"Block\",e[e.Wrap=2]=\"Wrap\",e[e.Eol=3]=\"Eol\"}(Wx||(Wx={}));const Kx=(e,t)=>-1===e?oe(t):t,Yx=(e,t,n)=>1===e?t.next(n):t.prev(n),Gx=(e,t,n,o)=>gr(o.getNode(1===t))?Wx.Br:!1===vu(n,o)?Wx.Block:Wx.Wrap,Xx=(e,t,n,o)=>{const r=ju(n);let s=o;const a=[];for(;s;){const n=Yx(t,r,s);if(!n)break;if(gr(n.getNode(!1)))return 1===t?{positions:Kx(t,a).concat([n]),breakType:Wx.Br,breakAt:I.some(n)}:{positions:Kx(t,a),breakType:Wx.Br,breakAt:I.some(n)};if(n.isVisible()){if(e(s,n)){const e=Gx(0,t,s,n);return{positions:Kx(t,a),breakType:e,breakAt:I.some(n)}}a.push(n),s=n}else s=n}return{positions:Kx(t,a),breakType:Wx.Eol,breakAt:I.none()}},Zx=(e,t,n,o)=>t(n,o).breakAt.map((o=>{const r=t(n,o).positions;return-1===e?r.concat(o):[o].concat(r)})).getOr([]),Qx=(e,t)=>X(e,((e,n)=>e.fold((()=>I.some(n)),(o=>It(le(o.getClientRects()),le(n.getClientRects()),((e,r)=>{const s=Math.abs(t-e.left);return Math.abs(t-r.left)<=s?n:o})).or(e)))),I.none()),Jx=(e,t)=>le(t.getClientRects()).bind((t=>Qx(e,t.left))),e_=T(Xx,el.isAbove,-1),t_=T(Xx,el.isBelow,1),n_=T(Zx,-1,e_),o_=T(Zx,1,t_),r_=(e,t)=>e_(e,t).breakAt.isNone(),s_=(e,t)=>t_(e,t).breakAt.isNone(),a_=(e,t)=>Jx(n_(e,t),t),i_=(e,t)=>Jx(o_(e,t),t),l_=br,d_=(e,t)=>Math.abs(e.left-t),c_=(e,t)=>Math.abs(e.right-t),u_=(e,t)=>Be(e,((e,n)=>{const o=Math.min(d_(e,t),c_(e,t)),r=Math.min(d_(n,t),c_(n,t));return r===o&&ke(n,\"node\")&&l_(n.node)||r<o?n:e})),m_=e=>{const t=t=>V(t,(t=>{const n=hi(t);return n.node=e,n}));if(Jo(e))return t(e.getClientRects());if(lr(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},f_=e=>te(e,m_);var g_;!function(e){e[e.Up=-1]=\"Up\",e[e.Down=1]=\"Down\"}(g_||(g_={}));const p_=(e,t,n,o,r,s)=>{let a=0;const i=[],l=o=>{let s=f_([o]);e===g_.Up&&(s=s.reverse());for(let e=0;e<s.length;e++){const o=s[e];if(!n(o,d)){if(i.length>0&&t(o,De(i))&&a++,o.line=a,r(o))return!0;i.push(o)}}return!1},d=De(s.getClientRects());if(!d)return i;const c=s.getNode();return c&&(l(c),((e,t,n,o)=>{let r=o;for(;r=hu(r,e,Mi,t);)if(n(r))return})(e,o,l,c)),i},h_=T(p_,g_.Up,yi,Ci),b_=T(p_,g_.Down,Ci,yi),v_=e=>De(e.getClientRects()),y_=e=>t=>((e,t)=>t.line>e)(e,t),C_=e=>t=>((e,t)=>t.line===e)(e,t),w_=(e,t)=>{e.selection.setRng(t),Vg(e,e.selection.getRng())},E_=(e,t,n)=>I.some(QE(e,t,n)),x_=(e,t,n,o,r,s)=>{const a=1===t,i=ju(e.getBody()),l=T(Au,a?i.next:i.prev),d=a?o:r;if(!n.collapsed){const o=Ei(n);if(s(o))return XE(t,e,o,-1===t,!1);if(rx(e)){const e=n.cloneRange();return e.collapse(-1===t),I.from(e)}}const c=Nu(t,e.getBody(),n);if(d(c))return ZE(e,c.getNode(!a));let u=l(c);const m=gi(n);if(!u)return m?I.some(n):I.none();if(u=Ph(a,u),d(u))return XE(t,e,u.getNode(!a),a,!1);const f=l(u);return f&&d(f)&&Tu(u,f)?XE(t,e,f.getNode(!a),a,!1):m?E_(e,u.toRange(),!1):I.none()},__=(e,t,n,o,r,s)=>{const a=Nu(t,e.getBody(),n),i=De(a.getClientRects()),l=t===g_.Down,d=e.getBody();if(!i)return I.none();if(rx(e)){const e=l?el.fromRangeEnd(n):el.fromRangeStart(n);return(l?i_:a_)(d,e).orThunk((()=>I.from(e))).map((e=>e.toRange()))}const c=(l?b_:h_)(d,y_(1),a),u=Y(c,C_(1)),m=i.left,f=u_(u,m);if(f&&s(f.node)){const n=Math.abs(m-f.left),o=Math.abs(m-f.right);return XE(t,e,f.node,n<o,!1)}let g;if(g=o(a)?a.getNode():r(a)?a.getNode(!0):Ei(n),g){const n=((e,t,n,o)=>{const r=ju(t);let s,a,i,l;const d=[];let c=0;e===g_.Down?(s=r.next,a=Ci,i=yi,l=el.after(o)):(s=r.prev,a=yi,i=Ci,l=el.before(o));const u=v_(l);do{if(!l.isVisible())continue;const e=v_(l);if(i(e,u))continue;d.length>0&&a(e,De(d))&&c++;const t=hi(e);if(t.position=l,t.line=c,n(t))return d;d.push(t)}while(l=s(l));return d})(t,d,y_(1),g);let o=u_(Y(n,C_(1)),m);if(o)return E_(e,o.position.toRange(),!1);if(o=De(Y(n,C_(0))),o)return E_(e,o.position.toRange(),!1)}return 0===u.length?k_(e,l).filter(l?r:o).map((t=>QE(e,t.toRange(),!1))):I.none()},k_=(e,t)=>{const n=e.selection.getRng(),o=t?el.fromRangeEnd(n):el.fromRangeStart(n),r=(s=o.container(),a=e.getBody(),Xn(Cn(s),(e=>ru(e.dom)),(e=>e.dom===a)).map((e=>e.dom)).getOr(a));var s,a;if(t){const e=t_(r,o);return de(e.positions)}{const e=e_(r,o);return le(e.positions)}},S_=(e,t,n)=>k_(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),N_=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},R_=(e,t)=>{e?t.setAttribute(\"data-mce-selected\",\"inline-boundary\"):t.removeAttribute(\"data-mce-selected\")},A_=(e,t,n)=>Sx(t,n).map((t=>(N_(e,t),n))),T_=(e,t,n)=>{const o=e.getBody(),r=((e,t,n)=>{const o=el.fromRangeStart(e);if(e.collapsed)return o;{const r=el.fromRangeEnd(e);return n?Xu(t,r).getOr(r):Gu(t,o).getOr(o)}})(e.selection.getRng(),o,n);return((e,t,n,o)=>{const r=Ph(e,o),s=Ix(t,n,r);return Ix(t,n,r).bind(T(Vx,e)).orThunk((()=>((e,t,n,o,r)=>{const s=Ph(e,r);return qu(e,n,s).map(T(Ph,e)).fold((()=>o.map(zx)),(r=>Ix(t,n,r).map(T(Hx,e,t,n,s,r)).filter(T($x,o)))).filter(Mx)})(e,t,n,s,o)))})(n,T(Th,e),o,r).bind((n=>A_(e,t,n)))},O_=(e,t,n)=>!!Md(e)&&T_(e,t,n).isSome(),B_=(e,t,n)=>!!Md(t)&&((e,t)=>{const n=t.selection.getRng(),o=e?el.fromRangeEnd(n):el.fromRangeStart(n);return!!(e=>w(e.selection.getSel().modify))(t)&&(e&&di(o)?qx(!0,t.selection,o):!(e||!ci(o))&&qx(!1,t.selection,o))})(e,t),P_=e=>{const t=Br(null),n=T(Th,e);return e.on(\"NodeChange\",(o=>{Md(e)&&(((e,t,n)=>{const o=V(Uo(Cn(t.getRoot()),'*[data-mce-selected=\"inline-boundary\"]'),(e=>e.dom)),r=Y(o,e),s=Y(n,e);q(re(r,s),T(R_,!1)),q(re(s,r),T(R_,!0))})(n,e.dom,o.parents),((e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const o=el.fromRangeStart(e.selection.getRng());el.isTextPosition(o)&&!(e=>di(e)||ci(e))(o)&&(N_(e,Yc(n,o)),t.set(null))}})(e,t),((e,t,n,o)=>{if(t.selection.isCollapsed()){const r=Y(o,e);q(r,(o=>{const r=el.fromRangeStart(t.selection.getRng());Ix(e,t.getBody(),r).bind((e=>A_(t,n,e)))}))}})(n,e,t,o.parents))})),t},D_=T(B_,!0),L_=T(B_,!1),M_=(e,t,n)=>{if(Md(e)){const o=k_(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?el.fromRangeEnd(n):el.fromRangeStart(n)}));return Ix(T(Th,e),e.getBody(),o).exists((t=>{const o=zx(t);return Sx(n,o).exists((t=>(N_(e,t),!0)))}))}return!1},I_=(e,t)=>n=>Sx(t,n).map((t=>()=>N_(e,t))),F_=(e,t,n,o)=>{const r=e.getBody(),s=T(Th,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,o)),Ih(e),Ix(s,r,el.fromRangeStart(e.selection.getRng())).map(jx).bind(I_(e,t)).each(D)})),e.nodeChanged()},U_=(e,t,n)=>{if(e.selection.isCollapsed()&&Md(e)){const o=el.fromRangeStart(e.selection.getRng());return((e,t,n,o)=>{const r=((e,t)=>bu(t,e)||e)(e.getBody(),o.container()),s=T(Th,e),a=Ix(s,r,o);return a.bind((e=>n?e.fold(N(I.some(jx(e))),I.none,N(I.some(zx(e))),I.none):e.fold(I.none,N(I.some(zx(e))),I.none,N(I.some(jx(e)))))).map(I_(e,t)).getOrThunk((()=>{const i=Wu(n,r,o),l=i.bind((e=>Ix(s,r,e)));return It(a,l,(()=>Bh(s,r,o).bind((t=>(e=>It(Zu(e),Qu(e),((t,n)=>{const o=Ph(!0,t),r=Ph(!1,n);return Gu(e,o).forall((e=>e.isEqual(r)))})).getOr(!0))(t)?I.some((()=>{Rh(e,n,Cn(t))})):I.none())))).getOrThunk((()=>l.bind((()=>i.map((r=>()=>{n?F_(e,t,o,r):F_(e,t,r,o)}))))))}))})(e,t,n,o)}return I.none()},z_=(e,t)=>{const n=Cn(e.getBody()),o=Cn(e.selection.getStart()),r=Hp(o,n);return J(r,t).fold(N(r),(e=>r.slice(0,e)))},j_=e=>1===jn(e),H_=(e,t)=>{const n=T(cv,e);return te(t,(e=>n(e)?[e.dom]:[]))},$_=e=>{const t=(e=>z_(e,(t=>e.schema.isBlock($t(t)))))(e);return H_(e,t)},V_=(e,t)=>{const n=Y((e=>z_(e,(t=>e.schema.isBlock($t(t))||(e=>jn(e)>1)(t))))(e),j_);return de(n).bind((o=>{const r=el.fromRangeStart(e.selection.getRng());return Hh(t,r,o.dom)&&!Xm(o)?I.some((()=>((e,t,n,o)=>{const r=H_(t,o);if(0===r.length)Rh(t,e,n);else{const e=dv(n.dom,r);t.selection.setRng(e.toRange())}})(t,e,o,n))):I.none()}))},q_=(e,t)=>{const n=e.selection.getStart(),o=((e,t)=>{const n=t.parentElement;return gr(t)&&!h(n)&&e.dom.isEmpty(n)})(e,n)||Xm(Cn(n))?dv(n,t):((e,t)=>{const{caretContainer:n,caretPosition:o}=lv(t);return e.insertNode(n.dom),o})(e.selection.getRng(),t);e.selection.setRng(o.toRange())},W_=e=>lr(e.startContainer),K_=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&W_(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!h(n)&&cv(e,Cn(n))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!h(t)&&!h(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(lr(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},Y_=(e,t)=>e.selection.isCollapsed()?V_(e,t):(e=>{if(K_(e)){const t=$_(e);return I.some((()=>{Ih(e),((e,t)=>{const n=re(t,$_(e));n.length>0&&q_(e,n)})(e,t)}))}return I.none()})(e),G_=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(W_(t)||e.dom.isEmpty(t.startContainer))&&!(e=>{return t=Cn(e.selection.getStart()),n=e.schema,zo(t,(e=>em(e.dom)),(e=>n.isBlock($t(e))));var t,n})(e)})(e)&&q_(e,[]),!0),X_=(e,t,n)=>C(n)?I.some((()=>{e._selectionOverrides.hideFakeCaret(),Rh(e,t,Cn(n))})):I.none(),Z_=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?Lp:Mp,o=Nu(t?1:-1,e.getBody(),e.selection.getRng());return n(o)?X_(e,t,o.getNode(!t)):I.from(Ph(t,o)).filter((e=>n(e)&&Tu(o,e))).bind((n=>X_(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return wr(n)?X_(e,t,n):I.none()})(e,t),Q_=e=>Ze(null!=e?e:\"\").getOr(0),J_=(e,t)=>(e||\"table\"===$t(t)?\"margin\":\"padding\")+(\"rtl\"===co(t,\"direction\")?\"-right\":\"-left\"),ek=e=>{const t=nk(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ne(t,(t=>{const n=J_(Cd(e),t),o=mo(t,n).map(Q_).getOr(0);return\"false\"!==e.dom.getContentEditable(t.dom)&&o>0})))(e,t))},tk=e=>Ka(e)||Ya(e),nk=e=>Y(_o(e.selection.getSelectedBlocks()),(e=>!tk(e)&&!(e=>Tn(e).exists(tk))(e)&&Zn(e,(e=>hr(e.dom)||br(e.dom))).exists((e=>hr(e.dom))))),ok=(e,t)=>{var n,o;if(e.mode.isReadOnly())return;const{dom:r}=e,s=wd(e),a=null!==(o=null===(n=/[a-z%]+$/i.exec(s))||void 0===n?void 0:n[0])&&void 0!==o?o:\"px\",i=Q_(s),l=Cd(e);q(nk(e),(e=>{((e,t,n,o,r,s)=>{const a=J_(n,Cn(s)),i=Q_(e.getStyle(s,a));if(\"outdent\"===t){const t=Math.max(0,i-o);e.setStyle(s,a,t?t+r:\"\")}else{const t=i+o+r;e.setStyle(s,a,t)}})(r,t,l,i,a,e.dom)}))},rk=e=>ok(e,\"outdent\"),sk=e=>{if(e.selection.isCollapsed()&&ek(e)){const t=e.dom,n=e.selection.getRng(),o=el.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(null!==r&&Kp(Cn(r),o,e.schema))return I.some((()=>rk(e)))}return I.none()},ak=(e,t,n)=>ue([sk,cx,nx,(e,n)=>U_(e,t,n),WE,hb,hx,Z_,GE,Y_,px],(t=>t(e,n))).filter((t=>e.selection.isEditable())),ik=e=>void 0===e.touches||1!==e.touches.length?I.none():I.some(e.touches[0]),lk=(e,t)=>_e(e,t.nodeName),dk=(e,t)=>!!lr(t)||!!Jo(t)&&!(lk(e.getBlockElements(),t)||fm(t)||Zr(e,t)||Ir(t)),ck=(e,t)=>{if(lr(t)){if(0===t.data.length)return!0;if(/^\\s+$/.test(t.data))return!t.nextSibling||lk(e,t.nextSibling)||Ir(t.nextSibling)}return!1},uk=e=>e.dom.create(ed(e),td(e)),mk=(e,t,n)=>{const o=Cn(uk(e)),r=Qa();vo(o,r),n(t,o);const s=document.createRange();return s.setStartBefore(r.dom),s.setEndBefore(r.dom),s},fk=e=>t=>-1!==(\" \"+t.attr(\"class\")+\" \").indexOf(e),gk=(e,t,n)=>function(o){const r=arguments,s=r[r.length-2],a=s>0?t.charAt(s-1):\"\";if('\"'===a)return o;if(\">\"===a){const e=t.lastIndexOf(\"<\",s);if(-1!==e&&-1!==t.substring(e,s).indexOf('contenteditable=\"false\"'))return o}return'<span class=\"'+n+'\" data-mce-content=\"'+e.dom.encode(r[0])+'\">'+e.dom.encode(\"string\"==typeof r[1]?r[1]:r[0])+\"</span>\"},pk=(e,t)=>ne(e,(e=>{const n=t.match(e);return null!==n&&n[0].length===t.length})),hk=(e,t)=>{t.hasAttribute(\"data-mce-caret\")&&(fi(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},bk=(e,t)=>{const n=(e=>eo(Cn(e.getBody()),\"*[data-mce-caret]\").map((e=>e.dom)).getOrNull())(e);if(n)return\"compositionstart\"===t.type?(t.preventDefault(),t.stopPropagation(),void hk(e,n)):void(li(n)&&(hk(e,n),e.undoManager.add()))},vk=br,yk=(e,t,n)=>{const o=ju(e.getBody()),r=T(Au,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,\"PRE\");if(!o)return;if(!r(el.fromRangeStart(n))){const n=Cn((e=>{const t=e.dom.create(ed(e));return t.innerHTML='<br data-mce-bogus=\"1\">',t})(e));1===t?ho(Cn(o),n):po(Cn(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},Ck=(e,t)=>((e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>x_(t,e,n,Up,zp,vk))(n,e,o).orThunk((()=>(yk(e,n,o),I.none())))})(e,((e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return Oh(n)?!t:t})(e.selection,t)).exists((t=>(w_(e,t),!0))),wk=(e,t)=>((e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>__(t,e,n,(e=>Up(e)||Ip(e)),(e=>zp(e)||Fp(e)),vk))(n,e,o).orThunk((()=>(yk(e,n,o),I.none())))})(e,t).exists((t=>(w_(e,t),!0))),Ek=(e,t)=>S_(e,t,t?zp:Up),xk=(e,t)=>ox(e,!t).map((n=>{const o=n.toRange(),r=e.selection.getRng();return t?o.setStart(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),o})).exists((t=>(w_(e,t),!0))),_k=e=>H([\"figcaption\"],$t(e)),kk=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=Cn(e.getBody()),o=el.fromRangeStart(e.selection.getRng());return((e,t,n)=>{const o=T(kn,t);return Zn(Cn(e.container()),(e=>n.isBlock($t(e))),o).filter(_k)})(o,n,e.schema).exists((()=>{if(((e,t,n)=>t?s_(e.dom,n):r_(e.dom,n))(n,t,o)){const o=mk(e,n,t?vo:bo);return e.selection.setRng(o),!0}return!1}))})(e,t),Sk=(e,t)=>((e,t)=>t?I.from(e.dom.getParent(e.selection.getNode(),\"details\")).map((t=>((e,t)=>{const n=e.selection.getRng(),o=el.fromRangeStart(n);return!(e.getBody().lastChild!==t||!s_(t,o)||(e.execCommand(\"InsertNewBlockAfter\"),0))})(e,t))).getOr(!1):I.from(e.dom.getParent(e.selection.getNode(),\"summary\")).bind((t=>I.from(e.dom.getParent(t,\"details\")).map((n=>((e,t,n)=>{const o=e.selection.getRng(),r=el.fromRangeStart(o);return!(e.getBody().firstChild!==t||!r_(n,r)||(e.execCommand(\"InsertNewBlockBefore\"),0))})(e,n,t))))).getOr(!1))(e,t),Nk={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Rk=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Ak=(e,...t)=>()=>e.apply(null,t),Tk=(e,t)=>Q(((e,t)=>te((e=>V(e,(e=>({...Nk,...e}))))(e),(e=>Rk(e,t)?[e]:[])))(e,t),(e=>e.action())),Ok=(e,t)=>ue(((e,t)=>te((e=>V(e,(e=>({...Nk,...e}))))(e),(e=>Rk(e,t)?[e]:[])))(e,t),(e=>e.action())),Bk=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return x_(e,n,o,Lp,Mp,wr).exists((t=>(w_(e,t),!0)))},Pk=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return __(e,n,o,Lp,Mp,wr).exists((t=>(w_(e,t),!0)))},Dk=(e,t)=>S_(e,t,t?Mp:Lp),Lk=kl([{none:[\"current\"]},{first:[\"current\"]},{middle:[\"current\",\"target\"]},{last:[\"current\"]}]),Mk={...Lk,none:e=>Lk.none(e)},Ik=(e,t,n)=>te(In(e),(e=>xn(e,t)?n(e)?[e]:[]:Ik(e,t,n))),Fk=(e,t)=>to(e,\"table\",t),Uk=(e,t,n,o,r=M)=>{const s=1===o;if(!s&&n<=0)return Mk.first(e[0]);if(s&&n>=e.length-1)return Mk.last(e[e.length-1]);{const s=n+o,a=e[s];return r(a)?Mk.middle(t,a):Uk(e,t,s,o,r)}},zk=(e,t)=>Fk(e,t).bind((t=>{const n=Ik(t,\"th,td\",M);return J(n,(t=>kn(e,t))).map((e=>({index:e,all:n})))})),jk=[\"img\",\"br\"],Hk=e=>{return(t=e,ja.getOption(t)).filter((e=>0!==e.trim().length||e.indexOf(qo)>-1)).isSome()||H(jk,$t(e))||(e=>Wt(e)&&\"false\"===tn(e,\"contenteditable\"))(e);var t},$k=(e,t,n,o,r)=>{const s=Uo(Cn(n),\"td,th,caption\").map((e=>e.dom)),a=Y(((e,t)=>te(t,(t=>{const n=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+-2,bottom:e.bottom+-2,width:e.width+t,height:e.height+t}))(hi(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,s),(e=>t(e,r)));return((e,t,n)=>X(e,((e,o)=>e.fold((()=>I.some(o)),(e=>{const r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),s=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return I.some(s<r?o:e)}))),I.none()))(a,o,r).map((e=>e.cell))},Vk=T($k,(e=>e.bottom),((e,t)=>e.y<t)),qk=T($k,(e=>e.top),((e,t)=>e.y>t)),Wk=(e,t,n)=>{const o=e(t,n);return(e=>e.breakType===Wx.Wrap&&0===e.positions.length)(o)||!gr(n.getNode())&&(e=>e.breakType===Wx.Br&&1===e.positions.length)(o)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,o):o.breakAt.isNone()},Kk=T(Wk,e_),Yk=T(Wk,t_),Gk=(e,t,n,o)=>{const r=e.selection.getRng(),s=t?1:-1;return!(!tu()||!((e,t,n)=>{const o=el.fromRangeStart(t);return Yu(!e,n).exists((e=>e.isEqual(o)))})(t,r,n)||(XE(s,e,n,!t,!1).each((t=>{w_(e,t)})),0))},Xk=(e,t,n)=>{const o=((e,t)=>{const n=t.getNode(e);return sr(n)?I.some(n):I.none()})(!!t,n),r=!1===t;o.fold((()=>w_(e,n.toRange())),(o=>Yu(r,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>w_(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const o=e?ho:po,r=mk(t,Cn(n),o);w_(t,r)}))})(t,e,o)))))},Zk=(e,t,n,o)=>{const r=e.selection.getRng(),s=el.fromRangeStart(r),a=e.getBody();if(!t&&Kk(o,s)){const o=((e,t,n)=>((e,t)=>le(t.getClientRects()).bind((t=>Vk(e,t.left,t.top))).bind((e=>{return Jx(Qu(n=e).map((e=>e_(n,e).positions.concat(e))).getOr([]),t);var n})))(t,n).orThunk((()=>le(n.getClientRects()).bind((n=>Qx(n_(e,el.before(t)),n.left))))).getOr(el.before(t)))(a,n,s);return Xk(e,t,o),!0}if(t&&Yk(o,s)){const o=((e,t,n)=>((e,t)=>de(t.getClientRects()).bind((t=>qk(e,t.left,t.top))).bind((e=>{return Jx(Zu(n=e).map((e=>[e].concat(t_(n,e).positions))).getOr([]),t);var n})))(t,n).orThunk((()=>le(n.getClientRects()).bind((n=>Qx(o_(e,el.after(t)),n.left))))).getOr(el.after(t)))(a,n,s);return Xk(e,t,o),!0}return!1},Qk=(e,t,n)=>I.from(e.dom.getParent(e.selection.getNode(),\"td,th\")).bind((o=>I.from(e.dom.getParent(o,\"table\")).map((r=>n(e,t,r,o))))).getOr(!1),Jk=(e,t)=>Qk(e,t,Gk),eS=(e,t)=>Qk(e,t,Zk),tS=(e,t,n)=>n.fold(I.none,I.none,((e,t)=>{return(n=t,Qn(n,Hk)).map((e=>(e=>{const t=Af.exact(e,0,e,0);return mg(t)})(e)));var n}),(n=>e.mode.isReadOnly()?I.none():(e.execCommand(\"mceTableInsertRowAfter\"),nS(e,t,n)))),nS=(e,t,n)=>{return tS(e,t,(r=no,zk(o=n,void 0).fold((()=>Mk.none(o)),(e=>Uk(e.all,o,e.index,1,r)))));var o,r},oS=(e,t,n)=>{return tS(e,t,(r=no,zk(o=n,void 0).fold((()=>Mk.none()),(e=>Uk(e.all,o,e.index,-1,r)))));var o,r},rS=(e,t)=>{const n=[\"table\",\"li\",\"dl\"],o=Cn(e.getBody()),r=e=>{const t=$t(e);return kn(e,o)||H(n,t)},s=e.selection.getRng();return((e,t)=>((e,t,n=L)=>n(t)?I.none():H(e,$t(t))?I.some(t):Jn(t,e.join(\",\"),(e=>xn(e,\"table\")||n(e))))([\"td\",\"th\"],e,t))(Cn(t?s.endContainer:s.startContainer),r).map((n=>(Fk(n,r).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?nS:oS)(e,r,n).each((t=>{e.selection.setRng(t)})),!0))).getOr(!1)},sS=(e,t)=>({container:e,offset:t}),aS=ma.DOM,iS=e=>t=>e===t?-1:0,lS=(e,t,n)=>{if(lr(e)&&t>=0)return I.some(sS(e,t));{const o=za(aS);return I.from(o.backwards(e,t,iS(e),n)).map((e=>sS(e.container,e.container.data.length)))}},dS=(e,t,n)=>{if(!lr(e))return I.none();const o=e.data;if(t>=0&&t<=o.length)return I.some(sS(e,t));{const o=za(aS);return I.from(o.backwards(e,t,iS(e),n)).bind((e=>{const o=e.container.data;return dS(e.container,t+o.length,n)}))}},cS=(e,t,n)=>{if(!lr(e))return I.none();const o=e.data;if(t<=o.length)return I.some(sS(e,t));{const r=za(aS);return I.from(r.forwards(e,t,iS(e),n)).bind((e=>cS(e.container,t-o.length,n)))}},uS=(e,t,n,o,r)=>{const s=za(e,(e=>t=>e.isBlock(t)||H([\"BR\",\"IMG\",\"HR\",\"INPUT\"],t.nodeName)||\"false\"===e.getContentEditable(t))(e));return I.from(s.backwards(t,n,o,r))},mS=e=>\"\"!==e&&-1!==\" \\xa0\\ufeff\\f\\n\\r\\t\\v\".indexOf(e),fS=(e,t)=>e.substring(t.length),gS=(e,t,n,o=!1)=>{if(!(r=t).collapsed||!lr(r.startContainer))return I.none();var r;const s={text:\"\",offset:0},a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return uS(e,t.startContainer,t.startOffset,((e,t,r)=>(s.text=r+s.text,s.offset+=t,((e,t,n,o=!1)=>{let r;const s=n.charAt(0);for(r=t-1;r>=0;r--){const a=e.charAt(r);if(!o&&mS(a))return I.none();if(s===a&&He(e,n,r,t))break}return I.some(r)})(s.text,s.offset,n,o).getOr(t))),a).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return I.none();const r=(e=>ni(e.toString().replace(/\\u00A0/g,\" \")))(o);return 0!==r.lastIndexOf(n)?I.none():I.some({text:fS(r,n),range:o,trigger:n})}))},pS=e=>{if((e=>3===e.nodeType)(e))return sS(e,e.data.length);{const t=e.childNodes;return t.length>0?pS(t[t.length-1]):sS(e,t.length)}},hS=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?hS(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?pS(n[n.length-1]):sS(e,t)},bS=(e,t,n,o={})=>{var r;const s=t(),a=null!==(r=e.selection.getRng().startContainer.nodeValue)&&void 0!==r?r:\"\",i=Y(s.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>(e=>t=>{const n=hS(t.startContainer,t.startOffset);return!((e,t)=>{var n;const o=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return uS(e,t.container,t.offset,((e,t)=>0===t?-1:t),o).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!mS(t)})).isSome()})(e,n)})(e.dom)))(n.range,a,n.text)));if(0===i.length)return I.none();const l=Promise.all(V(i,(e=>e.fetch(n.text,e.maxResults,o).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return I.some({lookupData:l,context:n})};var vS;!function(e){e[e.Error=0]=\"Error\",e[e.Value=1]=\"Value\"}(vS||(vS={}));const yS=(e,t,n)=>e.stype===vS.Error?t(e.serror):n(e.svalue),CS=e=>({stype:vS.Value,svalue:e}),wS=e=>({stype:vS.Error,serror:e}),ES=yS,xS=e=>f(e)&&fe(e).length>100?\" removed due to size\":JSON.stringify(e,null,2),_S=(e,t)=>wS([{path:e,getErrorInfo:t}]),kS=(e,t)=>({extract:(n,o)=>xe(o,e).fold((()=>((e,t)=>_S(e,(()=>'Choice schema did not contain choice key: \"'+t+'\"')))(n,e)),(e=>((e,t,n,o)=>xe(n,o).fold((()=>((e,t,n)=>_S(e,(()=>'The chosen schema: \"'+n+'\" did not exist in branches: '+xS(t))))(e,n,o)),(n=>n.extract(e.concat([\"branch: \"+o]),t))))(n,o,t,e))),toString:()=>\"chooseOn(\"+e+\"). Possible values: \"+fe(t)}),SS=e=>(...t)=>{if(0===t.length)throw new Error(\"Can't merge zero objects\");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)_e(r,t)&&(n[t]=e(n[t],r[t]))}return n},NS=SS(((e,t)=>g(e)&&g(t)?NS(e,t):t)),RS=SS(((e,t)=>t)),AS=e=>({tag:\"defaultedThunk\",process:N(e)}),TS=e=>{const t=(e=>{const t=[],n=[];return q(e,(e=>{yS(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,k(wS,ee)(n)):CS(t.values);var n},OS=(e,t,n)=>{switch(e.tag){case\"field\":return t(e.key,e.newKey,e.presence,e.prop);case\"custom\":return n(e.newKey,e.instantiator)}},BS=e=>({extract:(t,n)=>{return o=e(n),r=e=>((e,t)=>_S(e,N(t)))(t,e),o.stype===vS.Error?r(o.serror):o;var o,r},toString:N(\"val\")}),PS=BS(CS),DS=(e,t,n,o)=>o(xe(e,t).getOrThunk((()=>n(e)))),LS=(e,t,n,o,r)=>{const s=e=>r.extract(t.concat([o]),e),a=e=>e.fold((()=>CS(I.none())),(e=>{const n=r.extract(t.concat([o]),e);return s=n,a=I.some,s.stype===vS.Value?{stype:vS.Value,svalue:a(s.svalue)}:s;var s,a}));switch(e.tag){case\"required\":return((e,t,n,o)=>xe(t,n).fold((()=>((e,t,n)=>_S(e,(()=>'Could not find valid *required* value for \"'+t+'\" in '+xS(n))))(e,n,t)),o))(t,n,o,s);case\"defaultedThunk\":return DS(n,o,e.process,s);case\"option\":return((e,t,n)=>n(xe(e,t)))(n,o,a);case\"defaultedOptionThunk\":return((e,t,n,o)=>o(xe(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,a);case\"mergeWithThunk\":return DS(n,o,N({}),(t=>{const o=NS(e.process(n),t);return s(o)}))}},MS=e=>({extract:(t,n)=>((e,t,n)=>{const o={},r=[];for(const s of n)OS(s,((n,s,a,i)=>{const l=LS(a,e,t,n,i);ES(l,(e=>{r.push(...e)}),(e=>{o[s]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?wS(r):CS(o)})(t,n,e),toString:()=>{const t=V(e,(e=>OS(e,((e,t,n,o)=>e+\" -> \"+o.toString()),((e,t)=>\"state(\"+e+\")\"))));return\"obj{\\n\"+t.join(\"\\n\")+\"}\"}}),IS=e=>({extract:(t,n)=>{const o=V(n,((n,o)=>e.extract(t.concat([\"[\"+o+\"]\"]),n)));return TS(o)},toString:()=>\"array(\"+e.toString()+\")\"}),FS=k(IS,MS),US=(e,t,n)=>{return o=((e,t,n)=>((e,t)=>e.stype===vS.Error?{stype:vS.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),yS(o,_l.error,_l.value);var o},zS=(e,t)=>kS(e,he(t,MS)),jS=N(PS),HS=(e,t)=>BS((n=>{const o=typeof n;return e(n)?CS(n):wS(`Expected type: ${t} but got: ${o}`)})),$S=HS(E,\"number\"),VS=HS(m,\"string\"),qS=HS(b,\"boolean\"),WS=HS(w,\"function\"),KS=(e,t,n,o)=>({tag:\"field\",key:e,newKey:t,presence:n,prop:o}),YS=(e,t)=>({tag:\"custom\",newKey:e,instantiator:t}),GS=e=>{return t=t=>H(e,t)?_l.value(t):_l.error(`Unsupported value: \"${t}\", choose one of \"${e.join(\", \")}\".`),BS((e=>t(e).fold(wS,CS)));var t},XS=(e,t)=>KS(e,e,{tag:\"required\",process:{}},t),ZS=e=>XS(e,VS),QS=(e,t)=>KS(e,e,{tag:\"required\",process:{}},GS(t)),JS=e=>XS(e,WS),eN=(e,t)=>KS(e,e,{tag:\"required\",process:{}},IS(t)),tN=(e,t)=>KS(e,e,{tag:\"option\",process:{}},t),nN=e=>tN(e,VS),oN=(e,t,n)=>KS(e,e,AS(t),n),rN=(e,t)=>oN(e,t,$S),sN=(e,t)=>oN(e,t,VS),aN=(e,t,n)=>oN(e,t,GS(n)),iN=(e,t)=>oN(e,t,qS),lN=(e,t)=>oN(e,t,WS),dN=ZS(\"type\"),cN=JS(\"fetch\"),uN=JS(\"onAction\"),mN=lN(\"onSetup\",(()=>_)),fN=nN(\"text\"),gN=nN(\"icon\"),pN=nN(\"tooltip\"),hN=nN(\"label\"),bN=iN(\"active\",!1),vN=iN(\"enabled\",!0),yN=iN(\"primary\",!1),CN=e=>sN(\"type\",e),wN=MS([dN,ZS(\"trigger\"),rN(\"minChars\",1),(e=>KS(e,e,AS(1),jS()))(\"columns\"),rN(\"maxResults\",10),tN(\"matches\",WS),cN,uN,(EN=VS,oN(\"highlightOn\",[],IS(EN)))]);var EN;const xN=[vN,pN,gN,fN,mN,sN(\"context\",\"mode:design\")],_N=[bN].concat(xN),kN=[lN(\"predicate\",L),aN(\"scope\",\"node\",[\"node\",\"editor\"]),aN(\"position\",\"selection\",[\"node\",\"selection\",\"line\"])],SN=xN.concat([CN(\"contextformbutton\"),sN(\"align\",\"end\"),yN,uN,YS(\"original\",R)]),NN=_N.concat([CN(\"contextformbutton\"),sN(\"align\",\"end\"),yN,uN,YS(\"original\",R)]),RN=xN.concat([CN(\"contextformbutton\")]),AN=_N.concat([CN(\"contextformtogglebutton\")]),TN=[hN,eN(\"commands\",zS(\"type\",{contextformbutton:SN,contextformtogglebutton:NN})),tN(\"launch\",zS(\"type\",{contextformbutton:RN,contextformtogglebutton:AN})),lN(\"onInput\",_),lN(\"onSetup\",_)];zS(\"type\",{contextform:[...kN,...TN,QS(\"type\",[\"contextform\"]),lN(\"initValue\",N(\"\")),nN(\"placeholder\")],contextsliderform:[...kN,...TN,QS(\"type\",[\"contextsliderform\"]),lN(\"initValue\",N(0)),lN(\"min\",N(0)),lN(\"max\",N(100))],contextsizeinputform:[...kN,...TN,QS(\"type\",[\"contextsizeinputform\"]),lN(\"initValue\",N({width:\"\",height:\"\"}))]}),MS([CN(\"contexttoolbar\"),XS(\"items\",(e=>{const t=R;return{extract:(n,o)=>{const r=[];for(const s of e){const e=s.extract(n,o);if(e.stype===vS.Value)return{stype:vS.Value,svalue:t(e.svalue)};r.push(e)}return TS(r)},toString:()=>\"oneOf(\"+V(e,(e=>e.toString())).join(\", \")+\")\"}})([VS,FS([nN(\"name\"),nN(\"label\"),eN(\"items\",VS)])]))].concat(kN));const ON=e=>{const t=e.ui.registry.getAll().popups,n=he(t,(e=>{return(t=e,US(\"Autocompleter\",wN,t)).fold((e=>{throw new Error(\"Errors: \\n\"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:N(\"... (only showing first ten failures)\")}]):e;return V(t,(e=>\"Failed path: (\"+e.path.join(\" > \")+\")\\n\"+e.getErrorInfo()))})((t=e).errors).join(\"\\n\")+\"\\n\\nInput object: \"+xS(t.input));var t}),R);var t})),o=Se(we(n,(e=>e.trigger))),r=Ee(n);return{dataset:n,triggers:o,lookupByTrigger:e=>Y(r,(t=>t.trigger===e))}},BN=e=>{const t=Dr(),n=Br(!1),o=t.isSet,r=()=>{o()&&((e=>{e.dispatch(\"AutocompleterEnd\")})(e),n.set(!1),t.clear())},s=Le((()=>ON(e))),a=a=>{(n=>t.get().map((t=>gS(e.dom,e.selection.getRng(),t.trigger,!0).bind((t=>bS(e,s,t,n))))).getOrThunk((()=>((e,t)=>{const n=t(),o=e.selection.getRng();return((e,t,n)=>ue(n.triggers,(n=>gS(e,t,n))))(e.dom,o,n).bind((n=>bS(e,t,n)))})(e,s))))(a).fold(r,(r=>{(e=>{o()||t.set({trigger:e.trigger,matchLength:e.text.length})})(r.context),r.lookupData.then((o=>{t.get().map((s=>{const a=r.context;s.trigger===a.trigger&&(t.set({...s,matchLength:a.text.length}),n.get()?(Fl(e,{range:a.range}),((e,t)=>{e.dispatch(\"AutocompleterUpdate\",t)})(e,{lookupData:o})):(n.set(!0),Fl(e,{range:a.range}),((e,t)=>{e.dispatch(\"AutocompleterStart\",t)})(e,{lookupData:o})))}))}))}))},i=()=>t.get().bind((({trigger:t})=>{const o=e.selection.getRng();return gS(e.dom,o,t,n.get()).filter((({range:e})=>((e,t)=>{const n=e.compareBoundaryPoints(window.Range.START_TO_START,t),o=e.compareBoundaryPoints(window.Range.END_TO_END,t);return n>=0&&o<=0})(o,e))).map((({range:e})=>e))}));e.addCommand(\"mceAutocompleterReload\",((e,t)=>{const n=f(t)?t.fetchOptions:{};a(n)})),e.addCommand(\"mceAutocompleterClose\",r),e.addCommand(\"mceAutocompleterRefreshActiveRange\",(()=>{i().each((t=>{Fl(e,{range:t})}))})),e.editorCommands.addQueryStateHandler(\"mceAutoCompleterInRange\",(()=>i().isSome())),((e,t)=>{const n=wa(t.load,50);e.on(\"input\",(t=>{(\"insertCompositionText\"!==t.inputType||e.composing)&&n.throttle()})),e.on(\"keydown\",(e=>{const o=e.which;8===o?n.throttle():27===o?(n.cancel(),t.cancelIfNecessary()):38!==o&&40!==o||n.cancel()}),!0),e.on(\"remove\",n.cancel)})(e,{cancelIfNecessary:r,load:a})},PN=xt().browser.isSafari(),DN=e=>Ja(Cn(e)),LN=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},MN=(e,t)=>I.from(e.getParent(t.container(),\"details\")),IN=(e,t)=>MN(e,t).isSome(),FN=(e,t)=>{const n=t.getNode();v(n)||e.selection.setCursorLocation(n,t.offset())},UN=(e,t,n)=>{const o=e.dom.getParent(t.container(),\"details\");if(o&&!o.open){const t=e.dom.select(\"summary\",o)[0];t&&(n?Zu(t):Qu(t)).each((t=>FN(e,t)))}else FN(e,t)},zN=(e,t,n)=>{const{dom:o,selection:r}=e,s=e.getBody();if(\"character\"===n){const n=el.fromRangeStart(r.getRng()),a=o.getParent(n.container(),o.isBlock),i=MN(o,n),l=a&&o.isEmpty(a),d=h(null==a?void 0:a.previousSibling),c=h(null==a?void 0:a.nextSibling);return!!(l&&(t?c:d)&&Wu(!t,s,n).exists((e=>IN(o,e)&&!Mt(i,MN(o,e)))))||Wu(t,s,n).fold(L,(n=>{const r=MN(o,n);if(IN(o,n)&&!Mt(i,r)){if(t||UN(e,n,!1),a&&l){if(t&&d)return!0;if(!t&&c)return!0;UN(e,n,t),e.dom.remove(a)}return!0}return!1}))}return!1},jN=(e,t,n,o)=>{const r=e.selection.getRng(),s=el.fromRangeStart(r),a=e.getBody();return\"selection\"===o?((e,t)=>{const n=t.startSummary.exists((t=>t.contains(e.startContainer))),o=t.startSummary.exists((t=>t.contains(e.endContainer))),r=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t))));return(n||o)&&!(n&&o)||r})(r,t):n?((e,t)=>t.startSummary.exists((t=>((e,t)=>Qu(t).exists((n=>gr(n.getNode())&&Xu(t,n).exists((t=>t.isEqual(e)))||n.isEqual(e))))(e,t))))(s,t)||((e,t,n)=>n.startDetails.exists((n=>Gu(e,t).forall((e=>!n.contains(e.container()))))))(a,s,t):((e,t)=>t.startSummary.exists((t=>((e,t)=>Zu(t).exists((t=>t.isEqual(e))))(e,t))))(s,t)||((e,t)=>t.startDetails.exists((n=>Xu(n,e).forall((n=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(n.container()))))))))(s,t)},HN=(e,t,n)=>((e,t,n)=>((e,t)=>{const n=I.from(e.getParent(t.startContainer,\"details\")),o=I.from(e.getParent(t.endContainer,\"details\"));if(n.isSome()||o.isSome()){const t=n.bind((t=>I.from(e.select(\"summary\",t)[0])));return I.some({startSummary:t,startDetails:n,endDetails:o})}return I.none()})(e.dom,e.selection.getRng()).fold((()=>zN(e,t,n)),(o=>jN(e,o,t,n)||zN(e,t,n))))(e,t,n)||PN&&((e,t,n)=>{const o=e.selection,r=o.getNode(),s=o.getRng(),a=el.fromRangeStart(s);return!!_r(r)&&(\"selection\"===n&&LN(s,r)||Hh(t,a,r)?DN(r):e.undoManager.transact((()=>{const s=o.getSel();let{anchorNode:a,anchorOffset:i,focusNode:l,focusOffset:d}=null!=s?s:{};const c=()=>{C(a)&&C(i)&&C(l)&&C(d)&&(null==s||s.setBaseAndExtent(a,i,l,d))},u=(e,t)=>{q(e.childNodes,(e=>{Am(e)&&t.appendChild(e)}))},m=e.dom.create(\"span\",{\"data-mce-bogus\":\"1\"});u(r,m),r.appendChild(m),c(),\"word\"!==n&&\"line\"!==n||null==s||s.modify(\"extend\",t?\"right\":\"left\",n),!o.isCollapsed()&&LN(o.getRng(),m)?DN(r):(e.execCommand(t?\"ForwardDelete\":\"Delete\"),a=null==s?void 0:s.anchorNode,i=null==s?void 0:s.anchorOffset,l=null==s?void 0:s.focusNode,d=null==s?void 0:s.focusOffset,u(m,r),c()),e.dom.remove(m)})),!0)})(e,t,n)?I.some(_):I.none(),$N=e=>(t,n,o={})=>{const r=t.getBody(),s={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:_,inputType:n},a=Gs(new InputEvent(e));return t.dispatch(e,{...a,...s,...o})},VN=$N(\"input\"),qN=$N(\"beforeinput\"),WN=xt(),KN=WN.os,YN=KN.isMacOS()||KN.isiOS(),GN=WN.browser.isFirefox(),XN=(e,t)=>{const n=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Jo(e)||lr(e)&&e.data&&/[\\r\\n\\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(qo),t.firstChild)}const r=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new $o(t,t);let n,s=t;for(;n=e.current();){if(lr(n)){r.setStart(n,0),r.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}s=n,n=e.next()}n||(r.setStart(s,0),r.setEnd(s,0))}else gr(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),Vg(e,r)},ZN=(e,t)=>{const n=e.getRoot();let o,r=t;for(;r!==n&&r&&\"false\"!==e.getContentEditable(r);){if(\"true\"===e.getContentEditable(r)){o=r;break}r=r.parentNode}return r!==n?o:n},QN=e=>I.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),JN=e=>{e.innerHTML='<br data-mce-bogus=\"1\">'},eR=(e,t)=>{ed(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,n)=>{const o=e.dom;I.from(n.style).map(o.parseStyle).each((e=>{const n={...fo(Cn(t)),...e};o.setStyles(t,n)}));const r=I.from(n.class).map((e=>e.split(/\\s+/))),s=I.from(t.className).map((e=>Y(e.split(/\\s+/),(e=>\"\"!==e))));It(r,s,((e,n)=>{const r=Y(n,(t=>!H(e,t))),s=[...e,...r];o.setAttrib(t,\"class\",s.join(\" \"))}));const a=[\"style\",\"class\"],i=Ce(n,((e,t)=>!H(a,t)));o.setAttribs(t,i)})(e,t,td(e))},tR=(e,t,n,o,r=!0,s,a)=>{const i=e.dom,l=e.schema,d=ed(e),c=n?n.nodeName.toUpperCase():\"\";let u=t;const m=l.getTextInlineElements();let f;f=s||\"TABLE\"===c||\"HR\"===c?i.create(s||d,a||{}):n.cloneNode(!1);let g=f;if(r){do{if(m[u.nodeName]){if(em(u)||fm(u))continue;const e=u.cloneNode(!1);i.setAttrib(e,\"id\",\"\"),f.hasChildNodes()?(e.appendChild(f.firstChild),f.appendChild(e)):(g=e,f.appendChild(e))}}while((u=u.parentNode)&&u!==o)}else i.setAttrib(f,\"style\",null),i.setAttrib(f,\"class\",null);return eR(e,f),JN(g),f},nR=(e,t)=>{const n=null==e?void 0:e.parentNode;return C(n)&&n.nodeName===t},oR=e=>C(e)&&/^(OL|UL|LI)$/.test(e.nodeName),rR=e=>C(e)&&/^(LI|DT|DD)$/.test(e.nodeName),sR=e=>{const t=e.parentNode;return rR(t)?t:e},aR=(e,t,n)=>{let o=e[n?\"firstChild\":\"lastChild\"];for(;o&&!Jo(o);)o=o[n?\"nextSibling\":\"previousSibling\"];return o===t},iR=e=>X(we(fo(Cn(e)),((e,t)=>`${t}: ${e};`)),((e,t)=>e+t),\"\"),lR=(e,t)=>t&&\"A\"===t.nodeName&&e.isEmpty(t),dR=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,cR=(e,t)=>C(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&\"false\"!==e.getContentEditable(t),uR=(e,t,n)=>lr(t)?e?1===n&&t.data.charAt(n-1)===ei?0:n:n===t.data.length-1&&t.data.charAt(n)===ei?t.data.length:n:n,mR={insert:(e,t)=>{let n,o,r,s,a=!1;const i=e.dom,l=e.schema.getNonEmptyElements(),d=e.selection.getRng(),c=ed(e),u=Cn(d.startContainer),f=Fn(u,d.startOffset),g=f.exists((e=>Wt(e)&&!no(e))),p=d.collapsed&&g,b=(t,o)=>tR(e,n,k,_,sd(e),t,o),v=e=>{const t=uR(e,n,o);if(lr(n)&&(e?t>0:t<n.data.length))return!1;if((n.parentNode===k||n===k)&&a&&!e)return!0;if(e&&Jo(n)&&n===k.firstChild)return!0;if(dR(n,\"TABLE\")||dR(n,\"HR\"))return(e=>\"BR\"===e.nodeName||e.nextSibling&&\"BR\"===e.nextSibling.nodeName)(n)?!e:a&&!e||!a&&e;const r=new $o(n,k);let s;for(lr(n)&&(e&&0===t?r.prev():e||t!==n.data.length||r.next());s=r.current();){if(Jo(s)){if(!s.getAttribute(\"data-mce-bogus\")){const e=s.nodeName.toLowerCase();if(l[e]&&\"br\"!==e)return!1}}else if(lr(s)&&!Yo(s.data))return!1;e?r.prev():r.next()}return!0},w=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(r)&&\"HGROUP\"!==S?b(c):b(),((e,t)=>{const n=ad(e);return!y(t)&&(m(n)?H(Dt.explode(n),t.nodeName.toLowerCase()):n)})(e,s)&&cR(i,s)&&i.isEmpty(k,void 0,{includeZwsp:!0})?t=i.split(s,k):i.insertAfter(t,k),XN(e,t),t};Eg(i,d).each((e=>{d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)})),n=d.startContainer,o=d.startOffset;const E=!(!t||!t.shiftKey),x=!(!t||!t.ctrlKey);Jo(n)&&n.hasChildNodes()&&!p&&(a=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=a&&lr(n)?n.data.length:0);const _=ZN(i,n);if(!_||((e,t)=>{const n=e.dom.getParent(t,\"ol,ul,dl\");return null!==n&&\"false\"===e.dom.getContentEditableParent(n)})(e,n))return;E||(n=((e,t,n,o,r)=>{var s,a;const i=e.dom,l=null!==(s=ZN(i,o))&&void 0!==s?s:i.getRoot();let d=i.getParent(o,i.isBlock);if(!d||!cR(i,d)){if(d=d||l,!d.hasChildNodes()){const o=i.create(t);return eR(e,o),d.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o}let s,c=o;for(;c&&c.parentNode!==d;)c=c.parentNode;for(;c&&!i.isBlock(c);)s=c,c=c.previousSibling;const u=null===(a=null==s?void 0:s.parentElement)||void 0===a?void 0:a.nodeName;if(s&&u&&e.schema.isValidChild(u,t.toLowerCase())){const a=s.parentNode,l=i.create(t);for(eR(e,l),a.insertBefore(l,s),c=s;c&&!i.isBlock(c);){const e=c.nextSibling;l.appendChild(c),c=e}n.setStart(o,r),n.setEnd(o,r)}}return o})(e,c,d,n,o));let k=i.getParent(n,i.isBlock)||i.getRoot();s=C(null==k?void 0:k.parentNode)?i.getParent(k.parentNode,i.isBlock):null,r=k?k.nodeName.toUpperCase():\"\";const S=s?s.nodeName.toUpperCase():\"\";if(\"LI\"!==S||x||(k=s,s=s.parentNode,r=S),Jo(s)&&((e,t,n)=>!t&&n.nodeName.toLowerCase()===ed(e)&&e.dom.isEmpty(n)&&((t,n)=>{let o=n;for(;o&&o!==t&&h(o.nextSibling);){const t=o.parentElement;if(!t||(r=t,!_e(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())))return xr(t);o=t}var r;return!1})(e.getBody(),n))(e,E,k))return((e,t,n)=>{var o,r,s;const a=t(ed(e)),i=((e,t)=>e.dom.getParent(t,xr))(e,n);i&&(e.dom.insertAfter(a,i),XN(e,a),(null!==(s=null===(r=null===(o=n.parentElement)||void 0===o?void 0:o.childNodes)||void 0===r?void 0:r.length)&&void 0!==s?s:0)>1&&e.dom.remove(n))})(e,b,k);if(/^(LI|DT|DD)$/.test(r)&&Jo(s)&&i.isEmpty(k))return void((e,t,n,o,r)=>{const s=e.dom,a=e.selection.getRng(),i=n.parentNode;if(n===e.getBody()||!i)return;var l;oR(l=n)&&oR(l.parentNode)&&(r=\"LI\");const d=rR(o)?iR(o):void 0;let c=rR(o)&&d?t(r,{style:iR(o)}):t(r);if(aR(n,o,!0)&&aR(n,o,!1))if(nR(n,\"LI\")){const e=sR(n);s.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?s.remove(e):s.remove(n)}else s.replace(c,n);else if(aR(n,o,!0))nR(n,\"LI\")?(s.insertAfter(c,sR(n)),c.appendChild(s.doc.createTextNode(\" \")),c.appendChild(n)):i.insertBefore(c,n),s.remove(o);else if(aR(n,o,!1))s.insertAfter(c,sR(n)),s.remove(o);else{n=sR(n);const e=a.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();if(\"LI\"===r&&(e=>e.firstChild&&\"LI\"===e.firstChild.nodeName)(t)){const e=Y(V(c.children,Cn),O(Zt(\"br\")));c=t.firstChild,s.insertAfter(t,n),q(e,(e=>bo(Cn(c),e))),d&&c.setAttribute(\"style\",d)}else s.insertAfter(t,n),s.insertAfter(c,n);s.remove(o)}XN(e,c)})(e,b,s,k,c);if(!(p||k!==e.getBody()&&cR(i,k)))return;const N=k.parentNode;let R;if(p)R=b(c),f.fold((()=>{vo(u,Cn(R))}),(e=>{po(e,Cn(R))})),e.selection.setCursorLocation(R,0);else if(si(k))R=fi(k),i.isEmpty(k)&&JN(k),eR(e,R),XN(e,R);else if(v(!1))R=w();else if(v(!0)&&N){const t=el.fromRangeStart(d),n=Fp(t),o=Cn(k),r=eh(o,t,e.schema)?th(o,t,e.schema).bind((e=>I.from(e.getNode()))):I.none();R=N.insertBefore(b(),k);const s=dR(k,\"HR\")||n?R:r.getOr(k);XN(e,s)}else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,uR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,uR(!1,e.endContainer,e.endOffset)),t})(d).cloneRange();t.setEndAfter(k);const n=t.extractContents();(e=>{q(Fo(Cn(e),Yt),(e=>{const t=e.dom;t.nodeValue=ni(t.data)}))})(n),(e=>{let t=e;do{lr(t)&&(t.data=t.data.replace(/^[\\r\\n]+/,\"\")),t=t.firstChild}while(t)})(n),R=n.firstChild,i.insertAfter(n,k),((e,t,n)=>{var o;const r=[];if(!n)return;let s=n;for(;s=s.firstChild;){if(e.isBlock(s))return;Jo(s)&&!t[s.nodeName.toLowerCase()]&&r.push(s)}let a=r.length;for(;a--;)s=r[a],(!s.hasChildNodes()||s.firstChild===s.lastChild&&\"\"===(null===(o=s.firstChild)||void 0===o?void 0:o.nodeValue)||lR(e,s))&&e.remove(s)})(i,l,R),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Jo(n)&&/^(left|right)$/gi.test(e.getStyle(n,\"float\",!0)))&&e.add(t,\"br\")})(i,k),i.isEmpty(k)&&JN(k),R.normalize(),i.isEmpty(R)?(i.remove(R),w()):(eR(e,R),XN(e,R))}i.setAttrib(R,\"id\",\"\"),e.dispatch(\"NewBlock\",{newBlock:R})},fakeEventName:\"insertParagraph\"},fR=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),Vg(e,o)},gR=(e,t)=>{const n=vn(\"br\");po(Cn(t),n),e.undoManager.add()},pR=(e,t)=>{hR(e.getBody(),t)||ho(Cn(t),vn(\"br\"));const n=vn(\"br\");ho(Cn(t),n),fR(e,n.dom,!1),e.undoManager.add()},hR=(e,t)=>{return n=el.after(t),!!gr(n.getNode())||Gu(e,el.after(t)).map((e=>gr(e.getNode()))).getOr(!1);var n},bR=e=>e&&\"A\"===e.nodeName&&\"href\"in e,vR=e=>e.fold(L,bR,bR,L),yR=(e,t)=>{t.fold(_,T(gR,e),T(pR,e),_)},CR={insert:(e,t)=>{const n=(e=>{const t=T(Th,e),n=el.fromRangeStart(e.selection.getRng());return Ix(t,e.getBody(),n).filter(vR)})(e);n.isSome()?n.each(T(yR,e)):((e,t)=>{const n=e.selection,o=e.dom,r=n.getRng();let s,a=!1;Eg(o,r).each((e=>{r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset)}));let i=r.startOffset,l=r.startContainer;if(Jo(l)&&l.hasChildNodes()){const e=i>l.childNodes.length-1;l=l.childNodes[Math.min(i,l.childNodes.length-1)]||l,i=e&&lr(l)?l.data.length:0}let d=o.getParent(l,o.isBlock);const c=d&&d.parentNode?o.getParent(d.parentNode,o.isBlock):null,u=c?c.nodeName.toUpperCase():\"\",m=!(!t||!t.ctrlKey);\"LI\"!==u||m||(d=c),lr(l)&&i>=l.data.length&&(((e,t,n)=>{const o=new $o(t,n);let r;const s=e.getNonEmptyElements();for(;r=o.next();)if(s[r.nodeName.toLowerCase()]||lr(r)&&r.length>0)return!0;return!1})(e.schema,l,d||o.getRoot())||(s=o.create(\"br\"),r.insertNode(s),r.setStartAfter(s),r.setEndAfter(s),a=!0)),s=o.create(\"br\"),nl(o,r,s),fR(e,s,a),e.undoManager.add()})(e,t)},fakeEventName:\"insertLineBreak\"},wR=(e,t)=>QN(e).filter((e=>t.length>0&&xn(Cn(e),t))).isSome(),ER=kl([{br:[]},{block:[]},{none:[]}]),xR=(e,t)=>(e=>wR(e,rd(e)))(e),_R=e=>(t,n)=>(e=>QN(e).filter((e=>Ya(Cn(e)))).isSome())(t)===e,kR=(e,t)=>(n,o)=>{const r=(e=>QN(e).fold(N(\"\"),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return r===t},SR=e=>{const t=ZN(e.dom,e.selection.getStart());return y(t)},NR=e=>kR(\"pre\",e),RR=e=>(t,n)=>Jl(t)===e,AR=(e,t)=>(e=>wR(e,od(e)))(e),TR=(e,t)=>t,OR=e=>{const t=ed(e),n=ZN(e.dom,e.selection.getStart());return C(n)&&e.schema.isValidChild(n.nodeName,t)},BR=e=>{const t=e.selection.getRng(),n=Cn(t.startContainer),o=Fn(n,t.startOffset).map((e=>Wt(e)&&!no(e)));return t.collapsed&&o.getOr(!0)},PR=(e,t)=>(n,o)=>X(e,((e,t)=>e&&t(n,o)),!0)?I.some(t):I.none(),DR=(e,t,n)=>{if(!t.mode.isReadOnly()){if(t.selection.isCollapsed()||(e=>{e.execCommand(\"delete\")})(t),C(n)&&qN(t,e.fakeEventName).isDefaultPrevented())return;e.insert(t,n),C(n)&&VN(t,e.fakeEventName)}},LR=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>DR(CR,e,t),o=()=>DR(mR,e,t),r=((e,t)=>Nx([PR([xR],ER.none()),PR([NR(!0),SR],ER.none()),PR([kR(\"summary\",!0)],ER.br()),PR([NR(!0),RR(!1),TR],ER.br()),PR([NR(!0),RR(!1)],ER.block()),PR([NR(!0),RR(!0),TR],ER.block()),PR([NR(!0),RR(!0)],ER.br()),PR([_R(!0),TR],ER.br()),PR([_R(!0)],ER.block()),PR([AR],ER.br()),PR([TR],ER.br()),PR([OR],ER.block()),PR([BR],ER.block())],[e,!(!t||!t.shiftKey)]).getOr(ER.none()))(e,t);switch(nd(e)){case\"linebreak\":r.fold(n,n,_);break;case\"block\":r.fold(o,o,_);break;case\"invert\":r.fold(o,n,_);break;default:r.fold(n,o,_)}},MR=xt(),IR=MR.os.isiOS()&&MR.browser.isSafari(),FR=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{LR(e,t)})))},UR=xt(),zR=e=>e.stopImmediatePropagation(),jR=e=>e.keyCode===Qf.PAGE_UP||e.keyCode===Qf.PAGE_DOWN,HR=(e,t,n)=>{n&&!e.get()?t.on(\"NodeChange\",zR,!0):!n&&e.get()&&t.off(\"NodeChange\",zR),e.set(n)},$R=(e,t)=>e===t||e.contains(t),VR=(e,t)=>{const n=t.container(),o=t.offset();return lr(n)?(n.insertData(o,e),I.some(el(n,o+e.length))):Ru(t).map((n=>{const o=yn(e);return t.isAtEnd()?ho(n,o):po(n,o),el(o.dom,e.length)}))},qR=T(VR,qo),WR=T(VR,\" \"),KR=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},YR=e=>{const t=el.fromRangeStart(e.selection.getRng()),n=Cn(e.getBody());if(e.selection.isCollapsed()){const o=T(Th,e),r=el.fromRangeStart(e.selection.getRng());return Ix(o,e.getBody(),r).bind((e=>t=>t.fold((t=>Xu(e.dom,el.before(t))),(e=>Zu(e)),(e=>Qu(e)),(t=>Gu(e.dom,el.after(t)))))(n)).map((o=>()=>((e,t,n)=>o=>dh(e,o,n)?qR(t):WR(t))(n,t,e.schema)(o).each(KR(e))))}return I.none()},GR=e=>{return Ft(Tt.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,\"summary\"))),(()=>{const t=Cn(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand(\"Delete\"),((e,t,n)=>dh(e,t,n)?qR(t):WR(t))(t,el.fromRangeStart(e.selection.getRng()),e.schema).each(KR(e))}));var t,n},XR=e=>Pc(e)?[{keyCode:Qf.TAB,action:Ak(rS,e,!0)},{keyCode:Qf.TAB,shiftKey:!0,action:Ak(rS,e,!1)}]:[],ZR=e=>{if(e.addShortcut(\"Meta+P\",\"\",\"mcePrint\"),BN(e),mw(e))return Br(null);{const t=P_(e);return(e=>{e.on(\"beforeinput\",(t=>{e.selection.isEditable()&&!$(t.getTargetRanges(),(t=>!((e,t)=>!$R(e.getBody(),t.startContainer)||!$R(e.getBody(),t.endContainer)||qg(e.dom,t))(e,t)))||t.preventDefault()}))})(e),(e=>{e.on(\"keyup compositionstart\",T(bk,e))})(e),((e,t)=>{e.on(\"keydown\",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Tt.os.isMacOS()||Tt.os.isiOS();Tk([{keyCode:Qf.RIGHT,action:Ak(Ck,e,!0)},{keyCode:Qf.LEFT,action:Ak(Ck,e,!1)},{keyCode:Qf.UP,action:Ak(wk,e,!1)},{keyCode:Qf.DOWN,action:Ak(wk,e,!0)},...o?[{keyCode:Qf.UP,action:Ak(xk,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Qf.DOWN,action:Ak(xk,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Qf.RIGHT,action:Ak(Jk,e,!0)},{keyCode:Qf.LEFT,action:Ak(Jk,e,!1)},{keyCode:Qf.UP,action:Ak(eS,e,!1)},{keyCode:Qf.DOWN,action:Ak(eS,e,!0)},{keyCode:Qf.UP,action:Ak(eS,e,!1)},{keyCode:Qf.UP,action:Ak(Sk,e,!1)},{keyCode:Qf.DOWN,action:Ak(Sk,e,!0)},{keyCode:Qf.RIGHT,action:Ak(Bk,e,!0)},{keyCode:Qf.LEFT,action:Ak(Bk,e,!1)},{keyCode:Qf.UP,action:Ak(Pk,e,!1)},{keyCode:Qf.DOWN,action:Ak(Pk,e,!0)},{keyCode:Qf.RIGHT,action:Ak(O_,e,t,!0)},{keyCode:Qf.LEFT,action:Ak(O_,e,t,!1)},{keyCode:Qf.RIGHT,ctrlKey:!o,altKey:o,action:Ak(D_,e,t)},{keyCode:Qf.LEFT,ctrlKey:!o,altKey:o,action:Ak(L_,e,t)},{keyCode:Qf.UP,action:Ak(kk,e,!1)},{keyCode:Qf.DOWN,action:Ak(kk,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{let n=!1;e.on(\"keydown\",(o=>{n=o.keyCode===Qf.BACKSPACE,o.isDefaultPrevented()||((e,t,n)=>{const o=n.keyCode===Qf.BACKSPACE?\"deleteContentBackward\":\"deleteContentForward\",r=e.selection.isCollapsed(),s=r?\"character\":\"selection\",a=e=>r?e?\"word\":\"line\":\"selection\";Ok([{keyCode:Qf.BACKSPACE,action:Ak(sk,e)},{keyCode:Qf.BACKSPACE,action:Ak(cx,e,!1)},{keyCode:Qf.DELETE,action:Ak(cx,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(nx,e,!1)},{keyCode:Qf.DELETE,action:Ak(nx,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(U_,e,t,!1)},{keyCode:Qf.DELETE,action:Ak(U_,e,t,!0)},{keyCode:Qf.BACKSPACE,action:Ak(hb,e,!1)},{keyCode:Qf.DELETE,action:Ak(hb,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(HN,e,!1,s)},{keyCode:Qf.DELETE,action:Ak(HN,e,!0,s)},...YN?[{keyCode:Qf.BACKSPACE,altKey:!0,action:Ak(HN,e,!1,a(!0))},{keyCode:Qf.DELETE,altKey:!0,action:Ak(HN,e,!0,a(!0))},{keyCode:Qf.BACKSPACE,metaKey:!0,action:Ak(HN,e,!1,a(!1))}]:[{keyCode:Qf.BACKSPACE,ctrlKey:!0,action:Ak(HN,e,!1,a(!0))},{keyCode:Qf.DELETE,ctrlKey:!0,action:Ak(HN,e,!0,a(!0))}],{keyCode:Qf.BACKSPACE,action:Ak(hx,e,!1)},{keyCode:Qf.DELETE,action:Ak(hx,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(Z_,e,!1)},{keyCode:Qf.DELETE,action:Ak(Z_,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(GE,e,!1)},{keyCode:Qf.DELETE,action:Ak(GE,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(WE,e,!1)},{keyCode:Qf.DELETE,action:Ak(WE,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(Y_,e,!1)},{keyCode:Qf.DELETE,action:Ak(Y_,e,!0)},{keyCode:Qf.BACKSPACE,action:Ak(px,e,!1)},{keyCode:Qf.DELETE,action:Ak(px,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),qN(e,o).isDefaultPrevented()||(t(),VN(e,o))}))})(e,t,o)})),e.on(\"keyup\",(t=>{t.isDefaultPrevented()||((e,t,n)=>{Tk([{keyCode:Qf.BACKSPACE,action:Ak(dx,e)},{keyCode:Qf.DELETE,action:Ak(dx,e)},...YN?[{keyCode:Qf.BACKSPACE,altKey:!0,action:Ak(G_,e)},{keyCode:Qf.DELETE,altKey:!0,action:Ak(G_,e)},...n?[{keyCode:GN?224:91,action:Ak(G_,e)}]:[]]:[{keyCode:Qf.BACKSPACE,ctrlKey:!0,action:Ak(G_,e)},{keyCode:Qf.DELETE,ctrlKey:!0,action:Ak(G_,e)}]],t)})(e,t,n),n=!1}))})(e,t),(e=>{let t=I.none();e.on(\"keydown\",(n=>{n.keyCode===Qf.ENTER&&(IR&&(e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(lr(t)){const n=/^[\\uAC00-\\uD7AF\\u1100-\\u11FF\\u3130-\\u318F\\uA960-\\uA97F\\uD7B0-\\uD7FF]$/,o=t.data.charAt(e.startOffset-1);return n.test(o)}return!1})(e.selection.getRng())?(e=>{t=I.some(e.selection.getBookmark()),e.undoManager.add()})(e):FR(e,n))})),e.on(\"keyup\",(n=>{n.keyCode===Qf.ENTER&&t.each((()=>((e,n)=>{e.undoManager.undo(),t.fold(_,(t=>e.selection.moveToBookmark(t))),FR(e,n),t=I.none()})(e,n)))}))})(e),(e=>{e.on(\"keydown\",(t=>{t.isDefaultPrevented()||((e,t)=>{Ok([{keyCode:Qf.SPACEBAR,action:Ak(YR,e)},{keyCode:Qf.SPACEBAR,action:Ak(GR,e)}],t).each((n=>{t.preventDefault(),qN(e,\"insertText\",{data:\" \"}).isDefaultPrevented()||(n(),VN(e,\"insertText\",{data:\" \"}))}))})(e,t)}))})(e),(e=>{e.on(\"input\",(t=>{t.isComposing||(e=>{const t=Cn(e.getBody());e.selection.isCollapsed()&&bh(t,el.fromRangeStart(e.selection.getRng()),e.schema).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))})(e),(e=>{e.on(\"keydown\",(t=>{t.isDefaultPrevented()||((e,t)=>{Tk([...XR(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))})(e),((e,t)=>{e.on(\"keydown\",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Tt.os.isMacOS()||Tt.os.isiOS();Tk([{keyCode:Qf.END,action:Ak(Ek,e,!0)},{keyCode:Qf.HOME,action:Ak(Ek,e,!1)},...o?[]:[{keyCode:Qf.HOME,action:Ak(xk,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Qf.END,action:Ak(xk,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Qf.END,action:Ak(Dk,e,!0)},{keyCode:Qf.HOME,action:Ak(Dk,e,!1)},{keyCode:Qf.END,action:Ak(M_,e,!0,t)},{keyCode:Qf.HOME,action:Ak(M_,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{if(UR.os.isMacOS())return;const n=Br(!1);e.on(\"keydown\",(t=>{jR(t)&&HR(n,e,!0)})),e.on(\"keyup\",(o=>{o.isDefaultPrevented()||((e,t,n)=>{Tk([{keyCode:Qf.PAGE_UP,action:Ak(M_,e,!1,t)},{keyCode:Qf.PAGE_DOWN,action:Ak(M_,e,!0,t)}],n)})(e,t,o),jR(o)&&n.get()&&(HR(n,e,!1),e.nodeChanged())}))})(e,t),t}};class QR{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;\"onselectionchange\"in e.getDoc()||e.on(\"NodeChange click mouseup keyup focus\",(n=>{const o=e.selection.getRng(),r={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};\"nodechange\"!==n.type&&pg(r,t)||e.dispatch(\"SelectionChange\"),t=r})),e.on(\"contextmenu\",(()=>{Mf(e),e.dispatch(\"SelectionChange\")})),e.on(\"SelectionChange\",(()=>{const t=e.selection.getStart(!0);t&&Sm(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on(\"mouseup\",(t=>{!t.isDefaultPrevented()&&Sm(e)&&(\"IMG\"===e.selection.getNode().nodeName?Uf.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor,n=t.selection;let o;if(t.initialized&&n&&!Yd(t)&&!jc(t)){const r=t.getBody();o=n.getStart(!0)||r,o.ownerDocument===t.getDoc()&&t.dom.isChildOf(o,r)||(o=r);const s=[];t.dom.getParent(o,(e=>e===r||(s.push(e),!1))),t.dispatch(\"NodeChange\",{...e,element:o,parents:s})}}isSameElementPath(e){let t;const n=this.editor,o=oe(n.dom.getParents(e,M,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const JR=La(\"image\"),eA=La(\"event\"),tA=e=>t=>{t[eA]=e},nA=tA(0),oA=tA(2),rA=tA(1),sA=e=>{const t=e;return I.from(t[eA]).exists((e=>0===e))};const aA=La(\"mode\"),iA=e=>t=>{t[aA]=e},lA=(e,t)=>iA(t)(e),dA=iA(0),cA=iA(2),uA=iA(1),mA=e=>t=>{const n=t;return I.from(n[aA]).exists((t=>t===e))},fA=mA(0),gA=mA(1),pA=[\"none\",\"copy\",\"link\",\"move\"],hA=[\"none\",\"copy\",\"copyLink\",\"copyMove\",\"link\",\"linkMove\",\"move\",\"all\",\"uninitialized\"],bA=()=>{const e=new window.DataTransfer;let t=\"move\",n=\"all\";const o={get dropEffect(){return t},set dropEffect(e){H(pA,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){sA(o)&&H(hA,e)&&(n=e)},get items(){return((e,t)=>({...t,get length(){return t.length},add:(n,o)=>{if(fA(e)){if(!m(n))return t.add(n);if(!v(o))return t.add(n,o)}return null},remove:n=>{fA(e)&&t.remove(n)},clear:()=>{fA(e)&&t.clear()}}))(o,e.items)},get files(){return gA(o)?Object.freeze({length:0,item:e=>null}):e.files},get types(){return e.types},setDragImage:(t,n,r)=>{var s;fA(o)&&(s={image:t,x:n,y:r},o[JR]=s,e.setDragImage(t,n,r))},getData:t=>gA(o)?\"\":e.getData(t),setData:(t,n)=>{fA(o)&&e.setData(t,n)},clearData:t=>{fA(o)&&e.clearData(t)}};return dA(o),o},vA=(e,t)=>e.setData(\"text/html\",t),yA=\"x-tinymce/html\",CA=N(yA),wA=\"\\x3c!-- \"+yA+\" --\\x3e\",EA=e=>wA+e,xA=e=>-1!==e.indexOf(wA),_A=\"%MCEPASTEBIN%\",kA=e=>e.dom.get(\"mcepastebin\"),SA=e=>C(e)&&\"mcepastebin\"===e.id,NA=e=>e===_A,RA=(e,t)=>(Dt.each(t,(t=>{e=u(t,RegExp)?e.replace(t,\"\"):e.replace(t[0],t[1])})),e),AA=e=>RA(e,[/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,(e,t,n)=>t||n?qo:\" \"],/<br class=\"Apple-interchange-newline\">/g,/<br>$/i]),TA=(e,t)=>({content:e,cancelled:t}),OA=(e,t)=>(e.insertContent(t,{merge:vc(e),paste:!0}),!0),BA=e=>/^https?:\\/\\/[\\w\\-\\/+=.,!;:&%@^~(){}?#]+$/i.test(e),PA=(e,t,n)=>!(e.selection.isCollapsed()||!BA(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand(\"mceInsertLink\",!1,t)})),!0))(e,t,n),DA=(e,t,n)=>!!((e,t)=>BA(t)&&$(Bc(e),(e=>Ve(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src=\"'+t+'\">')})),!0))(e,t,n),LA=(()=>{let e=0;return()=>\"mceclip\"+e++})(),MA=e=>{const t=bA();return vA(t,e),cA(t),t},IA=(e,t,n,o,r)=>{const s=((e,t,n)=>((e,t,n)=>{const o=((e,t,n)=>e.dispatch(\"PastePreProcess\",{content:t,internal:n}))(e,t,n),r=((e,t)=>{const n=BC({sanitize:Tc(e),sandbox_iframes:Mc(e),sandbox_iframes_exclusions:Ic(e),convert_unsafe_embeds:Fc(e)},e.schema);n.addNodeFilter(\"meta\",(e=>{Dt.each(e,(e=>{e.remove()}))}));const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Cp({validate:!0},e.schema).serialize(o)})(e,o.content);return e.hasEventListeners(\"PastePostProcess\")&&!o.isDefaultPrevented()?((e,t,n)=>{const o=e.dom.create(\"div\",{style:\"display:none\"},t),r=((e,t,n)=>e.dispatch(\"PastePostProcess\",{node:t,internal:n}))(e,o,n);return TA(r.node.innerHTML,r.isDefaultPrevented())})(e,r,n):TA(r,o.isDefaultPrevented())})(e,t,n))(e,t,n);if(!s.cancelled){const t=s.content,n=()=>((e,t,n)=>{n||!yc(e)?OA(e,t):((e,t)=>{Dt.each([PA,DA,OA],(n=>!n(e,t,OA)))})(e,t)})(e,t,o);r?qN(e,\"insertFromPaste\",{dataTransfer:MA(t)}).isDefaultPrevented()||(n(),VN(e,\"insertFromPaste\")):n()}},FA=(e,t,n,o)=>{const r=n||xA(t);IA(e,(e=>e.replace(wA,\"\"))(t),r,!1,o)},UA=(e,t,n)=>{const o=e.dom.encode(t).replace(/\\r\\n/g,\"\\n\"),r=((e,t,n)=>{const o=e.split(/\\n\\n/),r=((e,t)=>{let n=\"<\"+e;const o=we(t,((e,t)=>t+'=\"'+ws.encodeAllRaw(e)+'\"'));return o.length&&(n+=\" \"+o.join(\" \")),n+\">\"})(t,n),s=\"</\"+t+\">\",a=V(o,(e=>e.split(/\\n/).join(\"<br />\")));return 1===a.length?a[0]:V(a,(e=>r+e+s)).join(\"\")})(Xo(o,wc(e)),ed(e),td(e));IA(e,r,!1,!0,n)},zA=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const o=e.types[n];try{t[o]=e.getData(o)}catch(e){t[o]=\"\"}}return t},jA=(e,t)=>t in e&&e[t].length>0,HA=e=>jA(e,\"text/html\")||jA(e,\"text/plain\"),$A=(e,t,n)=>{const o=\"paste\"===t.type?t.clipboardData:t.dataTransfer;var r;if(mc(e)&&o){const s=((e,t)=>{const n=t.items?te(ce(t.items),(e=>\"file\"===e.kind?[e.getAsFile()]:[])):[],o=t.files?ce(t.files):[];return Y(n.length>0?n:o,(e=>{const t=Bc(e);return e=>$e(e.type,\"image/\")&&$(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:\"jpeg\",jpe:\"jpeg\",jfi:\"jpeg\",jif:\"jpeg\",jfif:\"jpeg\",pjpeg:\"jpeg\",pjp:\"jpeg\",svg:\"svg+xml\"};return Dt.hasOwn(n,t)?\"image/\"+n[t]:\"image/\"+t})(t)===e.type))})(e))})(e,o);if(s.length>0)return t.preventDefault(),(r=s,Promise.all(V(r,(e=>sy(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),q(t,(t=>{((e,t)=>{oy(t.uri).each((({data:n,type:o,base64Encoded:r})=>{const s=r?n:btoa(n),a=t.file,i=e.editorUpload.blobCache,l=i.getByData(s,o),d=null!=l?l:((e,t,n,o)=>{const r=LA(),s=ld(e)&&C(n.name),a=s?((e,t)=>{const n=t.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);return C(n)?e.dom.encode(n[1]):void 0})(e,n.name):r,i=s?n.name:void 0,l=t.create(r,n,o,a,i);return t.add(l),l})(e,i,a,s);FA(e,`<img src=\"${d.blobUri()}\">`,!1,!0)}))})(e,t)}))})),!0}return!1},VA=(e,t,n,o,r)=>{let s=AA(n);const a=jA(t,CA())||xA(n),i=!a&&(e=>!/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(e))(s),l=BA(s);(NA(s)||!s.length||i&&!l)&&(o=!0),(o||l)&&(s=jA(t,\"text/plain\")&&i?t[\"text/plain\"]:(e=>{const t=Fs(),n=BC({},t);let o=\"\";const r=t.getVoidElements(),s=Dt.makeMap(\"script noscript style textarea video audio iframe object\",\" \"),a=t.getBlockElements(),i=e=>{const n=e.name,l=e;if(\"br\"!==n){if(\"wbr\"!==n)if(r[n]&&(o+=\" \"),s[n])o+=\" \";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{i(t)}while(t=t.next)}a[n]&&l.next&&(o+=\"\\n\",\"p\"===n&&(o+=\"\\n\"))}}else o+=\"\\n\"};return e=RA(e,[/<!\\[[^\\]]+\\]>/g]),i(n.parse(e)),o})(s)),NA(s)||(o?UA(e,s,r):FA(e,s,a,r))},qA=(e,t,n)=>{((e,t,n)=>{let o;e.on(\"keydown\",(e=>{(e=>Qf.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on(\"paste\",(r=>{if(r.isDefaultPrevented()||(e=>{var t,n;return Tt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(r))return;const s=\"text\"===n.get()||o;o=!1;const a=zA(r.clipboardData);!HA(a)&&$A(e,r,t.getLastRng()||e.selection.getRng())||(jA(a,\"text/html\")?(r.preventDefault(),VA(e,a,a[\"text/html\"],s,!0)):jA(a,\"text/plain\")&&jA(a,\"text/uri-list\")?(r.preventDefault(),VA(e,a,a[\"text/plain\"],s,!0)):(t.create(),Uf.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),VA(e,a,n,s,!1)}),0)))}))})(e,t,n),(e=>{const t=e=>$e(e,\"webkit-fake-url\"),n=e=>$e(e,\"data:\");e.parser.addNodeFilter(\"img\",((o,r,s)=>{if(!mc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(s))for(const r of o){const o=r.attr(\"src\");m(o)&&!r.attr(\"data-mce-object\")&&o!==Tt.transparentSrc&&(t(o)||!Ec(e)&&n(o))&&r.remove()}}))})(e)},WA=(e,t,n,o)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData(\"text/html\",t),e.setData(\"text/plain\",n),e.setData(CA(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},KA=e=>(t,n)=>{const{dom:o,selection:r}=e,s=o.create(\"div\",{contenteditable:\"false\",\"data-mce-bogus\":\"all\"}),a=o.create(\"div\",{contenteditable:\"true\"},t);o.setStyles(s,{position:\"fixed\",top:\"0\",left:\"-3000px\",width:\"1000px\",overflow:\"hidden\"}),s.appendChild(a),o.add(e.getBody(),s);const i=r.getRng();a.focus();const l=o.createRng();l.selectNodeContents(a),r.setRng(l),Uf.setEditorTimeout(e,(()=>{r.setRng(i),o.remove(s),n()}),0)},YA=e=>({html:EA(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:\"text\"})}),GA=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),\"td[data-mce-selected],th[data-mce-selected]\",e.getBody()))(e),XA=(e,t)=>{var n,o;return kg.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},ZA=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},QA=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,JA=e=>Dt.trim(e).replace(QA,Ws).toLowerCase(),eT=(e,t,n)=>{const o=hc(e);if(n||\"all\"===o||!bc(e))return t;const r=o?o.split(/[, ]/):[];if(r&&\"none\"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,((e,t,s,a)=>{const i=n.parseStyle(n.decode(s)),l={};for(let e=0;e<r.length;e++){const t=i[r[e]];let s=t,a=n.getStyle(o,r[e],!0);/color/.test(r[e])&&(s=JA(s),a=JA(a)),a!==s&&(l[r[e]]=t)}const d=n.serializeStyle(l,\"span\");return d?t+' style=\"'+d+'\"'+a:t+a}))}else t=t.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,\"$1$3\");return t=t.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi,((e,t,n,o)=>t+' style=\"'+n+'\"'+o)),t},tT=e=>{const t=Br(!1),n=Br(Cc(e)?\"text\":\"html\"),o=(e=>{const t=Br(null);return{create:()=>((e,t)=>{const{dom:n,selection:o}=e,r=e.getBody();t.set(o.getRng());const s=n.add(e.getBody(),\"div\",{id:\"mcepastebin\",class:\"mce-pastebin\",contentEditable:!0,\"data-mce-bogus\":\"all\",style:\"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0\"},_A);Tt.browser.isFirefox()&&n.setStyle(s,\"left\",\"rtl\"===n.getStyle(r,\"direction\",!0)?65535:-65535),n.bind(s,\"beforedeactivate focusin focusout\",(e=>{e.stopPropagation()})),s.focus(),o.select(s,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(kA(e)){let o;const r=t.get();for(;o=kA(e);)n.remove(o),n.unbind(o);r&&e.selection.setRng(r)}t.set(null)})(e,t),getEl:()=>kA(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...r]=Y(e.getBody().childNodes,SA);q(r,(e=>{n(o,e)}));const s=t.select(\"div[id=mcepastebin]\",o);for(let e=s.length-1;e>=0;e--){const r=t.create(\"div\");o.insertBefore(r,s[e]),n(r,s[e])}return o?o.innerHTML:\"\"})(e),getLastRng:t.get}})(e);(e=>{(Tt.browser.isChromium()||Tt.browser.isSafari())&&((e,t)=>{e.on(\"PastePreProcess\",(n=>{n.content=t(e,n.content,n.internal)}))})(e,eT)})(e),((e,t)=>{e.addCommand(\"mceTogglePlainTextPaste\",(()=>{((e,t)=>{\"text\"===t.get()?(t.set(\"html\"),Ul(e,!1)):(t.set(\"text\"),Ul(e,!0)),e.focus()})(e,t)})),e.addCommand(\"mceInsertClipboardContent\",((t,n)=>{n.html&&FA(e,n.html,n.internal,!1),n.text&&UA(e,n.text,!1)}))})(e,n),(e=>{const t=t=>n=>{t(e,n)},n=fc(e);w(n)&&e.on(\"PastePreProcess\",t(n));const o=gc(e);w(o)&&e.on(\"PastePostProcess\",t(o))})(e),e.addQueryStateHandler(\"mceTogglePlainTextPaste\",(()=>\"text\"===n.get())),e.on(\"PreInit\",(()=>{(e=>{e.on(\"cut\",(e=>t=>{!t.isDefaultPrevented()&&GA(e)&&e.selection.isEditable()&&WA(t,YA(e),KA(e),(()=>{if(Tt.browser.isChromium()||Tt.browser.isFirefox()){const t=e.selection.getRng();Uf.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand(\"Delete\")}),0)}else e.execCommand(\"Delete\")}))})(e)),e.on(\"copy\",(e=>t=>{!t.isDefaultPrevented()&&GA(e)&&WA(t,YA(e),KA(e),_)})(e))})(e),((e,t)=>{uc(e)&&e.on(\"dragend dragover draggesture dragdrop drop drag\",(e=>{e.preventDefault(),e.stopPropagation()})),mc(e)||e.on(\"drop\",(e=>{const t=e.dataTransfer;t&&(e=>$(e.files,(e=>/^image\\//.test(e.type))))(t)&&e.preventDefault()})),e.on(\"drop\",(n=>{if(n.isDefaultPrevented())return;const o=XA(e,n);if(y(o))return;const r=zA(n.dataTransfer),s=jA(r,CA());if((!HA(r)||(e=>{const t=e[\"text/plain\"];return!!t&&0===t.indexOf(\"file://\")})(r))&&$A(e,n,o))return;const a=r[CA()],i=a||r[\"text/html\"]||r[\"text/plain\"],l=((e,t,n,o)=>{const r=e.getParent(n,(e=>Zr(t,e)));if(!h(e.getParent(n,\"summary\")))return!0;if(r&&_e(o,\"text/html\")){const e=(new DOMParser).parseFromString(o[\"text/html\"],\"text/html\").body;return!h(e.querySelector(r.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,o.startContainer,r),d=t.get();d&&!l||i&&(n.preventDefault(),Uf.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{(a||d&&l)&&e.execCommand(\"Delete\"),ZA(e,o);const t=AA(i);r[\"text/html\"]?FA(e,t,s,!0):UA(e,t,!0)}))})))})),e.on(\"dragstart\",(e=>{t.set(!0)})),e.on(\"dragover dragend\",(n=>{mc(e)&&!t.get()&&(n.preventDefault(),ZA(e,XA(e,n))),\"dragend\"===n.type&&t.set(!1)})),(e=>{e.on(\"input\",(t=>{const n=e=>h(e.querySelector(\"summary\"));if(\"deleteByDrag\"===t.inputType){const t=Y(e.dom.select(\"details\"),n);q(t,(t=>{gr(t.firstChild)&&t.firstChild.remove();const n=e.dom.create(\"summary\");n.appendChild(Qa().dom),t.prepend(n)}))}}))})(e)})(e,t),qA(e,o,n)}))},nT=gr,oT=lr,rT=e=>br(e.dom),sT=e=>t=>kn(Cn(e),t),aT=(e,t)=>Zn(Cn(e),rT,sT(t)),iT=(e,t,n)=>{const o=new $o(e,t),r=n?o.next.bind(o):o.prev.bind(o);let s=e;for(let t=n?e:r();t&&!nT(t);t=r())Di(t)&&(s=t);return s},lT=e=>{const t=((e,t,n)=>{const o=el.fromRangeStart(e).getNode(),r=((e,t,n)=>Zn(Cn(e),(e=>(e=>hr(e.dom))(e)||n.isBlock($t(e))),sT(t)).getOr(Cn(t)).dom)(o,t,n),s=iT(o,r,!1),a=iT(o,r,!0),i=document.createRange();return aT(s,r).fold((()=>{oT(s)?i.setStart(s,0):i.setStartBefore(s)}),(e=>i.setStartBefore(e.dom))),aT(a,r).fold((()=>{oT(a)?i.setEnd(a,a.data.length):i.setEndAfter(a)}),(e=>i.setEndAfter(e.dom))),i})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Bb(t))};var dT;!function(e){e.Before=\"before\",e.After=\"after\"}(dT||(dT={}));const cT=(e,t)=>Math.abs(e.left-t),uT=(e,t)=>Math.abs(e.right-t),mT=(e,t)=>(e=>X(e,((e,t)=>e.fold((()=>I.some(t)),(e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),r=Math.max(t.right,e.right),s=Math.max(t.bottom,e.bottom);return I.some({top:o,right:r,bottom:s,left:n,width:r-n,height:s-o})}))),I.none()))(Y(e,(e=>{return(n=t)>=(o=e).top&&n<=o.bottom;var n,o}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:o}=K(e,(e=>((e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5})(e,t)));return[n,o]})),fT=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),gT=(e,t,n,o)=>{const r=e=>Di(e.node)?I.some(e):Jo(e.node)?gT(ce(e.node.childNodes),t,n,!1):I.none(),s=(e,s)=>{const a=ae(e,((e,o)=>s(e,t,n)-s(o,t,n)));return ue(a,r).map((e=>o&&!lr(e.node)&&a.length>1?((e,o,s)=>r(o).filter((o=>Math.abs(s(e,t,n)-s(o,t,n))<2&&lr(o.node))))(e,a[1],s).getOr(e):e))},[a,i]=mT(f_(e),n),{pass:l,fail:d}=K(i,(e=>e.top<n));return s(a,fT).orThunk((()=>s(d,wi))).orThunk((()=>s(l,wi)))},pT=(e,t,n)=>((e,t,n)=>{const o=Cn(e),r=Rn(o),s=wn(r,t,n).filter((e=>Sn(o,e))).getOr(o);return((e,t,n,o)=>{const r=(t,s)=>{const a=Y(t.dom.childNodes,O((e=>Jo(e)&&e.classList.contains(\"mce-drag-container\"))));return s.fold((()=>gT(a,n,o,!0)),(e=>{const t=Y(a,(t=>t!==e.dom));return gT(t,n,o,!0)})).orThunk((()=>(kn(t,e)?I.none():On(t)).bind((e=>r(e,I.some(t))))))};return r(t,I.none())})(o,s,t,n)})(e,t,n).filter((e=>ou(e.node))).map((e=>((e,t)=>({node:e.node,position:cT(e,t)<uT(e,t)?dT.Before:dT.After}))(e,t))),hT=e=>{var t,n;const o=e.getBoundingClientRect(),r=e.ownerDocument,s=r.documentElement,a=r.defaultView;return{top:o.top+(null!==(t=null==a?void 0:a.scrollY)&&void 0!==t?t:0)-s.clientTop,left:o.left+(null!==(n=null==a?void 0:a.scrollX)&&void 0!==n?n:0)-s.clientLeft}},bT=e=>({target:e,srcElement:e}),vT=(e,t,n,o)=>{const r=((e,t)=>{const n=(e=>{const t=bA(),n=(e=>{const t=e;return I.from(t[aA])})(e);return cA(e),nA(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,(e=>{const t=e;return I.from(t[JR])})(e).each((e=>t.setDragImage(e.image,e.x,e.y))),q(e.types,(n=>{\"Files\"!==n&&t.setData(n,e.getData(n))})),q(e.files,(e=>t.items.add(e))),(e=>{const t=e;return I.from(t[eA])})(e).each((e=>{((e,t)=>{tA(t)(e)})(t,e)})),n.each((n=>{lA(e,n),lA(t,n)})),t})(e);return\"dragstart\"===t?(nA(n),dA(n)):\"drop\"===t?(oA(n),cA(n)):(rA(n),uA(n)),n})(n,e);return v(o)?((e,t,n)=>{const o=B(\"Function not supported on simulated event.\");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:_,stopImmediatePropagation:_,stopPropagation:_,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:n,...bT(t)}})(e,t,r):((e,t,n,o)=>({...t,dataTransfer:o,type:e,...bT(n)}))(e,o,t,r)},yT=br,CT=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(yT,hr),wT=(e,t,n,o)=>{const r=e.dom,s=t.cloneNode(!0);r.setStyles(s,{width:n,height:o}),r.setAttrib(s,\"data-mce-selected\",null);const a=r.create(\"div\",{class:\"mce-drag-container\",\"data-mce-bogus\":\"all\",unselectable:\"on\",contenteditable:\"false\"});return r.setStyles(a,{position:\"absolute\",opacity:.5,overflow:\"hidden\",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(s,{margin:0,boxSizing:\"border-box\"}),a.appendChild(s),a},ET=(e,t)=>n=>()=>{const o=\"left\"===e?n.scrollX:n.scrollY;n.scroll({[e]:o+t,behavior:\"smooth\"})},xT=ET(\"left\",-32),_T=ET(\"left\",32),kT=ET(\"top\",-32),ST=ET(\"top\",32),NT=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},RT=(e,t,n,o,r)=>{\"dragstart\"===t&&vA(o,e.dom.getOuterHTML(n));const s=vT(t,n,o,r);return e.dispatch(t,s)},AT=(e,t)=>{const n=Ca(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),pT(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(o=>{const r=e._selectionOverrides.showCaret(1,o.node,o.position===dT.Before,!1);r?e.selection.setRng(r):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on(\"remove\",n.cancel);const o=e;return r=>e.on((e=>{const s=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&s>10){const n=RT(t,\"dragstart\",e.element,e.dataTransfer,r);if(C(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const s=r.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return n=(e=>e.inline?hT(e.getBody()):{left:0,top:0})(e),o=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),r=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=hT(e.getContentAreaContainer()),o=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:r})(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:r.left-n.left+o.left,pageY:r.top-n.top+o.top};var n,o,r})(t,r));a=e.ghost,i=t.getBody(),a.parentNode!==i&&i.appendChild(a),((e,t,n,o,r,s,a,i,l,d,c,u)=>{let m=0,f=0;e.style.left=t.pageX+\"px\",e.style.top=t.pageY+\"px\",t.pageX+n>r&&(m=t.pageX+n-r),t.pageY+o>s&&(f=t.pageY+o-s),e.style.width=n-m+\"px\",e.style.height=o-f+\"px\";const g=l.clientHeight,p=l.clientWidth,h=a+l.getBoundingClientRect().top,b=i+l.getBoundingClientRect().left;c.on((e=>{e.intervalId.clear(),e.dragging&&u&&(a+8>=g?e.intervalId.set(ST(d)):a-8<=0?e.intervalId.set(kT(d)):i+8>=p?e.intervalId.set(_T(d)):i-8<=0?e.intervalId.set(xT(d)):h+16>=window.innerHeight?e.intervalId.set(ST(window)):h-16<=0?e.intervalId.set(kT(window)):b+16>=window.innerWidth?e.intervalId.set(_T(window)):b-16<=0&&e.intervalId.set(xT(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,r.clientY,r.clientX,t.getContentAreaContainer(),t.getWin(),o,s),n.throttle(r.clientX,r.clientY)}var a,i}))},TT=(e,t,n)=>{e.on((e=>{e.intervalId.clear(),e.dragging&&n.fold((()=>RT(t,\"dragend\",e.element,e.dataTransfer)),(n=>RT(t,\"dragend\",e.element,e.dataTransfer,n)))})),OT(e)},OT=e=>{e.on((e=>{e.intervalId.clear(),NT(e.ghost)})),e.clear()},BT=e=>{const t=Dr(),n=ma.DOM,o=document,r=((e,t)=>n=>{if((e=>0===e.button)(n)){const o=Q(t.dom.getParents(n.target),CT).getOr(null);if(C(o)&&((e,t,n)=>yT(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),o)){const r=t.dom.getPos(o),s=t.getBody(),a=t.getDoc().documentElement;e.set({element:o,dataTransfer:bA(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?s.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?s.scrollHeight:a.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:wT(t,o,o.offsetWidth,o.offsetHeight),intervalId:Pr(100)})}}})(t,e),s=AT(t,e),a=((e,t)=>n=>{e.on((e=>{var o;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!y(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(C(t)){const e=t.getRangeAt(0).startContainer;return lr(e)?e.parentNode:e}return null})(t.selection),e.element)){const r=null!==(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==o?o:t.getBody();RT(t,\"drop\",r,e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);NT(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Ja(Cn(n))})(t.dom,e.element),(e=>{const t=e.getData(\"text/html\");return\"\"===t?I.none():I.some(t)})(e.dataTransfer).each((e=>t.insertContent(e))),t._selectionOverrides.hideFakeCaret()}))}RT(t,\"dragend\",t.getBody(),e.dataTransfer,n)}})),OT(e)})(t,e),i=((e,t)=>n=>TT(e,t,I.some(n)))(t,e);e.on(\"mousedown\",r),e.on(\"mousemove\",s),e.on(\"mouseup\",a),n.bind(o,\"mousemove\",s),n.bind(o,\"mouseup\",i),e.on(\"remove\",(()=>{n.unbind(o,\"mousemove\",s),n.unbind(o,\"mouseup\",i)})),e.on(\"keydown\",(n=>{n.keyCode===Qf.ESC&&TT(t,e,I.none())}))},PT=br,DT=(e,t)=>bb(e.getBody(),t),LT=e=>{const t=e.selection,n=e.dom,o=e.getBody(),r=eu(e,o,n.isBlock,(()=>Gf(e))),s=\"sel-\"+n.uniqueId(),a=\"data-mce-selected\";let i;const l=e=>e!==o&&(PT(e)||wr(e))&&n.isChildOf(e,o)&&n.isEditable(e.parentNode),d=(n,o,s,a=!0)=>e.dispatch(\"ShowCaret\",{target:o,direction:n,before:s}).isDefaultPrevented()?null:(a&&t.scrollIntoView(o,-1===n),r.show(s,o)),c=e=>ii(e)||ui(e)||mi(e),u=e=>c(e.startContainer)||c(e.endContainer),m=t=>{const o=e.schema.getVoidElements(),r=n.createRng(),s=t.startContainer,a=t.startOffset,i=t.endContainer,l=t.endOffset;return _e(o,s.nodeName.toLowerCase())?0===a?r.setStartBefore(s):r.setStartAfter(s):r.setStart(s,a),_e(o,i.nodeName.toLowerCase())?0===l?r.setEndBefore(i):r.setEndAfter(i):r.setEnd(i,l),r},f=(r,c)=>{if(!r)return null;if(r.collapsed){if(!u(r)){const e=c?1:-1,t=Nu(e,o,r),s=t.getNode(!c);if(C(s)){if(ou(s))return d(e,s,!!c&&!t.isAtEnd(),!1);if(ai(s)&&br(s.nextSibling)){const e=n.createRng();return e.setStart(s,0),e.setEnd(s,0),e}}const a=t.getNode(c);if(C(a)){if(ou(a))return d(e,a,!c&&!t.isAtEnd(),!1);if(ai(a)&&br(a.previousSibling)){const e=n.createRng();return e.setStart(a,1),e.setEnd(a,1),e}}}return null}let m=r.startContainer,f=r.startOffset;const g=r.endOffset;if(lr(m)&&0===f&&PT(m.parentNode)&&(m=m.parentNode,f=n.nodeIndex(m),m=m.parentNode),!Jo(m))return null;if(g===f+1&&m===r.endContainer){const o=m.childNodes[f];if(l(o))return(o=>{const r=o.cloneNode(!0),l=e.dispatch(\"ObjectSelected\",{target:o,targetClone:r});if(l.isDefaultPrevented())return null;const d=((o,r)=>{const a=Cn(e.getBody()),i=e.getDoc(),l=eo(a,\"#\"+s).getOrThunk((()=>{const e=bn('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>',i);return Jt(e,\"id\",s),vo(a,e),e})),d=n.createRng();wo(l),Co(l,[yn(qo,i),Cn(r),yn(qo,i)]),d.setStart(l.dom.firstChild,1),d.setEnd(l.dom.lastChild,0),lo(l,{top:n.getPos(o,e.getBody()).y+\"px\"}),Ef(l);const c=t.getSel();return c&&(c.removeAllRanges(),c.addRange(d)),d})(o,l.targetClone),c=Cn(o);return q(Uo(Cn(e.getBody()),`*[${a}]`),(e=>{kn(c,e)||rn(e,a)})),n.getAttrib(o,a)||o.setAttribute(a,\"1\"),i=o,p(),d})(o)}return null},g=()=>{i&&i.removeAttribute(a),eo(Cn(e.getBody()),\"#\"+s).each(Eo),i=null},p=()=>{r.hide()};return mw(e)||(e.on(\"click\",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on(\"blur NewBlock\",g),e.on(\"ResizeWindow FullscreenStateChanged\",r.reposition),e.on(\"tap\",(t=>{const n=t.target,o=DT(e,n);PT(o)?(t.preventDefault(),ZE(e,o).each(f)):l(n)&&ZE(e,n).each(f)}),!0),e.on(\"mousedown\",(r=>{const s=r.target;if(s!==o&&\"HTML\"!==s.nodeName&&!n.isChildOf(s,o))return;if(!((e,t,n)=>{const o=Cn(e.getBody()),r=e.inline?o:Cn(Rn(o).dom.documentElement),s=((e,t,n,o)=>{const r=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?r.left+t.dom.clientLeft+qw(t):0),y:o-(e?r.top+t.dom.clientTop+Vw(t):0)}})(e.inline,r,t,n);return((e,t,n)=>{const o=Hw(e),r=$w(e);return t>=0&&n>=0&&t<=o&&n<=r})(r,s.x,s.y)})(e,r.clientX,r.clientY))return;g(),p();const a=DT(e,s);PT(a)?(r.preventDefault(),ZE(e,a).each(f)):pT(o,r.clientX,r.clientY).each((n=>{var o;r.preventDefault(),(o=d(1,n.node,n.position===dT.Before,!1))&&t.setRng(o),er(a)?a.focus():e.getBody().focus()}))})),e.on(\"keypress\",(e=>{Qf.modifierPressed(e)||PT(t.getNode())&&e.preventDefault()})),e.on(\"GetSelectionRange\",(e=>{let t=e.range;if(i){if(!i.parentNode)return void(i=null);t=t.cloneRange(),t.selectNode(i),e.range=t}})),e.on(\"SetSelectionRange\",(e=>{e.range=m(e.range);const t=f(e.range,e.forward);t&&(e.range=t)})),e.on(\"AfterSetSelectionRange\",(e=>{const t=e.range,o=t.startContainer.parentElement;var r;u(t)||Jo(r=o)&&\"mcepastebin\"===r.id||p(),(e=>C(e)&&n.hasClass(e,\"mce-offscreen-selection\"))(o)||g()})),(e=>{BT(e),ec(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(H(n.types,\"Files\")||n.files.length>0)&&(t.preventDefault(),\"drop\"===t.type&&Zw(e,\"Dropped file type is not supported\"))}},n=n=>{$f(e,n.target)&&t(n)},o=()=>{const o=ma.DOM,r=e.dom,s=document,a=e.inline?e.getBody():e.getDoc(),i=[\"drop\",\"dragover\"];q(i,(e=>{o.bind(s,e,n),r.bind(a,e,t)})),e.on(\"remove\",(()=>{q(i,(e=>{o.unbind(s,e,n),r.unbind(a,e,t)}))}))};e.on(\"init\",(()=>{Uf.setEditorTimeout(e,o,0)}))})(e)})(e),(e=>{const t=Ca((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=QE(e,t,!1);e.selection.setRng(n)}}}),0);e.on(\"focus\",(()=>{t.throttle()})),e.on(\"blur\",(()=>{t.cancel()}))})(e),(e=>{e.on(\"init\",(()=>{e.on(\"focusin\",(t=>{const n=t.target;if(wr(n)){const t=bb(e.getBody(),n),o=br(t)?t:n;e.selection.getNode()!==o&&ZE(e,o).each((t=>e.selection.setRng(t)))}}))}))})(e)),{showCaret:d,showBlockCaretContainer:e=>{e.hasAttribute(\"data-mce-caret\")&&(fi(e),t.scrollIntoView(e))},hideFakeCaret:p,destroy:()=>{r.destroy(),i=null}}},MT=(e,t)=>{let n=t;for(let t=e.previousSibling;lr(t);t=t.previousSibling)n+=t.data.length;return n},IT=(e,t,n,o,r)=>{if(lr(n)&&(o<0||o>n.data.length))return[];const s=r&&lr(n)?[MT(n,o)]:[o];let a=n;for(;a!==t&&a.parentNode;)s.push(e.nodeIndex(a,r)),a=a.parentNode;return a===t?s.reverse():[]},FT=(e,t,n,o,r,s,a=!1)=>({start:IT(e,t,n,o,a),end:IT(e,t,r,s,a)}),UT=(e,t)=>{const n=t.slice(),o=n.pop();return E(o)?X(n,((e,t)=>e.bind((e=>I.from(e.childNodes[t])))),I.some(e)).bind((e=>lr(e)&&(o<0||o>e.data.length)?I.none():I.some({node:e,offset:o}))):I.none()},zT=(e,t)=>UT(e,t.start).bind((({node:n,offset:o})=>UT(e,t.end).map((({node:e,offset:t})=>{const r=document.createRange();return r.setStart(n,o),r.setEnd(e,t),r})))),jT=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t,lr(t.firstChild)&&Yo(t.firstChild.data)),jT(e,o,n)}},HT=(e,t,n,o=!0)=>{const r=t.startContainer.parentNode,s=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(lr(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),lr(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),jT(e,r,n),r!==s&&jT(e,s,n))},$T=(e,t)=>I.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),VT=(e,t,n)=>{const o=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Al(o).concat(e.blockPatterns),inlinePatterns:Tl(o).concat(e.inlinePatterns)}},qT=(e,t,n,o)=>{const r=e.createRng();return r.setStart(t,0),r.setEnd(n,o),r.toString()},WT=(e,t)=>e.create(\"span\",{\"data-mce-type\":\"bookmark\",id:t}),KT=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},YT=(e,t,n)=>{const o=zT(e.getRoot(),n).getOrDie(\"Unable to resolve path range\"),r=o.startContainer,s=o.endContainer,a=0===o.endOffset?s:s.splitText(o.endOffset),i=0===o.startOffset?r:r.splitText(o.startOffset),l=i.parentNode;return{prefix:t,end:a.parentNode.insertBefore(WT(e,t+\"-end\"),a),start:l.insertBefore(WT(e,t+\"-start\"),i)}},GT=(e,t,n)=>{jT(e,e.get(t.prefix+\"-end\"),n),jT(e,e.get(t.prefix+\"-start\"),n)},XT=e=>0===e.start.length,ZT=(e,t,n,o)=>{const r=t.start;var s;return uS(e,o.container,o.offset,(s=r,(e,t)=>{const n=e.data.substring(0,t),o=n.lastIndexOf(s.charAt(s.length-1)),r=n.lastIndexOf(s);return-1!==r?r+s.length:-1!==o?o+1:-1}),n).bind((o=>{var s,a;const i=null!==(a=null===(s=n.textContent)||void 0===s?void 0:s.indexOf(r))&&void 0!==a?a:-1;if(-1!==i&&o.offset>=i+r.length){const t=e.createRng();return t.setStart(o.container,o.offset-r.length),t.setEnd(o.container,o.offset),I.some(t)}{const s=o.offset-r.length;return dS(o.container,s,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((e=>e.toString()===r)).orThunk((()=>ZT(e,t,n,sS(o.container,0))))}}))},QT=(e,t,n,o)=>{const r=e.dom,s=r.getRoot(),a=n.pattern,i=n.position.container,l=n.position.offset;return dS(i,l-n.pattern.end.length,t).bind((d=>{const c=FT(r,s,d.container,d.offset,i,l,o);if(XT(a))return I.some({matches:[{pattern:a,startRng:c,endRng:c}],position:d});{const i=JT(e,n.remainingPatterns,d.container,d.offset,t,o),l=i.getOr({matches:[],position:d}),u=l.position,m=((e,t,n,o,r,s=!1)=>{if(0===t.start.length&&!s){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),I.some(t)}return lS(n,o,r).bind((n=>ZT(e,t,r,n).bind((e=>{var t;if(s){if(e.endContainer===n.container&&e.endOffset===n.offset)return I.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return I.none()}return I.some(e)}))))})(r,a,u.container,u.offset,t,i.isNone());return m.map((e=>{const t=((e,t,n,o=!1)=>FT(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,o))(r,s,e,o);return{matches:l.matches.concat([{pattern:a,startRng:t,endRng:c}]),position:sS(e.startContainer,e.startOffset)}}))}}))},JT=(e,t,n,o,r,s)=>{const a=e.dom;return lS(n,o,a.getRoot()).bind((i=>{const l=qT(a,r,n,o);for(let a=0;a<t.length;a++){const d=t[a];if(!Ve(l,d.end))continue;const c=t.slice();c.splice(a,1);const u=QT(e,r,{pattern:d,remainingPatterns:c,position:i},s);if(u.isNone()&&o>0)return JT(e,t,n,o-1,r,s);if(u.isSome())return u}return I.none()}))},eO=(e,t,n)=>{e.selection.setRng(n),\"inline-format\"===t.type?q(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},tO=(e,t,n,o,r,s)=>{var a;return((e,t)=>{const n=ne(e,(e=>$(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(JT(e,r.inlinePatterns,n,o,t,s).fold((()=>[]),(e=>e.matches)),JT(e,(a=r.inlinePatterns,ae(a,((e,t)=>t.end.length-e.end.length))),n,o,t,s).fold((()=>[]),(e=>e.matches)))},nO=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),r=((e,t)=>{const n=La(\"mce_textpattern\"),o=G(t,((t,o)=>{const r=YT(e,n+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:r}])}),[]);return G(o,((t,r)=>{const s=o.length-t.length-1,a=XT(r.pattern)?r.endMarker:YT(e,n+`_start${s}`,r.startRng);return t.concat([{...r,startMarker:a}])}),[])})(n,t);q(r,(t=>{const o=n.getParent(t.startMarker.start,n.isBlock),r=e=>e===o;XT(t.pattern)?((e,t,n,o)=>{const r=KT(e.dom,n);HT(e.dom,r,o),eO(e,t,r)})(e,t.pattern,t.endMarker,r):((e,t,n,o,r)=>{const s=e.dom,a=KT(s,o),i=KT(s,n);HT(s,i,r),HT(s,a,r);const l={prefix:n.prefix,start:n.end,end:o.start},d=KT(s,l);eO(e,t,d)})(e,t.pattern,t.startMarker,t.endMarker,r),GT(n,t.endMarker,r),GT(n,t.startMarker,r)})),e.selection.moveToBookmark(o)},oO=(e,t,n)=>((e,t,n)=>{if(lr(e)&&0>=e.length)return I.some(sS(e,0));{const t=za(aS);return I.from(t.forwards(e,0,iS(e),n)).map((e=>sS(e.container,0)))}})(t,0,t).map((o=>{const r=o.container;return cS(r,n.start.length,t).each((n=>{const o=e.createRng();o.setStart(r,0),o.setEnd(n.container,n.offset),HT(e,o,(e=>e===t))})),r})),rO=e=>(t,n)=>{const o=t.dom,r=n.pattern,s=zT(o.getRoot(),n.range).getOrDie(\"Unable to resolve path range\");return $T(t,s).each((n=>{\"block-format\"===r.type?((e,t)=>{const n=t.get(e);return p(n)&&le(n).exists((e=>_e(e,\"block\")))})(r.format,t.formatter)&&t.undoManager.transact((()=>{e(t.dom,n,r),t.formatter.apply(r.format)})):\"block-command\"===r.type&&t.undoManager.transact((()=>{e(t.dom,n,r),t.execCommand(r.cmd,!1,r.value)}))})),!0},sO=e=>(t,n)=>{const o=(e=>ae(e,((e,t)=>t.start.length-e.start.length)))(t),r=n.replace(qo,\" \");return Q(o,(t=>e(t,n,r)))},aO=(e,t)=>(n,o,r,s,a)=>{var i;void 0===a&&(a=null!==(i=o.textContent)&&void 0!==i?i:\"\");const l=n.dom,d=ed(n);return l.is(o,d)?e(r.blockPatterns,a).map((e=>t&&Dt.trim(a).length===e.start.length?[]:[{pattern:e,range:FT(l,l.getRoot(),o,0,o,0,s)}])).getOr([]):[]},iO=rO(((e,t,n)=>{oO(e,t,n).each((e=>{const t=Cn(e),n=Ha(t);/^\\s[^\\s]/.test(n)&&$a(t,n.slice(1))}))})),lO=sO(((e,t,n)=>0===t.indexOf(e.start)||0===n.indexOf(e.start))),dO=aO(lO,!0),cO=rO(oO),uO=sO(((e,t,n)=>t===e.start||n===e.start)),mO=aO(uO,!1),fO=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},gO=e=>{const t=[\",\",\".\",\";\",\":\",\"!\",\"?\"],n=[32],o=()=>{return t=xc(e).filter((t=>\"inline-command\"!==t.type&&\"block-command\"!==t.type||e.queryCommandSupported(t.cmd))),n=_c(e),{inlinePatterns:Tl(t),blockPatterns:Al(t),dynamicPatternsLookup:n};var t,n},r=()=>(e=>e.options.isSet(\"text_patterns_lookup\"))(e);e.on(\"keydown\",(t=>{if(13===t.keyCode&&!Qf.modifierPressed(t)&&e.selection.isCollapsed()&&e.selection.isEditable()){const n=Ol(o(),\"enter\");(n.inlinePatterns.length>0||n.blockPatterns.length>0||r())&&((e,t)=>((e,t)=>{const n=e.selection.getRng();return $T(e,n).map((o=>{var r;const s=Math.max(0,n.startOffset),a=VT(t,o,null!==(r=o.textContent)&&void 0!==r?r:\"\");return{inlineMatches:tO(e,o,n.startContainer,s,a,!0),blockMatches:dO(e,o,a,!0)}})).filter((({inlineMatches:e,blockMatches:t})=>t.length>0||e.length>0))})(e,t).fold(L,(({inlineMatches:t,blockMatches:n})=>(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand(\"mceInsertNewLine\")}),(()=>{(e=>{e.insertContent(ei,{preserve_zwsp:!0})})(e),nO(e,t),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();q(t,(t=>iO(e,t))),e.selection.moveToBookmark(n)})(e,n);const o=e.selection.getRng(),r=lS(o.startContainer,o.startOffset,e.dom.getRoot());e.execCommand(\"mceInsertNewLine\"),r.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===Vo&&(n.deleteData(t.offset-1,1),jT(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0))))(e,n)&&t.preventDefault()}}),!0),e.on(\"keydown\",(t=>{if(32===t.keyCode&&e.selection.isCollapsed()&&e.selection.isEditable()){const n=Ol(o(),\"space\");(n.blockPatterns.length>0||r())&&((e,t)=>((e,t)=>{const n=e.selection.getRng();return $T(e,n).map((o=>{const r=Math.max(0,n.startOffset),s=qT(e.dom,o,n.startContainer,r),a=VT(t,o,s);return mO(e,o,a,!1,s)})).filter((e=>e.length>0))})(e,t).fold(L,(t=>(e.undoManager.transact((()=>{((e,t)=>{q(t,(t=>cO(e,t)))})(e,t)})),!0))))(e,n)&&t.preventDefault()}}),!0);const s=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const t=Ol(o(),\"space\");(t.inlinePatterns.length>0||r())&&((e,t)=>{const n=e.selection.getRng();$T(e,n).map((o=>{const r=Math.max(0,n.startOffset-1),s=qT(e.dom,o,n.startContainer,r),a=VT(t,o,s),i=tO(e,o,n.startContainer,r,a,!1);i.length>0&&e.undoManager.transact((()=>{nO(e,i)}))}))})(e,t)}};e.on(\"keyup\",(e=>{fO(n,e,((e,t)=>e===t.keyCode&&!Qf.modifierPressed(t)))&&s()})),e.on(\"keypress\",(n=>{fO(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&Uf.setEditorTimeout(e,s)}))},pO=e=>{const t=Dt.each,n=Qf.BACKSPACE,o=Qf.DELETE,r=e.dom,s=e.selection,a=e.parser,i=Tt.browser,l=i.isFirefox(),d=i.isChromium()||i.isSafari(),c=Tt.deviceType.isiPhone()||Tt.deviceType.isiPad(),u=Tt.os.isMacOS()||Tt.os.isiOS(),m=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},f=e=>e.isDefaultPrevented(),g=()=>{e.shortcuts.add(\"meta+a\",null,\"SelectAll\")},p=()=>{e.inline||r.bind(e.getDoc(),\"mousedown mouseup\",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=s.getRng(),e.getBody().focus(),\"mousedown\"===t.type){if(ii(n.startContainer))return;s.placeCaretAt(t.clientX,t.clientY)}else s.setRng(n)}))},h=()=>{Range.prototype.getClientRects||e.on(\"mousedown\",(t=>{if(!f(t)&&\"HTML\"===t.target.nodeName){const t=e.getBody();t.blur(),Uf.setEditorTimeout(e,(()=>{t.focus()}))}}))},b=()=>{const t=oc(e);e.on(\"click\",(n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&r.isEditable(o)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),\"A\"===o.nodeName&&r.hasClass(o,t)&&0===o.childNodes.length&&r.isEditable(o.parentNode)&&(n.preventDefault(),s.select(o))}))},v=()=>{e.on(\"keydown\",(e=>{if(!f(e)&&e.keyCode===n&&s.isCollapsed()&&0===s.getRng().startOffset){const t=s.getNode().previousSibling;if(t&&t.nodeName&&\"table\"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},y=()=>{Gd(e)||e.on(\"BeforeExecCommand mousedown\",(()=>{m(\"StyleWithCSS\",!1),m(\"enableInlineTableEditing\",!1),Nd(e)||m(\"enableObjectResizing\",!1)}))},C=()=>{e.contentStyles.push(\"img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\")},w=()=>{e.inline||e.on(\"keydown\",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},E=()=>{e.inline||(e.contentStyles.push(\"body {min-height: 150px}\"),e.on(\"click\",(t=>{let n;\"HTML\"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},x=()=>{u&&e.on(\"keydown\",(t=>{!Qf.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify(\"move\",37===t.keyCode?\"backward\":\"forward\",\"lineboundary\"))}))},k=()=>{e.on(\"click\",(e=>{let t=e.target;do{if(\"A\"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(\".mce-content-body {-webkit-touch-callout: none}\")},S=()=>{e.on(\"init\",(()=>{e.dom.bind(e.getBody(),\"submit\",(e=>{e.preventDefault()}))}))},N=_;return mw(e)?(d&&(p(),b(),S(),g(),c&&(w(),E(),k())),l&&(h(),y(),C(),x())):(e.on(\"keydown\",(t=>{if(f(t)||t.keyCode!==Qf.BACKSPACE)return;let n=s.getRng();const o=n.startContainer,a=n.startOffset,i=r.getRoot();let l=o;if(n.collapsed&&0===a){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==i;)l=l.parentNode;\"BLOCKQUOTE\"===l.nodeName&&(e.formatter.toggle(\"blockquote\",void 0,l),n=r.createRng(),n.setStart(o,0),n.setEnd(o,0),s.setRng(n))}})),(()=>{const t=e=>{const t=r.create(\"body\"),n=e.cloneContents();return t.appendChild(n),s.serializer.serialize(t,{format:\"html\"})};e.on(\"keydown\",(s=>{const a=s.keyCode;if(!f(s)&&(a===o||a===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),o=e.getBody();if(n&&!Ar(e.schema,o))return;if(!n&&!(n=>{const o=t(n),s=r.createRng();return s.selectNode(e.getBody()),o===t(s)})(e.selection.getRng()))return;s.preventDefault(),e.setContent(\"\"),o.firstChild&&r.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}))})(),Tt.windowsPhone||e.on(\"keyup focusin mouseup\",(t=>{Qf.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||s.normalize()}),!0),d&&(p(),b(),e.on(\"init\",(()=>{m(\"DefaultParagraphSeparator\",ed(e))})),S(),v(),a.addNodeFilter(\"br\",(e=>{let t=e.length;for(;t--;)\"Apple-interchange-newline\"===e[t].attr(\"class\")&&e[t].remove()})),c?(w(),E(),k()):g()),l&&(e.on(\"keydown\",(t=>{if(!f(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName(\"hr\").length)return;if(s.isCollapsed()&&0===s.getRng().startOffset){const e=s.getNode(),n=e.previousSibling;if(\"HR\"===e.nodeName)return r.remove(e),void t.preventDefault();n&&n.nodeName&&\"hr\"===n.nodeName.toLowerCase()&&(r.remove(n),t.preventDefault())}}})),h(),(()=>{const n=()=>{const n=r.getAttribs(s.getStart().cloneNode(!1));return()=>{const o=s.getStart();o!==e.getBody()&&(r.setAttrib(o,\"style\",null),t(n,(e=>{o.setAttributeNode(e.cloneNode(!0))})))}},o=()=>!s.isCollapsed()&&r.getParent(s.getStart(),r.isBlock)!==r.getParent(s.getEnd(),r.isBlock);e.on(\"keypress\",(t=>{let r;return!(!(f(t)||8!==t.keyCode&&46!==t.keyCode)&&o()&&(r=n(),e.getDoc().execCommand(\"delete\",!1),r(),t.preventDefault(),1))})),r.bind(e.getDoc(),\"cut\",(t=>{if(!f(t)&&o()){const t=n();Uf.setEditorTimeout(e,(()=>{t()}))}}))})(),y(),e.on(\"SetContent ExecCommand\",(e=>{\"setcontent\"!==e.type&&\"mceInsertLink\"!==e.command||t(r.select(\"a:not([data-mce-block])\"),(e=>{var t;let n=e.parentNode;const o=r.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!r.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===o)return;n=n.parentNode}r.add(n,\"br\",{\"data-mce-bogus\":1})}}))})),C(),x(),v())),{refreshContentEditable:N,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},hO=ma.DOM,bO=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,vO=e=>Ce(e,(e=>!1===v(e))),yO=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return vO({allow_conditional_comments:t(\"allow_conditional_comments\"),allow_html_data_urls:t(\"allow_html_data_urls\"),allow_svg_data_urls:t(\"allow_svg_data_urls\"),allow_html_in_named_anchor:t(\"allow_html_in_named_anchor\"),allow_script_urls:t(\"allow_script_urls\"),allow_mathml_annotation_encodings:t(\"allow_mathml_annotation_encodings\"),allow_unsafe_link_target:t(\"allow_unsafe_link_target\"),convert_unsafe_embeds:t(\"convert_unsafe_embeds\"),convert_fonts_to_spans:t(\"convert_fonts_to_spans\"),fix_list_elements:t(\"fix_list_elements\"),font_size_legacy_values:t(\"font_size_legacy_values\"),forced_root_block:t(\"forced_root_block\"),forced_root_block_attrs:t(\"forced_root_block_attrs\"),preserve_cdata:t(\"preserve_cdata\"),inline_styles:t(\"inline_styles\"),root_name:bO(e),sandbox_iframes:t(\"sandbox_iframes\"),sandbox_iframes_exclusions:Ic(e),sanitize:t(\"xss_sanitization\"),validate:!0,blob_cache:n,document:e.getDoc()})},CO=e=>{const t=e.options.get;return vO({custom_elements:t(\"custom_elements\"),extended_valid_elements:t(\"extended_valid_elements\"),invalid_elements:t(\"invalid_elements\"),invalid_styles:t(\"invalid_styles\"),schema:t(\"schema\"),valid_children:t(\"valid_children\"),valid_classes:t(\"valid_classes\"),valid_elements:t(\"valid_elements\"),valid_styles:t(\"valid_styles\"),verify_html:t(\"verify_html\"),padd_empty_block_inline_children:t(\"format_empty_lines\")})},wO=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,EO=e=>{const t=wO(e),n=_d(e),o=e.contentCSS,r=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},s=()=>{e.removed?r():e.on(\"remove\",r)};if(e.contentStyles.length>0){let t=\"\";Dt.each(e.contentStyles,(e=>{t+=e+\"\\r\\n\"})),e.dom.addStyle(t)}const a=Promise.all(((e,t,n)=>{const{pass:o,fail:r}=K(t,(e=>tinymce.Resource.has(cE(e)))),s=o.map((t=>{const n=tinymce.Resource.get(cE(t));return m(n)?Promise.resolve(wO(e).loadRawCss(t,n)):Promise.resolve()})),a=[...s,wO(e).loadAll(r)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,o,n)).then(s).catch(s),i=xd(e);return i&&((e,t)=>{const n=Cn(e.getBody()),o=Vn($n(n)),r=vn(\"style\");Jt(r,\"type\",\"text/css\"),vo(r,yn(t)),vo(o,r),e.on(\"remove\",(()=>{Eo(r)}))})(e,i),a},xO=e=>{!0!==e.removed&&((e=>{mw(e)||e.load({initial:!0,format:\"html\"}),e.startContent=e.getContent({format:\"raw\"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch(\"Init\")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Sm(e)&&e.selection.getStart(!0)!==t||Zu(t).each((t=>{const n=t.getNode(),o=sr(n)?Zu(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e),e.nodeChanged({initial:!0});const t=ac(e);w(t)&&t.call(e,e),(e=>{const t=lc(e);t&&Uf.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e),sE(e)&&iE(e,!0)})(e))},_O=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(hO.addClass(t,\"mce-content-body\"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=Gd(e),e._editableRoot=Xd(e),!jc(e)&&e.hasEditableRoot()&&(e.inline&&\"static\"===hO.getStyle(o,\"position\",!0)&&(o.style.position=\"relative\"),o.contentEditable=\"true\"),o.disabled=!1,e.editorUpload=vE(e),e.schema=Fs(CO(e)),e.dom=ma(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:hd(e),referrerPolicy:bd(e),onSetAttrib:t=>{e.dispatch(\"SetAttrib\",t)}}),e.parser=(e=>{const t=BC(yO(e),e.schema);return t.addAttributeFilter(\"src,href,style,tabindex\",((t,n)=>{const o=e.dom,r=\"data-mce-\"+n;let s=t.length;for(;s--;){const a=t[s];let i=a.attr(n);if(i&&!a.attr(r)){if(0===i.indexOf(\"data:\")||0===i.indexOf(\"blob:\"))continue;\"style\"===n?(i=o.serializeStyle(o.parseStyle(i),a.name),i.length||(i=null),a.attr(r,i),a.attr(n,i)):\"tabindex\"===n?(a.attr(r,i),a.attr(n,null)):a.attr(r,e.convertURL(i,n,a.name))}}})),t.addNodeFilter(\"script\",(e=>{let t=e.length;for(;t--;){const n=e[t],o=n.attr(\"type\")||\"no/type\";0!==o.indexOf(\"mce-\")&&n.attr(\"type\",\"mce-\"+o)}})),Rc(e)&&t.addNodeFilter(\"#cdata\",(t=>{var n;let o=t.length;for(;o--;){const r=t[o];r.type=8,r.name=\"#comment\",r.value=\"[CDATA[\"+e.dom.encode(null!==(n=r.value)&&void 0!==n?n:\"\")+\"]]\"}})),t.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",(t=>{let n=t.length;const o=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(o)&&0===e.getAll(\"br\").length&&e.append(new tp(\"br\",1))}})),t})(e),e.serializer=xw((e=>{const t=e.options.get;return{...yO(e),...CO(e),...vO({remove_trailing_brs:t(\"remove_trailing_brs\"),pad_empty_with_br:t(\"pad_empty_with_br\"),url_converter:t(\"url_converter\"),url_converter_scope:t(\"url_converter_scope\"),element_format:t(\"element_format\"),entities:t(\"entities\"),entity_encoding:t(\"entity_encoding\"),indent:t(\"indent\"),indent_after:t(\"indent_after\"),indent_before:t(\"indent_before\")})}})(e),e),e.selection=Cw(e.dom,e.getWin(),e.serializer,e),e.annotator=vf(e),e.formatter=AE(e),e.undoManager=OE(e),e._nodeChangeDispatcher=new QR(e),e._selectionOverrides=LT(e),(e=>{const t=Dr(),n=Br(!1),o=wa((t=>{e.dispatch(\"longpress\",{...t,type:\"longpress\"}),n.set(!0)}),400);e.on(\"touchstart\",(e=>{ik(e).each((r=>{o.cancel();const s={x:r.clientX,y:r.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(s)}))}),!0),e.on(\"touchmove\",(r=>{o.cancel(),ik(r).each((o=>{t.on((r=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(o,r)&&(t.clear(),n.set(!1),e.dispatch(\"longpresscancel\"))}))}))}),!0),e.on(\"touchend touchcancel\",(r=>{o.cancel(),\"touchcancel\"!==r.type&&t.get().filter((e=>e.target.isEqualNode(r.target))).each((()=>{n.get()?r.preventDefault():e.dispatch(\"tap\",{...r,type:\"tap\"})}))}),!0)})(e),(e=>{(e=>{e.on(\"click\",(t=>{e.dom.getParent(t.target,\"details\")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter(\"details\",(t=>{const n=Dc(e);q(t,(e=>{\"expanded\"===n?e.attr(\"open\",\"open\"):\"collapsed\"===n&&e.attr(\"open\",null)}))})),e.serializer.addNodeFilter(\"details\",(t=>{const n=Lc(e);q(t,(e=>{\"expanded\"===n?e.attr(\"open\",\"open\"):\"collapsed\"===n&&e.attr(\"open\",null)}))}))})(e)})(e),(e=>{const t=\"contenteditable\",n=\" \"+Dt.trim(Sc(e))+\" \",o=\" \"+Dt.trim(kc(e))+\" \",r=fk(n),s=fk(o),a=Nc(e);a.length>0&&e.on(\"BeforeSetContent\",(t=>{((e,t,n)=>{let o=t.length,r=n.content;if(\"raw\"!==n.format){for(;o--;)r=r.replace(t[o],gk(e,r,kc(e)));n.content=r}})(e,a,t)})),e.parser.addAttributeFilter(\"class\",(e=>{let n=e.length;for(;n--;){const o=e[n];r(o)?o.attr(t,\"true\"):s(o)&&o.attr(t,\"false\")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const o=e[n];if(!r(o)&&!s(o))continue;const i=o.attr(\"data-mce-content\");a.length>0&&i?pk(a,i)?(o.name=\"#text\",o.type=3,o.raw=!0,o.value=i):o.remove():o.attr(t,null)}}))})(e),mw(e)||((e=>{e.on(\"mousedown\",(t=>{t.detail>=3&&(t.preventDefault(),lT(e))}))})(e),(e=>{gO(e)})(e));const r=ZR(e);((e,t)=>{e.addCommand(\"delete\",(()=>{((e,t)=>{ak(e,t,!1).fold((()=>{e.selection.isEditable()&&(Ih(e),jh(e))}),D)})(e,t)})),e.addCommand(\"forwardDelete\",(()=>{((e,t)=>{ak(e,t,!0).fold((()=>{e.selection.isEditable()&&Fh(e)}),D)})(e,t)}))})(e,r),(e=>{e.on(\"NodeChange\",(()=>(e=>{const t=e.dom,n=e.selection,o=e.schema,r=o.getBlockElements(),s=n.getStart(),a=e.getBody();let i,l,d=null;const c=ed(e);if(!s||!Jo(s))return;const u=a.nodeName.toLowerCase();if(!o.isValidChild(u,c.toLowerCase())||((e,t,n)=>$(jp(Cn(n),Cn(t)),(t=>lk(e,t.dom))))(r,a,s))return;if(a.firstChild===a.lastChild&&gr(a.firstChild))return i=uk(e),i.appendChild(Qa().dom),a.replaceChild(i,a.firstChild),e.selection.setCursorLocation(i,0),void e.nodeChanged();let m=a.firstChild;for(;m;)if(Jo(m)&&Kr(o,m),dk(o,m)){if(ck(r,m)){l=m,m=m.nextSibling,t.remove(l);continue}if(!i){if(!d&&e.hasFocus()&&(d=fx(e.selection.getRng(),(()=>document.createElement(\"span\")))),!m.parentNode){m=null;break}i=uk(e),a.insertBefore(i,m)}l=m,m=m.nextSibling,i.appendChild(l)}else i=null,m=m.nextSibling;d&&(e.selection.setRng(gx(d)),e.nodeChanged())})(e)))})(e),(e=>{var t;const n=e.dom,o=ed(e),r=null!==(t=Ad(e))&&void 0!==t?t:\"\",s=(t,a)=>{if((e=>{if(DE(e)){const t=e.keyCode;return!LE(e)&&(Qf.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||H(BE,t))}return!1})(t))return;const i=e.getBody(),l=!(e=>DE(e)&&!(LE(e)||\"keyup\"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,\"padding-left\")&&!e.getStyle(t.firstElementChild,\"padding-right\")&&n===o.nodeName.toLowerCase()}return!1})(n,i,o);(\"\"!==n.getAttrib(i,PE)!==l||a)&&(n.setAttrib(i,PE,l?r:null),((e,t)=>{e.dispatch(\"PlaceholderToggle\",{state:t})})(e,l),e.on(l?\"keydown\":\"keyup\",s),e.off(l?\"keyup\":\"keydown\",s))};Ge(r)&&e.on(\"init\",(t=>{s(t,!0),e.on(\"change SetContent ExecCommand\",s),e.on(\"paste\",(t=>Uf.setEditorTimeout(e,(()=>s(t)))))}))})(e),tT(e);const s=(e=>{const t=e;return(e=>xe(e.plugins,\"rtc\").bind((e=>I.from(e.setup))))(e).fold((()=>(t.rtcInstance=uw(e),I.none())),(e=>(t.rtcInstance=(()=>{const e=N(null),t=N(\"\");return{init:{bindEvents:_},undoManager:{beforeChange:_,add:e,undo:e,redo:e,clear:_,reset:_,hasUndo:L,hasRedo:L,transact:e,ignore:_,extra:_},formatter:{match:L,matchAll:N([]),matchNode:N(void 0),canApply:L,closest:t,apply:_,remove:_,toggle:_,formatChanged:N({unbind:_})},editor:{getContent:t,setContent:N({content:\"\",html:\"\"}),insertContent:N(\"\"),addVisual:_},selection:{getContent:t},autocompleter:{addDecoration:_,removeDecoration:_},raw:{getModel:N(I.none())}}})(),I.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>f(e)?e:{},{init:n,undoManager:o,formatter:r,editor:s,selection:a,autocompleter:i,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,r)=>o.extra(n,r)},formatter:{match:(e,n,o,s)=>r.match(e,t(n),s),matchAll:r.matchAll,matchNode:r.matchNode,canApply:e=>r.canApply(e),closest:e=>r.closest(e),apply:(e,n,o)=>r.apply(e,t(n)),remove:(e,n,o,s)=>r.remove(e,t(n)),toggle:(e,n,o)=>r.toggle(e,t(n)),formatChanged:(e,t,n,o,s)=>r.formatChanged(t,n,o,s)},editor:{getContent:e=>s.getContent(e),setContent:(e,t)=>({content:s.setContent(e,t),html:\"\"}),insertContent:(e,t)=>(s.insertContent(e),\"\"),addVisual:s.addVisual},selection:{getContent:(e,t)=>a.getContent(t)},autocompleter:{addDecoration:i.addDecoration,removeDecoration:i.removeDecoration},raw:{getModel:()=>I.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))})(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch(\"PreInit\")})(e),dc(e)||(t.body.spellcheck=!1,hO.setAttrib(n,\"spellcheck\",\"false\")),e.quirks=pO(e),(e=>{e.dispatch(\"PostRender\")})(e);const o=kd(e);void 0!==o&&(n.dir=o);const r=cc(e);r&&e.on(\"BeforeSetContent\",(e=>{Dt.each(r,(t=>{e.content=e.content.replace(t,(e=>\"\\x3c!--mce:protected \"+escape(e)+\"--\\x3e\"))}))})),e.on(\"SetContent\",(()=>{e.addVisual(e.getBody())})),e.on(\"compositionstart compositionend\",(t=>{e.composing=\"compositionstart\"===t.type}))})(e),(e=>{const t=Uc(e);m(zc(e))||!v(t)&&\"INVALID\"!==(e=>(e=>\"gpl\"===e.toLowerCase())(e)||(e=>e.length>=64&&e.length<=255)(e)?\"VALID\":\"INVALID\")(t)||console.warn(\"TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/\")})(e),s.fold((()=>{const t=(e=>{let t=!1;const n=setTimeout((()=>{t||e.setProgressState(!0)}),500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}})(e);EO(e).then((()=>{xO(e),t()}))}),(t=>{e.setProgressState(!0),EO(e).then((()=>{t().then((t=>{e.setProgressState(!1),xO(e),pw(e)}),(t=>{e.notificationManager.open({type:\"error\",text:String(t)}),xO(e),pw(e)}))}))}))},kO=M,SO=ma.DOM,NO=ma.DOM,RO=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),AO=e=>{const t=e.getElement();return e.inline?RO(null):(e=>{const t=NO.create(\"div\");return NO.insertAfter(t,e),RO(t,t)})(t)},TO=async e=>{e.dispatch(\"ScriptsLoaded\"),(e=>{const t=Dt.trim(cd(e)),n=e.ui.registry.getAll().icons,o={...Fw.get(\"default\").icons,...Fw.get(t).icons};pe(o,((t,o)=>{_e(n,o)||e.ui.registry.addIcon(o,t)}))})(e),(e=>{const t=Bd(e);if(m(t)){const n=Yw.get(t);e.theme=n(e,Yw.urls[t])||{},w(e.theme.init)&&e.theme.init(e,Yw.urls[t]||e.documentBaseUrl.replace(/\\/$/,\"\"))}else e.theme={}})(e),(e=>{const t=Dd(e),n=Uw.get(t);e.model=n(e,Uw.urls[t])})(e),(e=>{const t=[];q(Qd(e),(n=>{((e,t,n)=>{const o=Kw.get(n),r=Kw.urls[n]||e.documentBaseUrl.replace(/\\/$/,\"\");if(n=Dt.trim(n),o&&-1===Dt.inArray(t,n)){if(e.plugins[n])return;try{const s=o(e,r)||{};e.plugins[n]=s,w(s.init)&&(s.init(e,r),t.push(n))}catch(t){((e,t,n)=>{const o=va.translate([\"Failed to initialize plugin: {0}\",t]);Pl(e,\"PluginLoadError\",{message:o}),eE(o,n),Zw(e,o)})(e,n,t)}}})(e,t,(e=>e.replace(/^\\-/,\"\"))(n))}))})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,m(Bd(e))?(e=>{const t=e.theme.renderUI;return t?t():AO(e)})(e):w(Bd(e))?(e=>{const t=e.getElement(),n=Bd(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+\"_parent\"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+\"_iframecontainer\"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):AO(e)})(e);((e,t)=>{const n={show:I.from(t.show).getOr(_),hide:I.from(t.hide).getOr(_),isEnabled:I.from(t.isEnabled).getOr(M),setEnabled:n=>{n&&(\"readonly\"===e.mode.get()||sE(e))||I.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,I.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>uE(e,Ed(e)))(e),(e=>uE(e,_d(e)))(e))})(e),e.inline?_O(e):((e,t)=>{((e,t)=>{const n=Tt.browser.isFirefox()?rc(e):\"Rich Text Area\",o=e.translate(n),r=nn(Cn(e.getElement()),\"tabindex\").bind(Ze),s=((e,t,n,o)=>{const r=vn(\"iframe\");return o.each((e=>Jt(r,\"tabindex\",e))),en(r,n),en(r,{id:e+\"_ifr\",frameBorder:\"0\",allowTransparency:\"true\",title:t}),mn(r,\"tox-edit-area__iframe\"),r})(e.id,o,Kl(e),r).dom;s.onload=()=>{s.onload=null,e.dispatch(\"load\")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=s,e.iframeHTML=(e=>{let t=Yl(e)+\"<html><head>\";Gl(e)!==e.documentBaseUrl&&(t+='<base href=\"'+e.documentBaseURI.getURI()+'\" />'),t+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';const n=Xl(e),o=Zl(e),r=e.translate(rc(e));return Ql(e)&&(t+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+Ql(e)+'\" />'),t+=`</head><body id=\"${n}\" class=\"mce-content-body ${o}\" data-id=\"${e.id}\" aria-label=\"${r}\"><br></body></html>`,t})(e),SO.add(t.iframeContainer,s)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=SO.isHidden(t.editorContainer)),e.getElement().style.display=\"none\",SO.setAttrib(e.id,\"aria-hidden\",\"true\"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,_O(e)};if(Oc(e)||Tt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const r=(o=Cn(t),No(o,\"load\",kO,(()=>{r.unbind(),n()})));t.srcdoc=e.iframeHTML}var o})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},OO=ma.DOM,BO=e=>\"-\"===e.charAt(0),PO=(e,t,n)=>I.from(t).filter((e=>Ge(e)&&!Fw.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:I.some(t)}))),DO=(e,t)=>{const n=ga.ScriptLoader,o=()=>{!e.removed&&(e=>{const t=Bd(e);return!m(t)||C(Yw.get(t))})(e)&&(e=>{const t=Dd(e);return C(Uw.get(t))})(e)&&TO(e)};((e,t)=>{const n=Bd(e);if(m(n)&&!BO(n)&&!_e(Yw.urls,n)){const o=Pd(e),r=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;Yw.load(n,r).catch((()=>{((e,t,n)=>{Qw(e,\"ThemeLoadError\",Jw(\"theme\",t,n))})(e,r,n)}))}})(e,t),((e,t)=>{const n=Dd(e);if(\"plugin\"!==n&&!_e(Uw.urls,n)){const o=Ld(e),r=m(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;Uw.load(n,r).catch((()=>{((e,t,n)=>{Qw(e,\"ModelLoadError\",Jw(\"model\",t,n))})(e,r,n)}))}})(e,t),((e,t)=>{const n=vd(t),o=yd(t);if(!va.hasCode(n)&&\"en\"!==n){const r=Ge(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(r).catch((()=>{((e,t,n)=>{Qw(e,\"LanguageLoadError\",Jw(\"language\",t,n))})(t,r,n)}))}})(n,e),((e,t,n)=>{const o=PO(t,\"default\",n),r=(e=>I.from(ud(e)).filter(Ge).map((e=>({url:e,name:I.none()}))))(t).orThunk((()=>PO(t,cd(t),\"\")));q((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([o,r]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{Qw(e,\"IconsLoadError\",Jw(\"icons\",t,n))})(t,n.url,n.name.getOrUndefined())}))}))})(n,e,t),((e,t)=>{const n=(t,n)=>{Kw.load(t,n).catch((()=>{((e,t,n)=>{Qw(e,\"PluginLoadError\",Jw(\"plugin\",t,n))})(e,n,t)}))};pe(Jd(e),((t,o)=>{n(o,t),e.options.set(\"plugins\",Qd(e).concat(o))})),q(Qd(e),(e=>{!(e=Dt.trim(e))||Kw.urls[e]||BO(e)||n(e,`plugins/${e}/plugin${t}.js`)}))})(e,t),n.loadQueue().then(o,o)},LO=xt().deviceType,MO=LO.isPhone(),IO=LO.isTablet(),FO=e=>{if(y(e))return[];{const t=p(e)?e:e.split(/[ ,]/),n=V(t,We);return Y(n,Ge)}},UO=(e,t)=>{const n=(t=>{const n={},o={};return ye(t,((t,n)=>H(e,n)),ve(n),ve(o)),{t:n,f:o}})(t);return o=n.t,r=n.f,{sections:N(o),options:N(r)};var o,r},zO=(e,t)=>_e(e.sections(),t),jO=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:xe(e,\"toolbar_mode\").getOr(\"scrolling\"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),HO=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,o):o},$O=(e,t,n,o,r)=>{var s;const a=e?{mobile:jO(null!==(s=r.mobile)&&void 0!==s?s:{},t)}:{},i=UO([\"mobile\"],NS(a,r)),l=Dt.extend(n,o,i.options(),((e,t)=>e&&zO(t,\"mobile\"))(e,i)?((e,t,n={})=>{const o=e.sections(),r=xe(o,t).getOr({});return Dt.extend({},n,r)})(i,\"mobile\"):{},{external_plugins:HO(o,i.options())});return((e,t,n,o)=>{const r=FO(n.forced_plugins),s=FO(o.plugins),a=((e,t)=>zO(e,t)?e.sections()[t]:{})(t,\"mobile\"),i=((e,t,n,o)=>e&&zO(t,\"mobile\")?o:n)(e,t,s,a.plugins?FO(a.plugins):s),l=((e,t)=>[...FO(e),...FO(t)])(r,i);return Dt.extend(o,{forced_plugins:r,plugins:l})})(e,i,o,l)},VO=e=>{(e=>{const t=t=>()=>{q(\"left,center,right,justify\".split(\",\"),(n=>{t!==n&&e.formatter.remove(\"align\"+n)})),\"none\"!==t&&(t=>{e.formatter.toggle(t,void 0),e.nodeChanged()})(\"align\"+t)};e.editorCommands.addCommands({JustifyLeft:t(\"left\"),JustifyCenter:t(\"center\"),JustifyRight:t(\"right\"),JustifyFull:t(\"justify\"),JustifyNone:t(\"none\")})})(e),(e=>{const t=t=>()=>{const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return $(o,(n=>C(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t(\"alignleft\"),JustifyCenter:t(\"aligncenter\"),JustifyRight:t(\"alignright\"),JustifyFull:t(\"alignjustify\")},\"state\")})(e)},qO=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?((e,t,n,o)=>{const r=Cn(e.getRoot());return n=ch(r,el.fromRangeStart(t),o)?n.replace(/^ /,\"&nbsp;\"):n.replace(/^&nbsp;/,\" \"),uh(r,el.fromRangeEnd(t),o)?n.replace(/(&nbsp;| )(<br( \\/)>)?$/,\"&nbsp;\"):n.replace(/&nbsp;(<br( \\/)?>)?$/,\" \")})(o,n.getRng(),t,e.schema):t},WO=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:o}=(e=>{if(\"string\"!=typeof e){const t=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);IC(e,{...o,content:qO(e,n),format:\"html\",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>fw(e).editor.insertContent(t,n))(e,t.content,o);FC(e,n,t),e.addVisual()}))}},KO={\"font-size\":\"size\",\"font-family\":\"face\"},YO=Zt(\"font\"),GO=e=>(t,n)=>I.from(n).map(Cn).filter(Kt).bind((n=>((e,t,n)=>Vb(Cn(n),(t=>(t=>mo(t,e).orThunk((()=>YO(t)?xe(KO,e).bind((e=>nn(t,e))):I.none())))(t)),(e=>kn(Cn(t),e))))(e,t,n.dom).or(((e,t)=>I.from(ma.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(\"\"),XO=GO(\"font-size\"),ZO=k((e=>e.replace(/[\\'\\\"\\\\]/g,\"\").replace(/,\\s+/g,\",\")),GO(\"font-family\")),QO=e=>Zu(e.getBody()).bind((e=>{const t=e.container();return I.from(lr(t)?t.parentNode:t)})),JO=(e,t)=>((e,t)=>(e=>I.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?I.none():I.from(e.selection.getStart(!0))})))(e).orThunk(T(QO,e)).map(Cn).filter(Kt).bind(t))(e,S(I.some,t)),eB=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=(e=>Dt.explode(e.options.get(\"font_size_style_values\")))(e),r=(e=>Dt.explode(e.options.get(\"font_size_classes\")))(e);return r.length>0?r[n-1]||t:o[n-1]||t}return t}return t},tB=e=>{const t=e.split(/\\s*,\\s*/);return V(t,(e=>-1===e.indexOf(\" \")||$e(e,'\"')||$e(e,\"'\")?e:`'${e}'`)).join(\",\")},nB=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,o=e.selection.getRng(),r=t?e.selection.getStart():e.selection.getEnd(),s=t?o.startContainer:o.endContainer,a=ZN(n,s);if(!a||!a.isContentEditable)return;const i=t?po:ho,l=ed(e);((e,t,n,o)=>{const r=e.dom,s=e=>r.isBlock(e)&&e.parentElement===n,a=s(t)?t:r.getParent(o,s,n);return I.from(a).map(Cn)})(e,r,a,s).each((t=>{const n=tR(e,s,t.dom,a,!1,l);i(t,Cn(n)),e.selection.setCursorLocation(n,0),e.dispatch(\"NewBlock\",{newBlock:n}),VN(e,\"insertParagraph\")}))},oB=e=>{VO(e),(e=>{e.editorCommands.addCommands({\"Cut,Copy,Paste\":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(e){o=!0}if(\"paste\"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate(\"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.\");(Tt.os.isMacOS()||Tt.os.isiOS())&&(t=t.replace(/Ctrl\\+/g,\"\\u2318+\")),e.notificationManager.open({text:t,type:\"error\"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let r=0;e.dom.getParent(e.selection.getNode(),(t=>!Jo(t)||r++!==o||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),hr);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{WO(e,e.dom.createHTML(\"img\",{src:o}))},insertHorizontalRule:()=>{e.execCommand(\"mceInsertContent\",!1,\"<hr>\")},insertText:(t,n,o)=>{WO(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{WO(e,o)},mceInsertContent:(t,n,o)=>{WO(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand(\"mceInsertContent\",!1,o.replace(/\\{\\$selection\\}/g,e.selection.getContent({format:\"text\"})))},mceNewDocument:()=>{e.setContent(pc(e))}})})(e),(e=>{const t=(t,n,o)=>{if(e.mode.isReadOnly())return;const r=m(o)?{href:o}:o,s=e.dom.getParent(e.selection.getNode(),\"a\");f(r)&&m(r.href)&&(r.href=r.href.replace(/ /g,\"%20\"),s&&r.href||e.formatter.remove(\"link\"),r.href&&e.formatter.apply(\"link\",r,s))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),\"a\");return void(t&&e.dom.remove(t,!0))}e.formatter.remove(\"link\")}},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{ok(e,\"indent\")})(e)},Outdent:()=>{rk(e)}}),e.editorCommands.addCommands({Outdent:()=>ek(e)},\"state\")})(e),(e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(e=>{nB(e,!0)})(e)},InsertNewBlockAfter:()=>{(e=>{nB(e,!1)})(e)}})})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{DR(mR,e)},mceInsertNewLine:(t,n,o)=>{LR(e,o)},InsertLineBreak:(t,n,o)=>{DR(CR,e)}})})(e),(e=>{(e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":e=>{t(e)},\"ForeColor,HiliteColor\":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t(\"hilitecolor\",{value:o})},FontName:(t,n,o)=>{((e,t)=>{const n=eB(e,t);e.formatter.toggle(\"fontname\",{value:tB(n)}),e.nodeChanged()})(e,o)},FontSize:(t,n,o)=>{((e,t)=>{e.formatter.toggle(\"fontsize\",{value:eB(e,t)}),e.nodeChanged()})(e,o)},LineHeight:(t,n,o)=>{((e,t)=>{e.formatter.toggle(\"lineheight\",{value:String(t)}),e.nodeChanged()})(e,o)},Lang:(e,n,o)=>{var r;t(e,{value:o.code,customValue:null!==(r=o.customCode)&&void 0!==r?r:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t(\"blockquote\")},FormatBlock:(e,n,o)=>{t(m(o)?o:\"p\")},mceToggleFormat:(e,n,o)=>{t(o)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":e=>t(e),mceBlockQuote:()=>t(\"blockquote\")},\"state\"),e.editorCommands.addQueryValueHandler(\"FontName\",(()=>(e=>JO(e,(t=>ZO(e.getBody(),t.dom))).getOr(\"\"))(e))),e.editorCommands.addQueryValueHandler(\"FontSize\",(()=>(e=>JO(e,(t=>XO(e.getBody(),t.dom))).getOr(\"\"))(e))),e.editorCommands.addQueryValueHandler(\"LineHeight\",(()=>(e=>JO(e,(t=>{const n=Cn(e.getBody()),o=Vb(t,(e=>mo(e,\"line-height\")),T(kn,n));return o.getOrThunk((()=>{const e=parseFloat(co(t,\"line-height\")),n=parseFloat(co(t,\"font-size\"));return String(e/n)}))})).getOr(\"\"))(e)))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const r=null!=o?o:e.selection.getNode();if(r!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{((e,t)=>{e.removed||(t?Zf(e):(e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable();const r=e=>{If(e).each((t=>{e.selection.setRng(t),o=t}))};!Gf(e)&&e.hasEditableRoot()&&r(e);const s=((e,t)=>e.dom.getParent(t,(t=>\"true\"===e.dom.getContentEditable(t))))(e,t.getNode());if(s&&e.dom.isChildOf(s,n))return((e,t)=>null!==e.dom.getParent(t,(t=>\"false\"===e.dom.getContentEditable(t))))(e,s)||Yf(n),Yf(s),e.hasEditableRoot()||r(e),Kf(e,o),void Zf(e);e.inline||(Tt.browser.isOpera()||Yf(n),e.getWin().focus()),(Tt.browser.isFirefox()||e.inline)&&(Yf(n),Kf(e,o)),Zf(e)})(e))})(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},rB=[\"toggleview\"],sB=e=>H(rB,e.toLowerCase());class aB{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,o){const r=this.editor,s=e.toLowerCase(),a=null==o?void 0:o.skip_focus;if(r.removed)return!1;if(\"mcefocus\"!==s&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(s)||a?(e=>{If(e).each((t=>e.selection.setRng(t)))})(r):r.focus()),r.dispatch(\"BeforeExecCommand\",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const i=this.commands.exec[s];return!!w(i)&&(i(s,t,n),r.dispatch(\"ExecCommand\",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!sB(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!w(n)&&n(t)}queryCommandValue(e){if(!sB(e)&&this.editor.quirks.isHidden()||this.editor.removed)return\"\";const t=e.toLowerCase(),n=this.commands.value[t];return w(n)?n(t):\"\"}addCommands(e,t=\"exec\"){const n=this.commands;pe(e,((e,o)=>{q(o.toLowerCase().split(\",\"),(o=>{n[t][o]=e}))}))}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,r)=>t.call(null!=n?n:this.editor,o,r)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const iB=Dt.makeMap(\"focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel\",\" \");class lB{static isNative(e){return!!iB[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||L}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=Xs(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[n];if(r)for(let e=0,t=r.length;e<t;e++){const t=r[e];if(!t.removed){if(t.once&&this.off(n,t.func),o.isImmediatePropagationStopped())return o;if(!1===t.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=L),t){const r={func:t,removed:!1};o&&Dt.extend(r,o);const s=e.toLowerCase().split(\" \");let a=s.length;for(;a--;){const e=s[a];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[r,...t]:[...t,r],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(\" \");let o=n.length;for(;o--;){const r=n[o];let s=this.bindings[r];if(!r)return pe(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(s){if(t){const e=K(s,(e=>e.func===t));s=e.fail,this.bindings[r]=s,q(e.pass,(e=>{e.removed=!0}))}else s.length=0;s.length||(this.toggleEvent(e,!1),delete this.bindings[r])}}}else pe(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const dB=e=>(e._eventDispatcher||(e._eventDispatcher=new lB({scope:e,toggleEvent:(t,n)=>{lB.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),cB={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&\"remove\"!==e&&\"detach\"!==e)return Xs(e.toLowerCase(),null!=t?t:{},o);const r=dB(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();for(;t&&!r.isPropagationStopped();)t.dispatch(e,r,!1),t=t.parent?t.parent():void 0}return r},on(e,t,n){return dB(this).on(e,t,n)},off(e,t){return dB(this).off(e,t)},once(e,t){return dB(this).once(e,t)},hasEventListeners(e){return dB(this).has(e)}},uB=ma.DOM;let mB;const fB=(e,t)=>{if(\"selectionchange\"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Td(e);return n?(e.eventRoot||(e.eventRoot=uB.select(n)[0]),e.eventRoot):e.getBody()},gB=(e,t,n)=>{(e=>!e.hidden&&!sE(e))(e)?e.dispatch(t,n):sE(e)&&((e,t)=>{if((e=>\"click\"===e.type)(t)&&!Qf.metaKeyPressed(t)){const n=Cn(t.target);((e,t)=>to(t,\"a\",(t=>kn(t,Cn(e.getBody())))).bind((e=>nn(e,\"href\"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name=\"${je(n,\"#\")}\"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,\"_blank\",\"rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes\")}))}else(e=>H(dE,e.type))(t)&&e.dispatch(t.type,t)})(e,n)},pB=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=fB(e,t);if(Td(e)){if(mB||(mB={},e.editorManager.on(\"removeEditor\",(()=>{e.editorManager.activeEditor||mB&&(pe(mB,((t,n)=>{e.dom.unbind(fB(e,n))})),mB=null)}))),mB[t])return;const o=n=>{const o=n.target,r=e.editorManager.get();let s=r.length;for(;s--;){const e=r[s].getBody();(e===o||uB.isChildOf(o,e))&&gB(r[s],t,n)}};mB[t]=o,uB.bind(n,t,o)}else{const o=n=>{gB(e,t,n)};uB.bind(n,t,o),e.delegates[t]=o}},hB={...cB,bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,(t=>{pB(e,t)}))},toggleNativeEvent(e,t){const n=this;\"focus\"!==e&&\"blur\"!==e&&(n.removed||(t?n.initialized?pB(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(fB(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(pe(e.delegates,((t,n)=>{e.dom.unbind(fB(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},bB=e=>m(e)?{value:e.split(/[ ,]/),valid:!0}:x(e,m)?{value:e,valid:!0}:{valid:!1,message:\"The value must be a string[] or a comma/space separated string.\"},vB=(e,t)=>e+(Xe(t.message)?\"\":`. ${t.message}`),yB=e=>e.valid,CB=(e,t,n=\"\")=>{const o=t(e);return b(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},wB=e=>e.readonly,EB=[\"design\",\"readonly\"],xB=(e,t,n,o)=>{const r=n[t.get()],s=n[o];try{s.activate()}catch(e){return void console.error(`problem while activating editor mode ${o}:`,e)}r.deactivate(),r.editorReadOnly!==s.editorReadOnly&&((e,t)=>{const n=Cn(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&(n.dom.contentEditable=\"true\"),oE(e)):(e.readonly=!1,rE(e))})(e,s.editorReadOnly),t.set(o),((e,t)=>{e.dispatch(\"SwitchMode\",{mode:t})})(e,o)},_B=e=>{const t=Br(\"design\"),n=Br({design:{activate:_,deactivate:_,editorReadOnly:!1},readonly:{activate:_,deactivate:_,editorReadOnly:!0}});return(e=>{e.on(\"beforeinput paste cut dragend dragover draggesture dragdrop drop drag\",(t=>{wB(e)&&t.preventDefault()})),e.on(\"BeforeExecCommand\",(t=>{\"Undo\"!==t.command&&\"Redo\"!==t.command||!wB(e)||t.preventDefault()})),e.on(\"input\",(t=>{if(!t.isComposing&&wB(e)){const t=e.undoManager.add();C(t)&&e.undoManager.undo()}})),e.on(\"compositionend\",(()=>{if(wB(e)){const t=e.undoManager.add();C(t)&&e.undoManager.undo()}}))})(e),(e=>{(e=>{e.serializer?lE(e):e.on(\"PreInit\",(()=>{lE(e)}))})(e),(e=>{e.on(\"ShowCaret ObjectSelected\",(t=>{sE(e)&&t.preventDefault()})),e.on(\"DisabledStateChange\",(t=>{t.isDefaultPrevented()||iE(e,t.state)}))})(e)})(e),{isReadOnly:()=>wB(e),set:o=>((e,t,n,o)=>{if(!(o===n.get()||e.initialized&&sE(e))){if(!_e(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?xB(e,n,t,o):e.on(\"init\",(()=>xB(e,n,t,o)))}})(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(H(EB,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}},kB=Dt.each,SB=Dt.explode,NB={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},RB=Dt.makeMap(\"alt,ctrl,shift,meta,access\"),AB=e=>{const t={},n=Tt.os.isMacOS()||Tt.os.isiOS();kB(SB(e.toLowerCase(),\"+\"),(e=>{(e=>e in RB)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=NB[e]||e.toUpperCase().charCodeAt(0))}));const o=[t.keyCode];let r;for(r in RB)t[r]?o.push(r):t[r]=!1;return t.id=o.join(\",\"),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class TB{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on(\"keyup keypress keydown\",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(kB(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),\"keydown\"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&\"keydown\"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,o){const r=this,s=r.normalizeCommandFunc(n);return kB(SB(Dt.trim(e)),(e=>{const n=r.createShortcut(e,t,s,o);r.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return\"string\"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:Dt.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const r=Dt.map(SB(e,\">\"),AB);return r[r.length-1]=Dt.extend(r[r.length-1],{func:n,scope:o||this.editor}),Dt.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return\"keydown\"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const OB=()=>{const e=(()=>{const e={},t={},n={},o={},r={},s={},a={},i={},l={},d=(e,t)=>(n,o)=>{e[n.toLowerCase()]={...o,type:t}};return{addButton:d(e,\"button\"),addGroupToolbarButton:d(e,\"grouptoolbarbutton\"),addToggleButton:d(e,\"togglebutton\"),addMenuButton:d(e,\"menubutton\"),addSplitButton:d(e,\"splitbutton\"),addMenuItem:d(t,\"menuitem\"),addNestedMenuItem:d(t,\"nestedmenuitem\"),addToggleMenuItem:d(t,\"togglemenuitem\"),addAutocompleter:d(n,\"autocompleter\"),addContextMenu:d(r,\"contextmenu\"),addContextToolbar:d(s,\"contexttoolbar\"),addContextForm:(c=s,(e,t)=>{c[e.toLowerCase()]={type:\"contextform\",...t}}),addSidebar:d(i,\"sidebar\"),addView:d(l,\"views\"),addIcon:(e,t)=>o[e.toLowerCase()]=t,addContext:(e,t)=>a[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:r,contextToolbars:s,sidebars:i,views:l,contexts:a})};var c})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},BB=ma.DOM,PB=Dt.extend,DB=Dt.each;class LB{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent=\"\",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,PB(this,hB);const o=this;this.id=e,this.hidden=!1;const r=((e,t)=>{const n=RS(t);return $O(MO||IO,MO,n,e,n)})(n.defaultOptions,t);this.options=((e,t,n=t)=>{const o={},r={},s=(e,t,n)=>{const o=CB(t,n);return yB(o)?(r[e]=o.value,!0):(console.warn(vB(`Invalid value passed for the ${e} option`,o)),!1)},a=e=>_e(o,e);return{register:(e,n)=>{const a=(e=>m(e.processor))(n)?(e=>{const t=(()=>{switch(e){case\"array\":return p;case\"boolean\":return b;case\"function\":return w;case\"number\":return E;case\"object\":return f;case\"string\":return m;case\"string[]\":return bB;case\"object[]\":return e=>x(e,f);case\"regexp\":return e=>u(e,RegExp);default:return M}})();return n=>CB(n,t,`The value must be a ${e}.`)})(n.processor):n.processor,i=((e,t,n)=>{if(!v(t)){const o=CB(t,n);if(yB(o))return o.value;console.error(vB(`Invalid default value passed for the \"${e}\" option`,o))}})(e,n.default,a);o[e]={...n,default:i,processor:a},xe(r,e).orThunk((()=>xe(t,e))).each((t=>s(e,t,a)))},isRegistered:a,get:e=>xe(r,e).orThunk((()=>xe(o,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(a(e)){const n=o[e];return n.immutable?(console.error(`\"${e}\" is an immutable option and cannot be updated`),!1):s(e,t,n.processor)}return console.warn(`\"${e}\" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=a(e);return t&&delete r[e],t},isSet:e=>_e(r,e),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,((e,t)=>b(t)||E(t)||m(t)||h(t)||p(t)||g(t)?t:Object.prototype.toString.call(t)))))}catch(e){console.error(e)}}}})(0,r,t),(e=>{const t=e.options.register;t(\"id\",{processor:\"string\",default:e.id}),t(\"selector\",{processor:\"string\"}),t(\"target\",{processor:\"object\"}),t(\"suffix\",{processor:\"string\"}),t(\"cache_suffix\",{processor:\"string\"}),t(\"base_url\",{processor:\"string\"}),t(\"referrer_policy\",{processor:\"string\",default:\"\"}),t(\"language_load\",{processor:\"boolean\",default:!0}),t(\"inline\",{processor:\"boolean\",default:!1}),t(\"iframe_attrs\",{processor:\"object\",default:{}}),t(\"doctype\",{processor:\"string\",default:\"<!DOCTYPE html>\"}),t(\"document_base_url\",{processor:\"string\",default:e.documentBaseUrl}),t(\"body_id\",{processor:Wl(e,\"tinymce\"),default:\"tinymce\"}),t(\"body_class\",{processor:Wl(e),default:\"\"}),t(\"content_security_policy\",{processor:\"string\",default:\"\"}),t(\"br_in_pre\",{processor:\"boolean\",default:!0}),t(\"forced_root_block\",{processor:e=>{const t=m(e)&&Ge(e);return t?{value:e,valid:t}:{valid:!1,message:\"Must be a non-empty string.\"}},default:\"p\"}),t(\"forced_root_block_attrs\",{processor:\"object\",default:{}}),t(\"newline_behavior\",{processor:e=>{const t=H([\"block\",\"linebreak\",\"invert\",\"default\"],e);return t?{value:e,valid:t}:{valid:!1,message:\"Must be one of: block, linebreak, invert or default.\"}},default:\"default\"}),t(\"br_newline_selector\",{processor:\"string\",default:\".mce-toc h2,figcaption,caption\"}),t(\"no_newline_selector\",{processor:\"string\",default:\"\"}),t(\"keep_styles\",{processor:\"boolean\",default:!0}),t(\"end_container_on_empty_block\",{processor:e=>b(e)||m(e)?{valid:!0,value:e}:{valid:!1,message:\"Must be boolean or a string\"},default:\"blockquote\"}),t(\"font_size_style_values\",{processor:\"string\",default:\"xx-small,x-small,small,medium,large,x-large,xx-large\"}),t(\"font_size_legacy_values\",{processor:\"string\",default:\"xx-small,small,medium,large,x-large,xx-large,300%\"}),t(\"font_size_classes\",{processor:\"string\",default:\"\"}),t(\"automatic_uploads\",{processor:\"boolean\",default:!0}),t(\"images_reuse_filename\",{processor:\"boolean\",default:!1}),t(\"images_replace_blob_uris\",{processor:\"boolean\",default:!0}),t(\"icons\",{processor:\"string\",default:\"\"}),t(\"icons_url\",{processor:\"string\",default:\"\"}),t(\"images_upload_url\",{processor:\"string\",default:\"\"}),t(\"images_upload_base_path\",{processor:\"string\",default:\"\"}),t(\"images_upload_credentials\",{processor:\"boolean\",default:!1}),t(\"images_upload_handler\",{processor:\"function\"}),t(\"language\",{processor:\"string\",default:\"en\"}),t(\"language_url\",{processor:\"string\",default:\"\"}),t(\"entity_encoding\",{processor:\"string\",default:\"named\"}),t(\"indent\",{processor:\"boolean\",default:!0}),t(\"indent_before\",{processor:\"string\",default:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\"}),t(\"indent_after\",{processor:\"string\",default:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\"}),t(\"indent_use_margin\",{processor:\"boolean\",default:!1}),t(\"indentation\",{processor:\"string\",default:\"40px\"}),t(\"content_css\",{processor:e=>{const t=!1===e||m(e)||x(e,m);return t?m(e)?{value:V(e.split(\",\"),We),valid:t}:p(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:\"Must be false, a string or an array of strings.\"}},default:Hd(e)?[]:[\"default\"]}),t(\"content_style\",{processor:\"string\"}),t(\"content_css_cors\",{processor:\"boolean\",default:!1}),t(\"font_css\",{processor:e=>{const t=m(e)||x(e,m);return t?{value:p(e)?e:V(e.split(\",\"),We),valid:t}:{valid:!1,message:\"Must be a string or an array of strings.\"}},default:[]}),t(\"inline_boundaries\",{processor:\"boolean\",default:!0}),t(\"inline_boundaries_selector\",{processor:\"string\",default:\"a[href],code,span.mce-annotation\"}),t(\"object_resizing\",{processor:e=>{const t=b(e)||m(e);return t?!1===e||zl.isiPhone()||zl.isiPad()?{value:\"\",valid:t}:{value:!0===e?\"table,img,figure.image,div,video,iframe\":e,valid:t}:{valid:!1,message:\"Must be boolean or a string\"}},default:!jl}),t(\"resize_img_proportional\",{processor:\"boolean\",default:!0}),t(\"event_root\",{processor:\"string\"}),t(\"service_message\",{processor:\"string\"}),t(\"theme\",{processor:e=>!1===e||m(e)||w(e),default:\"silver\"}),t(\"theme_url\",{processor:\"string\"}),t(\"formats\",{processor:\"object\"}),t(\"format_empty_lines\",{processor:\"boolean\",default:!1}),t(\"format_noneditable_selector\",{processor:\"string\",default:\"\"}),t(\"preview_styles\",{processor:e=>{const t=!1===e||m(e);return t?{value:!1===e?\"\":e,valid:t}:{valid:!1,message:\"Must be false or a string\"}},default:\"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow\"}),t(\"custom_ui_selector\",{processor:\"string\",default:\"\"}),t(\"hidden_input\",{processor:\"boolean\",default:!0}),t(\"submit_patch\",{processor:\"boolean\",default:!0}),t(\"encoding\",{processor:\"string\"}),t(\"add_form_submit_trigger\",{processor:\"boolean\",default:!0}),t(\"add_unload_trigger\",{processor:\"boolean\",default:!0}),t(\"custom_undo_redo_levels\",{processor:\"number\",default:0}),t(\"disable_nodechange\",{processor:\"boolean\",default:!1}),t(\"disabled\",{processor:t=>b(t)?(e.initialized&&jc(e)!==t&&Promise.resolve().then((()=>{((e,t)=>{e.dispatch(\"DisabledStateChange\",{state:t})})(e,t)})),{valid:!0,value:t}):{valid:!1,message:\"The value must be a boolean.\"},default:!1}),t(\"readonly\",{processor:\"boolean\",default:!1}),t(\"editable_root\",{processor:\"boolean\",default:!0}),t(\"plugins\",{processor:\"string[]\",default:[]}),t(\"external_plugins\",{processor:\"object\"}),t(\"forced_plugins\",{processor:\"string[]\"}),t(\"model\",{processor:\"string\",default:e.hasPlugin(\"rtc\")?\"plugin\":\"dom\"}),t(\"model_url\",{processor:\"string\"}),t(\"block_unsupported_drop\",{processor:\"boolean\",default:!0}),t(\"visual\",{processor:\"boolean\",default:!0}),t(\"visual_table_class\",{processor:\"string\",default:\"mce-item-table\"}),t(\"visual_anchor_class\",{processor:\"string\",default:\"mce-item-anchor\"}),t(\"iframe_aria_text\",{processor:\"string\",default:\"Rich Text Area\".concat(e.hasPlugin(\"help\")?\". Press ALT-0 for help.\":\"\")}),t(\"setup\",{processor:\"function\"}),t(\"init_instance_callback\",{processor:\"function\"}),t(\"url_converter\",{processor:\"function\",default:e.convertURL}),t(\"url_converter_scope\",{processor:\"object\",default:e}),t(\"urlconverter_callback\",{processor:\"function\"}),t(\"allow_conditional_comments\",{processor:\"boolean\",default:!1}),t(\"allow_html_data_urls\",{processor:\"boolean\",default:!1}),t(\"allow_svg_data_urls\",{processor:\"boolean\"}),t(\"allow_html_in_named_anchor\",{processor:\"boolean\",default:!1}),t(\"allow_script_urls\",{processor:\"boolean\",default:!1}),t(\"allow_unsafe_link_target\",{processor:\"boolean\",default:!1}),t(\"allow_mathml_annotation_encodings\",{processor:e=>{const t=x(e,m);return t?{value:e,valid:t}:{valid:!1,message:\"Must be an array of strings.\"}},default:[]}),t(\"convert_fonts_to_spans\",{processor:\"boolean\",default:!0,deprecated:!0}),t(\"fix_list_elements\",{processor:\"boolean\",default:!1}),t(\"preserve_cdata\",{processor:\"boolean\",default:!1}),t(\"remove_trailing_brs\",{processor:\"boolean\",default:!0}),t(\"pad_empty_with_br\",{processor:\"boolean\",default:!1}),t(\"inline_styles\",{processor:\"boolean\",default:!0,deprecated:!0}),t(\"element_format\",{processor:\"string\",default:\"html\"}),t(\"entities\",{processor:\"string\"}),t(\"schema\",{processor:\"string\",default:\"html5\"}),t(\"convert_urls\",{processor:\"boolean\",default:!0}),t(\"relative_urls\",{processor:\"boolean\",default:!0}),t(\"remove_script_host\",{processor:\"boolean\",default:!0}),t(\"custom_elements\",{processor:ql}),t(\"extended_valid_elements\",{processor:\"string\"}),t(\"invalid_elements\",{processor:\"string\"}),t(\"invalid_styles\",{processor:ql}),t(\"valid_children\",{processor:\"string\"}),t(\"valid_classes\",{processor:ql}),t(\"valid_elements\",{processor:\"string\"}),t(\"valid_styles\",{processor:ql}),t(\"verify_html\",{processor:\"boolean\",default:!0}),t(\"auto_focus\",{processor:e=>m(e)||!0===e}),t(\"browser_spellcheck\",{processor:\"boolean\",default:!1}),t(\"protect\",{processor:\"array\"}),t(\"images_file_types\",{processor:\"string\",default:\"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp\"}),t(\"deprecation_warnings\",{processor:\"boolean\",default:!0}),t(\"a11y_advanced_options\",{processor:\"boolean\",default:!1}),t(\"api_key\",{processor:\"string\"}),t(\"license_key\",{processor:\"string\"}),t(\"paste_block_drop\",{processor:\"boolean\",default:!1}),t(\"paste_data_images\",{processor:\"boolean\",default:!0}),t(\"paste_preprocess\",{processor:\"function\"}),t(\"paste_postprocess\",{processor:\"function\"}),t(\"paste_webkit_styles\",{processor:\"string\",default:\"none\"}),t(\"paste_remove_styles_if_webkit\",{processor:\"boolean\",default:!0}),t(\"paste_merge_formats\",{processor:\"boolean\",default:!0}),t(\"smart_paste\",{processor:\"boolean\",default:!0}),t(\"paste_as_text\",{processor:\"boolean\",default:!1}),t(\"paste_tab_spaces\",{processor:\"number\",default:4}),t(\"text_patterns\",{processor:e=>x(e,f)||!1===e?{value:Bl(!1===e?[]:e),valid:!0}:{valid:!1,message:\"Must be an array of objects or false.\"},default:[{start:\"*\",end:\"*\",format:\"italic\"},{start:\"**\",end:\"**\",format:\"bold\"},{start:\"#\",format:\"h1\",trigger:\"space\"},{start:\"##\",format:\"h2\",trigger:\"space\"},{start:\"###\",format:\"h3\",trigger:\"space\"},{start:\"####\",format:\"h4\",trigger:\"space\"},{start:\"#####\",format:\"h5\",trigger:\"space\"},{start:\"######\",format:\"h6\",trigger:\"space\"},{start:\"1.\",cmd:\"InsertOrderedList\",trigger:\"space\"},{start:\"*\",cmd:\"InsertUnorderedList\",trigger:\"space\"},{start:\"-\",cmd:\"InsertUnorderedList\",trigger:\"space\"},{start:\">\",cmd:\"mceBlockQuote\",trigger:\"space\"},{start:\"---\",cmd:\"InsertHorizontalRule\",trigger:\"space\"}]}),t(\"text_patterns_lookup\",{processor:e=>{return w(e)?{value:(t=e,e=>{const n=t(e);return Bl(n)}),valid:!0}:{valid:!1,message:\"Must be a single function\"};var t},default:e=>[]}),t(\"noneditable_class\",{processor:\"string\",default:\"mceNonEditable\"}),t(\"editable_class\",{processor:\"string\",default:\"mceEditable\"}),t(\"noneditable_regexp\",{processor:e=>x(e,$l)?{value:e,valid:!0}:$l(e)?{value:[e],valid:!0}:{valid:!1,message:\"Must be a RegExp or an array of RegExp.\"},default:[]}),t(\"table_tab_navigation\",{processor:\"boolean\",default:!0}),t(\"highlight_on_focus\",{processor:\"boolean\",default:!0}),t(\"xss_sanitization\",{processor:\"boolean\",default:!0}),t(\"details_initial_state\",{processor:e=>{const t=H([\"inherited\",\"collapsed\",\"expanded\"],e);return t?{value:e,valid:t}:{valid:!1,message:\"Must be one of: inherited, collapsed, or expanded.\"}},default:\"inherited\"}),t(\"details_serialized_state\",{processor:e=>{const t=H([\"inherited\",\"collapsed\",\"expanded\"],e);return t?{value:e,valid:t}:{valid:!1,message:\"Must be one of: inherited, collapsed, or expanded.\"}},default:\"inherited\"}),t(\"init_content_sync\",{processor:\"boolean\",default:!1}),t(\"newdocument_content\",{processor:\"string\",default:\"\"}),t(\"sandbox_iframes\",{processor:\"boolean\",default:!0}),t(\"sandbox_iframes_exclusions\",{processor:\"string[]\",default:[\"youtube.com\",\"youtu.be\",\"vimeo.com\",\"player.vimeo.com\",\"dailymotion.com\",\"embed.music.apple.com\",\"open.spotify.com\",\"giphy.com\",\"dai.ly\",\"codepen.io\"]}),t(\"convert_unsafe_embeds\",{processor:\"boolean\",default:!0}),e.on(\"ScriptsLoaded\",(()=>{t(\"directionality\",{processor:\"string\",default:va.isRtl()?\"rtl\":void 0}),t(\"placeholder\",{processor:\"string\",default:Hl.getAttrib(e.getElement(),\"placeholder\")})}))})(o);const s=this.options.get;s(\"deprecation_warnings\")&&((e,t)=>{((e,t)=>{const n=Tw(e),o=Pw(t),r=o.length>0,s=n.length>0,a=\"mobile\"===t.theme;if(r||s||a){const e=\"\\n- \",t=a?`\\n\\nThemes:${e}mobile`:\"\",i=r?`\\n\\nPlugins:${e}${o.join(e)}`:\"\",l=s?`\\n\\nOptions:${e}${n.join(e)}`:\"\";console.warn(\"The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information.\"+t+i+l)}})(e,t),((e,t)=>{const n=Ow(e),o=Dw(t),r=o.length>0,s=n.length>0;if(r||s){const e=\"\\n- \",t=r?`\\n\\nPlugins:${e}${o.map(Lw).join(e)}`:\"\",a=s?`\\n\\nOptions:${e}${n.join(e)}`:\"\";console.warn(\"The following deprecated features are currently enabled but will be removed soon.\"+t+a)}})(e,t)})(t,r);const a=s(\"suffix\");a&&(n.suffix=a),this.suffix=n.suffix;const i=s(\"base_url\");i&&n._setBaseUrl(i),this.baseUri=n.baseURI;const l=bd(o);l&&(ga.ScriptLoader._setReferrerPolicy(l),ma.DOM.styleSheetLoader._setReferrerPolicy(l));const d=Zd(o);C(d)&&ma.DOM.styleSheetLoader._setContentCssCors(d),ya.languageLoad=s(\"language_load\"),ya.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new vC(Gl(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Hd(o),this.hasVisual=tc(o),this.shortcuts=new TB(this),this.editorCommands=new aB(this),oB(this);const c=s(\"cache_suffix\");c&&(Tt.cacheSuffix=c.replace(/^[\\?\\&]+/,\"\")),this.ui={registry:OB(),styleSheetLoader:void 0,show:_,hide:_,setEnabled:_,isEnabled:M},this.mode=_B(o),n.dispatch(\"SetupEditor\",{editor:this});const y=sc(o);w(y)&&y.call(o,o)}render(){(e=>{const t=e.id;va.setCode(vd(e));const n=()=>{OO.unbind(window,\"ready\",n),e.render()};if(!na.Event.domLoaded)return void OO.bind(window,\"ready\",n);if(!e.getElement())return;const o=Cn(e.getElement()),r=sn(o);e.on(\"remove\",(()=>{W(o.dom.attributes,(e=>rn(o,e.name))),en(o,r)})),e.ui.styleSheetLoader=((e,t)=>rs.forElement(e,{contentCssCors:Zd(t),referrerPolicy:bd(t)}))(o,e),Hd(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility=\"hidden\");const s=e.getElement().form||OO.getParent(t,\"form\");s&&(e.formElement=s,$d(e)&&!ir(e.getElement())&&(OO.insertAfter(OO.create(\"input\",{type:\"hidden\",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},OO.bind(s,\"submit reset\",e.formEventDelegate),e.on(\"reset\",(()=>{e.resetContent()})),!Vd(e)||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),s._mceOldSubmit(s)))),e.windowManager=Gw(e),e.notificationManager=Ww(e),(e=>\"xml\"===e.options.get(\"encoding\"))(e)&&e.on(\"GetContent\",(e=>{e.save&&(e.content=OO.encode(e.content))})),qd(e)&&e.on(\"submit\",(()=>{e.initialized&&e.save()})),Wd(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:\"raw\",no_events:!0,set_dirty:!1})},e.editorManager.on(\"BeforeUnload\",e._beforeUnload)),e.editorManager.add(e),DO(e,e.suffix)})(this)}focus(e){this.execCommand(\"mceFocus\",!1,e)}hasFocus(){return Gf(this)}translate(e){return va.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(C(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:M,default:t})),o.isSet(e)||v(t)?o.get(e):t}hasPlugin(e,t){return!(!H(Qd(this),e)||t&&void 0===Kw.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=\"true\":(BB.show(e.getContainer()),BB.hide(e.id)),e.load(),e.dispatch(\"show\"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable=\"false\",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(BB.hide(e.getContainer()),BB.setStyle(e.id,\"display\",e.orgDisplay)),e.hidden=!0,e.dispatch(\"hide\"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch(\"ProgressState\",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return\"\";if(n){const o={...e,load:!0},r=ir(n)?n.value:n.innerHTML,s=t.setContent(r,o);return o.no_events||t.dispatch(\"LoadContent\",{...o,element:n}),s}return\"\"}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return\"\";const o={...e,save:!0,element:n};let r=t.getContent(o);const s={...o,content:r};if(s.no_events||t.dispatch(\"SaveContent\",s),\"raw\"===s.format&&t.dispatch(\"RawSaveContent\",s),r=s.content,ir(n))n.value=r;else{!e.is_removing&&t.inline||(n.innerHTML=r);const o=BB.getParent(t.id,\"form\");o&&DB(o.elements,(e=>e.name!==t.id||(e.value=r,!1)))}return s.element=o.element=n=null,!1!==s.set_dirty&&t.setDirty(!1),r}setContent(e,t){return _w(this,e,t)}getContent(e){return((e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:\"html\");return LC(e,n).fold(R,(t=>{const n=((e,t)=>fw(e).editor.getContent(t))(e,t);return MC(e,n,t)}))})(this,e)}insertContent(e,t){t&&(e=PB({content:e},t)),this.execCommand(\"mceInsertContent\",!1,e)}resetContent(e){void 0===e?_w(this,this.startContent,{format:\"raw\"}):_w(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch(\"dirty\")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||BB.get(e.id+\"_parent\")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=BB.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const o=this,r=o.options.get,s=ic(o);if(w(s))return s.call(o,e,n,!0,t);if(!r(\"convert_urls\")||\"link\"===n||f(n)&&\"LINK\"===n.nodeName||0===e.indexOf(\"file:\")||0===e.length)return e;const a=new vC(e);return\"http\"!==a.protocol&&\"https\"!==a.protocol&&\"\"!==a.protocol?e:r(\"relative_urls\")?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,r(\"remove_script_host\"))}addVisual(e){((e,t)=>{((e,t)=>{gw(e).editor.addVisual(t)})(e,t)})(this,e)}setEditableRoot(e){((e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,sE(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),((e,t)=>{e.dispatch(\"EditableRootStateChange\",{state:t})})(e,t))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),r=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&C(null==r?void 0:r.nextSibling)&&Mw.remove(r.nextSibling),(e=>{e.dispatch(\"remove\")})(e),e.editorManager.remove(e),!e.inline&&o&&(e=>{Mw.setStyle(e.id,\"display\",e.orgDisplay)})(e),(e=>{e.dispatch(\"detach\")})(e),Mw.remove(e.getContainer()),Iw(t),Iw(n),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off(\"beforeunload\",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Iw(n),Iw(o)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Mw.unbind(t,\"submit reset\",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const MB=ma.DOM,IB=Dt.each;let FB,UB=!1,zB=[];const jB=e=>{const t=e.type;IB(qB.get(),(n=>{switch(t){case\"scroll\":n.dispatch(\"ScrollWindow\",e);break;case\"resize\":n.dispatch(\"ResizeWindow\",e)}}))},HB=e=>{if(e!==UB){const t=ma.DOM;e?(t.bind(window,\"resize\",jB),t.bind(window,\"scroll\",jB)):(t.unbind(window,\"resize\",jB),t.unbind(window,\"scroll\",jB)),UB=e}},$B=e=>{const t=zB;return zB=Y(zB,(t=>e!==t)),qB.activeEditor===e&&(qB.activeEditor=zB.length>0?zB[0]:null),qB.focusedEditor===e&&(qB.focusedEditor=null),t.length!==zB.length},VB=\"CSS1Compat\"!==document.compatMode,qB={...cB,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:\"7\",minorVersion:\"7.0\",releaseDate:\"TBD\",i18n:va,activeEditor:null,focusedEditor:null,setup(){const e=this;let t=\"\",n=\"\",o=vC.getDocumentBaseUrl(document.location);/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(o)&&(o=o.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(o)||(o+=\"/\"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,n=r.suffix;else{const e=document.getElementsByTagName(\"script\");for(let o=0;o<e.length;o++){const r=e[o].src||\"\";if(\"\"===r)continue;const s=r.substring(r.lastIndexOf(\"/\"));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(r)){-1!==s.indexOf(\".min\")&&(n=\".min\"),t=r.substring(0,r.lastIndexOf(\"/\"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(\".min\")&&(n=\".min\"),t=e.substring(0,e.lastIndexOf(\"/\"))}}var s;e.baseURL=new vC(o).toAbsolute(t),e.documentBaseURL=o,e.baseURI=new vC(e.baseURL),e.suffix=n,(s=e).on(\"AddEditor\",T(qf,s)),s.on(\"RemoveEditor\",T(Wf,s))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&pe(o,((e,t)=>{ya.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const o=Dt.makeMap(\"area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu\",\" \");let r=e=>{n=e};const s=()=>{let n=0;const a=[];let i;MB.unbind(window,\"ready\",s),(()=>{const n=e.onpageload;n&&n.apply(t,[])})(),i=me((e=>Tt.browser.isIE()||Tt.browser.isEdge()?(eE(\"TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers\"),[]):VB?(eE(\"Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.\"),[]):m(e.selector)?MB.select(e.selector):C(e.target)?[e.target]:[])(e)),Dt.each(i,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&($B(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),i=Dt.grep(i,(e=>!t.get(e.id))),0===i.length?r([]):IB(i,(s=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in o)(e,s)?eE(\"Could not initialize inline editor on invalid inline target element\",s):((e,o,s)=>{const l=new LB(e,o,t);a.push(l),l.on(\"init\",(()=>{++n===i.length&&r(a)})),l.targetElm=l.targetElm||s,l.render()})((e=>{let t=e.id;return t||(t=xe(e,\"name\").filter((e=>!MB.get(e))).getOrThunk(MB.uniqueId),e.setAttribute(\"id\",t)),t})(s),e,s)}))};return MB.bind(window,\"ready\",s),new Promise((e=>{n?e(n):r=t=>{e(t)}}))},get(e){return 0===arguments.length?zB.slice(0):m(e)?Q(zB,(t=>t.id===e)).getOr(null):E(e)&&zB[e]?zB[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&zB.push(e),HB(!0),t.activeEditor=e,t.dispatch(\"AddEditor\",{editor:e}),FB||(FB=e=>{const n=t.dispatch(\"BeforeUnload\");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener(\"beforeunload\",FB))),e},createEditor(e,t){return this.add(new LB(e,t,this))},remove(e){const t=this;let n;if(e){if(!m(e))return n=e,h(t.get(n.id))?null:($B(n)&&t.dispatch(\"RemoveEditor\",{editor:n}),0===zB.length&&window.removeEventListener(\"beforeunload\",FB),n.remove(),HB(zB.length>0),n);IB(MB.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let e=zB.length-1;e>=0;e--)t.remove(zB[e])},execCommand(e,t,n){var o;const r=this,s=f(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case\"mceAddEditor\":if(!r.get(s)){const e=n.options;new LB(s,e,r).render()}return!0;case\"mceRemoveEditor\":{const e=r.get(s);return e&&e.remove(),!0}case\"mceToggleEditor\":{const e=r.get(s);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand(\"mceAddEditor\",!1,n),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:()=>{IB(zB,(e=>{e.save()}))},addI18n:(e,t)=>{va.add(e,t)},translate:e=>va.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch(\"deactivate\",{relatedTarget:e}),e.dispatch(\"activate\",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new vC(this.documentBaseURL).toAbsolute(e.replace(/\\/+$/,\"\")),this.baseURI=new vC(this.baseURL)}};qB.setup();const WB=(()=>{const e=Dr();return{FakeClipboardItem:e=>({items:e,types:fe(e),getType:t=>xe(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),KB=Math.min,YB=Math.max,GB=Math.round,XB=(e,t,n)=>{let o=t.x,r=t.y;const s=e.w,a=e.h,i=t.w,l=t.h,d=(n||\"\").split(\"\");return\"b\"===d[0]&&(r+=l),\"r\"===d[1]&&(o+=i),\"c\"===d[0]&&(r+=GB(l/2)),\"c\"===d[1]&&(o+=GB(i/2)),\"b\"===d[3]&&(r-=a),\"r\"===d[4]&&(o-=s),\"c\"===d[3]&&(r-=GB(a/2)),\"c\"===d[4]&&(o-=GB(s/2)),ZB(o,r,s,a)},ZB=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),QB={inflate:(e,t,n)=>ZB(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:XB,findBestRelativePosition:(e,t,n,o)=>{for(let r=0;r<o.length;r++){const s=XB(e,t,o[r]);if(s.x>=n.x&&s.x+s.w<=n.w+n.x&&s.y>=n.y&&s.y+s.h<=n.h+n.y)return o[r]}return null},intersect:(e,t)=>{const n=YB(e.x,t.x),o=YB(e.y,t.y),r=KB(e.x+e.w,t.x+t.w),s=KB(e.y+e.h,t.y+t.h);return r-n<0||s-o<0?null:ZB(n,o,r-n,s-o)},clamp:(e,t,n)=>{let o=e.x,r=e.y,s=e.x+e.w,a=e.y+e.h;const i=t.x+t.w,l=t.y+t.h,d=YB(0,t.x-o),c=YB(0,t.y-r),u=YB(0,s-i),m=YB(0,a-l);return o+=d,r+=c,n&&(s+=d,a+=c,o-=u,r-=m),s-=u,a-=m,ZB(o,r,s-o,a-r)},create:ZB,fromClientRect:e=>ZB(e.left,e.top,e.width,e.height)},JB=(()=>{const e={},t={},n={};return{load:(n,o)=>{const r=`Script at URL \"${o}\" failed to load`,s=`Script at URL \"${o}\" did not call \\`tinymce.Resource.add('${n}', data)\\` within 1 second`;if(void 0!==e[n])return e[n];{const a=new Promise(((e,a)=>{const i=((e,t,n=1e3)=>{let o=!1,r=null;const s=e=>(...t)=>{o||(o=!0,null!==r&&(clearTimeout(r),r=null),e.apply(null,t))},a=s(e),i=s(t);return{start:(...e)=>{o||null!==r||(r=setTimeout((()=>i.apply(null,e)),n))},resolve:a,reject:i}})(e,a);t[n]=i.resolve,ga.ScriptLoader.loadScript(o).then((()=>i.start(s)),(()=>i.reject(r)))}));return e[n]=a,a}},add:(o,r)=>{void 0!==t[o]&&(t[o](r),delete t[o]),e[o]=Promise.resolve(r),n[o]=r},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t],delete n[t]}}})();let eP;try{const e=\"__storage_test__\";eP=window.localStorage,eP.setItem(e,e),eP.removeItem(e)}catch(e){eP=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,\"length\",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const tP={geom:{Rect:QB},util:{Delay:Uf,Tools:Dt,VK:Qf,URI:vC,EventDispatcher:lB,Observable:cB,I18n:va,LocalStorage:eP,ImageUploader:e=>{const t=fE(),n=bE(e,t);return{upload:(t,o=!0)=>n.upload(t,o?hE(e):void 0)}}},dom:{EventUtils:na,TreeWalker:$o,TextSeeker:za,DOMUtils:ma,ScriptLoader:ga,RangeUtils:kg,Serializer:xw,StyleSheetLoader:os,ControlSelection:og,BookmarkManager:yf,Selection:Cw,Event:na.Event},html:{Styles:Ks,Entities:ws,Node:tp,Schema:Fs,DomParser:BC,Writer:yp,Serializer:Cp},Env:Tt,AddOnManager:ya,Annotator:vf,Formatter:AE,UndoManager:OE,EditorCommands:aB,WindowManager:Gw,NotificationManager:Ww,EditorObservable:hB,Shortcuts:TB,Editor:LB,FocusManager:Ff,EditorManager:qB,DOM:ma.DOM,ScriptLoader:ga.ScriptLoader,PluginManager:Kw,ThemeManager:Yw,ModelManager:Uw,IconManager:Fw,Resource:JB,FakeClipboard:WB,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},nP=Dt.extend(qB,tP);(e=>{window.tinymce=e,window.tinyMCE=e})(nP),(e=>{if(\"object\"==typeof module)try{module.exports=e}catch(e){}})(nP)}();","/**\n * TinyMCE version 7.7.0 (TBD)\n */\n!function(){\"use strict\";const e=Object.getPrototypeOf,t=(e,t,o)=>{var n;return!!o(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},o=e=>o=>(e=>{const o=typeof e;return null===e?\"null\":\"object\"===o&&Array.isArray(e)?\"array\":\"object\"===o&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?\"string\":o})(o)===e,n=e=>t=>typeof t===e,s=e=>t=>e===t,r=o(\"string\"),a=o(\"object\"),i=o=>((o,n)=>a(o)&&t(o,n,((t,o)=>e(t)===o)))(o,Object),l=o(\"array\"),c=s(null),d=n(\"boolean\"),u=s(void 0),m=e=>null==e,g=e=>!m(e),p=n(\"function\"),h=n(\"number\"),f=(e,t)=>{if(l(e)){for(let o=0,n=e.length;o<n;++o)if(!t(e[o]))return!1;return!0}return!1},b=()=>{},v=e=>()=>e(),x=(e,t)=>(...o)=>e(t.apply(null,o)),y=e=>()=>e,w=e=>e,S=(e,t)=>e===t;function C(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const k=e=>t=>!e(t),O=e=>()=>{throw new Error(e)},_=e=>e(),T=y(!1),E=y(!0);class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:\"Called getOrDie on None\")}static from(e){return g(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:\"none()\"}}A.singletonNone=new A(!1);const M=Array.prototype.slice,D=Array.prototype.indexOf,B=Array.prototype.push,F=(e,t)=>D.call(e,t),I=(e,t)=>F(e,t)>-1,R=(e,t)=>{for(let o=0,n=e.length;o<n;o++)if(t(e[o],o))return!0;return!1},N=(e,t)=>{const o=[];for(let n=0;n<e;n++)o.push(t(n));return o},z=(e,t)=>{const o=[];for(let n=0;n<e.length;n+=t){const s=M.call(e,n,n+t);o.push(s)}return o},V=(e,t)=>{const o=e.length,n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n},L=(e,t)=>{for(let o=0,n=e.length;o<n;o++)t(e[o],o)},H=(e,t)=>{const o=[],n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];(t(r,s)?o:n).push(r)}return{pass:o,fail:n}},P=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];t(s,n)&&o.push(s)}return o},U=(e,t,o)=>(((e,t)=>{for(let o=e.length-1;o>=0;o--)t(e[o],o)})(e,((e,n)=>{o=t(o,e,n)})),o),W=(e,t,o)=>(L(e,((e,n)=>{o=t(o,e,n)})),o),$=(e,t)=>((e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n))return A.some(s);if(o(s,n))break}return A.none()})(e,t,T),j=(e,t)=>{for(let o=0,n=e.length;o<n;o++)if(t(e[o],o))return A.some(o);return A.none()},G=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!l(e[o]))throw new Error(\"Arr.flatten item \"+o+\" was not an array, input: \"+e);B.apply(t,e[o])}return t},q=(e,t)=>G(V(e,t)),Y=(e,t)=>{for(let o=0,n=e.length;o<n;++o)if(!0!==t(e[o],o))return!1;return!0},X=e=>{const t=M.call(e,0);return t.reverse(),t},K=(e,t)=>P(e,(e=>!I(t,e))),J=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o},Q=e=>[e],Z=(e,t)=>{const o=M.call(e,0);return o.sort(t),o},ee=(e,t)=>t>=0&&t<e.length?A.some(e[t]):A.none(),te=e=>ee(e,0),oe=e=>ee(e,e.length-1),ne=p(Array.from)?Array.from:e=>M.call(e),se=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return A.none()},re=Object.keys,ae=Object.hasOwnProperty,ie=(e,t)=>{const o=re(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];t(e[s],s)}},le=(e,t)=>ce(e,((e,o)=>({k:o,v:t(e,o)}))),ce=(e,t)=>{const o={};return ie(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v})),o},de=e=>(t,o)=>{e[o]=t},ue=(e,t,o,n)=>{ie(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))},me=(e,t)=>{const o={};return ue(e,t,de(o),b),o},ge=(e,t)=>{const o=[];return ie(e,((e,n)=>{o.push(t(e,n))})),o},pe=(e,t)=>{const o=re(e);for(let n=0,s=o.length;n<s;n++){const s=o[n],r=e[s];if(t(r,s,e))return A.some(r)}return A.none()},he=e=>ge(e,w),fe=(e,t)=>be(e,t)?A.from(e[t]):A.none(),be=(e,t)=>ae.call(e,t),ve=(e,t)=>be(e,t)&&void 0!==e[t]&&null!==e[t],xe=(e,t,o=S)=>e.exists((e=>o(e,t))),ye=e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t},we=(e,t,o)=>e.isSome()&&t.isSome()?A.some(o(e.getOrDie(),t.getOrDie())):A.none(),Se=(e,t)=>null!=e?A.some(t(e)):A.none(),Ce=(e,t)=>e?A.some(t):A.none(),ke=(e,t,o)=>\"\"===t||e.length>=t.length&&e.substr(o,o+t.length)===t,Oe=(e,t)=>Te(e,t)?((e,t)=>e.substring(t))(e,t.length):e,_e=(e,t,o=0,n)=>{const s=e.indexOf(t,o);return-1!==s&&(!!u(n)||s+t.length<=n)},Te=(e,t)=>ke(e,t,0),Ee=(e,t)=>ke(e,t,e.length-t.length),Ae=(Eo=/^\\s+|\\s+$/g,e=>e.replace(Eo,\"\")),Me=e=>e.length>0,De=e=>!Me(e),Be=e=>void 0!==e.style&&p(e.style.getPropertyValue),Fe=e=>{if(null==e)throw new Error(\"Node cannot be null or undefined\");return{dom:e}},Ie=(e,t)=>{const o=(t||document).createElement(\"div\");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t=\"HTML does not have a single root node\";throw console.error(t,e),new Error(t)}return Fe(o.childNodes[0])},Re=(e,t)=>{const o=(t||document).createElement(e);return Fe(o)},Ne=(e,t)=>{const o=(t||document).createTextNode(e);return Fe(o)},ze=Fe,Ve=\"undefined\"!=typeof window?window:Function(\"return this;\")(),Le=(e,t)=>((e,t)=>{let o=null!=t?t:Ve;for(let t=0;t<e.length&&null!=o;++t)o=o[e[t]];return o})(e.split(\".\"),t),He=Object.getPrototypeOf,Pe=e=>{const t=Le(\"ownerDocument.defaultView\",e);return a(e)&&((e=>((e,t)=>{const o=((e,t)=>Le(e,t))(e,t);if(null==o)throw new Error(e+\" not available on this browser\");return o})(\"HTMLElement\",e))(t).prototype.isPrototypeOf(e)||/^HTML\\w*Element$/.test(He(e).constructor.name))},Ue=e=>e.dom.nodeName.toLowerCase(),We=e=>t=>(e=>e.dom.nodeType)(t)===e,$e=e=>je(e)&&Pe(e.dom),je=We(1),Ge=We(3),qe=We(9),Ye=We(11),Xe=e=>t=>je(t)&&Ue(t)===e,Ke=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error(\"Browser lacks native selectors\")}},Je=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Qe=(e,t)=>{const o=void 0===t?document:t.dom;return Je(o)?A.none():A.from(o.querySelector(e)).map(ze)},Ze=(e,t)=>e.dom===t.dom,et=(e,t)=>{const o=e.dom,n=t.dom;return o!==n&&o.contains(n)},tt=e=>ze(e.dom.ownerDocument),ot=e=>qe(e)?e:tt(e),nt=e=>ze(ot(e).dom.documentElement),st=e=>ze(ot(e).dom.defaultView),rt=e=>A.from(e.dom.parentNode).map(ze),at=e=>A.from(e.dom.parentElement).map(ze),it=e=>A.from(e.dom.offsetParent).map(ze),lt=e=>V(e.dom.childNodes,ze),ct=(e,t)=>{const o=e.dom.childNodes;return A.from(o[t]).map(ze)},dt=e=>ct(e,0),ut=(e,t)=>({element:e,offset:t}),mt=(e,t)=>{const o=lt(e);return o.length>0&&t<o.length?ut(o[t],0):ut(e,t)},gt=e=>Ye(e)&&g(e.dom.host),pt=e=>ze(e.dom.getRootNode()),ht=e=>gt(e)?e:ze(ot(e).dom.body),ft=e=>{const t=pt(e);return gt(t)?A.some(t):A.none()},bt=e=>ze(e.dom.host),vt=e=>{const t=Ge(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return ft(ze(t)).fold((()=>o.body.contains(t)),(n=vt,s=bt,e=>n(s(e))));var n,s},xt=()=>yt(ze(document)),yt=e=>{const t=e.dom.body;if(null==t)throw new Error(\"Body is not available yet\");return ze(t)},wt=(e,t,o)=>{if(!(r(o)||d(o)||h(o)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",o,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,o+\"\")},St=(e,t,o)=>{wt(e.dom,t,o)},Ct=(e,t)=>{const o=e.dom;ie(t,((e,t)=>{wt(o,t,e)}))},kt=(e,t)=>{const o=e.dom.getAttribute(t);return null===o?void 0:o},Ot=(e,t)=>A.from(kt(e,t)),_t=(e,t)=>{const o=e.dom;return!(!o||!o.hasAttribute)&&o.hasAttribute(t)},Tt=(e,t)=>{e.dom.removeAttribute(t)},Et=(e,t,o)=>{if(!r(o))throw console.error(\"Invalid call to CSS.set. Property \",t,\":: Value \",o,\":: Element \",e),new Error(\"CSS value must be a string: \"+o);Be(e)&&e.style.setProperty(t,o)},At=(e,t)=>{Be(e)&&e.style.removeProperty(t)},Mt=(e,t,o)=>{const n=e.dom;Et(n,t,o)},Dt=(e,t)=>{const o=e.dom;ie(t,((e,t)=>{Et(o,t,e)}))},Bt=(e,t)=>{const o=e.dom;ie(t,((e,t)=>{e.fold((()=>{At(o,t)}),(e=>{Et(o,t,e)}))}))},Ft=(e,t)=>{const o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return\"\"!==n||vt(e)?n:It(o,t)},It=(e,t)=>Be(e)?e.style.getPropertyValue(t):\"\",Rt=(e,t)=>{const o=e.dom,n=It(o,t);return A.from(n).filter((e=>e.length>0))},Nt=e=>{const t={},o=e.dom;if(Be(o))for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}return t},zt=(e,t,o)=>{const n=Re(e);return Mt(n,t,o),Rt(n,t).isSome()},Vt=(e,t)=>{const o=e.dom;At(o,t),xe(Ot(e,\"style\").map(Ae),\"\")&&Tt(e,\"style\")},Lt=e=>e.dom.offsetWidth,Ht=(e,t)=>{const o=o=>{const n=t(o);if(n<=0||null===n){const t=Ft(o,e);return parseFloat(t)||0}return n},n=(e,t)=>W(t,((t,o)=>{const n=Ft(e,o),s=void 0===n?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);return{set:(t,o)=>{if(!h(o)&&!o.match(/^[0-9]+$/))throw new Error(e+\".set accepts only positive integer values. Value was \"+o);const n=t.dom;Be(n)&&(n.style[e]=o+\"px\")},get:o,getOuter:o,aggregate:n,max:(e,t,o)=>{const s=n(e,o);return t>s?t-s:0}}},Pt=Ht(\"height\",(e=>{const t=e.dom;return vt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Ut=e=>Pt.get(e),Wt=e=>Pt.getOuter(e),$t=(e,t)=>({left:e,top:t,translate:(o,n)=>$t(e+o,t+n)}),jt=$t,Gt=(e,t)=>void 0!==e?e:void 0!==t?t:0,qt=e=>{const t=e.dom.ownerDocument,o=t.body,n=t.defaultView,s=t.documentElement;if(o===e.dom)return jt(o.offsetLeft,o.offsetTop);const r=Gt(null==n?void 0:n.pageYOffset,s.scrollTop),a=Gt(null==n?void 0:n.pageXOffset,s.scrollLeft),i=Gt(s.clientTop,o.clientTop),l=Gt(s.clientLeft,o.clientLeft);return Yt(e).translate(a-l,r-i)},Yt=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?jt(o.offsetLeft,o.offsetTop):vt(e)?(e=>{const t=e.getBoundingClientRect();return jt(t.left,t.top)})(t):jt(0,0)},Xt=Ht(\"width\",(e=>e.dom.offsetWidth)),Kt=e=>Xt.get(e),Jt=e=>Xt.getOuter(e),Qt=e=>{let t,o=!1;return(...n)=>(o||(o=!0,t=e.apply(null,n)),t)},Zt=()=>eo(0,0),eo=(e,t)=>({major:e,minor:t}),to={nu:eo,detect:(e,t)=>{const o=String(t).toLowerCase();return 0===e.length?Zt():((e,t)=>{const o=((e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t))return n}})(e,t);if(!o)return{major:0,minor:0};const n=e=>Number(t.replace(o,\"$\"+e));return eo(n(1),n(2))})(e,o)},unknown:Zt},oo=(e,t)=>{const o=String(t).toLowerCase();return $(e,(e=>e.search(o)))},no=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,so=e=>t=>_e(t,e),ro=[{name:\"Edge\",versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:e=>_e(e,\"edge/\")&&_e(e,\"chrome\")&&_e(e,\"safari\")&&_e(e,\"applewebkit\")},{name:\"Chromium\",brand:\"Chromium\",versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,no],search:e=>_e(e,\"chrome\")&&!_e(e,\"chromeframe\")},{name:\"IE\",versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:e=>_e(e,\"msie\")||_e(e,\"trident\")},{name:\"Opera\",versionRegexes:[no,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:so(\"opera\")},{name:\"Firefox\",versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:so(\"firefox\")},{name:\"Safari\",versionRegexes:[no,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(_e(e,\"safari\")||_e(e,\"mobile/\"))&&_e(e,\"applewebkit\")}],ao=[{name:\"Windows\",search:so(\"win\"),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"iOS\",search:e=>_e(e,\"iphone\")||_e(e,\"ipad\"),versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:\"Android\",search:so(\"android\"),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"macOS\",search:so(\"mac os x\"),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:\"Linux\",search:so(\"linux\"),versionRegexes:[]},{name:\"Solaris\",search:so(\"sunos\"),versionRegexes:[]},{name:\"FreeBSD\",search:so(\"freebsd\"),versionRegexes:[]},{name:\"ChromeOS\",search:so(\"cros\"),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}],io={browsers:y(ro),oses:y(ao)},lo=\"Edge\",co=\"Chromium\",uo=\"Opera\",mo=\"Firefox\",go=\"Safari\",po=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isEdge:n(lo),isChromium:n(co),isIE:n(\"IE\"),isOpera:n(uo),isFirefox:n(mo),isSafari:n(go)}},ho=()=>po({current:void 0,version:to.unknown()}),fo=po,bo=(y(lo),y(co),y(\"IE\"),y(uo),y(mo),y(go),\"Windows\"),vo=\"Android\",xo=\"Linux\",yo=\"macOS\",wo=\"Solaris\",So=\"FreeBSD\",Co=\"ChromeOS\",ko=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isWindows:n(bo),isiOS:n(\"iOS\"),isAndroid:n(vo),isMacOS:n(yo),isLinux:n(xo),isSolaris:n(wo),isFreeBSD:n(So),isChromeOS:n(Co)}},Oo=()=>ko({current:void 0,version:to.unknown()}),_o=ko,To=(y(bo),y(\"iOS\"),y(vo),y(xo),y(yo),y(wo),y(So),y(Co),e=>window.matchMedia(e).matches);var Eo;let Ao=Qt((()=>((e,t,o)=>{const n=io.browsers(),s=io.oses(),r=t.bind((e=>((e,t)=>se(t.brands,(t=>{const o=t.brand.toLowerCase();return $(e,(e=>{var t;return o===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:to.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>oo(e,t).map((e=>{const o=to.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(n,e))).fold(ho,fo),a=((e,t)=>oo(e,t).map((e=>{const o=to.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(s,e).fold(Oo,_o),i=((e,t,o,n)=>{const s=e.isiOS()&&!0===/ipad/i.test(o),r=e.isiOS()&&!s,a=e.isiOS()||e.isAndroid(),i=a||n(\"(pointer:coarse)\"),l=s||!r&&a&&n(\"(min-device-width:768px)\"),c=r||a&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),u=!c&&!l&&!d;return{isiPad:y(s),isiPhone:y(r),isTablet:y(l),isPhone:y(c),isTouch:y(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(d),isDesktop:y(u)}})(a,r,e,o);return{browser:r,os:a,deviceType:i}})(window.navigator.userAgent,A.from(window.navigator.userAgentData),To)));const Mo=()=>Ao(),Do=e=>{const t=ze((e=>{if(g(e.target)){const t=ze(e.target);if(je(t)&&(e=>g(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return te(t)}}return A.from(e.target)})(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),s=x(n,o);return((e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a}))(t,e.clientX,e.clientY,o,n,s,e)},Bo=(e,t,o,n,s)=>{const r=((e,t)=>o=>{e(o)&&t(Do(o))})(o,n);return e.dom.addEventListener(t,r,s),{unbind:C(Fo,e,t,r,s)}},Fo=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},Io=(e,t)=>{rt(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},Ro=(e,t)=>{const o=(e=>A.from(e.dom.nextSibling).map(ze))(e);o.fold((()=>{rt(e).each((e=>{zo(e,t)}))}),(e=>{Io(e,t)}))},No=(e,t)=>{dt(e).fold((()=>{zo(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))},zo=(e,t)=>{e.dom.appendChild(t.dom)},Vo=(e,t)=>{L(t,(t=>{zo(e,t)}))},Lo=e=>{e.dom.textContent=\"\",L(lt(e),(e=>{Ho(e)}))},Ho=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Po=e=>{const t=void 0!==e?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return jt(o,n)},Uo=(e,t,o)=>{const n=(void 0!==o?o.dom:document).defaultView;n&&n.scrollTo(e,t)},Wo=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),$o=e=>{const t=void 0===e?window:e,o=t.document,n=Po(ze(o));return(e=>{const t=void 0===e?window:e;return Mo().browser.isFirefox()?A.none():A.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,o=e.clientWidth,s=e.clientHeight;return Wo(n.left,n.top,o,s)}),(e=>Wo(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},jo=()=>ze(document),Go=(e,t)=>e.view(t).fold(y([]),(t=>{const o=e.owner(t),n=Go(e,o);return[t].concat(n)}));var qo=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?A.none():A.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(ze)},owner:e=>tt(e)});const Yo=e=>{const t=jo(),o=Po(t),n=((e,t)=>{const o=t.owner(e),n=Go(t,o);return A.some(n)})(e,qo);return n.fold(C(qt,e),(t=>{const n=Yt(e),s=U(t,((e,t)=>{const o=Yt(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return jt(s.left+n.left+o.left,s.top+n.top+o.top)}))},Xo=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),Ko=e=>{const t=qt(e),o=Jt(e),n=Wt(e);return Xo(t.left,t.top,o,n)},Jo=e=>{const t=Yo(e),o=Jt(e),n=Wt(e);return Xo(t.left,t.top,o,n)},Qo=(e,t)=>{const o=Math.max(e.x,t.x),n=Math.max(e.y,t.y),s=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom);return Xo(o,n,s-o,r-n)},Zo=()=>$o(window),en=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},tn=e=>{const t=en(A.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(A.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(A.some(e))}}},on=()=>tn((e=>e.unbind())),nn=()=>{const e=tn(b);return{...e,on:t=>e.get().each(t)}};var sn=tinymce.util.Tools.resolve(\"tinymce.ThemeManager\");const rn=e=>{const t=t=>t(e),o=y(e),n=()=>s,s={tag:!0,inner:e,fold:(t,o)=>o(e),isValue:E,isError:T,map:t=>ln.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>A.some(e)};return s},an=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(t,o)=>t(e),isValue:T,isError:E,map:t,mapError:t=>ln.error(t(e)),bind:t,exists:T,forall:E,getOr:w,or:w,getOrThunk:_,orThunk:_,getOrDie:O(String(e)),each:b,toOptional:A.none};return o},ln={value:rn,error:an,fromOption:(e,t)=>e.fold((()=>an(t)),rn)};var cn;!function(e){e[e.Error=0]=\"Error\",e[e.Value=1]=\"Value\"}(cn||(cn={}));const dn=(e,t,o)=>e.stype===cn.Error?t(e.serror):o(e.svalue),un=e=>({stype:cn.Value,svalue:e}),mn=e=>({stype:cn.Error,serror:e}),gn=un,pn=mn,hn=dn,fn=(e,t,o,n)=>({tag:\"field\",key:e,newKey:t,presence:o,prop:n}),bn=(e,t,o)=>{switch(e.tag){case\"field\":return t(e.key,e.newKey,e.presence,e.prop);case\"custom\":return o(e.newKey,e.instantiator)}},vn=e=>(...t)=>{if(0===t.length)throw new Error(\"Can't merge zero objects\");const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s)be(s,t)&&(o[t]=e(o[t],s[t]))}return o},xn=vn(((e,t)=>i(e)&&i(t)?xn(e,t):t)),yn=vn(((e,t)=>t)),wn=e=>({tag:\"defaultedThunk\",process:e}),Sn=e=>wn(y(e)),Cn=e=>({tag:\"mergeWithThunk\",process:e}),kn=e=>{const t=(e=>{const t=[],o=[];return L(e,(e=>{dn(e,(e=>o.push(e)),(e=>t.push(e)))})),{values:t,errors:o}})(e);return t.errors.length>0?(o=t.errors,x(pn,G)(o)):gn(t.values);var o},On=e=>a(e)&&re(e).length>100?\" removed due to size\":JSON.stringify(e,null,2),_n=(e,t)=>pn([{path:e,getErrorInfo:t}]),Tn=e=>({extract:(t,o)=>((e,t)=>e.stype===cn.Error?t(e.serror):e)(e(o),(e=>((e,t)=>_n(e,y(t)))(t,e))),toString:y(\"val\")}),En=Tn(gn),An=(e,t,o,n)=>n(fe(e,t).getOrThunk((()=>o(e)))),Mn=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e),a=e=>e.fold((()=>gn(A.none())),(e=>((e,t)=>e.stype===cn.Value?{stype:cn.Value,svalue:t(e.svalue)}:e)(s.extract(t.concat([n]),e),A.some)));switch(e.tag){case\"required\":return((e,t,o,n)=>fe(t,o).fold((()=>((e,t,o)=>_n(e,(()=>'Could not find valid *required* value for \"'+t+'\" in '+On(o))))(e,o,t)),n))(t,o,n,r);case\"defaultedThunk\":return An(o,n,e.process,r);case\"option\":return((e,t,o)=>o(fe(e,t)))(o,n,a);case\"defaultedOptionThunk\":return((e,t,o,n)=>n(fe(e,t).map((t=>!0===t?o(e):t))))(o,n,e.process,a);case\"mergeWithThunk\":return An(o,n,y({}),(t=>{const n=xn(e.process(o),t);return r(n)}))}},Dn=e=>({extract:(t,o)=>e().extract(t,o),toString:()=>e().toString()}),Bn=e=>re(me(e,g)),Fn=e=>{const t=In(e),o=U(e,((e,t)=>bn(t,(t=>xn(e,{[t]:!0})),y(e))),{});return{extract:(e,n)=>{const s=d(n)?[]:Bn(n),r=P(s,(e=>!ve(o,e)));return 0===r.length?t.extract(e,n):((e,t)=>_n(e,(()=>\"There are unsupported fields: [\"+t.join(\", \")+\"] specified\")))(e,r)},toString:t.toString}},In=e=>({extract:(t,o)=>((e,t,o)=>{const n={},s=[];for(const r of o)bn(r,((o,r,a,i)=>{const l=Mn(a,e,t,o,i);hn(l,(e=>{s.push(...e)}),(e=>{n[r]=e}))}),((e,o)=>{n[e]=o(t)}));return s.length>0?pn(s):gn(n)})(t,o,e),toString:()=>\"obj{\\n\"+V(e,(e=>bn(e,((e,t,o,n)=>e+\" -> \"+n.toString()),((e,t)=>\"state(\"+e+\")\")))).join(\"\\n\")+\"}\"}),Rn=e=>({extract:(t,o)=>{const n=V(o,((o,n)=>e.extract(t.concat([\"[\"+n+\"]\"]),o)));return kn(n)},toString:()=>\"array(\"+e.toString()+\")\"}),Nn=(e,t)=>{const o=void 0!==t?t:w;return{extract:(t,n)=>{const s=[];for(const r of e){const e=r.extract(t,n);if(e.stype===cn.Value)return{stype:cn.Value,svalue:o(e.svalue)};s.push(e)}return kn(s)},toString:()=>\"oneOf(\"+V(e,(e=>e.toString())).join(\", \")+\")\"}},zn=(e,t)=>({extract:(o,n)=>{const s=re(n),r=((t,o)=>Rn(Tn(e)).extract(t,o))(o,s);return((e,t)=>e.stype===cn.Value?t(e.svalue):e)(r,(e=>{const s=V(e,(e=>fn(e,e,{tag:\"required\",process:{}},t)));return In(s).extract(o,n)}))},toString:()=>\"setOf(\"+t.toString()+\")\"}),Vn=x(Rn,In),Ln=y(En),Hn=(e,t)=>Tn((o=>{const n=typeof o;return e(o)?gn(o):pn(`Expected type: ${t} but got: ${n}`)})),Pn=Hn(h,\"number\"),Un=Hn(r,\"string\"),Wn=Hn(d,\"boolean\"),$n=Hn(p,\"function\"),jn=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case\"Boolean\":case\"Number\":case\"String\":case\"Date\":case\"RegExp\":case\"Blob\":case\"FileList\":case\"ImageData\":case\"ImageBitmap\":case\"ArrayBuffer\":return!0;case\"Array\":case\"Object\":return Object.keys(e).every((t=>jn(e[t])));default:return!1}},Gn=Tn((e=>jn(e)?gn(e):pn(\"Expected value to be acceptable for sending via postMessage\"))),qn=(e,t)=>({extract:(o,n)=>fe(n,e).fold((()=>((e,t)=>_n(e,(()=>'Choice schema did not contain choice key: \"'+t+'\"')))(o,e)),(e=>((e,t,o,n)=>fe(o,n).fold((()=>((e,t,o)=>_n(e,(()=>'The chosen schema: \"'+o+'\" did not exist in branches: '+On(t))))(e,o,n)),(o=>o.extract(e.concat([\"branch: \"+n]),t))))(o,n,t,e))),toString:()=>\"chooseOn(\"+e+\"). Possible values: \"+re(t)}),Yn=e=>Tn((t=>e(t).fold(pn,gn))),Xn=(e,t)=>zn((t=>e(t).fold(mn,un)),t),Kn=(e,t,o)=>{return n=((e,t,o)=>((e,t)=>e.stype===cn.Error?{stype:cn.Error,serror:t(e.serror)}:e)(t.extract([e],o),(e=>({input:o,errors:e}))))(e,t,o),dn(n,ln.error,ln.value);var n},Jn=e=>e.fold((e=>{throw new Error(Zn(e))}),w),Qn=(e,t,o)=>Jn(Kn(e,t,o)),Zn=e=>\"Errors: \\n\"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:y(\"... (only showing first ten failures)\")}]):e;return V(t,(e=>\"Failed path: (\"+e.path.join(\" > \")+\")\\n\"+e.getErrorInfo()))})(e.errors).join(\"\\n\")+\"\\n\\nInput object: \"+On(e.input),es=(e,t)=>qn(e,le(t,In)),ts=(e,t)=>((e,t)=>{const o=Qt(t);return{extract:(e,t)=>o().extract(e,t),toString:()=>o().toString()}})(0,t),os=fn,ns=(e,t)=>({tag:\"custom\",newKey:e,instantiator:t}),ss=e=>Yn((t=>I(e,t)?ln.value(t):ln.error(`Unsupported value: \"${t}\", choose one of \"${e.join(\", \")}\".`))),rs=e=>os(e,e,{tag:\"required\",process:{}},Ln()),as=(e,t)=>os(e,e,{tag:\"required\",process:{}},t),is=e=>as(e,Un),ls=(e,t)=>os(e,e,{tag:\"required\",process:{}},ss(t)),cs=e=>as(e,$n),ds=(e,t)=>os(e,e,{tag:\"required\",process:{}},In(t)),us=(e,t)=>os(e,e,{tag:\"required\",process:{}},Vn(t)),ms=(e,t)=>os(e,e,{tag:\"required\",process:{}},Rn(t)),gs=e=>os(e,e,{tag:\"option\",process:{}},Ln()),ps=(e,t)=>os(e,e,{tag:\"option\",process:{}},t),hs=e=>ps(e,Pn),fs=e=>ps(e,Un),bs=(e,t)=>ps(e,ss(t)),vs=e=>ps(e,$n),xs=(e,t)=>ps(e,Rn(t)),ys=(e,t)=>ps(e,In(t)),ws=(e,t)=>os(e,e,Sn(t),Ln()),Ss=(e,t,o)=>os(e,e,Sn(t),o),Cs=(e,t)=>Ss(e,t,Pn),ks=(e,t)=>Ss(e,t,Un),Os=(e,t,o)=>Ss(e,t,ss(o)),_s=(e,t)=>Ss(e,t,Wn),Ts=(e,t)=>Ss(e,t,$n),Es=(e,t,o)=>Ss(e,t,Rn(o)),As=(e,t,o)=>Ss(e,t,In(o)),Ms=e=>{if(!l(e))throw new Error(\"cases must be an array\");if(0===e.length)throw new Error(\"there must be at least one case\");const t=[],o={};return L(e,((n,s)=>{const r=re(n);if(1!==r.length)throw new Error(\"one and only one name per case\");const a=r[0],i=n[a];if(void 0!==o[a])throw new Error(\"duplicate key detected:\"+a);if(\"cata\"===a)throw new Error(\"cannot have a case named cata (sorry)\");if(!l(i))throw new Error(\"case arguments must be an array\");t.push(a),o[a]=(...o)=>{const n=o.length;if(n!==i.length)throw new Error(\"Wrong number of arguments to case \"+a+\". Expected \"+i.length+\" (\"+i+\"), got \"+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+e.length+\", got \"+t.length);return t[s].apply(null,o)},match:e=>{const n=re(e);if(t.length!==n.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+t.join(\",\")+\"\\nActual: \"+n.join(\",\"));if(!Y(t,(e=>I(n,e))))throw new Error(\"Not all branches were specified when using match. Specified: \"+n.join(\", \")+\"\\nRequired: \"+t.join(\", \"));return e[a].apply(null,o)},log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}})),o};Ms([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]);const Ds=(e,t)=>((e,t)=>({[e]:t}))(e,t),Bs=e=>(e=>{const t={};return L(e,(e=>{t[e.key]=e.value})),t})(e),Fs=e=>p(e)?e:T,Is=(e,t,o)=>{let n=e.dom;const s=Fs(o);for(;n.parentNode;){n=n.parentNode;const e=ze(n),o=t(e);if(o.isSome())return o;if(s(e))break}return A.none()},Rs=(e,t,o)=>{const n=t(e),s=Fs(o);return n.orThunk((()=>s(e)?A.none():Is(e,t,s)))},Ns=(e,t)=>Ze(e.element,t.event.target),zs={can:E,abort:T,run:b},Vs=e=>{if(!ve(e,\"can\")&&!ve(e,\"abort\")&&!ve(e,\"run\"))throw new Error(\"EventHandler defined by: \"+JSON.stringify(e,null,2)+\" does not have can, abort, or run!\");return{...zs,...e}},Ls=y,Hs=Ls(\"touchstart\"),Ps=Ls(\"touchmove\"),Us=Ls(\"touchend\"),Ws=Ls(\"touchcancel\"),$s=Ls(\"mousedown\"),js=Ls(\"mousemove\"),Gs=Ls(\"mouseout\"),qs=Ls(\"mouseup\"),Ys=Ls(\"mouseover\"),Xs=Ls(\"focusin\"),Ks=Ls(\"focusout\"),Js=Ls(\"keydown\"),Qs=Ls(\"keyup\"),Zs=Ls(\"input\"),er=Ls(\"change\"),tr=Ls(\"click\"),or=Ls(\"transitioncancel\"),nr=Ls(\"transitionend\"),sr=Ls(\"transitionstart\"),rr=Ls(\"selectstart\"),ar=e=>y(\"alloy.\"+e),ir={tap:ar(\"tap\")},lr=ar(\"focus\"),cr=ar(\"blur.post\"),dr=ar(\"paste.post\"),ur=ar(\"receive\"),mr=ar(\"execute\"),gr=ar(\"focus.item\"),pr=ir.tap,hr=ar(\"longpress\"),fr=ar(\"sandbox.close\"),br=ar(\"typeahead.cancel\"),vr=ar(\"system.init\"),xr=ar(\"system.touchmove\"),yr=ar(\"system.touchend\"),wr=ar(\"system.scroll\"),Sr=ar(\"system.resize\"),Cr=ar(\"system.attached\"),kr=ar(\"system.detached\"),Or=ar(\"system.dismissRequested\"),_r=ar(\"system.repositionRequested\"),Tr=ar(\"focusmanager.shifted\"),Er=ar(\"slotcontainer.visibility\"),Ar=ar(\"system.external.element.scroll\"),Mr=ar(\"change.tab\"),Dr=ar(\"dismiss.tab\"),Br=ar(\"highlight\"),Fr=ar(\"dehighlight\"),Ir=(e,t)=>{Vr(e,e.element,t,{})},Rr=(e,t,o)=>{Vr(e,e.element,t,o)},Nr=e=>{Ir(e,mr())},zr=(e,t,o)=>{Vr(e,t,o,{})},Vr=(e,t,o,n)=>{const s={target:t,...n};e.getSystem().triggerEvent(o,t,s)},Lr=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)},Hr=e=>Bs(e),Pr=(e,t)=>({key:e,value:Vs({abort:t})}),Ur=e=>({key:e,value:Vs({run:(e,t)=>{t.event.prevent()}})}),Wr=(e,t)=>({key:e,value:Vs({run:t})}),$r=(e,t,o)=>({key:e,value:Vs({run:(e,n)=>{t.apply(void 0,[e,n].concat(o))}})}),jr=e=>t=>({key:e,value:Vs({run:(e,o)=>{Ns(e,o)&&t(e,o)}})}),Gr=(e,t,o)=>((e,t)=>Wr(e,((o,n)=>{o.getSystem().getByUid(t).each((t=>{Lr(t,t.element,e,n)}))})))(e,t.partUids[o]),qr=(e,t)=>Wr(e,((e,o)=>{const n=o.event,s=e.getSystem().getByDom(n.target).getOrThunk((()=>Rs(n.target,(t=>e.getSystem().getByDom(t).toOptional()),T).getOr(e)));t(e,s,o)})),Yr=e=>Wr(e,((e,t)=>{t.cut()})),Xr=e=>Wr(e,((e,t)=>{t.stop()})),Kr=(e,t)=>jr(e)(t),Jr=jr(Cr()),Qr=jr(kr()),Zr=jr(vr()),ea=(Qa=mr(),e=>Wr(Qa,e)),ta=e=>V(e,(e=>Ee(e,\"/*\")?e.substring(0,e.length-2):e)),oa=(e,t)=>{const o=e.toString(),n=o.indexOf(\")\")+1,s=o.indexOf(\"(\"),r=o.substring(s+1,n-1).split(/,\\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ta(r)}),e},na=e=>({classes:u(e.classes)?[]:e.classes,attributes:u(e.attributes)?{}:e.attributes,styles:u(e.styles)?{}:e.styles}),sa=(e,t,o)=>Zr(((n,s)=>{o(n,e,t)})),ra=e=>({key:e,value:void 0}),aa=(e,t,o,n,s,r,a)=>{const i=e=>ve(e,o)?e[o]():A.none(),l=le(s,((e,t)=>((e,t,o)=>((e,t,o)=>{const n=o.toString(),s=n.indexOf(\")\")+1,r=n.indexOf(\"(\"),a=n.substring(r+1,s-1).split(/,\\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ta(a.slice(0,1).concat(a.slice(3)))}),e})(((n,...s)=>{const r=[n].concat(s);return n.config({name:y(e)}).fold((()=>{throw new Error(\"We could not find any behaviour configuration for: \"+e+\". Using API: \"+o)}),(e=>{const o=Array.prototype.slice.call(r,1);return t.apply(void 0,[n,e.config,e.state].concat(o))}))}),o,t))(o,e,t))),c={...le(r,((e,t)=>oa(e,t))),...l,revoke:C(ra,o),config:t=>{const n=Qn(o+\"-config\",e,t);return{key:o,value:{config:n,me:c,configAsRaw:Qt((()=>Qn(o+\"-config\",e,t))),initialConfig:t,state:a}}},schema:y(t),exhibit:(e,t)=>we(i(e),fe(n,\"exhibit\"),((e,o)=>o(t,e.config,e.state))).getOrThunk((()=>na({}))),name:y(o),handlers:e=>i(e).map((e=>fe(n,\"events\").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},ia={init:()=>la({readState:y(\"No State required\")})},la=e=>e,ca=e=>Bs(e),da=Fn([rs(\"fields\"),rs(\"name\"),ws(\"active\",{}),ws(\"apis\",{}),ws(\"state\",ia),ws(\"extra\",{})]),ua=e=>{const t=Qn(\"Creating behaviour: \"+e.name,da,e);return((e,t,o,n,s,r)=>{const a=Fn(e),i=ys(t,[(l=e,ps(\"config\",Fn(l)))]);var l;return aa(a,i,t,o,n,s,r)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},ma=Fn([rs(\"branchKey\"),rs(\"branches\"),rs(\"name\"),ws(\"active\",{}),ws(\"apis\",{}),ws(\"state\",ia),ws(\"extra\",{})]),ga=e=>{const t=Qn(\"Creating behaviour: \"+e.name,ma,e);return((e,t,o,n,s,r)=>{const a=e,i=ys(t,[ps(\"config\",e)]);return aa(a,i,t,o,n,s,r)})(es(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},pa=y(void 0),ha=(e,t)=>{const o=kt(e,t);return void 0===o||\"\"===o?[]:o.split(\" \")},fa=e=>void 0!==e.dom.classList,ba=e=>ha(e,\"class\"),va=(e,t)=>((e,t,o)=>{const n=ha(e,t).concat([o]);return St(e,t,n.join(\" \")),!0})(e,\"class\",t),xa=(e,t)=>((e,t,o)=>{const n=P(ha(e,t),(e=>e!==o));return n.length>0?St(e,t,n.join(\" \")):Tt(e,t),!1})(e,\"class\",t),ya=(e,t)=>{fa(e)?e.dom.classList.add(t):va(e,t)},wa=e=>{0===(fa(e)?e.dom.classList:ba(e)).length&&Tt(e,\"class\")},Sa=(e,t)=>{fa(e)?e.dom.classList.remove(t):xa(e,t),wa(e)},Ca=(e,t)=>fa(e)&&e.dom.classList.contains(t),ka=(e,t)=>{L(t,(t=>{ya(e,t)}))},Oa=(e,t)=>{L(t,(t=>{Sa(e,t)}))},_a=e=>fa(e)?(e=>{const t=e.dom.classList,o=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);null!==n&&(o[e]=n)}return o})(e):ba(e),Ta=(e,t,o,n,s)=>{const r=e=>e+\"px\";return{position:e,left:t.map(r),top:o.map(r),right:n.map(r),bottom:s.map(r)}},Ea=(e,t)=>{Bt(e,(e=>({...e,position:A.some(e.position)}))(t))},Aa=e=>(xe(Rt(e,\"position\"),\"fixed\")?A.none():it(e)).orThunk((()=>{const t=Re(\"span\");return rt(e).bind((e=>{zo(e,t);const o=it(t);return Ho(t),o}))})),Ma=e=>Aa(e).map(qt).getOrThunk((()=>jt(0,0))),Da=(e,t)=>{const o=e.element;ya(o,t.transitionClass),Sa(o,t.fadeOutClass),ya(o,t.fadeInClass),t.onShow(e)},Ba=(e,t)=>{const o=e.element;ya(o,t.transitionClass),Sa(o,t.fadeInClass),ya(o,t.fadeOutClass),t.onHide(e)},Fa=(e,t)=>e.y>=t.y,Ia=(e,t)=>e.bottom<=t.bottom,Ra=(e,t,o)=>({location:\"top\",leftX:t,topY:o.bounds.y-e.y}),Na=(e,t,o)=>({location:\"bottom\",leftX:t,bottomY:e.bottom-o.bounds.bottom}),za=e=>e.box.x-e.win.x,Va=(e,t,o)=>o.getInitialPos().map((o=>{const n=((e,t)=>{const o=t.optScrollEnv.fold(y(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return jt(e.bounds.x,o)})(o,t);return{box:Xo(n.left,n.top,Kt(e),Ut(e)),location:o.location}})),La=(e,t,o,n,s)=>{const r=((e,t)=>{const o=t.optScrollEnv.fold(y(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return jt(e.x,o)})(t,o),a=Xo(r.left,r.top,t.width,t.height);n.setInitialPos({style:Nt(e),position:Ft(e,\"position\")||\"static\",bounds:a,location:s.location})},Ha=(e,t,o)=>o.getInitialPos().bind((n=>{var s;switch(o.clearInitialPos(),n.position){case\"static\":return A.some({morph:\"static\"});case\"absolute\":const o=Aa(e).getOr(xt()),r=Ko(o),a=null!==(s=o.dom.scrollTop)&&void 0!==s?s:0;return A.some({morph:\"absolute\",positionCss:Ta(\"absolute\",fe(n.style,\"left\").map((e=>t.x-r.x)),fe(n.style,\"top\").map((e=>t.y-r.y+a)),fe(n.style,\"right\").map((e=>r.right-t.right)),fe(n.style,\"bottom\").map((e=>r.bottom-t.bottom)))});default:return A.none()}})),Pa=e=>{switch(e.location){case\"top\":return A.some({morph:\"fixed\",positionCss:Ta(\"fixed\",A.some(e.leftX),A.some(e.topY),A.none(),A.none())});case\"bottom\":return A.some({morph:\"fixed\",positionCss:Ta(\"fixed\",A.some(e.leftX),A.none(),A.none(),A.some(e.bottomY))});default:return A.none()}},Ua=(e,t,o)=>{const n=e.element;return xe(Rt(n,\"position\"),\"fixed\")?((e,t,o)=>((e,t,o)=>Va(e,t,o).filter((({box:e})=>((e,t,o)=>Y(e,(e=>{switch(e){case\"bottom\":return Ia(t,o.bounds);case\"top\":return Fa(t,o.bounds)}})))(o.getModes(),e,t))).bind((({box:t})=>Ha(e,t,o))))(e,t,o).orThunk((()=>t.optScrollEnv.bind((n=>Va(e,t,o))).bind((({box:e,location:o})=>{const n=Zo(),s=za({win:n,box:e}),r=\"top\"===o?Ra(n,s,t):Na(n,s,t);return Pa(r)})))))(n,t,o):((e,t,o)=>{const n=Ko(e),s=Zo(),r=((e,t,o)=>{const n=t.win,s=t.box,r=za(t);return se(e,(e=>{switch(e){case\"bottom\":return Ia(s,o.bounds)?A.none():A.some(Na(n,r,o));case\"top\":return Fa(s,o.bounds)?A.none():A.some(Ra(n,r,o));default:return A.none()}})).getOr({location:\"no-dock\"})})(o.getModes(),{win:s,box:n},t);return\"top\"===r.location||\"bottom\"===r.location?(La(e,n,t,o,r),Pa(r)):A.none()})(n,t,o)},Wa=(e,t,o)=>{o.setDocked(!1),L([\"left\",\"right\",\"top\",\"bottom\",\"position\"],(t=>Vt(e.element,t))),t.onUndocked(e)},$a=(e,t,o,n)=>{const s=\"fixed\"===n.position;o.setDocked(s),Ea(e.element,n),(s?t.onDocked:t.onUndocked)(e)},ja=(e,t,o,n,s=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((r=>{const a=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(r,n.bounds);a!==o.isVisible()&&(o.setVisible(a),s&&!a?(ka(e.element,[t.fadeOutClass]),t.onHide(e)):(a?Da:Ba)(e,t))}))}))},Ga=(e,t,o,n,s)=>{ja(e,t,o,n,!0),$a(e,t,o,s.positionCss)},qa=(e,t,o)=>{e.getSystem().isConnected()&&((e,t,o)=>{const n=t.lazyViewport(e);ja(e,t,o,n),Ua(e,n,o).each((s=>{((e,t,o,n,s)=>{switch(s.morph){case\"static\":return Wa(e,t,o);case\"absolute\":return $a(e,t,o,s.positionCss);case\"fixed\":Ga(e,t,o,n,s)}})(e,t,o,n,s)}))})(e,t,o)},Ya=(e,t,o)=>{o.isDocked()&&((e,t,o)=>{const n=e.element;o.setDocked(!1);const s=t.lazyViewport(e);((e,t,o)=>{const n=e.element;return Va(n,t,o).bind((({box:e})=>Ha(n,e,o)))})(e,s,o).each((n=>{switch(n.morph){case\"static\":Wa(e,t,o);break;case\"absolute\":$a(e,t,o,n.positionCss)}})),o.setVisible(!0),t.contextual.each((t=>{Oa(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),qa(e,t,o)})(e,t,o)},Xa=e=>(t,o,n)=>{const s=o.lazyViewport(t);((e,t,o,n)=>{const s=Ko(e),r=Zo(),a=n(r,za({win:r,box:s}),t);return\"bottom\"===a.location||\"top\"===a.location?(((e,t,o,n,s)=>{n.getInitialPos().fold((()=>La(e,t,o,n,s)),(()=>b))})(e,s,t,o,a),Pa(a)):A.none()})(t.element,s,n,e).each((e=>{Ga(t,o,n,s,e)}))},Ka=Xa(Ra),Ja=Xa(Na);var Qa,Za=Object.freeze({__proto__:null,refresh:qa,reset:Ya,isDocked:(e,t,o)=>o.isDocked(),getModes:(e,t,o)=>o.getModes(),setModes:(e,t,o,n)=>o.setModes(n),forceDockToTop:Ka,forceDockToBottom:Ja}),ei=Object.freeze({__proto__:null,events:(e,t)=>Hr([Kr(nr(),((o,n)=>{e.contextual.each((e=>{Ca(o.element,e.transitionClass)&&(Oa(o.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(o)),n.stop()}))})),Wr(wr(),((o,n)=>{qa(o,e,t)})),Wr(Ar(),((o,n)=>{qa(o,e,t)})),Wr(Sr(),((o,n)=>{Ya(o,e,t)}))])});const ti=e=>e.dom.innerHTML,oi=(e,t)=>{const o=tt(e).dom,n=ze(o.createDocumentFragment()),s=((e,t)=>{const o=(t||document).createElement(\"div\");return o.innerHTML=e,lt(ze(o))})(t,o);Vo(n,s),Lo(e),zo(e,n)},ni=(e,t)=>ze(e.dom.cloneNode(t)),si=e=>(e=>{if(gt(e))return\"#shadow-root\";{const t=(e=>ni(e,!1))(e);return(e=>{const t=Re(\"div\"),o=ze(e.dom.cloneNode(!0));return zo(t,o),ti(t)})(t)}})(e);var ri;!function(e){e[e.STOP=0]=\"STOP\",e[e.NORMAL=1]=\"NORMAL\",e[e.LOGGING=2]=\"LOGGING\"}(ri||(ri={}));const ai=en({}),ii=[\"alloy/data/Fields\",\"alloy/debugging/Debugging\"],li=(e,t,o)=>((e,t,o)=>{switch(fe(ai.get(),e).orThunk((()=>{const t=re(ai.get());return se(t,(t=>e.indexOf(t)>-1?A.some(ai.get()[t]):A.none()))})).getOr(ri.NORMAL)){case ri.NORMAL:return o(ci());case ri.LOGGING:{const n=((e,t)=>{const o=[],n=(new Date).getTime();return{logEventCut:(e,t,n)=>{o.push({outcome:\"cut\",target:t,purpose:n})},logEventStopped:(e,t,n)=>{o.push({outcome:\"stopped\",target:t,purpose:n})},logNoParent:(e,t,n)=>{o.push({outcome:\"no-parent\",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{o.push({outcome:\"no-handlers-left\",target:t})},logEventResponse:(e,t,n)=>{o.push({outcome:\"response\",purpose:n,target:t})},write:()=>{const s=(new Date).getTime();I([\"mousemove\",\"mouseover\",\"mouseout\",vr()],e)||console.log(e,{event:e,time:s-n,target:t.dom,sequence:V(o,(e=>I([\"cut\",\"stopped\",\"response\"],e.outcome)?\"{\"+e.purpose+\"} \"+e.outcome+\" at (\"+si(e.target)+\")\":e.outcome))})}}})(e,t),s=o(n);return n.write(),s}case ri.STOP:return!0}})(e,t,o),ci=y({logEventCut:b,logEventStopped:b,logNoParent:b,logEventNoHandlers:b,logEventResponse:b,write:b}),di=y([rs(\"menu\"),rs(\"selectedMenu\")]),ui=y([rs(\"item\"),rs(\"selectedItem\")]);y(In(ui().concat(di())));const mi=y(In(ui())),gi=ds(\"initSize\",[rs(\"numColumns\"),rs(\"numRows\")]),pi=()=>ds(\"markers\",[rs(\"backgroundMenu\")].concat(di()).concat(ui())),hi=e=>ds(\"markers\",V(e,rs)),fi=(e,t,o)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split(\"\\n\");$(t,(e=>e.indexOf(\"alloy\")>0&&!R(ii,(t=>e.indexOf(t)>-1)))).getOr(\"unknown\")}})(),os(t,t,o,Yn((e=>ln.value(((...t)=>e.apply(void 0,t))))))),bi=e=>fi(0,e,Sn(b)),vi=e=>fi(0,e,Sn(A.none)),xi=e=>fi(0,e,{tag:\"required\",process:{}}),yi=e=>fi(0,e,{tag:\"required\",process:{}}),wi=(e,t)=>ns(e,y(t)),Si=e=>ns(e,w),Ci=y(gi);var ki=[ys(\"contextual\",[is(\"fadeInClass\"),is(\"fadeOutClass\"),is(\"transitionClass\"),cs(\"lazyContext\"),bi(\"onShow\"),bi(\"onShown\"),bi(\"onHide\"),bi(\"onHidden\")]),Ts(\"lazyViewport\",(()=>({bounds:Zo(),optScrollEnv:A.none()}))),Es(\"modes\",[\"top\",\"bottom\"],Un),bi(\"onDocked\"),bi(\"onUndocked\")];const Oi=ua({fields:ki,name:\"docking\",active:ei,apis:Za,state:Object.freeze({__proto__:null,init:e=>{const t=en(!1),o=en(!0),n=nn(),s=en(e.modes);return la({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:s.get,setModes:s.set,readState:()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: ${s.get().join(\",\")}`})}})}),_i=Hr([(e=>({key:e,value:Vs({can:(e,t)=>{const o=t.event,n=o.originator,s=o.target;return!((e,t,o)=>Ze(t,e.element)&&!Ze(t,o))(e,n,s)||(console.warn(lr()+\" did not get interpreted by the desired target. \\nOriginator: \"+si(n)+\"\\nTarget: \"+si(s)+\"\\nCheck the \"+lr()+\" event handlers\"),!1)}})}))(lr())]);var Ti=Object.freeze({__proto__:null,events:_i});const Ei=(e,t,o,n)=>{const s=e+t;return s>n?o:s<o?n:s},Ai=(e,t,o)=>Math.min(Math.max(e,t),o);let Mi=0;const Di=e=>{const t=(new Date).getTime(),o=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Mi++,e+\"_\"+o+Mi+String(t)},Bi=y(\"alloy-id-\"),Fi=y(\"data-alloy-id\"),Ii=Bi(),Ri=Fi(),Ni=(e,t)=>{Object.defineProperty(e.dom,Ri,{value:t,writable:!0})},zi=e=>{const t=je(e)?e.dom[Ri]:null;return A.from(t)},Vi=e=>Di(e),Li=w,Hi=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?\"\\n\"+si(e().element)+\" is not in context.\":\"\"),o=e=>()=>{throw new Error(t(e))},n=e=>()=>{console.warn(t(e))};return{debugInfo:y(\"fake\"),triggerEvent:n(\"triggerEvent\"),triggerFocus:n(\"triggerFocus\"),triggerEscape:n(\"triggerEscape\"),broadcast:n(\"broadcast\"),broadcastOn:n(\"broadcastOn\"),broadcastEvent:n(\"broadcastEvent\"),build:o(\"build\"),buildOrPatch:o(\"buildOrPatch\"),addToWorld:o(\"addToWorld\"),removeFromWorld:o(\"removeFromWorld\"),addToGui:o(\"addToGui\"),removeFromGui:o(\"removeFromGui\"),getByUid:o(\"getByUid\"),getByDom:o(\"getByDom\"),isConnected:T}},Pi=Hi(),Ui=Di(\"alloy-premade\"),Wi=e=>(Object.defineProperty(e.element.dom,Ui,{value:e.uid,writable:!0}),Ds(Ui,e)),$i=e=>fe(e,Ui),ji=e=>((e,t)=>{const o=t.toString(),n=o.indexOf(\")\")+1,s=o.indexOf(\"(\"),r=o.substring(s+1,n-1).split(/,\\s*/);return e.toFunctionAnnotation=()=>({name:\"OVERRIDE\",parameters:ta(r.slice(1))}),e})(((t,...o)=>e(t.getApis(),t,...o)),e),Gi=(e,t)=>{const o={};return ie(e,((e,n)=>{ie(e,((e,s)=>{const r=fe(o,s).getOr([]);o[s]=r.concat([t(n,e)])}))})),o},qi=e=>e.cHandler,Yi=(e,t)=>({name:e,handler:t}),Xi=(e,t)=>{const o={};return L(e,(e=>{o[e.name()]=e.handlers(t)})),o},Ki=(e,t,o)=>{const n=t[o];return n?((e,t,o,n)=>{try{const s=Z(o,((o,s)=>{const r=o[t],a=s[t],i=n.indexOf(r),l=n.indexOf(a);if(-1===i)throw new Error(\"The ordering for \"+e+\" does not have an entry for \"+r+\".\\nOrder specified: \"+JSON.stringify(n,null,2));if(-1===l)throw new Error(\"The ordering for \"+e+\" does not have an entry for \"+a+\".\\nOrder specified: \"+JSON.stringify(n,null,2));return i<l?-1:l<i?1:0}));return ln.value(s)}catch(e){return ln.error([e])}})(\"Event: \"+o,\"name\",e,n).map((e=>(e=>{const t=(e=>(...t)=>W(e,((e,o)=>e&&(e=>e.can)(o).apply(void 0,t)),!0))(e),o=(e=>(...t)=>W(e,((e,o)=>e||(e=>e.abort)(o).apply(void 0,t)),!1))(e);return{can:t,abort:o,run:(...t)=>{L(e,(e=>{e.run.apply(void 0,t)}))}}})(V(e,(e=>e.handler))))):((e,t)=>ln.error([\"The event (\"+e+') has more than one behaviour that listens to it.\\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that can trigger it are: '+JSON.stringify(V(t,(e=>e.name)),null,2)]))(o,e)},Ji=(e,t)=>((e,t)=>{const o=(e=>{const t=[],o=[];return L(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))})),{errors:t,values:o}})(e);return o.errors.length>0?(n=o.errors,ln.error(G(n))):((e,t)=>0===e.length?ln.value(t):ln.value(xn(t,yn.apply(void 0,e))))(o.values,t);var n})(ge(e,((e,o)=>(1===e.length?ln.value(e[0].handler):Ki(e,t,o)).map((n=>{const s=(e=>{const t=(e=>p(e)?{can:E,abort:T,run:e}:e)(e);return(e,o,...n)=>{const s=[e,o].concat(n);t.abort.apply(void 0,s)?o.stop():t.can.apply(void 0,s)&&t.run.apply(void 0,s)}})(n),r=e.length>1?P(t[o],(t=>R(e,(e=>e.name===t)))).join(\" > \"):e[0].name;return Ds(o,((e,t)=>({handler:e,purpose:t}))(s,r))})))),{}),Qi=\"alloy.base.behaviour\",Zi=In([os(\"dom\",\"dom\",{tag:\"required\",process:{}},In([rs(\"tag\"),ws(\"styles\",{}),ws(\"classes\",[]),ws(\"attributes\",{}),gs(\"value\"),gs(\"innerHtml\")])),rs(\"components\"),rs(\"uid\"),ws(\"events\",{}),ws(\"apis\",{}),os(\"eventOrder\",\"eventOrder\",(fl={[mr()]:[\"disabling\",Qi,\"toggling\",\"typeaheadevents\"],[lr()]:[Qi,\"focusing\",\"keying\"],[vr()]:[Qi,\"disabling\",\"toggling\",\"representing\",\"tooltipping\"],[Zs()]:[Qi,\"representing\",\"streaming\",\"invalidating\"],[kr()]:[Qi,\"representing\",\"item-events\",\"toolbar-button-events\",\"tooltipping\"],[$s()]:[\"focusing\",Qi,\"item-type-events\"],[Hs()]:[\"focusing\",Qi,\"item-type-events\"],[Ys()]:[\"item-type-events\",\"tooltipping\"],[ur()]:[\"receiving\",\"reflecting\",\"tooltipping\"]},Cn(y(fl))),Ln()),gs(\"domModification\")]),el=e=>e.events,tl=e=>e.dom.value,ol=(e,t)=>{if(void 0===t)throw new Error(\"Value.set was undefined\");e.dom.value=t},nl=(e,t,o)=>{o.fold((()=>zo(e,t)),(e=>{Ze(e,t)||(Io(e,t),Ho(e))}))},sl=(e,t,o)=>{const n=V(t,o),s=lt(e);return L(s.slice(n.length),Ho),n},rl=(e,t,o,n)=>{const s=ct(e,t),r=n(o,s),a=((e,t,o)=>ct(e,t).map((e=>{if(o.exists((t=>!Ze(t,e)))){const t=o.map(Ue).getOr(\"span\"),n=Re(t);return Io(e,n),n}return e})))(e,t,s);return nl(e,r.element,a),r},al=(e,t)=>{const o=re(e),n=re(t),s=K(n,o),r=(e=>{const o={},n={};return ue(e,((e,o)=>!be(t,o)||e!==t[o]),de(o),de(n)),{t:o,f:n}})(e).t;return{toRemove:s,toSet:r}},il=(e,t)=>{const o=t.filter((t=>Ue(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>be(e.dom,Ui))(t))).bind((t=>((e,t)=>{try{const o=((e,t)=>{const{class:o,style:n,...s}=(e=>W(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:r,toRemove:a}=al(e.attributes,s),i=Nt(t),{toSet:l,toRemove:c}=al(e.styles,i),d=_a(t),u=K(d,e.classes),m=K(e.classes,d);return L(a,(e=>Tt(t,e))),Ct(t,r),ka(t,m),Oa(t,u),L(c,(e=>Vt(t,e))),Dt(t,l),e.innerHtml.fold((()=>{const o=e.domChildren;((e,t)=>{sl(e,t,((t,o)=>{const n=ct(e,o);return nl(e,t,n),t}))})(t,o)}),(e=>{oi(t,e)})),(()=>{const o=t,n=e.value.getOrUndefined();n!==tl(o)&&ol(o,null!=n?n:\"\")})(),t})(e,t);return A.some(o)}catch(e){return A.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Re(e.tag);Ct(t,e.attributes),ka(t,e.classes),Dt(t,e.styles),e.innerHtml.each((e=>oi(t,e)));const o=e.domChildren;return Vo(t,o),e.value.each((e=>{ol(t,e)})),t})(e)));return Ni(o,e.uid),o},ll=e=>{const t=(e=>{const t=fe(e,\"behaviours\").getOr({});return q(re(t),(e=>{const o=t[e];return g(o)?[o.me]:[]}))})(e);return((e,t)=>((e,t)=>{const o=V(t,(e=>ys(e.name(),[rs(\"config\"),ws(\"state\",ia)]))),n=Kn(\"component.behaviours\",In(o),e.behaviours).fold((t=>{throw new Error(Zn(t)+\"\\nComplete spec:\\n\"+JSON.stringify(e,null,2))}),w);return{list:t,data:le(n,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return y(t)}))}})(e,t))(e,t)},cl=(e,t)=>{const o=()=>m,n=en(Pi),s=Jn((e=>Kn(\"custom.definition\",Zi,e))(e)),r=ll(e),a=(e=>e.list)(r),i=(e=>e.data)(r),l=((e,t,o)=>{const n={...(s=e).dom,uid:s.uid,domChildren:V(s.components,(e=>e.element))};var s;const r=(e=>e.domModification.fold((()=>na({})),na))(e),a={\"alloy.base.modification\":r},i=t.length>0?((e,t,o,n)=>{const s={...t};L(o,(t=>{s[t.name()]=t.exhibit(e,n)}));const r=Gi(s,((e,t)=>({name:e,modification:t}))),a=e=>U(e,((e,t)=>({...t.modification,...e})),{}),i=U(r.classes,((e,t)=>t.modification.concat(e)),[]),l=a(r.attributes),c=a(r.styles);return na({classes:i,attributes:l,styles:c})})(o,a,t,n):r;return l=n,c=i,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c})(s,a,i),c=il(l,t),d=((e,t,o)=>{const n={\"alloy.base.behaviour\":el(e)};return((e,t,o,n)=>{const s=((e,t,o)=>{const n={...o,...Xi(t,e)};return Gi(n,Yi)})(e,o,n);return Ji(s,t)})(o,e.eventOrder,t,n).getOrDie()})(s,a,i),u=en(s.components),m={uid:e.uid,getSystem:n.get,config:t=>{const o=i;return(p(o[t.name()])?o[t.name()]:()=>{throw new Error(\"Could not find \"+t.name()+\" in \"+JSON.stringify(e,null,2))})()},hasConfigured:e=>p(i[e.name()]),spec:e,readState:e=>i[e]().map((e=>e.state.readState())).getOr(\"not enabled\"),getApis:()=>s.apis,connect:e=>{n.set(e)},disconnect:()=>{n.set(Hi(o))},element:c,syncComponents:()=>{const e=lt(c),t=q(e,(e=>n.get().getByDom(e).fold((()=>[]),Q)));u.set(t)},components:u.get,events:d};return m},dl=e=>{const t=Ne(e);return ul({element:t})},ul=e=>{const t=Qn(\"external.component\",Fn([rs(\"element\"),gs(\"uid\")]),e),o=en(Hi()),n=t.uid.getOrThunk((()=>Vi(\"external\")));Ni(t.element,n);const s={uid:n,getSystem:o.get,config:A.none,hasConfigured:T,connect:e=>{o.set(e)},disconnect:()=>{o.set(Hi((()=>s)))},getApis:()=>({}),element:t.element,spec:e,readState:y(\"No state\"),syncComponents:b,components:y([]),events:{}};return Wi(s)},ml=Vi,gl=(e,t)=>$i(e).getOrThunk((()=>((e,t)=>{const{events:o,...n}=Li(e),s=((e,t)=>{const o=fe(e,\"components\").getOr([]);return t.fold((()=>V(o,pl)),(e=>V(o,((t,o)=>gl(t,ct(e,o))))))})(n,t),r={...n,events:{...Ti,...o},components:s};return ln.value(cl(r,t))})((e=>be(e,\"uid\"))(e)?e:{uid:ml(\"\"),...e},t).getOrDie())),pl=e=>gl(e,A.none()),hl=Wi;var fl,bl=(e,t,o,n,s)=>e(o,n)?A.some(o):p(s)&&s(o)?A.none():t(o,n,s);const vl=(e,t,o)=>{let n=e.dom;const s=p(o)?o:T;for(;n.parentNode;){n=n.parentNode;const e=ze(n);if(t(e))return A.some(e);if(s(e))break}return A.none()},xl=(e,t,o)=>bl(((e,t)=>t(e)),vl,e,t,o),yl=(e,t)=>$(e.dom.childNodes,(e=>t(ze(e)))).map(ze),wl=(e,t,o)=>xl(e,t,o).isSome(),Sl=(e,t,o)=>vl(e,(e=>Ke(e,t)),o),Cl=(e,t)=>(e=>{const o=e.dom;return o.parentNode?yl(ze(o.parentNode),(o=>!Ze(e,o)&&Ke(o,t))):A.none()})(e),kl=(e,t)=>yl(e,(e=>Ke(e,t))),Ol=(e,t)=>Qe(t,e),_l=(e,t,o)=>bl(((e,t)=>Ke(e,t)),Sl,e,t,o),Tl=\"aria-controls\",El=()=>{const e=Di(Tl);return{id:e,link:t=>{St(t,Tl,e)},unlink:e=>{Tt(e,Tl)}}},Al=(e,t)=>wl(t,(t=>Ze(t,e.element)),T)||((e,t)=>(e=>xl(e,(e=>{if(!je(e))return!1;const t=kt(e,\"id\");return void 0!==t&&t.indexOf(Tl)>-1})).bind((e=>{const t=kt(e,\"id\"),o=pt(e);return Ol(o,`[${Tl}=\"${t}\"]`)})))(t).exists((t=>Al(e,t))))(e,t),Ml=(e,t,o,n,s,r,a,i=!1)=>({x:e,y:t,bubble:o,direction:n,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:i}),Dl=Ms([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Bl=Dl.southeast,Fl=Dl.southwest,Il=Dl.northeast,Rl=Dl.northwest,Nl=Dl.south,zl=Dl.north,Vl=Dl.east,Ll=Dl.west,Hl=(e,t)=>J([\"left\",\"right\",\"top\",\"bottom\"],(o=>fe(t,o).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Pl=\"layout\",Ul=e=>e.x,Wl=(e,t)=>e.x+e.width/2-t.width/2,$l=(e,t)=>e.x+e.width-t.width,jl=(e,t)=>e.y-t.height,Gl=e=>e.y+e.height,ql=(e,t)=>e.y+e.height/2-t.height/2,Yl=(e,t,o)=>Ml(Ul(e),Gl(e),o.southeast(),Bl(),\"southeast\",Hl(e,{left:1,top:3}),Pl),Xl=(e,t,o)=>Ml($l(e,t),Gl(e),o.southwest(),Fl(),\"southwest\",Hl(e,{right:0,top:3}),Pl),Kl=(e,t,o)=>Ml(Ul(e),jl(e,t),o.northeast(),Il(),\"northeast\",Hl(e,{left:1,bottom:2}),Pl),Jl=(e,t,o)=>Ml($l(e,t),jl(e,t),o.northwest(),Rl(),\"northwest\",Hl(e,{right:0,bottom:2}),Pl),Ql=(e,t,o)=>Ml(Wl(e,t),jl(e,t),o.north(),zl(),\"north\",Hl(e,{bottom:2}),Pl),Zl=(e,t,o)=>Ml(Wl(e,t),Gl(e),o.south(),Nl(),\"south\",Hl(e,{top:3}),Pl),ec=(e,t,o)=>Ml((e=>e.x+e.width)(e),ql(e,t),o.east(),Vl(),\"east\",Hl(e,{left:0}),Pl),tc=(e,t,o)=>Ml(((e,t)=>e.x-t.width)(e,t),ql(e,t),o.west(),Ll(),\"west\",Hl(e,{right:1}),Pl),oc=()=>[Yl,Xl,Kl,Jl,Zl,Ql,ec,tc],nc=()=>[Xl,Yl,Jl,Kl,Zl,Ql,ec,tc],sc=()=>[Kl,Jl,Yl,Xl,Ql,Zl],rc=()=>[Jl,Kl,Xl,Yl,Ql,Zl],ac=()=>[Yl,Xl,Kl,Jl,Zl,Ql],ic=()=>[Xl,Yl,Jl,Kl,Zl,Ql];var lc=Object.freeze({__proto__:null,events:e=>Hr([Wr(ur(),((t,o)=>{const n=e.channels,s=re(n),r=o,a=((e,t)=>t.universal?e:P(e,(e=>I(t.channels,e))))(s,r);L(a,(e=>{const o=n[e],s=o.schema,a=Qn(\"channel[\"+e+\"] data\\nReceiver: \"+si(t.element),s,r.data);o.onReceive(t,a)}))}))])}),cc=[as(\"channels\",Xn(ln.value,Fn([xi(\"onReceive\"),ws(\"schema\",Ln())])))];const dc=ua({fields:cc,name:\"receiving\",active:lc});var uc=Object.freeze({__proto__:null,exhibit:(e,t)=>na({classes:[],styles:t.useFixed()?{}:{position:\"relative\"}})});const mc=(e,t=!1)=>e.dom.focus({preventScroll:t}),gc=e=>e.dom.blur(),pc=e=>{const t=pt(e).dom;return e.dom===t.activeElement},hc=(e=jo())=>A.from(e.dom.activeElement).map(ze),fc=e=>hc(pt(e)).filter((t=>e.dom.contains(t.dom))),bc=(e,t)=>{const o=pt(t),n=hc(o).bind((e=>{const o=t=>Ze(e,t);return o(t)?A.some(t):((e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=ze(e.childNodes[n]);if(t(s))return A.some(s);const r=o(e.childNodes[n]);if(r.isSome())return r}return A.none()};return o(e.dom)})(t,o)})),s=e(t);return n.each((e=>{hc(o).filter((t=>Ze(t,e))).fold((()=>{mc(e)}),b)})),s},vc=Ms([{none:[]},{relative:[\"x\",\"y\",\"width\",\"height\"]},{fixed:[\"x\",\"y\",\"width\",\"height\"]}]),xc=(e,t,o,n,s,r)=>{const a=t.rect,i=a.x-o,l=a.y-n,c=s-(i+a.width),d=r-(l+a.height),u=A.some(i),m=A.some(l),g=A.some(c),p=A.some(d),h=A.none();return t.direction.fold((()=>Ta(e,u,m,h,h)),(()=>Ta(e,h,m,g,h)),(()=>Ta(e,u,h,h,p)),(()=>Ta(e,h,h,g,p)),(()=>Ta(e,u,m,h,h)),(()=>Ta(e,u,h,h,p)),(()=>Ta(e,u,m,h,h)),(()=>Ta(e,h,m,g,h)))},yc=(e,t)=>e.fold((()=>{const e=t.rect;return Ta(\"absolute\",A.some(e.x),A.some(e.y),A.none(),A.none())}),((e,o,n,s)=>xc(\"absolute\",t,e,o,n,s)),((e,o,n,s)=>xc(\"fixed\",t,e,o,n,s))),wc=(e,t)=>{const o=C(Yo,t),n=e.fold(o,o,(()=>{const e=Po();return Yo(t).translate(-e.left,-e.top)})),s=Jt(t),r=Wt(t);return Xo(n.left,n.top,s,r)},Sc=(e,t)=>t.fold((()=>e.fold(Zo,Zo,Xo)),(t=>e.fold(y(t),y(t),(()=>{const o=Cc(e,t.x,t.y);return Xo(o.left,o.top,t.width,t.height)})))),Cc=(e,t,o)=>{const n=jt(t,o);return e.fold(y(n),y(n),(()=>{const e=Po();return n.translate(-e.left,-e.top)}))};vc.none;const kc=vc.relative,Oc=vc.fixed,_c=\"data-alloy-placement\",Tc=e=>Ot(e,_c),Ec=Ms([{fit:[\"reposition\"]},{nofit:[\"reposition\",\"visibleW\",\"visibleH\",\"isVisible\"]}]),Ac=(e,t,o,n)=>{const s=e.bubble,r=s.offset,a=((e,t,o)=>{const n=(n,s)=>t[n].map((t=>{const r=\"top\"===n||\"bottom\"===n,a=r?o.top:o.left,i=(\"left\"===n||\"top\"===n?Math.max:Math.min)(t,s)+a;return r?Ai(i,e.y,e.bottom):Ai(i,e.x,e.right)})).getOr(s),s=n(\"left\",e.x),r=n(\"top\",e.y),a=n(\"right\",e.right),i=n(\"bottom\",e.bottom);return Xo(s,r,a-s,i-r)})(n,e.restriction,r),i=e.x+r.left,l=e.y+r.top,c=Xo(i,l,t,o),{originInBounds:d,sizeInBounds:u,visibleW:m,visibleH:g}=((e,t)=>{const{x:o,y:n,right:s,bottom:r}=t,{x:a,y:i,right:l,bottom:c,width:d,height:u}=e;return{originInBounds:a>=o&&a<=s&&i>=n&&i<=r,sizeInBounds:l<=s&&l>=o&&c<=r&&c>=n,visibleW:Math.min(d,a>=o?s-a:l-o),visibleH:Math.min(u,i>=n?r-i:c-n)}})(c,a),p=d&&u,h=p?c:((e,t)=>{const{x:o,y:n,right:s,bottom:r}=t,{x:a,y:i,width:l,height:c}=e,d=Math.max(o,s-l),u=Math.max(n,r-c),m=Ai(a,o,d),g=Ai(i,n,u),p=Math.min(m+l,s)-m,h=Math.min(g+c,r)-g;return Xo(m,g,p,h)})(c,a),f=h.width>0&&h.height>0,{maxWidth:b,maxHeight:v}=((e,t,o)=>{const n=y(t.bottom-o.y),s=y(o.bottom-t.y),r=((e,t,o,n)=>e.fold(t,t,n,n,t,n,o,o))(e,s,s,n),a=y(t.right-o.x),i=y(o.right-t.x),l=((e,t,o,n)=>e.fold(t,n,t,n,o,o,t,n))(e,i,i,a);return{maxWidth:l,maxHeight:r}})(e.direction,h,n),x={rect:h,maxHeight:v,maxWidth:b,direction:e.direction,placement:e.placement,classes:{on:s.classesOn,off:s.classesOff},layout:e.label,testY:l};return p||e.alwaysFit?Ec.fit(x):Ec.nofit(x,m,g,f)},Mc=E,Dc=(e,t,o)=>((e,t,o,n)=>Bo(e,t,o,n,!1))(e,t,Mc,o),Bc=(e,t,o)=>((e,t,o,n)=>Bo(e,t,o,n,!0))(e,t,Mc,o),Fc=Do,Ic=[\"top\",\"bottom\",\"right\",\"left\"],Rc=\"data-alloy-transition-timer\",Nc=(e,t,o,n,s,a)=>{const i=((e,t,o)=>o.exists((o=>{const n=e.mode;return\"all\"===n||o[n]!==t[n]})))(n,s,a);if(i||((e,t)=>((e,t)=>Y(t,(t=>Ca(e,t))))(e,t.classes))(e,n)){Mt(e,\"position\",o.position);const a=wc(t,e),l=yc(t,{...s,rect:a}),c=J(Ic,(e=>l[e]));((e,t)=>{const o=e=>parseFloat(e).toFixed(3);return pe(t,((t,n)=>!((e,t,o=S)=>we(e,t,o).getOr(e.isNone()&&t.isNone()))(e[n].map(o),t.map(o)))).isSome()})(o,c)&&(Bt(e,c),i&&((e,t)=>{ka(e,t.classes),Ot(e,Rc).each((t=>{clearTimeout(parseInt(t,10)),Tt(e,Rc)})),((e,t)=>{const o=on(),n=on();let s;const a=t=>{var o;const n=null!==(o=t.raw.pseudoElement)&&void 0!==o?o:\"\";return Ze(t.target,e)&&De(n)&&I(Ic,t.raw.propertyName)},i=r=>{if(m(r)||a(r)){o.clear(),n.clear();const a=null==r?void 0:r.raw.type;(m(a)||a===nr())&&(clearTimeout(s),Tt(e,Rc),Oa(e,t.classes))}},l=Dc(e,sr(),(t=>{a(t)&&(l.unbind(),o.set(Dc(e,nr(),i)),n.set(Dc(e,or(),i)))})),c=(e=>{const t=t=>{const o=Ft(e,t).split(/\\s*,\\s*/);return P(o,Me)},o=e=>{if(r(e)&&/^[\\d.]+/.test(e)){const t=parseFloat(e);return Ee(e,\"ms\")?t:1e3*t}return 0},n=t(\"transition-delay\"),s=t(\"transition-duration\");return W(s,((e,t,s)=>{const r=o(n[s])+o(t);return Math.max(e,r)}),0)})(e);requestAnimationFrame((()=>{s=setTimeout(i,c+17),St(e,Rc,s)}))})(e,t)})(e,n),Lt(e))}else Oa(e,n.classes)},zc=(e,t)=>{((e,t)=>{const o=Pt.max(e,t,[\"margin-top\",\"border-top-width\",\"padding-top\",\"padding-bottom\",\"border-bottom-width\",\"margin-bottom\"]);Mt(e,\"max-height\",o+\"px\")})(e,Math.floor(t))},Vc=y(((e,t)=>{zc(e,t),Dt(e,{\"overflow-x\":\"hidden\",\"overflow-y\":\"auto\"})})),Lc=y(((e,t)=>{zc(e,t)})),Hc=(e,t,o)=>void 0===e[t]?o:e[t],Pc=(e,t,o,n)=>{const s=((e,t,o,n)=>{Vt(t,\"max-height\"),Vt(t,\"max-width\");const s={width:Jt(r=t),height:Wt(r)};var r;return((e,t,o,n,s,r)=>{const a=n.width,i=n.height,l=(t,l,c,d,u)=>{const m=t(o,n,s,e,r),g=Ac(m,a,i,r);return g.fold(y(g),((e,t,o,n)=>(u===n?o>d||t>c:!u&&n)?g:Ec.nofit(l,c,d,u)))};return W(t,((e,t)=>{const o=C(l,t);return e.fold(y(e),o)}),Ec.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:Bl(),placement:\"southeast\",classes:{on:[],off:[]},layout:\"none\",testY:o.y},-1,-1,!1)).fold(w,w)})(t,n.preference,e,s,o,n.bounds)})(e,t,o,n);return((e,t,o)=>{const n=yc(o.origin,t);o.transition.each((s=>{Nc(e,o.origin,n,s,t,o.lastPlacement)})),Ea(e,n)})(t,s,n),((e,t)=>{((e,t)=>{St(e,_c,t)})(e,t.placement)})(t,s),((e,t)=>{const o=t.classes;Oa(e,o.off),ka(e,o.on)})(t,s),((e,t,o)=>{(0,o.maxHeightFunction)(e,t.maxHeight)})(t,s,n),((e,t,o)=>{(0,o.maxWidthFunction)(e,t.maxWidth)})(t,s,n),{layout:s.layout,placement:s.placement}},Uc=[\"valignCentre\",\"alignLeft\",\"alignRight\",\"alignCentre\",\"top\",\"bottom\",\"left\",\"right\",\"inset\"],Wc=(e,t,o,n=1)=>{const s=e*n,r=t*n,a=e=>fe(o,e).getOr([]),i=(e,t,o)=>{const n=K(Uc,o);return{offset:jt(e,t),classesOn:q(o,a),classesOff:q(n,a)}};return{southeast:()=>i(-e,t,[\"top\",\"alignLeft\"]),southwest:()=>i(e,t,[\"top\",\"alignRight\"]),south:()=>i(-e/2,t,[\"top\",\"alignCentre\"]),northeast:()=>i(-e,-t,[\"bottom\",\"alignLeft\"]),northwest:()=>i(e,-t,[\"bottom\",\"alignRight\"]),north:()=>i(-e/2,-t,[\"bottom\",\"alignCentre\"]),east:()=>i(e,-t/2,[\"valignCentre\",\"left\"]),west:()=>i(-e,-t/2,[\"valignCentre\",\"right\"]),insetNortheast:()=>i(s,r,[\"top\",\"alignLeft\",\"inset\"]),insetNorthwest:()=>i(-s,r,[\"top\",\"alignRight\",\"inset\"]),insetNorth:()=>i(-s/2,r,[\"top\",\"alignCentre\",\"inset\"]),insetSoutheast:()=>i(s,-r,[\"bottom\",\"alignLeft\",\"inset\"]),insetSouthwest:()=>i(-s,-r,[\"bottom\",\"alignRight\",\"inset\"]),insetSouth:()=>i(-s/2,-r,[\"bottom\",\"alignCentre\",\"inset\"]),insetEast:()=>i(-s,-r/2,[\"valignCentre\",\"right\",\"inset\"]),insetWest:()=>i(s,-r/2,[\"valignCentre\",\"left\",\"inset\"])}},$c=()=>Wc(0,0,{}),jc=w,Gc=(e,t)=>o=>\"rtl\"===qc(o)?t:e,qc=e=>\"rtl\"===Ft(e,\"direction\")?\"rtl\":\"ltr\";var Yc;!function(e){e.TopToBottom=\"toptobottom\",e.BottomToTop=\"bottomtotop\"}(Yc||(Yc={}));const Xc=\"data-alloy-vertical-dir\",Kc=e=>wl(e,(e=>je(e)&&kt(e,\"data-alloy-vertical-dir\")===Yc.BottomToTop)),Jc=()=>ys(\"layouts\",[rs(\"onLtr\"),rs(\"onRtl\"),gs(\"onBottomLtr\"),gs(\"onBottomRtl\")]),Qc=(e,t,o,n,s,r,a)=>{const i=a.map(Kc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),d=i?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(s):l.getOr(o),u=i?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(r):c.getOr(n);return Gc(d,u)(e)};var Zc=[rs(\"hotspot\"),gs(\"bubble\"),ws(\"overrides\",{}),Jc(),wi(\"placement\",((e,t,o)=>{const n=t.hotspot,s=wc(o,n.element),r=Qc(e.element,t,ac(),ic(),sc(),rc(),A.some(t.hotspot.element));return A.some(jc({anchorBox:s,bubble:t.bubble.getOr($c()),overrides:t.overrides,layouts:r}))}))],ed=[rs(\"x\"),rs(\"y\"),ws(\"height\",0),ws(\"width\",0),ws(\"bubble\",$c()),ws(\"overrides\",{}),Jc(),wi(\"placement\",((e,t,o)=>{const n=Cc(o,t.x,t.y),s=Xo(n.left,n.top,t.width,t.height),r=Qc(e.element,t,oc(),nc(),oc(),nc(),A.none());return A.some(jc({anchorBox:s,bubble:t.bubble,overrides:t.overrides,layouts:r}))}))];const td=Ms([{screen:[\"point\"]},{absolute:[\"point\",\"scrollLeft\",\"scrollTop\"]}]),od=e=>e.fold(w,((e,t,o)=>e.translate(-t,-o))),nd=e=>e.fold(w,w),sd=e=>W(e,((e,t)=>e.translate(t.left,t.top)),jt(0,0)),rd=e=>{const t=V(e,nd);return sd(t)},ad=td.screen,id=td.absolute,ld=(e,t,o)=>{const n=tt(e.element),s=Po(n),r=((e,t,o)=>{const n=st(o.root).dom;return A.from(n.frameElement).map(ze).filter((t=>{const o=tt(t),n=tt(e.element);return Ze(o,n)})).map(qt)})(e,0,o).getOr(s);return id(r,s.left,s.top)},cd=(e,t,o,n)=>{const s=ad(jt(e,t));return A.some(((e,t,o)=>({point:e,width:t,height:o}))(s,o,n))},dd=(e,t,o,n,s)=>e.map((e=>{const r=[t,e.point],a=(i=()=>rd(r),l=()=>rd(r),c=()=>(e=>{const t=V(e,od);return sd(t)})(r),n.fold(i,l,c));var i,l,c;const d=(p=a.left,h=a.top,f=e.width,b=e.height,{x:p,y:h,width:f,height:b}),u=o.showAbove?sc():ac(),m=o.showAbove?rc():ic(),g=Qc(s,o,u,m,u,m,A.none());var p,h,f,b;return jc({anchorBox:d,bubble:o.bubble.getOr($c()),overrides:o.overrides,layouts:g})}));var ud=[rs(\"node\"),rs(\"root\"),gs(\"bubble\"),Jc(),ws(\"overrides\",{}),ws(\"showAbove\",!1),wi(\"placement\",((e,t,o)=>{const n=ld(e,0,t);return t.node.filter(vt).bind((s=>{const r=s.dom.getBoundingClientRect(),a=cd(r.left,r.top,r.width,r.height),i=t.node.getOr(e.element);return dd(a,n,t,o,i)}))}))];const md=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n}),gd=Ms([{before:[\"element\"]},{on:[\"element\",\"offset\"]},{after:[\"element\"]}]),pd=(gd.before,gd.on,gd.after,e=>e.fold(w,w,w)),hd=Ms([{domRange:[\"rng\"]},{relative:[\"startSitu\",\"finishSitu\"]},{exact:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),fd={domRange:hd.domRange,relative:hd.relative,exact:hd.exact,exactFromRange:e=>hd.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>ze(e.startContainer),relative:(e,t)=>pd(e),exact:(e,t,o,n)=>e}))(e);return st(t)},range:md},bd=(e,t,o)=>{const n=e.document.createRange();var s;return s=n,t.fold((e=>{s.setStartBefore(e.dom)}),((e,t)=>{s.setStart(e.dom,t)}),(e=>{s.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))})(n,o),n},vd=(e,t,o,n,s)=>{const r=e.document.createRange();return r.setStart(t.dom,o),r.setEnd(n.dom,s),r},xd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),yd=Ms([{ltr:[\"start\",\"soffset\",\"finish\",\"foffset\"]},{rtl:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),wd=(e,t,o)=>t(ze(o.startContainer),o.startOffset,ze(o.endContainer),o.endOffset),Sd=(e,t)=>((e,t)=>{const o=((e,t)=>t.match({domRange:e=>({ltr:y(e),rtl:A.none}),relative:(t,o)=>({ltr:Qt((()=>bd(e,t,o))),rtl:Qt((()=>A.some(bd(e,o,t))))}),exact:(t,o,n,s)=>({ltr:Qt((()=>vd(e,t,o,n,s))),rtl:Qt((()=>A.some(vd(e,n,s,t,o))))})}))(e,t);return((e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>yd.rtl(ze(e.endContainer),e.endOffset,ze(e.startContainer),e.startOffset))).getOrThunk((()=>wd(0,yd.ltr,o))):wd(0,yd.ltr,o)})(0,o)})(e,t).match({ltr:(t,o,n,s)=>{const r=e.document.createRange();return r.setStart(t.dom,o),r.setEnd(n.dom,s),r},rtl:(t,o,n,s)=>{const r=e.document.createRange();return r.setStart(n.dom,s),r.setEnd(t.dom,o),r}});yd.ltr,yd.rtl;const Cd=(e,t,o)=>P(((e,t)=>{const o=p(t)?t:T;let n=e.dom;const s=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=ze(e);if(s.push(t),!0===o(t))break;n=e}return s})(e,o),t),kd=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return Je(o)?[]:V(o.querySelectorAll(e),ze)})(t,e),Od=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),o=e.getRangeAt(e.rangeCount-1);return A.some(md(ze(t.startContainer),t.startOffset,ze(o.endContainer),o.endOffset))}return A.none()},_d=e=>{if(null===e.anchorNode||null===e.focusNode)return Od(e);{const t=ze(e.anchorNode),o=ze(e.focusNode);return((e,t,o,n)=>{const s=((e,t,o,n)=>{const s=tt(e).dom.createRange();return s.setStart(e.dom,t),s.setEnd(o.dom,n),s})(e,t,o,n),r=Ze(e,o)&&t===n;return s.collapsed&&!r})(t,e.anchorOffset,o,e.focusOffset)?A.some(md(t,e.anchorOffset,o,e.focusOffset)):Od(e)}},Td=(e,t)=>(e=>{const t=e.getClientRects(),o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?A.some(o).map(xd):A.none()})(Sd(e,t)),Ed=(e=>{const t=t=>e(t)?A.from(t.dom.nodeValue):A.none();return{get:o=>{if(!e(o))throw new Error(\"Can only get text value of a text node\");return t(o).getOr(\"\")},getOption:t,set:(t,o)=>{if(!e(t))throw new Error(\"Can only set raw text value of a text node\");t.dom.nodeValue=o}}})(Ge),Ad=(e,t)=>({element:e,offset:t}),Md=(e,t)=>Ge(e)?Ad(e,t):((e,t)=>{const o=lt(e);if(0===o.length)return Ad(e,t);if(t<o.length)return Ad(o[t],0);{const e=o[o.length-1],t=Ge(e)?(e=>Ed.get(e))(e).length:lt(e).length;return Ad(e,t)}})(e,t),Dd=e=>void 0!==e.foffset,Bd=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>A.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(_d))(e)))().map((e=>{if(Dd(e)){const t=Md(e.start,e.soffset),o=Md(e.finish,e.foffset);return fd.range(t.element,t.offset,o.element,o.offset)}return e}));var Fd=[gs(\"getSelection\"),rs(\"root\"),gs(\"bubble\"),Jc(),ws(\"overrides\",{}),ws(\"showAbove\",!1),wi(\"placement\",((e,t,o)=>{const n=st(t.root).dom,s=ld(e,0,t),r=Bd(n,t).bind((e=>{if(Dd(e)){const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?A.some(t).map(xd):A.none()})(Sd(e,t)))(n,fd.exactFromRange(e)).orThunk((()=>{const t=Ne(\"\\ufeff\");Io(e.start,t);const o=Td(n,fd.exact(t,0,t,1));return Ho(t),o}));return t.bind((e=>cd(e.left,e.top,e.width,e.height)))}{const t=le(e,(e=>e.dom.getBoundingClientRect())),o={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return cd(o.left,o.top,o.right-o.left,o.bottom-o.top)}})),a=Bd(n,t).bind((e=>Dd(e)?je(e.start)?A.some(e.start):at(e.start):A.some(e.firstCell))).getOr(e.element);return dd(r,s,t,o,a)}))];const Id=\"link-layout\",Rd=e=>e.x+e.width,Nd=(e,t)=>e.x-t.width,zd=(e,t)=>e.y-t.height+e.height,Vd=e=>e.y,Ld=(e,t,o)=>Ml(Rd(e),Vd(e),o.southeast(),Bl(),\"southeast\",Hl(e,{left:0,top:2}),Id),Hd=(e,t,o)=>Ml(Nd(e,t),Vd(e),o.southwest(),Fl(),\"southwest\",Hl(e,{right:1,top:2}),Id),Pd=(e,t,o)=>Ml(Rd(e),zd(e,t),o.northeast(),Il(),\"northeast\",Hl(e,{left:0,bottom:3}),Id),Ud=(e,t,o)=>Ml(Nd(e,t),zd(e,t),o.northwest(),Rl(),\"northwest\",Hl(e,{right:1,bottom:3}),Id),Wd=()=>[Ld,Hd,Pd,Ud],$d=()=>[Hd,Ld,Ud,Pd];var jd=[rs(\"item\"),Jc(),ws(\"overrides\",{}),wi(\"placement\",((e,t,o)=>{const n=wc(o,t.item.element),s=Qc(e.element,t,Wd(),$d(),Wd(),$d(),A.none());return A.some(jc({anchorBox:n,bubble:$c(),overrides:t.overrides,layouts:s}))}))],Gd=es(\"type\",{selection:Fd,node:ud,hotspot:Zc,submenu:jd,makeshift:ed});const qd=[ms(\"classes\",Un),Os(\"mode\",\"all\",[\"all\",\"layout\",\"placement\"])],Yd=[ws(\"useFixed\",T),gs(\"getBounds\")],Xd=[as(\"anchor\",Gd),ys(\"transition\",qd)],Kd=(e,t,o,n,s,r)=>{const a=Qn(\"placement.info\",In(Xd),s),i=a.anchor,l=n.element,c=o.get(n.uid);bc((()=>{Mt(l,\"position\",\"fixed\");const s=Rt(l,\"visibility\");Mt(l,\"visibility\",\"hidden\");const d=t.useFixed()?(()=>{const e=document.documentElement;return Oc(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=qt(e.element),o=e.element.dom.getBoundingClientRect();return kc(t.left,t.top,o.width,o.height)})(e);i.placement(e,i,d).each((e=>{const s=r.orThunk((()=>t.getBounds.map(_))),i=((e,t,o,n,s,r)=>((e,t,o,n,s,r,a,i)=>{const l=Hc(a,\"maxHeightFunction\",Vc()),c=Hc(a,\"maxWidthFunction\",b),d=e.anchorBox,u=e.origin,m={bounds:Sc(u,r),origin:u,preference:n,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:s,transition:i};return Pc(d,t,o,m)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),n.element,t.bubble,t.layouts,s,o,t.overrides,r))(d,e,s,n,c,a.transition);o.set(n.uid,i)})),s.fold((()=>{Vt(l,\"visibility\")}),(e=>{Mt(l,\"visibility\",e)})),Rt(l,\"left\").isNone()&&Rt(l,\"top\").isNone()&&Rt(l,\"right\").isNone()&&Rt(l,\"bottom\").isNone()&&xe(Rt(l,\"position\"),\"fixed\")&&Vt(l,\"position\")}),l)};var Jd=Object.freeze({__proto__:null,position:(e,t,o,n,s)=>{const r=A.none();Kd(e,t,o,n,s,r)},positionWithinBounds:Kd,getMode:(e,t,o)=>t.useFixed()?\"fixed\":\"absolute\",reset:(e,t,o,n)=>{const s=n.element;L([\"position\",\"left\",\"right\",\"top\",\"bottom\"],(e=>Vt(s,e))),(e=>{Tt(e,_c)})(s),o.clear(n.uid)}});const Qd=ua({fields:Yd,name:\"positioning\",active:uc,apis:Jd,state:Object.freeze({__proto__:null,init:()=>{let e={};return la({readState:()=>e,clear:t=>{g(t)?delete e[t]:e={}},set:(t,o)=>{e[t]=o},get:t=>fe(e,t)})}})}),Zd=e=>e.getSystem().isConnected(),eu=e=>{Ir(e,kr());const t=e.components();L(t,eu)},tu=e=>{const t=e.components();L(t,tu),Ir(e,Cr())},ou=(e,t)=>{e.getSystem().addToWorld(t),vt(e.element)&&tu(t)},nu=e=>{eu(e),e.getSystem().removeFromWorld(e)},su=(e,t)=>{zo(e.element,t.element)},ru=(e,t)=>{au(e,t,zo)},au=(e,t,o)=>{e.getSystem().addToWorld(t),o(e.element,t.element),vt(e.element)&&tu(t),e.syncComponents()},iu=e=>{eu(e),Ho(e.element),e.getSystem().removeFromWorld(e)},lu=e=>{const t=rt(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));iu(e),t.each((e=>{e.syncComponents()}))},cu=e=>{const t=e.components();L(t,iu),Lo(e.element),e.syncComponents()},du=(e,t)=>{mu(e,t,zo)},uu=(e,t)=>{mu(e,t,Ro)},mu=(e,t,o)=>{o(e,t.element);const n=lt(t.element);L(n,(e=>{t.getByDom(e).each(tu)}))},gu=e=>{const t=lt(e.element);L(t,(t=>{e.getByDom(t).each(eu)})),Ho(e.element)},pu=(e,t,o,n)=>{o.get().each((t=>{cu(e)}));const s=t.getAttachPoint(e);ru(s,e);const r=e.getSystem().build(n);return ru(e,r),o.set(r),r},hu=(e,t,o,n)=>{const s=pu(e,t,o,n);return t.onOpen(e,s),s},fu=(e,t,o)=>{o.get().each((n=>{cu(e),lu(e),t.onClose(e,n),o.clear()}))},bu=(e,t,o)=>o.isOpen(),vu=(e,t,o)=>{const n=t.getAttachPoint(e);Mt(e.element,\"position\",Qd.getMode(n)),((e,t,o)=>{Rt(e.element,t).fold((()=>{Tt(e.element,o)}),(t=>{St(e.element,o,t)})),Mt(e.element,t,\"hidden\")})(e,\"visibility\",t.cloakVisibilityAttr)},xu=(e,t,o)=>{(e=>R([\"top\",\"left\",\"right\",\"bottom\"],(t=>Rt(e,t).isSome())))(e.element)||Vt(e.element,\"position\"),((e,t,o)=>{Ot(e.element,o).fold((()=>Vt(e.element,t)),(o=>Mt(e.element,t,o)))})(e,\"visibility\",t.cloakVisibilityAttr)};var yu=Object.freeze({__proto__:null,cloak:vu,decloak:xu,open:hu,openWhileCloaked:(e,t,o,n,s)=>{vu(e,t),hu(e,t,o,n),s(),xu(e,t)},close:fu,isOpen:bu,isPartOf:(e,t,o,n)=>bu(0,0,o)&&o.get().exists((o=>t.isPartOf(e,o,n))),getState:(e,t,o)=>o.get(),setContent:(e,t,o,n)=>o.get().map((()=>pu(e,t,o,n)))}),wu=Object.freeze({__proto__:null,events:(e,t)=>Hr([Wr(fr(),((o,n)=>{fu(o,e,t)}))])}),Su=[bi(\"onOpen\"),bi(\"onClose\"),rs(\"isPartOf\"),rs(\"getAttachPoint\"),ws(\"cloakVisibilityAttr\",\"data-precloak-visibility\")],Cu=Object.freeze({__proto__:null,init:()=>{const e=nn(),t=y(\"not-implemented\");return la({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const ku=ua({fields:Su,name:\"sandboxing\",active:wu,apis:yu,state:Cu}),Ou=y(\"dismiss.popups\"),_u=y(\"reposition.popups\"),Tu=y(\"mouse.released\"),Eu=Fn([ws(\"isExtraPart\",T),ys(\"fireEventInstead\",[ws(\"event\",Or())])]),Au=e=>{const t=Qn(\"Dismissal\",Eu,e);return{[Ou()]:{schema:Fn([rs(\"target\")]),onReceive:(e,o)=>{ku.isOpen(e)&&(ku.isPartOf(e,o.target)||t.isExtraPart(e,o.target)||t.fireEventInstead.fold((()=>ku.close(e)),(t=>Ir(e,t.event))))}}}},Mu=Fn([ys(\"fireEventInstead\",[ws(\"event\",_r())]),cs(\"doReposition\")]),Du=e=>{const t=Qn(\"Reposition\",Mu,e);return{[_u()]:{onReceive:e=>{ku.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ir(e,t.event)))}}}},Bu=(e,t,o)=>{t.store.manager.onLoad(e,t,o)},Fu=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};var Iu=Object.freeze({__proto__:null,onLoad:Bu,onUnload:Fu,setValue:(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)},getValue:(e,t,o)=>t.store.manager.getValue(e,t,o),getState:(e,t,o)=>o}),Ru=Object.freeze({__proto__:null,events:(e,t)=>{const o=e.resetOnDom?[Jr(((o,n)=>{Bu(o,e,t)})),Qr(((o,n)=>{Fu(o,e,t)}))]:[sa(e,t,Bu)];return Hr(o)}});const Nu=()=>{const e=en(null);return la({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:\"memory\",value:e.get()})})},zu=()=>{const e=en({}),t=en({});return la({readState:()=>({mode:\"dataset\",dataByValue:e.get(),dataByText:t.get()}),lookup:o=>fe(e.get(),o).orThunk((()=>fe(t.get(),o))),update:o=>{const n=e.get(),s=t.get(),r={},a={};L(o,(e=>{r[e.value]=e,fe(e,\"meta\").each((t=>{fe(t,\"text\").each((t=>{a[t]=e}))}))})),e.set({...n,...r}),t.set({...s,...a})},clear:()=>{e.set({}),t.set({})}})};var Vu=Object.freeze({__proto__:null,memory:Nu,dataset:zu,manual:()=>la({readState:b}),init:e=>e.store.manager.state(e)});const Lu=(e,t,o,n)=>{const s=t.store;o.update([n]),s.setValue(e,n),t.onSetValue(e,n)};var Hu=[gs(\"initialValue\"),rs(\"getFallbackEntry\"),rs(\"getDataKey\"),rs(\"setValue\"),wi(\"manager\",{setValue:Lu,getValue:(e,t,o)=>{const n=t.store,s=n.getDataKey(e);return o.lookup(s).getOrThunk((()=>n.getFallbackEntry(s)))},onLoad:(e,t,o)=>{t.store.initialValue.each((n=>{Lu(e,t,o,n)}))},onUnload:(e,t,o)=>{o.clear()},state:zu})],Pu=[rs(\"getValue\"),ws(\"setValue\",b),gs(\"initialValue\"),wi(\"manager\",{setValue:(e,t,o,n)=>{t.store.setValue(e,n),t.onSetValue(e,n)},getValue:(e,t,o)=>t.store.getValue(e),onLoad:(e,t,o)=>{t.store.initialValue.each((o=>{t.store.setValue(e,o)}))},onUnload:b,state:ia.init})],Uu=[gs(\"initialValue\"),wi(\"manager\",{setValue:(e,t,o,n)=>{o.set(n),t.onSetValue(e,n)},getValue:(e,t,o)=>o.get(),onLoad:(e,t,o)=>{t.store.initialValue.each((e=>{o.isNotSet()&&o.set(e)}))},onUnload:(e,t,o)=>{o.clear()},state:Nu})],Wu=[Ss(\"store\",{mode:\"memory\"},es(\"mode\",{memory:Uu,manual:Pu,dataset:Hu})),bi(\"onSetValue\"),ws(\"resetOnDom\",!1)];const $u=ua({fields:Wu,name:\"representing\",active:Ru,apis:Iu,extra:{setValueFrom:(e,t)=>{const o=$u.getValue(t);$u.setValue(e,o)}},state:Vu}),ju=(e,t)=>As(e,{},V(t,(t=>{return o=t.name(),n=\"Cannot configure \"+t.name()+\" for \"+e,os(o,o,{tag:\"option\",process:{}},Tn((e=>pn(\"The field: \"+o+\" is forbidden. \"+n))));var o,n})).concat([ns(\"dump\",w)])),Gu=e=>e.dump,qu=(e,t)=>({...ca(t),...e.dump}),Yu=ju,Xu=qu,Ku=\"placeholder\",Ju=Ms([{single:[\"required\",\"valueThunk\"]},{multiple:[\"required\",\"valueThunks\"]}]),Qu=e=>be(e,\"uiType\"),Zu=(e,t,o,n)=>((e,t,o,n)=>Qu(o)&&o.uiType===Ku?((e,t,o,n)=>e.exists((e=>e!==o.owner))?Ju.single(!0,y(o)):fe(n,o.name).fold((()=>{throw new Error(\"Unknown placeholder component: \"+o.name+\"\\nKnown: [\"+re(n)+\"]\\nNamespace: \"+e.getOr(\"none\")+\"\\nSpec: \"+JSON.stringify(o,null,2))}),(e=>e.replace())))(e,0,o,n):Ju.single(!1,y(o)))(e,0,o,n).fold(((s,r)=>{const a=Qu(o)?r(t,o.config,o.validated):r(t),i=fe(a,\"components\").getOr([]),l=q(i,(o=>Zu(e,t,o,n)));return[{...a,components:l}]}),((e,n)=>{if(Qu(o)){const e=n(t,o.config,o.validated);return o.validated.preprocess.getOr(w)(e)}return n(t)})),em=Ju.single,tm=Ju.multiple,om=y(Ku),nm=Ms([{required:[\"data\"]},{external:[\"data\"]},{optional:[\"data\"]},{group:[\"data\"]}]),sm=ws(\"factory\",{sketch:w}),rm=ws(\"schema\",[]),am=rs(\"name\"),im=os(\"pname\",\"pname\",wn((e=>\"<alloy.\"+Di(e.name)+\">\")),Ln()),lm=ns(\"schema\",(()=>[gs(\"preprocess\")])),cm=ws(\"defaults\",y({})),dm=ws(\"overrides\",y({})),um=In([sm,rm,am,im,cm,dm]),mm=In([sm,rm,am,cm,dm]),gm=In([sm,rm,am,im,cm,dm]),pm=In([sm,lm,am,rs(\"unit\"),im,cm,dm]),hm=e=>e.fold(A.some,A.none,A.some,A.some),fm=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},bm=(e,t)=>o=>{const n=Qn(\"Converting part type\",t,o);return e(n)},vm=bm(nm.required,um),xm=bm(nm.external,mm),ym=bm(nm.optional,gm),wm=bm(nm.group,pm),Sm=y(\"entirety\");var Cm=Object.freeze({__proto__:null,required:vm,external:xm,optional:ym,group:wm,asNamedPart:hm,name:fm,asCommon:e=>e.fold(w,w,w,w),original:Sm});const km=(e,t,o,n)=>xn(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n)),Om=(e,t)=>{const o={};return L(t,(t=>{hm(t).each((t=>{const n=_m(e,t.pname);o[t.name]=o=>{const s=Qn(\"Part: \"+t.name+\" in \"+e,In(t.schema),o);return{...n,config:o,validated:s}}}))})),o},_m=(e,t)=>({uiType:om(),owner:e,name:t}),Tm=(e,t,o)=>({uiType:om(),owner:e,name:t,config:o,validated:{}}),Em=e=>q(e,(e=>e.fold(A.none,A.some,A.none,A.none).map((e=>ds(e.name,e.schema.concat([Si(Sm())])))).toArray())),Am=e=>V(e,fm),Mm=(e,t,o)=>((e,t,o)=>{const n={},s={};return L(o,(e=>{e.fold((e=>{n[e.pname]=em(!0,((t,o,n)=>e.factory.sketch(km(t,e,o,n))))}),(e=>{const o=t.parts[e.name];s[e.name]=y(e.factory.sketch(km(t,e,o[Sm()]),o))}),(e=>{n[e.pname]=em(!1,((t,o,n)=>e.factory.sketch(km(t,e,o,n))))}),(e=>{n[e.pname]=tm(!0,((t,o,n)=>{const s=t[e.name];return V(s,(o=>e.factory.sketch(xn(e.defaults(t,o,n),o,e.overrides(t,o)))))}))}))})),{internals:y(n),externals:y(s)}})(0,t,o),Dm=(e,t,o)=>((e,t,o,n)=>{const s=le(n,((e,t)=>((e,t)=>{let o=!1;return{name:y(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>o,replace:()=>{if(o)throw new Error(\"Trying to use the same placeholder more than once: \"+e);return o=!0,t}}})(t,e))),r=((e,t,o,n)=>q(o,(o=>Zu(e,t,o,n))))(e,t,o,s);return ie(s,(o=>{if(!1===o.used()&&o.required())throw new Error(\"Placeholder: \"+o.name()+\" was not found in components list\\nNamespace: \"+e.getOr(\"none\")+\"\\nComponents: \"+JSON.stringify(t.components,null,2))})),r})(A.some(e),t,t.components,o),Bm=(e,t,o)=>{const n=t.partUids[o];return e.getSystem().getByUid(n).toOptional()},Fm=(e,t,o)=>Bm(e,t,o).getOrDie(\"Could not find part: \"+o),Im=(e,t,o)=>{const n={},s=t.partUids,r=e.getSystem();return L(o,(e=>{n[e]=y(r.getByUid(s[e]))})),n},Rm=(e,t)=>{const o=e.getSystem();return le(t.partUids,((e,t)=>y(o.getByUid(e))))},Nm=e=>re(e.partUids),zm=(e,t,o)=>{const n={},s=t.partUids,r=e.getSystem();return L(o,(e=>{n[e]=y(r.getByUid(s[e]).getOrDie())})),n},Vm=(e,t)=>{const o=Am(t);return Bs(V(o,(t=>({key:t,value:e+\"-\"+t}))))},Lm=e=>os(\"partUids\",\"partUids\",Cn((t=>Vm(t.uid,e))),Ln());var Hm=Object.freeze({__proto__:null,generate:Om,generateOne:Tm,schemas:Em,names:Am,substitutes:Mm,components:Dm,defaultUids:Vm,defaultUidsSchema:Lm,getAllParts:Rm,getAllPartNames:Nm,getPart:Bm,getPartOrDie:Fm,getParts:Im,getPartsOrDie:zm});const Pm=(e,t,o,n,s)=>{const r=((e,t)=>(e.length>0?[ds(\"parts\",e)]:[]).concat([rs(\"uid\"),ws(\"dom\",{}),ws(\"components\",[]),Si(\"originalSpec\"),ws(\"debug.sketcher\",{})]).concat(t))(n,s);return Qn(e+\" [SpecSchema]\",Fn(r.concat(t)),o)},Um=(e,t,o,n,s)=>{const r=Wm(s),a=Em(o),i=Lm(o),l=Pm(e,t,r,a,[i]),c=Mm(0,l,o);return n(l,Dm(e,l,c.internals()),r,c.externals())},Wm=e=>(e=>be(e,\"uid\"))(e)?e:{...e,uid:Vi(\"uid\")},$m=Fn([rs(\"name\"),rs(\"factory\"),rs(\"configFields\"),ws(\"apis\",{}),ws(\"extraApis\",{})]),jm=Fn([rs(\"name\"),rs(\"factory\"),rs(\"configFields\"),rs(\"partFields\"),ws(\"apis\",{}),ws(\"extraApis\",{})]),Gm=e=>{const t=Qn(\"Sketcher for \"+e.name,$m,e),o=le(t.apis,ji),n=le(t.extraApis,((e,t)=>oa(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,o,n)=>{const s=Wm(n);return o(Pm(e,t,s,[],[]),s)})(t.name,t.configFields,t.factory,e),...o,...n}},qm=e=>{const t=Qn(\"Sketcher for \"+e.name,jm,e),o=Om(t.name,t.partFields),n=le(t.apis,ji),s=le(t.extraApis,((e,t)=>oa(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>Um(t.name,t.configFields,t.partFields,t.factory,e),parts:o,...n,...s}},Ym=e=>Xe(\"input\")(e)&&\"radio\"!==kt(e,\"type\")||Xe(\"textarea\")(e);var Xm=Object.freeze({__proto__:null,getCurrent:(e,t,o)=>t.find(e)});const Km=[rs(\"find\")],Jm=ua({fields:Km,name:\"composing\",apis:Xm}),Qm=[\"input\",\"button\",\"textarea\",\"select\"],Zm=(e,t,o)=>{(t.disabled()?rg:ag)(e,t)},eg=(e,t)=>!0===t.useNative&&I(Qm,Ue(e.element)),tg=e=>{St(e.element,\"disabled\",\"disabled\")},og=e=>{Tt(e.element,\"disabled\")},ng=e=>{St(e.element,\"aria-disabled\",\"true\")},sg=e=>{St(e.element,\"aria-disabled\",\"false\")},rg=(e,t,o)=>{t.disableClass.each((t=>{ya(e.element,t)})),(eg(e,t)?tg:ng)(e),t.onDisabled(e)},ag=(e,t,o)=>{t.disableClass.each((t=>{Sa(e.element,t)})),(eg(e,t)?og:sg)(e),t.onEnabled(e)},ig=(e,t)=>eg(e,t)?(e=>_t(e.element,\"disabled\"))(e):(e=>\"true\"===kt(e.element,\"aria-disabled\"))(e);var lg=Object.freeze({__proto__:null,enable:ag,disable:rg,isDisabled:ig,onLoad:Zm,set:(e,t,o,n)=>{(n?rg:ag)(e,t)}}),cg=Object.freeze({__proto__:null,exhibit:(e,t)=>na({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Hr([Pr(mr(),((t,o)=>ig(t,e))),sa(e,t,Zm)])}),dg=[Ts(\"disabled\",T),ws(\"useNative\",!0),gs(\"disableClass\"),bi(\"onDisabled\"),bi(\"onEnabled\")];const ug=ua({fields:dg,name:\"disabling\",active:cg,apis:lg}),mg=(e,t,o,n)=>{const s=kd(e.element,\".\"+t.highlightClass);L(s,(o=>{R(n,(e=>Ze(e.element,o)))||(Sa(o,t.highlightClass),e.getSystem().getByDom(o).each((o=>{t.onDehighlight(e,o),Ir(o,Fr())})))}))},gg=(e,t,o,n)=>{mg(e,t,0,[n]),pg(e,t,o,n)||(ya(n.element,t.highlightClass),t.onHighlight(e,n),Ir(n,Br()))},pg=(e,t,o,n)=>Ca(n.element,t.highlightClass),hg=(e,t,o)=>Ol(e.element,\".\"+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),fg=(e,t,o)=>{const n=kd(e.element,\".\"+t.itemClass);return(n.length>0?A.some(n[n.length-1]):A.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},bg=(e,t,o,n)=>{const s=kd(e.element,\".\"+t.itemClass);return j(s,(e=>Ca(e,t.highlightClass))).bind((t=>{const o=Ei(t,n,0,s.length-1);return e.getSystem().getByDom(s[o]).toOptional()}))},vg=(e,t,o)=>{const n=kd(e.element,\".\"+t.itemClass);return ye(V(n,(t=>e.getSystem().getByDom(t).toOptional())))};var xg=Object.freeze({__proto__:null,dehighlightAll:(e,t,o)=>mg(e,t,0,[]),dehighlight:(e,t,o,n)=>{pg(e,t,o,n)&&(Sa(n.element,t.highlightClass),t.onDehighlight(e,n),Ir(n,Fr()))},highlight:gg,highlightFirst:(e,t,o)=>{hg(e,t).each((n=>{gg(e,t,o,n)}))},highlightLast:(e,t,o)=>{fg(e,t).each((n=>{gg(e,t,o,n)}))},highlightAt:(e,t,o,n)=>{((e,t,o,n)=>{const s=kd(e.element,\".\"+t.itemClass);return A.from(s[n]).fold((()=>ln.error(new Error(\"No element found with index \"+n))),e.getSystem().getByDom)})(e,t,0,n).fold((e=>{throw e}),(n=>{gg(e,t,o,n)}))},highlightBy:(e,t,o,n)=>{const s=vg(e,t);$(s,n).each((n=>{gg(e,t,o,n)}))},isHighlighted:pg,getHighlighted:(e,t,o)=>Ol(e.element,\".\"+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:hg,getLast:fg,getPrevious:(e,t,o)=>bg(e,t,0,-1),getNext:(e,t,o)=>bg(e,t,0,1),getCandidates:vg}),yg=[rs(\"highlightClass\"),rs(\"itemClass\"),bi(\"onHighlight\"),bi(\"onDehighlight\")];const wg=ua({fields:yg,name:\"highlighting\",apis:xg}),Sg=[8],Cg=[9],kg=[13],Og=[27],_g=[32],Tg=[37],Eg=[38],Ag=[39],Mg=[40],Dg=(e,t,o)=>{const n=X(e.slice(0,t)),s=X(e.slice(t+1));return $(n.concat(s),o)},Bg=(e,t,o)=>{const n=X(e.slice(0,t));return $(n,o)},Fg=(e,t,o)=>{const n=e.slice(0,t),s=e.slice(t+1);return $(s.concat(n),o)},Ig=(e,t,o)=>{const n=e.slice(t+1);return $(n,o)},Rg=e=>t=>{const o=t.raw;return I(e,o.which)},Ng=e=>t=>Y(e,(e=>e(t))),zg=e=>!0===e.raw.shiftKey,Vg=e=>!0===e.raw.ctrlKey,Lg=k(zg),Hg=(e,t)=>({matches:e,classification:t}),Pg=(e,t,o)=>{t.exists((e=>o.exists((t=>Ze(t,e)))))||Rr(e,Tr(),{prevFocus:t,newFocus:o})},Ug=()=>{const e=e=>fc(e.element);return{get:e,set:(t,o)=>{const n=e(t);t.getSystem().triggerFocus(o,t.element);const s=e(t);Pg(t,n,s)}}},Wg=()=>{const e=e=>wg.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,o)=>{const n=e(t);t.getSystem().getByDom(o).fold(b,(e=>{wg.highlight(t,e)}));const s=e(t);Pg(t,n,s)}}};var $g;!function(e){e.OnFocusMode=\"onFocus\",e.OnEnterOrSpaceMode=\"onEnterOrSpace\",e.OnApiMode=\"onApi\"}($g||($g={}));const jg=(e,t,o,n,s)=>{const r=(e,t,o,n,s)=>{return(r=o(e,t,n,s),a=t.event,$(r,(e=>e.matches(a))).map((e=>e.classification))).bind((o=>o(e,t,n,s)));var r,a},a={schema:()=>e.concat([ws(\"focusManager\",Ug()),Ss(\"focusInside\",\"onFocus\",Yn((e=>I([\"onFocus\",\"onEnterOrSpace\",\"onApi\"],e)?ln.value(e):ln.error(\"Invalid value for focusInside\")))),wi(\"handler\",a),wi(\"state\",t),wi(\"sendFocusIn\",s)]),processKey:r,toEvents:(e,t)=>{const a=e.focusInside!==$g.OnFocusMode?A.none():s(e).map((o=>Wr(lr(),((n,s)=>{o(n,e,t),s.stop()})))),i=[Wr(Js(),((n,a)=>{r(n,a,o,e,t).fold((()=>{((o,n)=>{const r=Rg(_g.concat(kg))(n.event);e.focusInside===$g.OnEnterOrSpaceMode&&r&&Ns(o,n)&&s(e).each((s=>{s(o,e,t),n.stop()}))})(n,a)}),(e=>{a.stop()}))})),Wr(Qs(),((o,s)=>{r(o,s,n,e,t).each((e=>{s.stop()}))}))];return Hr(a.toArray().concat(i))}};return a},Gg=e=>{const t=[gs(\"onEscape\"),gs(\"onEnter\"),ws(\"selector\",'[data-alloy-tabstop=\"true\"]:not(:disabled)'),ws(\"firstTabstop\",0),ws(\"useTabstopAt\",E),gs(\"visibilitySelector\")].concat([e]),o=(e,t)=>{const o=e.visibilitySelector.bind((e=>_l(t,e))).getOr(t);return Ut(o)>0},n=(e,t)=>t.focusManager.get(e).bind((e=>_l(e,t.selector))),s=(e,t,n)=>{((e,t)=>{const n=kd(e.element,t.selector),s=P(n,(e=>o(t,e)));return A.from(s[t.firstTabstop])})(e,t).each((o=>{t.focusManager.set(e,o)}))},r=(e,t,s,r)=>{const a=P(kd(e.element,s.selector),(e=>o(s,e)));return n(e,s).bind((t=>j(a,C(Ze,t)).bind((t=>((e,t,n,s,r)=>r(t,n,(e=>((e,t)=>o(e,t)&&e.useTabstopAt(t))(s,e))).fold((()=>s.cyclic?A.some(!0):A.none()),(t=>(s.focusManager.set(e,t),A.some(!0)))))(e,a,t,s,r)))))},a=(e,t,o)=>{const n=o.cyclic?Dg:Bg;return r(e,0,o,n)},i=(e,t,o)=>{const n=o.cyclic?Fg:Ig;return r(e,0,o,n)},l=y([Hg(Ng([zg,Rg(Cg)]),a),Hg(Rg(Cg),i),Hg(Ng([Lg,Rg(kg)]),((e,t,o)=>o.onEnter.bind((o=>o(e,t)))))]),c=y([Hg(Rg(Og),((e,t,o)=>o.onEscape.bind((o=>o(e,t))))),Hg(Rg(Cg),((e,t,o)=>n(e,o).filter((e=>!o.useTabstopAt(e))).bind((n=>((e=>(e=>rt(e))(e).bind(dt).exists((t=>Ze(t,e))))(n)?a:i)(e,t,o)))))]);return jg(t,ia.init,l,c,(()=>A.some(s)))};var qg=Gg(ns(\"cyclic\",T)),Yg=Gg(ns(\"cyclic\",E));const Xg=(e,t,o)=>Ym(o)&&Rg(_g)(t.event)?A.none():((e,t,o)=>(zr(e,o,mr()),A.some(!0)))(e,0,o),Kg=(e,t)=>A.some(!0),Jg=[ws(\"execute\",Xg),ws(\"useSpace\",!1),ws(\"useEnter\",!0),ws(\"useControlEnter\",!1),ws(\"useDown\",!1)],Qg=(e,t,o)=>o.execute(e,t,e.element);var Zg=jg(Jg,ia.init,((e,t,o,n)=>{const s=o.useSpace&&!Ym(e.element)?_g:[],r=o.useEnter?kg:[],a=o.useDown?Mg:[],i=s.concat(r).concat(a);return[Hg(Rg(i),Qg)].concat(o.useControlEnter?[Hg(Ng([Vg,Rg(kg)]),Qg)]:[])}),((e,t,o,n)=>o.useSpace&&!Ym(e.element)?[Hg(Rg(_g),Kg)]:[]),(()=>A.none()));const ep=()=>{const e=nn();return la({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:\"?\",numColumns:\"?\"}),setGridSize:(t,o)=>{e.set({numRows:t,numColumns:o})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var tp=Object.freeze({__proto__:null,flatgrid:ep,init:e=>e.state(e)});const op=e=>(t,o,n,s)=>{const r=e(t.element);return ap(r,t,o,n,s)},np=(e,t)=>{const o=Gc(e,t);return op(o)},sp=(e,t)=>{const o=Gc(t,e);return op(o)},rp=e=>(t,o,n,s)=>ap(e,t,o,n,s),ap=(e,t,o,n,s)=>n.focusManager.get(t).bind((o=>e(t.element,o,n,s))).map((e=>(n.focusManager.set(t,e),!0))),ip=rp,lp=rp,cp=rp,dp=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),up=(e,t,o)=>{const n=kd(e,o);return(e=>j(e,(e=>Ze(e,t))).map((t=>({index:t,candidates:e}))))(P(n,dp))},mp=(e,t)=>j(e,(e=>Ze(t,e))),gp=(e,t,o,n)=>n(Math.floor(t/o),t%o).bind((t=>{const n=t.row*o+t.column;return n>=0&&n<e.length?A.some(e[n]):A.none()})),pp=(e,t,o,n,s)=>gp(e,t,n,((t,r)=>{const a=t===o-1?e.length-t*n:n,i=Ei(r,s,0,a-1);return A.some({row:t,column:i})})),hp=(e,t,o,n,s)=>gp(e,t,n,((t,r)=>{const a=Ei(t,s,0,o-1),i=a===o-1?e.length-a*n:n,l=Ai(r,0,i-1);return A.some({row:a,column:l})})),fp=[rs(\"selector\"),ws(\"execute\",Xg),vi(\"onEscape\"),ws(\"captureTab\",!1),Ci()],bp=(e,t,o)=>{Ol(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))},vp=e=>(t,o,n,s)=>up(t,o,n.selector).bind((t=>e(t.candidates,t.index,s.getNumRows().getOr(n.initSize.numRows),s.getNumColumns().getOr(n.initSize.numColumns)))),xp=(e,t,o)=>o.captureTab?A.some(!0):A.none(),yp=vp(((e,t,o,n)=>pp(e,t,o,n,-1))),wp=vp(((e,t,o,n)=>pp(e,t,o,n,1))),Sp=vp(((e,t,o,n)=>hp(e,t,o,n,-1))),Cp=vp(((e,t,o,n)=>hp(e,t,o,n,1))),kp=y([Hg(Rg(Tg),np(yp,wp)),Hg(Rg(Ag),sp(yp,wp)),Hg(Rg(Eg),ip(Sp)),Hg(Rg(Mg),lp(Cp)),Hg(Ng([zg,Rg(Cg)]),xp),Hg(Ng([Lg,Rg(Cg)]),xp),Hg(Rg(_g.concat(kg)),((e,t,o,n)=>((e,t)=>t.focusManager.get(e).bind((e=>_l(e,t.selector))))(e,o).bind((n=>o.execute(e,t,n)))))]),Op=y([Hg(Rg(Og),((e,t,o)=>o.onEscape(e,t))),Hg(Rg(_g),Kg)]);var _p=jg(fp,ep,kp,Op,(()=>A.some(bp)));const Tp=(e,t,o,n,s)=>{const r=(e,t,o)=>s(e,t,n,0,o.length-1,o[t],(t=>{return n=o[t],\"button\"===Ue(n)&&\"disabled\"===kt(n,\"disabled\")?r(e,t,o):A.from(o[t]);var n}));return up(e,o,t).bind((e=>{const t=e.index,o=e.candidates;return r(t,t,o)}))},Ep=(e,t,o,n)=>Tp(e,t,o,n,((e,t,o,n,s,r,a)=>{const i=Ai(t+o,n,s);return i===e?A.from(r):a(i)})),Ap=(e,t,o,n)=>Tp(e,t,o,n,((e,t,o,n,s,r,a)=>{const i=Ei(t,o,n,s);return i===e?A.none():a(i)})),Mp=[rs(\"selector\"),ws(\"getInitial\",A.none),ws(\"execute\",Xg),vi(\"onEscape\"),ws(\"executeOnMove\",!1),ws(\"allowVertical\",!0),ws(\"allowHorizontal\",!0),ws(\"cycles\",!0)],Dp=(e,t,o)=>((e,t)=>t.focusManager.get(e).bind((e=>_l(e,t.selector))))(e,o).bind((n=>o.execute(e,t,n))),Bp=(e,t,o)=>{t.getInitial(e).orThunk((()=>Ol(e.element,t.selector))).each((o=>{t.focusManager.set(e,o)}))},Fp=(e,t,o)=>(o.cycles?Ap:Ep)(e,o.selector,t,-1),Ip=(e,t,o)=>(o.cycles?Ap:Ep)(e,o.selector,t,1),Rp=e=>(t,o,n,s)=>e(t,o,n,s).bind((()=>n.executeOnMove?Dp(t,o,n):A.some(!0))),Np=y([Hg(Rg(_g),Kg),Hg(Rg(Og),((e,t,o)=>o.onEscape(e,t)))]);var zp=jg(Mp,ia.init,((e,t,o,n)=>{const s=[...o.allowHorizontal?Tg:[]].concat(o.allowVertical?Eg:[]),r=[...o.allowHorizontal?Ag:[]].concat(o.allowVertical?Mg:[]);return[Hg(Rg(s),Rp(np(Fp,Ip))),Hg(Rg(r),Rp(sp(Fp,Ip))),Hg(Rg(kg),Dp),Hg(Rg(_g),Dp)]}),Np,(()=>A.some(Bp)));const Vp=(e,t,o)=>A.from(e[t]).bind((e=>A.from(e[o]).map((e=>({rowIndex:t,columnIndex:o,cell:e}))))),Lp=(e,t,o,n)=>{const s=e[t].length,r=Ei(o,n,0,s-1);return Vp(e,t,r)},Hp=(e,t,o,n)=>{const s=Ei(o,n,0,e.length-1),r=e[s].length,a=Ai(t,0,r-1);return Vp(e,s,a)},Pp=(e,t,o,n)=>{const s=e[t].length,r=Ai(o+n,0,s-1);return Vp(e,t,r)},Up=(e,t,o,n)=>{const s=Ai(o+n,0,e.length-1),r=e[s].length,a=Ai(t,0,r-1);return Vp(e,s,a)},Wp=[ds(\"selectors\",[rs(\"row\"),rs(\"cell\")]),ws(\"cycles\",!0),ws(\"previousSelector\",A.none),ws(\"execute\",Xg)],$p=(e,t,o)=>{t.previousSelector(e).orThunk((()=>{const o=t.selectors;return Ol(e.element,o.cell)})).each((o=>{t.focusManager.set(e,o)}))},jp=(e,t)=>(o,n,s)=>{const r=s.cycles?e:t;return _l(n,s.selectors.row).bind((e=>{const t=kd(e,s.selectors.cell);return mp(t,n).bind((t=>{const n=kd(o,s.selectors.row);return mp(n,e).bind((e=>{const o=((e,t)=>V(e,(e=>kd(e,t.selectors.cell))))(n,s);return r(o,e,t).map((e=>e.cell))}))}))}))},Gp=jp(((e,t,o)=>Lp(e,t,o,-1)),((e,t,o)=>Pp(e,t,o,-1))),qp=jp(((e,t,o)=>Lp(e,t,o,1)),((e,t,o)=>Pp(e,t,o,1))),Yp=jp(((e,t,o)=>Hp(e,o,t,-1)),((e,t,o)=>Up(e,o,t,-1))),Xp=jp(((e,t,o)=>Hp(e,o,t,1)),((e,t,o)=>Up(e,o,t,1))),Kp=y([Hg(Rg(Tg),np(Gp,qp)),Hg(Rg(Ag),sp(Gp,qp)),Hg(Rg(Eg),ip(Yp)),Hg(Rg(Mg),lp(Xp)),Hg(Rg(_g.concat(kg)),((e,t,o)=>fc(e.element).bind((n=>o.execute(e,t,n)))))]),Jp=y([Hg(Rg(_g),Kg)]);var Qp=jg(Wp,ia.init,Kp,Jp,(()=>A.some($p)));const Zp=[rs(\"selector\"),ws(\"execute\",Xg),ws(\"moveOnTab\",!1)],eh=(e,t,o)=>o.focusManager.get(e).bind((n=>o.execute(e,t,n))),th=(e,t,o)=>{Ol(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))},oh=(e,t,o)=>Ap(e,o.selector,t,-1),nh=(e,t,o)=>Ap(e,o.selector,t,1),sh=y([Hg(Rg(Eg),cp(oh)),Hg(Rg(Mg),cp(nh)),Hg(Ng([zg,Rg(Cg)]),((e,t,o,n)=>o.moveOnTab?cp(oh)(e,t,o,n):A.none())),Hg(Ng([Lg,Rg(Cg)]),((e,t,o,n)=>o.moveOnTab?cp(nh)(e,t,o,n):A.none())),Hg(Rg(kg),eh),Hg(Rg(_g),eh)]),rh=y([Hg(Rg(_g),Kg)]);var ah=jg(Zp,ia.init,sh,rh,(()=>A.some(th)));const ih=[vi(\"onSpace\"),vi(\"onEnter\"),vi(\"onShiftEnter\"),vi(\"onLeft\"),vi(\"onRight\"),vi(\"onTab\"),vi(\"onShiftTab\"),vi(\"onUp\"),vi(\"onDown\"),vi(\"onEscape\"),ws(\"stopSpaceKeyup\",!1),gs(\"focusIn\")];var lh=jg(ih,ia.init,((e,t,o)=>[Hg(Rg(_g),o.onSpace),Hg(Ng([Lg,Rg(kg)]),o.onEnter),Hg(Ng([zg,Rg(kg)]),o.onShiftEnter),Hg(Ng([zg,Rg(Cg)]),o.onShiftTab),Hg(Ng([Lg,Rg(Cg)]),o.onTab),Hg(Rg(Eg),o.onUp),Hg(Rg(Mg),o.onDown),Hg(Rg(Tg),o.onLeft),Hg(Rg(Ag),o.onRight),Hg(Rg(_g),o.onSpace)]),((e,t,o)=>[...o.stopSpaceKeyup?[Hg(Rg(_g),Kg)]:[],Hg(Rg(Og),o.onEscape)]),(e=>e.focusIn));const ch=qg.schema(),dh=Yg.schema(),uh=zp.schema(),mh=_p.schema(),gh=Qp.schema(),ph=Zg.schema(),hh=ah.schema(),fh=lh.schema(),bh=ga({branchKey:\"mode\",branches:Object.freeze({__proto__:null,acyclic:ch,cyclic:dh,flow:uh,flatgrid:mh,matrix:gh,execution:ph,menu:hh,special:fh}),name:\"keying\",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,o)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(n=>{n(e,t,o)}))},setGridSize:(e,t,o,n,s)=>{(e=>ve(e,\"setGridSize\"))(o)?o.setGridSize(n,s):console.error(\"Layout does not support setGridSize\")}},state:tp}),vh=(e,t)=>{bc((()=>{((e,t,o)=>{const n=e.components();(e=>{L(e.components(),(e=>Ho(e.element))),Lo(e.element),e.syncComponents()})(e);const s=o(t),r=K(n,s);L(r,(t=>{eu(t),e.getSystem().removeFromWorld(t)})),L(s,(t=>{Zd(t)?su(e,t):(e.getSystem().addToWorld(t),su(e,t),vt(e.element)&&tu(t))})),e.syncComponents()})(e,t,(()=>V(t,e.getSystem().build)))}),e.element)},xh=(e,t)=>{bc((()=>{((o,n)=>{const s=o.components(),r=q(n,(e=>$i(e).toArray()));L(s,(e=>{I(r,e)||nu(e)}));const a=((e,t,o)=>sl(e,t,((t,n)=>rl(e,n,t,o))))(e.element,t,e.getSystem().buildOrPatch),i=K(s,a);L(i,(e=>{Zd(e)&&nu(e)})),L(a,(e=>{Zd(e)||ou(o,e)})),o.syncComponents()})(e,t)}),e.element)},yh=(e,t,o,n)=>{nu(t);const s=rl(e.element,o,n,e.getSystem().buildOrPatch);ou(e,s),e.syncComponents()},wh=(e,t,o)=>{const n=e.getSystem().build(o);au(e,n,t)},Sh=(e,t,o,n)=>{lu(t),wh(e,((e,t)=>((e,t,o)=>{ct(e,o).fold((()=>{zo(e,t)}),(e=>{Io(e,t)}))})(e,t,o)),n)},Ch=(e,t)=>e.components(),kh=(e,t,o,n,s)=>{const r=Ch(e);return A.from(r[n]).map((o=>(s.fold((()=>lu(o)),(s=>{(t.reuseDom?yh:Sh)(e,o,n,s)})),o)))};var Oh=Object.freeze({__proto__:null,append:(e,t,o,n)=>{wh(e,zo,n)},prepend:(e,t,o,n)=>{wh(e,No,n)},remove:(e,t,o,n)=>{const s=Ch(e),r=$(s,(e=>Ze(n.element,e.element)));r.each(lu)},replaceAt:kh,replaceBy:(e,t,o,n,s)=>{const r=Ch(e);return j(r,n).bind((o=>kh(e,t,0,o,s)))},set:(e,t,o,n)=>(t.reuseDom?xh:vh)(e,n),contents:Ch});const _h=ua({fields:[_s(\"reuseDom\",!0)],name:\"replacing\",apis:Oh}),Th=(e,t)=>{const o=((e,t)=>{const o=Hr(t);return ua({fields:[rs(\"enabled\")],name:e,active:{events:y(o)}})})(e,t);return{key:e,value:{config:{},me:o,configAsRaw:y({}),initialConfig:{},state:ia}}},Eh=(e,t)=>{t.ignore||(mc(e.element),t.onFocus(e))};var Ah=Object.freeze({__proto__:null,focus:Eh,blur:(e,t)=>{t.ignore||gc(e.element)},isFocused:e=>pc(e.element)}),Mh=Object.freeze({__proto__:null,exhibit:(e,t)=>{const o=t.ignore?{}:{attributes:{tabindex:\"-1\"}};return na(o)},events:e=>Hr([Wr(lr(),((t,o)=>{Eh(t,e),o.stop()}))].concat(e.stopMousedown?[Wr($s(),((e,t)=>{t.event.prevent()}))]:[]))}),Dh=[bi(\"onFocus\"),ws(\"stopMousedown\",!1),ws(\"ignore\",!1)];const Bh=ua({fields:Dh,name:\"focusing\",active:Mh,apis:Ah}),Fh=(e,t,o,n)=>{const s=o.get();o.set(n),((e,t,o)=>{t.toggleClass.each((t=>{o.get()?ya(e.element,t):Sa(e.element,t)}))})(e,t,o),((e,t,o)=>{const n=t.aria;n.update(e,n,o.get())})(e,t,o),s!==n&&t.onToggled(e,n)},Ih=(e,t,o)=>{Fh(e,t,o,!o.get())},Rh=(e,t,o)=>{Fh(e,t,o,t.selected)};var Nh=Object.freeze({__proto__:null,onLoad:Rh,toggle:Ih,isOn:(e,t,o)=>o.get(),on:(e,t,o)=>{Fh(e,t,o,!0)},off:(e,t,o)=>{Fh(e,t,o,!1)},set:Fh}),zh=Object.freeze({__proto__:null,exhibit:()=>na({}),events:(e,t)=>{const o=(n=e,s=t,r=Ih,ea((e=>{r(e,n,s)})));var n,s,r;const a=sa(e,t,Rh);return Hr(G([e.toggleOnExecute?[o]:[],[a]]))}});const Vh=(e,t,o)=>{St(e.element,\"aria-expanded\",o)};var Lh=[ws(\"selected\",!1),gs(\"toggleClass\"),ws(\"toggleOnExecute\",!0),bi(\"onToggled\"),Ss(\"aria\",{mode:\"none\"},es(\"mode\",{pressed:[ws(\"syncWithExpanded\",!1),wi(\"update\",((e,t,o)=>{St(e.element,\"aria-pressed\",o),t.syncWithExpanded&&Vh(e,0,o)}))],checked:[wi(\"update\",((e,t,o)=>{St(e.element,\"aria-checked\",o)}))],expanded:[wi(\"update\",Vh)],selected:[wi(\"update\",((e,t,o)=>{St(e.element,\"aria-selected\",o)}))],none:[wi(\"update\",b)]}))];const Hh=ua({fields:Lh,name:\"toggling\",active:zh,apis:Nh,state:(Ph=!1,{init:()=>{const e=en(Ph);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(Ph),readState:()=>e.get()}}})});var Ph;const Uh=()=>{const e=(e,t)=>{t.stop(),Nr(e)};return[Wr(tr(),e),Wr(pr(),e),Yr(Hs()),Yr($s())]},Wh=e=>Hr(G([e.map((e=>ea(((t,o)=>{e(t),o.stop()})))).toArray(),Uh()])),$h=\"alloy.item-hover\",jh=\"alloy.item-focus\",Gh=\"alloy.item-toggled\",qh=e=>{(fc(e.element).isNone()||Bh.isFocused(e))&&(Bh.isFocused(e)||Bh.focus(e),Rr(e,$h,{item:e}))},Yh=e=>{Rr(e,jh,{item:e})},Xh=y($h),Kh=y(jh),Jh=y(Gh),Qh=e=>e.role.fold((()=>e.toggling.map((e=>e.exclusive?\"menuitemradio\":\"menuitemcheckbox\")).getOr(\"menuitem\")),w),Zh=[rs(\"data\"),rs(\"components\"),rs(\"dom\"),ws(\"hasSubmenu\",!1),gs(\"toggling\"),gs(\"role\"),Yu(\"itemBehaviours\",[Hh,Bh,bh,$u]),ws(\"ignoreFocus\",!1),ws(\"domModification\",{}),wi(\"builder\",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:Qh(e),...e.domModification.attributes,\"aria-haspopup\":e.hasSubmenu,...e.hasSubmenu?{\"aria-expanded\":!1}:{}}},behaviours:Xu(e.itemBehaviours,[e.toggling.fold(Hh.revoke,(t=>Hh.config(((e,t)=>({aria:{mode:t?\"selected\":\"checked\"},...me(e,((e,t)=>\"exclusive\"!==t)),onToggled:(t,o)=>{p(e.onToggled)&&e.onToggled(t,o),((e,t)=>{Rr(e,Gh,{item:e,state:t})})(t,o)}}))(t,e.role.exists((e=>\"option\"===e)))))),Bh.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{Yh(e)}}),bh.config({mode:\"execution\"}),$u.config({store:{mode:\"memory\",initialValue:e.data}}),Th(\"item-type-events\",[...Uh(),Wr(Ys(),qh),Wr(gr(),Bh.focus)])]),components:e.components,eventOrder:e.eventOrder}))),ws(\"eventOrder\",{})],ef=[rs(\"dom\"),rs(\"components\"),wi(\"builder\",(e=>({dom:e.dom,components:e.components,events:Hr([Xr(gr())])})))],tf=y(\"item-widget\"),of=y([vm({name:\"widget\",overrides:e=>({behaviours:ca([$u.config({store:{mode:\"manual\",getValue:t=>e.data,setValue:b}})])})})]),nf=[rs(\"uid\"),rs(\"data\"),rs(\"components\"),rs(\"dom\"),ws(\"autofocus\",!1),ws(\"ignoreFocus\",!1),Yu(\"widgetBehaviours\",[$u,Bh,bh]),ws(\"domModification\",{}),Lm(of()),wi(\"builder\",(e=>{const t=Mm(tf(),e,of()),o=Dm(tf(),e,t.internals()),n=t=>Bm(t,e,\"widget\").map((e=>(bh.focusIn(e),e))),s=(t,o)=>Ym(o.event.target)?A.none():e.autofocus?(o.setSource(t.element),A.none()):A.none();return{dom:e.dom,components:o,domModification:e.domModification,events:Hr([ea(((e,t)=>{n(e).each((e=>{t.stop()}))})),Wr(Ys(),qh),Wr(gr(),((t,o)=>{e.autofocus?n(t):Bh.focus(t)}))]),behaviours:Xu(e.widgetBehaviours,[$u.config({store:{mode:\"memory\",initialValue:e.data}}),Bh.config({ignore:e.ignoreFocus,onFocus:e=>{Yh(e)}}),bh.config({mode:\"special\",focusIn:e.autofocus?e=>{n(e)}:pa(),onLeft:s,onRight:s,onEscape:(t,o)=>Bh.isFocused(t)||e.autofocus?e.autofocus?(o.setSource(t.element),A.none()):A.none():(Bh.focus(t),A.some(!0))})])}}))],sf=es(\"type\",{widget:nf,item:Zh,separator:ef}),rf=y([wm({factory:{sketch:e=>{const t=Qn(\"menu.spec item\",sf,e);return t.builder(t)}},name:\"items\",unit:\"item\",defaults:(e,t)=>be(t,\"uid\")?t:{...t,uid:Vi(\"item\")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),af=y([fs(\"role\"),rs(\"value\"),rs(\"items\"),rs(\"dom\"),rs(\"components\"),ws(\"eventOrder\",{}),ju(\"menuBehaviours\",[wg,$u,Jm,bh]),Ss(\"movement\",{mode:\"menu\",moveOnTab:!0},es(\"mode\",{grid:[Ci(),wi(\"config\",((e,t)=>({mode:\"flatgrid\",selector:\".\"+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[wi(\"config\",((e,t)=>({mode:\"matrix\",selectors:{row:t.rowSelector,cell:\".\"+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),rs(\"rowSelector\"),ws(\"previousSelector\",A.none)],menu:[ws(\"moveOnTab\",!0),wi(\"config\",((e,t)=>({mode:\"menu\",selector:\".\"+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),as(\"markers\",mi()),ws(\"fakeFocus\",!1),ws(\"focusManager\",Ug()),bi(\"onHighlight\"),bi(\"onDehighlight\"),ws(\"showMenuRole\",!0)]),lf=y(\"alloy.menu-focus\"),cf=qm({name:\"Menu\",configFields:af(),partFields:rf(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:qu(e.menuBehaviours,[wg.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),$u.config({store:{mode:\"memory\",initialValue:e.value}}),Jm.config({find:A.some}),bh.config(e.movement.config(e,e.movement))]),events:Hr([Wr(Kh(),((e,t)=>{const o=t.event;e.getSystem().getByDom(o.target).each((o=>{wg.highlight(e,o),t.stop(),Rr(e,lf(),{menu:e,item:o})}))})),Wr(Xh(),((e,t)=>{const o=t.event.item;wg.highlight(e,o)})),Wr(Jh(),((e,t)=>{const{item:o,state:n}=t.event;n&&\"menuitemradio\"===kt(o.element,\"role\")&&((e,t)=>{const o=kd(e.element,'[role=\"menuitemradio\"][aria-checked=\"true\"]');L(o,(o=>{Ze(o,t.element)||e.getSystem().getByDom(o).each((e=>{Hh.off(e)}))}))})(e,o)}))]),components:t,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr(\"menu\")}}}:{}})}),df=(e,t,o,n)=>fe(o,n).bind((n=>fe(e,n).bind((n=>{const s=df(e,t,o,n);return A.some([n].concat(s))})))).getOr([]),uf=e=>\"prepared\"===e.type?A.some(e.menu):A.none(),mf=()=>{const e=en({}),t=en({}),o=en({}),n=nn(),s=en({}),r=e=>a(e).bind(uf),a=e=>fe(t.get(),e),i=t=>fe(e.get(),t);return{setMenuBuilt:(e,o)=>{t.set({...t.get(),[e]:{type:\"prepared\",menu:o}})},setContents:(r,a,i,l)=>{n.set(r),e.set(i),t.set(a),s.set(l);const c=((e,t)=>{const o={};ie(e,((e,t)=>{L(e,(e=>{o[e]=t}))}));const n=t,s=ce(t,((e,t)=>({k:e,v:t}))),r=le(s,((e,t)=>[t].concat(df(o,n,s,t))));return le(o,(e=>fe(r,e).getOr([e])))})(l,i);o.set(c)},expand:t=>fe(e.get(),t).map((e=>{const n=fe(o.get(),t).getOr([]);return[e].concat(n)})),refresh:e=>fe(o.get(),e),collapse:e=>fe(o.get(),e).bind((e=>e.length>1?A.some(e.slice(1)):A.none())),lookupMenu:a,lookupItem:i,otherMenus:e=>{const t=s.get();return K(re(t),e)},getPrimary:()=>n.get().bind(r),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),o.set({}),n.clear()},isClear:()=>n.get().isNone(),getTriggeringPath:(t,s)=>{const a=P(i(t).toArray(),(e=>r(e).isSome()));return fe(o.get(),t).bind((t=>{const o=X(a.concat(t));return(e=>{const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(!n.isSome())return A.none();t.push(n.getOrDie())}return A.some(t)})(q(o,((t,a)=>((t,o,n)=>r(t).bind((s=>(t=>pe(e.get(),((e,o)=>e===t)))(t).bind((e=>o(e).map((e=>({triggeredMenu:s,triggeringItem:e,triggeringPath:n}))))))))(t,s,o.slice(0,a+1)).fold((()=>xe(n.get(),t)?[]:[A.none()]),(e=>[A.some(e)])))))}))}}},gf=uf,pf=Di(\"tiered-menu-item-highlight\"),hf=Di(\"tiered-menu-item-dehighlight\");var ff;!function(e){e[e.HighlightMenuAndItem=0]=\"HighlightMenuAndItem\",e[e.HighlightJustMenu=1]=\"HighlightJustMenu\",e[e.HighlightNone=2]=\"HighlightNone\"}(ff||(ff={}));const bf=y(\"collapse-item\"),vf=Gm({name:\"TieredMenu\",configFields:[yi(\"onExecute\"),yi(\"onEscape\"),xi(\"onOpenMenu\"),xi(\"onOpenSubmenu\"),bi(\"onRepositionMenu\"),bi(\"onCollapseMenu\"),ws(\"highlightOnOpen\",ff.HighlightMenuAndItem),ds(\"data\",[rs(\"primary\"),rs(\"menus\"),rs(\"expansions\")]),ws(\"fakeFocus\",!1),bi(\"onHighlightItem\"),bi(\"onDehighlightItem\"),bi(\"onHover\"),pi(),rs(\"dom\"),ws(\"navigateOnHover\",!0),ws(\"stayInDom\",!1),ju(\"tmenuBehaviours\",[bh,wg,Jm,_h]),ws(\"eventOrder\",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const o=nn(),n=mf(),s=e=>$u.getValue(e).value,r=t=>le(e.data.menus,((e,t)=>q(e.items,(e=>\"separator\"===e.type?[]:[e.data.value])))),a=wg.highlight,i=(t,o)=>{a(t,o),wg.getHighlighted(o).orThunk((()=>wg.getFirst(o))).each((n=>{e.fakeFocus?wg.highlight(o,n):zr(t,n.element,gr())}))},l=(e,t)=>ye(V(t,(t=>e.lookupMenu(t).bind((e=>\"prepared\"===e.type?A.some(e.menu):A.none()))))),c=(t,o,n)=>{const s=l(o,o.otherMenus(n));L(s,(o=>{Oa(o.element,[e.markers.backgroundMenu]),e.stayInDom||_h.remove(t,o)}))},d=(t,n)=>{const r=(t=>o.get().getOrThunk((()=>{const n={},r=kd(t.element,`.${e.markers.item}`),a=P(r,(e=>\"true\"===kt(e,\"aria-haspopup\")));return L(a,(e=>{t.getSystem().getByDom(e).each((e=>{const t=s(e);n[t]=e}))})),o.set(n),n})))(t);ie(r,((e,t)=>{const o=I(n,t);St(e.element,\"aria-expanded\",o)}))},u=(t,o,n)=>A.from(n[0]).bind((s=>o.lookupMenu(s).bind((s=>{if(\"notbuilt\"===s.type)return A.none();{const r=s.menu,a=l(o,n.slice(1));return L(a,(t=>{ya(t.element,e.markers.backgroundMenu)})),vt(r.element)||_h.append(t,hl(r)),Oa(r.element,[e.markers.backgroundMenu]),i(t,r),c(t,o,n),A.some(r)}}))));let m;!function(e){e[e.HighlightSubmenu=0]=\"HighlightSubmenu\",e[e.HighlightParent=1]=\"HighlightParent\"}(m||(m={}));const g=(t,o,r=m.HighlightSubmenu)=>{if(o.hasConfigured(ug)&&ug.isDisabled(o))return A.some(o);{const a=s(o);return n.expand(a).bind((s=>(d(t,s),A.from(s[0]).bind((a=>n.lookupMenu(a).bind((i=>{const l=((e,t,o)=>{if(\"notbuilt\"===o.type){const s=e.getSystem().build(o.nbMenu());return n.setMenuBuilt(t,s),s}return o.menu})(t,a,i);return vt(l.element)||_h.append(t,hl(l)),e.onOpenSubmenu(t,o,l,X(s)),r===m.HighlightSubmenu?(wg.highlightFirst(l),u(t,n,s)):(wg.dehighlightAll(l),A.some(o))})))))))}},p=(t,o)=>{const r=s(o);return n.collapse(r).bind((s=>(d(t,s),u(t,n,s).map((n=>(e.onCollapseMenu(t,o,n),n))))))},h=t=>(o,n)=>_l(n.getSource(),`.${e.markers.item}`).bind((e=>o.getSystem().getByDom(e).toOptional().bind((e=>t(o,e).map(E))))),f=Hr([Wr(lf(),((e,t)=>{const o=t.event.item;n.lookupItem(s(o)).each((()=>{const o=t.event.menu;wg.highlight(e,o);const r=s(t.event.item);n.refresh(r).each((t=>c(e,n,t)))}))})),ea(((t,o)=>{const n=o.event.target;t.getSystem().getByDom(n).each((o=>{0===s(o).indexOf(\"collapse-item\")&&p(t,o),g(t,o,m.HighlightSubmenu).fold((()=>{e.onExecute(t,o)}),b)}))})),Jr(((t,o)=>{(t=>{const o=((t,o,n)=>le(n,((n,s)=>{const r=()=>cf.sketch({...n,value:s,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Rr(e,pf,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Rr(e,hf,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?Wg():Ug()});return s===o?{type:\"prepared\",menu:t.getSystem().build(r())}:{type:\"notbuilt\",nbMenu:r}})))(t,e.data.primary,e.data.menus),s=r();return n.setContents(e.data.primary,o,e.data.expansions,s),n.getPrimary()})(t).each((o=>{_h.append(t,hl(o)),e.onOpenMenu(t,o),e.highlightOnOpen===ff.HighlightMenuAndItem?i(t,o):e.highlightOnOpen===ff.HighlightJustMenu&&a(t,o)}))})),Wr(pf,((t,o)=>{e.onHighlightItem(t,o.event.menuComp,o.event.itemComp)})),Wr(hf,((t,o)=>{e.onDehighlightItem(t,o.event.menuComp,o.event.itemComp)})),...e.navigateOnHover?[Wr(Xh(),((t,o)=>{const r=o.event.item;((e,t)=>{const o=s(t);n.refresh(o).bind((t=>(d(e,t),u(e,n,t))))})(t,r),g(t,r,m.HighlightParent),e.onHover(t,r)}))]:[]]),v=e=>wg.getHighlighted(e).bind(wg.getHighlighted),x={collapseMenu:e=>{v(e).each((t=>{p(e,t)}))},highlightPrimary:e=>{n.getPrimary().each((t=>{i(e,t)}))},repositionMenus:t=>{const o=n.getPrimary().bind((e=>v(t).bind((e=>{const t=s(e),o=he(n.getMenus()),r=ye(V(o,gf));return n.getTriggeringPath(t,(e=>((e,t,o)=>se(t,(e=>{if(!e.getSystem().isConnected())return A.none();const t=wg.getCandidates(e);return $(t,(e=>s(e)===o))})))(0,r,e)))})).map((t=>({primary:e,triggeringPath:t})))));o.fold((()=>{(e=>A.from(e.components()[0]).filter((e=>\"menu\"===kt(e.element,\"role\"))))(t).each((o=>{e.onRepositionMenu(t,o,[])}))}),(({primary:o,triggeringPath:n})=>{e.onRepositionMenu(t,o,n)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:qu(e.tmenuBehaviours,[bh.config({mode:\"special\",onRight:h(((e,t)=>Ym(t.element)?A.none():g(e,t,m.HighlightSubmenu))),onLeft:h(((e,t)=>Ym(t.element)?A.none():p(e,t))),onEscape:h(((t,o)=>p(t,o).orThunk((()=>e.onEscape(t,o).map((()=>t)))))),focusIn:(e,t)=>{n.getPrimary().each((t=>{zr(e,t.element,gr())}))}}),wg.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Jm.config({find:e=>wg.getHighlighted(e)}),_h.config({})]),eventOrder:e.eventOrder,apis:x,events:f}},extraApis:{tieredData:(e,t,o)=>({primary:e,menus:t,expansions:o}),singleData:(e,t)=>({primary:e,menus:Ds(e,t),expansions:{}}),collapseItem:e=>({value:Di(bf()),meta:{text:e}})}}),xf=Gm({name:\"InlineView\",configFields:[rs(\"lazySink\"),bi(\"onShow\"),bi(\"onHide\"),vs(\"onEscape\"),ju(\"inlineBehaviours\",[ku,$u,dc]),ys(\"fireDismissalEventInstead\",[ws(\"event\",Or())]),ys(\"fireRepositionEventInstead\",[ws(\"event\",_r())]),ws(\"getRelated\",A.none),ws(\"isExtraPart\",T),ws(\"eventOrder\",A.none)],factory:(e,t)=>{const o=(t,o,n,s)=>{const r=e.lazySink(t).getOrDie();ku.openWhileCloaked(t,o,(()=>Qd.positionWithinBounds(r,t,n,s()))),$u.setValue(t,A.some({mode:\"position\",config:n,getBounds:s}))},n=(t,o,n,s)=>{const r=((e,t,o,n,s)=>{const r=()=>e.lazySink(t),a=\"horizontal\"===n.type?{layouts:{onLtr:()=>ac(),onRtl:()=>ic()}}:{},i=e=>(e=>2===e.length)(e)?a:{};return vf.sketch({dom:{tag:\"div\"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>(ku.close(t),e.onEscape.map((e=>e(t))),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(e,t)=>{Qd.positionWithinBounds(r().getOrDie(),t,o,s())},onOpenSubmenu:(e,t,o,n)=>{const s=r().getOrDie();Qd.position(s,o,{anchor:{type:\"submenu\",item:t,...i(n)}})},onRepositionMenu:(e,t,n)=>{const a=r().getOrDie();Qd.positionWithinBounds(a,t,o,s()),L(n,(e=>{const t=i(e.triggeringPath);Qd.position(a,e.triggeredMenu,{anchor:{type:\"submenu\",item:e.triggeringItem,...t}})}))}})})(e,t,o,n,s);ku.open(t,r),$u.setValue(t,A.some({mode:\"menu\",menu:r}))},s=t=>{ku.isOpen(t)&&$u.getValue(t).each((o=>{switch(o.mode){case\"menu\":ku.getState(t).each(vf.repositionMenus);break;case\"position\":const n=e.lazySink(t).getOrDie();Qd.positionWithinBounds(n,t,o.config,o.getBounds())}}))},r={setContent:(e,t)=>{ku.setContent(e,t)},showAt:(e,t,n)=>{const s=A.none;o(e,t,n,s)},showWithinBounds:o,showMenuAt:(e,t,o)=>{n(e,t,o,A.none)},showMenuWithinBounds:n,hide:e=>{ku.isOpen(e)&&($u.setValue(e,A.none()),ku.close(e))},getContent:e=>ku.getState(e),reposition:s,isOpen:ku.isOpen};return{uid:e.uid,dom:e.dom,behaviours:qu(e.inlineBehaviours,[ku.config({isPartOf:(t,o,n)=>Al(o,n)||((t,o)=>e.getRelated(t).exists((e=>Al(e,o))))(t,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),$u.config({store:{mode:\"memory\",initialValue:A.none()}}),dc.config({channels:{...Au({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Du({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:s})}})]),eventOrder:e.eventOrder,apis:r}},apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithinBounds:(e,t,o,n,s)=>{e.showWithinBounds(t,o,n,s)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,s)=>{e.showMenuWithinBounds(t,o,n,s)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var yf,wf,Sf=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),Cf=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),kf=tinymce.util.Tools.resolve(\"tinymce.EditorManager\"),Of=tinymce.util.Tools.resolve(\"tinymce.Env\");!function(e){e.default=\"wrap\",e.floating=\"floating\",e.sliding=\"sliding\",e.scrolling=\"scrolling\"}(yf||(yf={})),function(e){e.auto=\"auto\",e.top=\"top\",e.bottom=\"bottom\"}(wf||(wf={}));const _f=e=>t=>t.options.get(e),Tf=e=>t=>A.from(e(t)),Ef=e=>{const t=Of.deviceType.isPhone(),o=Of.deviceType.isTablet()||t,n=e.options.register,s=e=>r(e)||!1===e,a=e=>r(e)||h(e);n(\"skin\",{processor:e=>r(e)||!1===e,default:\"oxide\"}),n(\"skin_url\",{processor:\"string\"}),n(\"height\",{processor:a,default:Math.max(e.getElement().offsetHeight,400)}),n(\"width\",{processor:a,default:Cf.DOM.getStyle(e.getElement(),\"width\")}),n(\"min_height\",{processor:\"number\",default:100}),n(\"min_width\",{processor:\"number\"}),n(\"max_height\",{processor:\"number\"}),n(\"max_width\",{processor:\"number\"}),n(\"style_formats\",{processor:\"object[]\"}),n(\"style_formats_merge\",{processor:\"boolean\",default:!1}),n(\"style_formats_autohide\",{processor:\"boolean\",default:!1}),n(\"line_height_formats\",{processor:\"string\",default:\"1 1.1 1.2 1.3 1.4 1.5 2\"}),n(\"font_family_formats\",{processor:\"string\",default:\"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats\"}),n(\"font_size_formats\",{processor:\"string\",default:\"8pt 10pt 12pt 14pt 18pt 24pt 36pt\"}),n(\"font_size_input_default_unit\",{processor:\"string\",default:\"pt\"}),n(\"block_formats\",{processor:\"string\",default:\"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre\"}),n(\"content_langs\",{processor:\"object[]\"}),n(\"removed_menuitems\",{processor:\"string\",default:\"\"}),n(\"menubar\",{processor:e=>r(e)||d(e),default:!t}),n(\"menu\",{processor:\"object\",default:{}}),n(\"toolbar\",{processor:e=>d(e)||r(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:\"Must be a boolean, string or array.\"},default:!0}),N(9,(e=>{n(\"toolbar\"+(e+1),{processor:\"string\"})})),n(\"toolbar_mode\",{processor:\"string\",default:o?\"scrolling\":\"floating\"}),n(\"toolbar_groups\",{processor:\"object\",default:{}}),n(\"toolbar_location\",{processor:\"string\",default:wf.auto}),n(\"toolbar_persist\",{processor:\"boolean\",default:!1}),n(\"toolbar_sticky\",{processor:\"boolean\",default:e.inline}),n(\"toolbar_sticky_offset\",{processor:\"number\",default:0}),n(\"fixed_toolbar_container\",{processor:\"string\",default:\"\"}),n(\"fixed_toolbar_container_target\",{processor:\"object\"}),n(\"ui_mode\",{processor:\"string\",default:\"combined\"}),n(\"file_picker_callback\",{processor:\"function\"}),n(\"file_picker_validator_handler\",{processor:\"function\"}),n(\"file_picker_types\",{processor:\"string\"}),n(\"typeahead_urls\",{processor:\"boolean\",default:!0}),n(\"anchor_top\",{processor:s,default:\"#top\"}),n(\"anchor_bottom\",{processor:s,default:\"#bottom\"}),n(\"draggable_modal\",{processor:\"boolean\",default:!1}),n(\"statusbar\",{processor:\"boolean\",default:!0}),n(\"elementpath\",{processor:\"boolean\",default:!0}),n(\"branding\",{processor:\"boolean\",default:!0}),n(\"promotion\",{processor:\"boolean\",default:!0}),n(\"resize\",{processor:e=>\"both\"===e||d(e),default:!Of.deviceType.isTouch()}),n(\"sidebar_show\",{processor:\"string\"}),n(\"help_accessibility\",{processor:\"boolean\",default:e.hasPlugin(\"help\")}),n(\"default_font_stack\",{processor:\"string[]\",default:[]})},Af=_f(\"readonly\"),Mf=_f(\"disabled\"),Df=_f(\"height\"),Bf=_f(\"width\"),Ff=Tf(_f(\"min_width\")),If=Tf(_f(\"min_height\")),Rf=Tf(_f(\"max_width\")),Nf=Tf(_f(\"max_height\")),zf=Tf(_f(\"style_formats\")),Vf=_f(\"style_formats_merge\"),Lf=_f(\"style_formats_autohide\"),Hf=_f(\"content_langs\"),Pf=_f(\"removed_menuitems\"),Uf=_f(\"toolbar_mode\"),Wf=_f(\"toolbar_groups\"),$f=_f(\"toolbar_location\"),jf=_f(\"fixed_toolbar_container\"),Gf=_f(\"fixed_toolbar_container_target\"),qf=_f(\"toolbar_persist\"),Yf=_f(\"toolbar_sticky_offset\"),Xf=_f(\"menubar\"),Kf=_f(\"toolbar\"),Jf=_f(\"file_picker_callback\"),Qf=_f(\"file_picker_validator_handler\"),Zf=_f(\"font_size_input_default_unit\"),eb=_f(\"file_picker_types\"),tb=_f(\"typeahead_urls\"),ob=_f(\"anchor_top\"),nb=_f(\"anchor_bottom\"),sb=_f(\"draggable_modal\"),rb=_f(\"statusbar\"),ab=_f(\"elementpath\"),ib=_f(\"branding\"),lb=_f(\"resize\"),cb=_f(\"paste_as_text\"),db=_f(\"sidebar_show\"),ub=_f(\"promotion\"),mb=_f(\"help_accessibility\"),gb=_f(\"default_font_stack\"),pb=_f(\"skin\"),hb=e=>!1===e.options.get(\"skin\"),fb=e=>!1!==e.options.get(\"menubar\"),bb=e=>{const t=e.options.get(\"skin_url\");if(hb(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get(\"skin\");return kf.baseURL+\"/skins/ui/\"+t}},vb=e=>e.options.get(\"line_height_formats\").split(\" \"),xb=e=>{const t=Kf(e),o=r(t),n=l(t)&&t.length>0;return!wb(e)&&(n||o||!0===t)},yb=e=>{const t=N(9,(t=>e.options.get(\"toolbar\"+(t+1)))),o=P(t,r);return Ce(o.length>0,o)},wb=e=>yb(e).fold((()=>{const t=Kf(e);return f(t,r)&&t.length>0}),E),Sb=e=>$f(e)===wf.bottom,Cb=e=>{var t;if(!e.inline)return A.none();const o=null!==(t=jf(e))&&void 0!==t?t:\"\";if(o.length>0)return Ol(xt(),o);const n=Gf(e);return g(n)?A.some(ze(n)):A.none()},kb=e=>e.inline&&Cb(e).isSome(),Ob=e=>Cb(e).getOrThunk((()=>ht(pt(ze(e.getElement()))))),_b=e=>e.inline&&!fb(e)&&!xb(e)&&!wb(e),Tb=e=>(e.options.get(\"toolbar_sticky\")||e.inline)&&!kb(e)&&!_b(e),Eb=e=>!kb(e)&&\"split\"===e.options.get(\"ui_mode\"),Ab=e=>{const t=e.options.get(\"menu\");return le(t,(e=>({...e,items:e.items})))};var Mb=Object.freeze({__proto__:null,get ToolbarMode(){return yf},get ToolbarLocation(){return wf},register:Ef,getSkinUrl:bb,getSkinUrlOption:e=>A.from(e.options.get(\"skin_url\")),isReadOnly:Af,isDisabled:Mf,getSkin:pb,isSkinDisabled:hb,getHeightOption:Df,getWidthOption:Bf,getMinWidthOption:Ff,getMinHeightOption:If,getMaxWidthOption:Rf,getMaxHeightOption:Nf,getUserStyleFormats:zf,shouldMergeStyleFormats:Vf,shouldAutoHideStyleFormats:Lf,getLineHeightFormats:vb,getContentLanguages:Hf,getRemovedMenuItems:Pf,isMenubarEnabled:fb,isMultipleToolbars:wb,isToolbarEnabled:xb,isToolbarPersist:qf,getMultipleToolbarsOption:yb,getUiContainer:Ob,useFixedContainer:kb,isSplitUiMode:Eb,getToolbarMode:Uf,isDraggableModal:sb,isDistractionFree:_b,isStickyToolbar:Tb,getStickyToolbarOffset:Yf,getToolbarLocation:$f,isToolbarLocationBottom:Sb,getToolbarGroups:Wf,getMenus:Ab,getMenubar:Xf,getToolbar:Kf,getFilePickerCallback:Jf,getFilePickerTypes:eb,useTypeaheadUrls:tb,getAnchorTop:ob,getAnchorBottom:nb,getFilePickerValidatorHandler:Qf,getFontSizeInputDefaultUnit:Zf,useStatusBar:rb,useElementPath:ab,promotionEnabled:ub,useBranding:ib,getResize:lb,getPasteAsText:cb,getSidebarShow:db,useHelpAccessibility:mb,getDefaultFontStack:gb});const Db=[\"visible\",\"hidden\",\"clip\"],Bb=e=>Ae(e).length>0&&!I(Db,e),Fb=e=>{if($e(e)){const t=Ft(e,\"overflow-x\"),o=Ft(e,\"overflow-y\");return Bb(t)||Bb(o)}return!1},Ib=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),Rb=(e,t)=>Eb(e)?((e,t)=>{const o=Cd(t,Fb),n=0===o.length?ft(t).map(bt).map((e=>Cd(e,Fb))).getOr([]):o;return te(n).map((t=>({element:t,others:n.slice(1),isFullscreen:()=>Ib(e)})))})(e,t):A.none(),Nb=e=>{const t=[...V(e.others,Ko),Zo()];return e.isFullscreen()?Zo():((e,t)=>W(t,((e,t)=>Qo(e,t)),e))(Ko(e.element),t)},zb=Gm({name:\"Button\",factory:e=>{const t=Wh(e.action),o=e.dom.tag,n=t=>fe(e.dom,\"attributes\").bind((e=>fe(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Xu(e.buttonBehaviours,[Bh.config({}),bh.config({mode:\"execution\",useSpace:!0,useEnter:!0})]),domModification:{attributes:\"button\"===o?{type:n(\"type\").getOr(\"button\"),...n(\"role\").map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(n(\"role\").getOr(\"button\"))}},eventOrder:e.eventOrder}},configFields:[ws(\"uid\",void 0),rs(\"dom\"),ws(\"components\",[]),Yu(\"buttonBehaviours\",[Bh,bh]),gs(\"action\"),gs(\"role\"),ws(\"eventOrder\",{})]}),Vb=e=>{const t=Ie(e),o=lt(t),n=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return W(t,((e,t)=>\"class\"===t.name?e:{...e,[t.name]:t.value}),{})})(t),s=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),r=0===o.length?{}:{innerHtml:ti(t)};return{tag:Ue(t),classes:s,attributes:n,...r}},Lb=e=>{const t=(e=>void 0!==e.uid)(e)&&ve(e,\"uid\")?e.uid:Vi(\"memento\");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Hb=Object.freeze({__proto__:null,exhibit:(e,t)=>na({attributes:Bs([{key:t.tabAttr,value:\"true\"}])})}),Pb=[ws(\"tabAttr\",\"data-alloy-tabstop\")];const Ub=ua({fields:Pb,name:\"tabstopping\",active:Hb}),Wb=Di(\"tooltip.exclusive\"),$b=Di(\"tooltip.show\"),jb=Di(\"tooltip.hide\"),Gb=Di(\"tooltip.immediateHide\"),qb=Di(\"tooltip.immediateShow\"),Yb=(e,t,o)=>{e.getSystem().broadcastOn([Wb],{})};var Xb=Object.freeze({__proto__:null,hideAllExclusive:Yb,immediateOpenClose:(e,t,o,n)=>Ir(e,n?qb:Gb),isEnabled:(e,t,o)=>o.isEnabled(),setComponents:(e,t,o,n)=>{o.getTooltip().each((e=>{e.getSystem().isConnected()&&_h.set(e,n)}))},setEnabled:(e,t,o,n)=>o.setEnabled(n)}),Kb=Object.freeze({__proto__:null,events:(e,t)=>{const o=o=>{t.getTooltip().each((n=>{n.getSystem().isConnected()&&(lu(n),e.onHide(o,n),t.clearTooltip())})),t.clearTimer()},n=o=>{if(!t.isShowing()&&t.isEnabled()){Yb(o);const n=e.lazySink(o).getOrDie(),s=o.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Hr(\"normal\"===e.mode?[Wr(Ys(),(e=>{Ir(o,$b)})),Wr(Gs(),(e=>{Ir(o,jb)}))]:[]),behaviours:ca([_h.config({})])});t.setTooltip(s),ru(n,s),e.onShow(o,s),Qd.position(n,s,{anchor:e.anchor(o)})}},s=o=>{t.getTooltip().each((t=>{const n=e.lazySink(o).getOrDie();Qd.position(n,t,{anchor:e.anchor(o)})}))};return Hr(G([[Zr((t=>{e.onSetup(t)})),Wr($b,(o=>{t.resetTimer((()=>{n(o)}),e.delayForShow())})),Wr(jb,(n=>{t.resetTimer((()=>{o(n)}),e.delayForHide())})),Wr(qb,(e=>{t.resetTimer((()=>{n(e)}),0)})),Wr(Gb,(e=>{t.resetTimer((()=>{o(e)}),0)})),Wr(ur(),((e,t)=>{const n=t;n.universal||I(n.channels,Wb)&&o(e)})),Qr((e=>{o(e)}))],(()=>{switch(e.mode){case\"normal\":return[Wr(Xs(),(e=>{Ir(e,qb)})),Wr(cr(),(e=>{Ir(e,Gb)})),Wr(Ys(),(e=>{Ir(e,$b)})),Wr(Gs(),(e=>{Ir(e,jb)}))];case\"follow-highlight\":return[Wr(Br(),((e,t)=>{Ir(e,$b)})),Wr(Fr(),(e=>{Ir(e,jb)}))];case\"children-normal\":return[Wr(Xs(),((o,n)=>{fc(o.element).each((r=>{Ke(n.event.target,\"[data-mce-tooltip]\")&&t.getTooltip().fold((()=>{Ir(o,qb)}),(n=>{t.isShowing()&&(e.onShow(o,n),s(o))}))}))})),Wr(cr(),(e=>{fc(e.element).fold((()=>{Ir(e,Gb)}),b)})),Wr(Ys(),(o=>{Ol(o.element,\"[data-mce-tooltip]:hover\").each((n=>{t.getTooltip().fold((()=>{Ir(o,$b)}),(n=>{t.isShowing()&&(e.onShow(o,n),s(o))}))}))})),Wr(Gs(),(e=>{Ol(e.element,\"[data-mce-tooltip]:hover\").fold((()=>{Ir(e,jb)}),b)}))];default:return[Wr(Xs(),((o,n)=>{fc(o.element).each((r=>{Ke(n.event.target,\"[data-mce-tooltip]\")&&t.getTooltip().fold((()=>{Ir(o,qb)}),(n=>{t.isShowing()&&(e.onShow(o,n),s(o))}))}))})),Wr(cr(),(e=>{fc(e.element).fold((()=>{Ir(e,Gb)}),b)}))]}})()]))}}),Jb=[rs(\"lazySink\"),rs(\"tooltipDom\"),ws(\"exclusive\",!0),ws(\"tooltipComponents\",[]),Ts(\"delayForShow\",y(300)),Ts(\"delayForHide\",y(100)),Ts(\"onSetup\",b),Os(\"mode\",\"normal\",[\"normal\",\"follow-highlight\",\"children-keyboard-focus\",\"children-normal\"]),ws(\"anchor\",(e=>({type:\"hotspot\",hotspot:e,layouts:{onLtr:y([Zl,Ql,Yl,Kl,Xl,Jl]),onRtl:y([Zl,Ql,Yl,Kl,Xl,Jl])},bubble:Wc(0,-2,{})}))),bi(\"onHide\"),bi(\"onShow\")],Qb=Object.freeze({__proto__:null,init:()=>{const e=en(!0),t=nn(),o=nn(),n=()=>{t.on(clearTimeout)},s=y(\"not-implemented\");return la({getTooltip:o.get,isShowing:o.isSet,setTooltip:o.set,clearTooltip:o.clear,clearTimer:n,resetTimer:(e,o)=>{n(),t.set(setTimeout(e,o))},readState:s,isEnabled:()=>e.get(),setEnabled:t=>e.set(t)})}});const Zb=ua({fields:Jb,name:\"tooltipping\",active:Kb,state:Qb,apis:Xb}),{entries:ev,setPrototypeOf:tv,isFrozen:ov,getPrototypeOf:nv,getOwnPropertyDescriptor:sv}=Object;\n/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */let{freeze:rv,seal:av,create:iv}=Object,{apply:lv,construct:cv}=\"undefined\"!=typeof Reflect&&Reflect;// eslint-disable-line import/no-mutable-exports\nrv||(rv=function(e){return e}),av||(av=function(e){return e}),lv||(lv=function(e,t,o){return e.apply(t,o)}),cv||(cv=function(e,t){return new e(...t)});const dv=Cv(Array.prototype.forEach),uv=Cv(Array.prototype.pop),mv=Cv(Array.prototype.push),gv=Cv(String.prototype.toLowerCase),pv=Cv(String.prototype.toString),hv=Cv(String.prototype.match),fv=Cv(String.prototype.replace),bv=Cv(String.prototype.indexOf),vv=Cv(String.prototype.trim),xv=Cv(Object.prototype.hasOwnProperty),yv=Cv(RegExp.prototype.test),wv=(Sv=TypeError,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return cv(Sv,t)});\n/**\n     * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n     *\n     * @param {Function} func - The constructor function to be wrapped and called.\n     * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n     */\nvar Sv;\n/**\n     * Add properties to a lookup table\n     *\n     * @param {Object} set - The set to which elements will be added.\n     * @param {Array} array - The array containing elements to be added to the set.\n     * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n     * @returns {Object} The modified set with added elements.\n     */\n/**\n     * Creates a new function that calls the given function with a specified thisArg and arguments.\n     *\n     * @param {Function} func - The function to be wrapped and called.\n     * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n     */\nfunction Cv(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++)n[s-1]=arguments[s];return lv(e,t,n)}}function kv(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gv;tv&&\n// Make 'in' and truthy checks like Boolean(set.constructor)\n// independent of any properties defined on Object.prototype.\n// Prevent prototype setters from intercepting set as a this value.\ntv(e,null);let n=t.length;for(;n--;){let s=t[n];if(\"string\"==typeof s){const e=o(s);e!==s&&(\n// Config presets (e.g. tags.js, attrs.js) are immutable.\nov(t)||(t[n]=e),s=e)}e[s]=!0}return e}\n/**\n     * Clean up an array to harden against CSPP\n     *\n     * @param {Array} array - The array to be cleaned.\n     * @returns {Array} The cleaned version of the array\n     */function Ov(e){for(let t=0;t<e.length;t++)xv(e,t)||(e[t]=null);return e}\n/**\n     * Shallow clone an object\n     *\n     * @param {Object} object - The object to be cloned.\n     * @returns {Object} A new object that copies the original.\n     */function _v(e){const t=iv(null);for(const[o,n]of ev(e))xv(e,o)&&(Array.isArray(n)?t[o]=Ov(n):n&&\"object\"==typeof n&&n.constructor===Object?t[o]=_v(n):t[o]=n);return t}\n/**\n     * This method automatically checks if the prop is function or getter and behaves accordingly.\n     *\n     * @param {Object} object - The object to look up the getter function in its prototype chain.\n     * @param {String} prop - The property name for which to find the getter function.\n     * @returns {Function} The getter function found in the prototype chain or a fallback function.\n     */function Tv(e,t){for(;null!==e;){const o=sv(e,t);if(o){if(o.get)return Cv(o.get);if(\"function\"==typeof o.value)return Cv(o.value)}e=nv(e)}return function(){return null}}const Ev=rv([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),Av=rv([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),Mv=rv([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),Dv=rv([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),Bv=rv([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),Fv=rv([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),Iv=rv([\"#text\"]),Rv=rv([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"popover\",\"popovertarget\",\"popovertargetaction\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),Nv=rv([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"amplitude\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"exponent\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"intercept\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"slope\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"tablevalues\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),zv=rv([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),Vv=rv([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),Lv=av(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),Hv=av(/<%[\\w\\W]*|[\\w\\W]*%>/gm),Pv=av(/\\${[\\w\\W]*}/gm),Uv=av(/^data-[\\-\\w.\\u00B7-\\uFFFF]/),Wv=av(/^aria-[\\-\\w]+$/),$v=av(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),jv=av(/^(?:\\w+script|data):/i),Gv=av(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),qv=av(/^html$/i),Yv=av(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n// SVG\nvar Xv=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lv,ERB_EXPR:Hv,TMPLIT_EXPR:Pv,DATA_ATTR:Uv,ARIA_ATTR:Wv,IS_ALLOWED_URI:$v,IS_SCRIPT_OR_DATA:jv,ATTR_WHITESPACE:Gv,DOCTYPE_NAME:qv,CUSTOM_ELEMENT:Yv});\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst Kv=function(){return\"undefined\"==typeof window?null:window};var Jv=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kv();const o=t=>e(t)\n/**\n       * Version label, exposed for easier checks\n       * if DOMPurify is up to date or not\n       */;if(o.version=\"3.1.7\",\n/**\n       * Array of elements that DOMPurify removed during sanitation.\n       * Empty if nothing was removed.\n       */\no.removed=[],!t||!t.document||9!==t.document.nodeType)\n// Not running in a browser, provide a factory function\n// so that you can pass your own Window\nreturn o.isSupported=!1,o;let{document:n}=t;const s=n,r=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:i,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:p}=t,h=c.prototype,f=Tv(h,\"cloneNode\"),b=Tv(h,\"remove\"),v=Tv(h,\"nextSibling\"),x=Tv(h,\"childNodes\"),y=Tv(h,\"parentNode\");\n// As per issue #47, the web-components registry is inherited by a\n// new document created via createHTMLDocument. As per the spec\n// (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n// a new empty registry is used when creating a template contents owner\n// document, so we use that as our parent document to ensure nothing\n// is inherited.\nif(\"function\"==typeof i){const e=n.createElement(\"template\");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let w,S=\"\";const{implementation:C,createNodeIterator:k,createDocumentFragment:O,getElementsByTagName:_}=n,{importNode:T}=s;let E={};\n/**\n       * Expose whether this browser supports running the full DOMPurify.\n       */o.isSupported=\"function\"==typeof ev&&\"function\"==typeof y&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:M,TMPLIT_EXPR:D,DATA_ATTR:B,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:N}=Xv;let{IS_ALLOWED_URI:z}=Xv,V=null;\n/**\n       * We consider the elements and attributes below to be safe. Ideally\n       * don't add any new ones but feel free to remove unwanted ones.\n       */\n/* allowed element names */const L=kv({},[...Ev,...Av,...Mv,...Bv,...Iv]);\n/* Allowed attribute names */let H=null;const P=kv({},[...Rv,...Nv,...zv,...Vv]);\n/*\n       * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n       * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n       * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n       * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n       */let U=Object.seal(iv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,$=null,j=!0,G=!0,q=!1,Y=!0,X=!1,K=!0,J=!1,Q=!1,Z=!1,ee=!1,te=!1,oe=!1,ne=!0,se=!1,re=!0,ae=!1,ie={},le=null;\n/* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */const ce=kv({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]);\n/* Tags that are safe for data: URIs */let de=null;const ue=kv({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]);\n/* Attributes safe for values like \"javascript:\" */let me=null;const ge=kv({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),pe=\"http://www.w3.org/1998/Math/MathML\",he=\"http://www.w3.org/2000/svg\",fe=\"http://www.w3.org/1999/xhtml\";\n/* Document namespace */\nlet be=fe,ve=!1,xe=null;const ye=kv({},[pe,he,fe],pv);\n/* Parsing of strict XHTML documents */let we=null;const Se=[\"application/xhtml+xml\",\"text/html\"];let Ce=null,ke=null;\n/* Keep a reference to config to pass to hooks */\n/* Ideally, do not touch anything below this line */\n/* ______________________________________________ */\nconst Oe=n.createElement(\"form\"),_e=function(e){return e instanceof RegExp||e instanceof Function},Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ke||ke!==e){if(\n/* Shield configuration object from tampering */\ne&&\"object\"==typeof e||(e={})\n/* Shield configuration object from prototype pollution */,e=_v(e),we=\n// eslint-disable-next-line unicorn/prefer-includes\n-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?\"text/html\":e.PARSER_MEDIA_TYPE,\n// HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\nCe=\"application/xhtml+xml\"===we?pv:gv,\n/* Set configuration parameters */\nV=xv(e,\"ALLOWED_TAGS\")?kv({},e.ALLOWED_TAGS,Ce):L,H=xv(e,\"ALLOWED_ATTR\")?kv({},e.ALLOWED_ATTR,Ce):P,xe=xv(e,\"ALLOWED_NAMESPACES\")?kv({},e.ALLOWED_NAMESPACES,pv):ye,me=xv(e,\"ADD_URI_SAFE_ATTR\")?kv(_v(ge),\n// eslint-disable-line indent\ne.ADD_URI_SAFE_ATTR,\n// eslint-disable-line indent\nCe):ge,de=xv(e,\"ADD_DATA_URI_TAGS\")?kv(_v(ue),\n// eslint-disable-line indent\ne.ADD_DATA_URI_TAGS,\n// eslint-disable-line indent\nCe):ue,le=xv(e,\"FORBID_CONTENTS\")?kv({},e.FORBID_CONTENTS,Ce):ce,W=xv(e,\"FORBID_TAGS\")?kv({},e.FORBID_TAGS,Ce):{},$=xv(e,\"FORBID_ATTR\")?kv({},e.FORBID_ATTR,Ce):{},ie=!!xv(e,\"USE_PROFILES\")&&e.USE_PROFILES,j=!1!==e.ALLOW_ARIA_ATTR,// Default true\nG=!1!==e.ALLOW_DATA_ATTR,// Default true\nq=e.ALLOW_UNKNOWN_PROTOCOLS||!1,// Default false\nY=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,// Default true\nX=e.SAFE_FOR_TEMPLATES||!1,// Default false\nK=!1!==e.SAFE_FOR_XML,// Default true\nJ=e.WHOLE_DOCUMENT||!1,// Default false\nee=e.RETURN_DOM||!1,// Default false\nte=e.RETURN_DOM_FRAGMENT||!1,// Default false\noe=e.RETURN_TRUSTED_TYPE||!1,// Default false\nZ=e.FORCE_BODY||!1,// Default false\nne=!1!==e.SANITIZE_DOM,// Default true\nse=e.SANITIZE_NAMED_PROPS||!1,// Default false\nre=!1!==e.KEEP_CONTENT,// Default true\nae=e.IN_PLACE||!1,// Default false\nz=e.ALLOWED_URI_REGEXP||$v,be=e.NAMESPACE||fe,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&\"boolean\"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(G=!1),te&&(ee=!0)\n/* Parse profile info */,ie&&(V=kv({},Iv),H=[],!0===ie.html&&(kv(V,Ev),kv(H,Rv)),!0===ie.svg&&(kv(V,Av),kv(H,Nv),kv(H,Vv)),!0===ie.svgFilters&&(kv(V,Mv),kv(H,Nv),kv(H,Vv)),!0===ie.mathMl&&(kv(V,Bv),kv(H,zv),kv(H,Vv)))\n/* Merge configuration parameters */,e.ADD_TAGS&&(V===L&&(V=_v(V)),kv(V,e.ADD_TAGS,Ce)),e.ADD_ATTR&&(H===P&&(H=_v(H)),kv(H,e.ADD_ATTR,Ce)),e.ADD_URI_SAFE_ATTR&&kv(me,e.ADD_URI_SAFE_ATTR,Ce),e.FORBID_CONTENTS&&(le===ce&&(le=_v(le)),kv(le,e.FORBID_CONTENTS,Ce))\n/* Add #text in case KEEP_CONTENT is set to true */,re&&(V[\"#text\"]=!0)\n/* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */,J&&kv(V,[\"html\",\"head\",\"body\"])\n/* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */,V.table&&(kv(V,[\"tbody\"]),delete W.tbody),e.TRUSTED_TYPES_POLICY){if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw wv('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw wv('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n// Overwrite existing TrustedTypes policy.\nw=e.TRUSTED_TYPES_POLICY,\n// Sign local variables required by `sanitize`.\nS=w.createHTML(\"\")}else\n// Uninitialized policy, attempt to initialize the internal dompurify policy.\nvoid 0===w&&(w=function(e,t){if(\"object\"!=typeof e||\"function\"!=typeof e.createPolicy)return null;\n// Allow the callers to control the unique policy name\n// by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n// Policy creation with duplicate names throws in Trusted Types.\nlet o=null;const n=\"data-tt-policy-suffix\";t&&t.hasAttribute(n)&&(o=t.getAttribute(n));const s=\"dompurify\"+(o?\"#\"+o:\"\");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){\n// Policy creation failed (most likely another DOMPurify script has\n// already run). Skip creating the policy, as this will only cause errors\n// if TT are enforced.\nreturn console.warn(\"TrustedTypes policy \"+s+\" could not be created.\"),null}}(p,r)),\n// If creating the internal policy succeeded sign internal variables.\nnull!==w&&\"string\"==typeof S&&(S=w.createHTML(\"\"));\n// Prevent further manipulation of configuration.\n// Not available in IE8, Safari 5, etc.\nrv&&rv(e),ke=e}},Ee=kv({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),Ae=kv({},[\"annotation-xml\"]),Me=kv({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),De=kv({},[...Av,...Mv,...Dv]),Be=kv({},[...Bv,...Fv]),Fe=function(e){mv(o.removed,{element:e});try{\n// eslint-disable-next-line unicorn/prefer-dom-node-remove\ny(e).removeChild(e)}catch(t){b(e)}},Ie=function(e,t){try{mv(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){mv(o.removed,{attribute:null,from:t})}\n// We void attribute values for unremovable \"is\"\" attributes\nif(t.removeAttribute(e),\"is\"===e&&!H[e])if(ee||te)try{Fe(t)}catch(e){}else try{t.setAttribute(e,\"\")}catch(e){}},Re=function(e){\n/* Create a HTML document */\nlet t=null,o=null;if(Z)e=\"<remove></remove>\"+e;else{\n/* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\nconst t=hv(e,/^[\\r\\n\\t ]+/);o=t&&t[0]}\"application/xhtml+xml\"===we&&be===fe&&(\n// Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\ne='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+e+\"</body></html>\");const s=w?w.createHTML(e):e;\n/*\n         * Use the DOMParser API by default, fallback later if needs be\n         * DOMParser not work for svg when has multiple root element.\n         */if(be===fe)try{t=(new g).parseFromString(s,we)}catch(e){}\n/* Use createHTMLDocument in case DOMParser is not available */if(!t||!t.documentElement){t=C.createDocument(be,\"template\",null);try{t.documentElement.innerHTML=ve?S:s}catch(e){\n// Syntax error if dirtyPayload is invalid xml\n}}const r=t.body||t.documentElement;\n/* Work on whole document or just its body */\nreturn e&&o&&r.insertBefore(n.createTextNode(o),r.childNodes[0]||null),be===fe?_.call(t,J?\"html\":\"body\")[0]:J?t.documentElement:r},Ne=function(e){return k.call(e.ownerDocument||e,e,\n// eslint-disable-next-line no-bitwise\nd.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ze=function(e){return e instanceof m&&(\"string\"!=typeof e.nodeName||\"string\"!=typeof e.textContent||\"function\"!=typeof e.removeChild||!(e.attributes instanceof u)||\"function\"!=typeof e.removeAttribute||\"function\"!=typeof e.setAttribute||\"string\"!=typeof e.namespaceURI||\"function\"!=typeof e.insertBefore||\"function\"!=typeof e.hasChildNodes)},Ve=function(e){return\"function\"==typeof l&&e instanceof l},Le=function(e,t,n){E[e]&&dv(E[e],(e=>{e.call(o,t,n,ke)}))},He=function(e){let t=null;\n/* Execute a hook if present */\n/* Check if element is clobbered or can clobber */\nif(Le(\"beforeSanitizeElements\",e,null),ze(e))return Fe(e),!0;\n/* Now let's check the element's type and name */const n=Ce(e.nodeName);\n/* Execute a hook if present */\n/* Detect mXSS attempts abusing namespace confusion */\nif(Le(\"uponSanitizeElement\",e,{tagName:n,allowedTags:V}),e.hasChildNodes()&&!Ve(e.firstElementChild)&&yv(/<[/\\w]/g,e.innerHTML)&&yv(/<[/\\w]/g,e.textContent))return Fe(e),!0;\n/* Remove any occurrence of processing instructions */if(7===e.nodeType)return Fe(e),!0;\n/* Remove any kind of possibly harmful comments */if(K&&8===e.nodeType&&yv(/<[/\\w]/g,e.data))return Fe(e),!0;\n/* Remove element if anything forbids its presence */if(!V[n]||W[n]){\n/* Check if we have a custom element to handle */\nif(!W[n]&&Ue(n)){if(U.tagNameCheck instanceof RegExp&&yv(U.tagNameCheck,n))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(n))return!1}\n/* Keep content except for bad-listed elements */if(re&&!le[n]){const t=y(e)||e.parentNode,o=x(e)||e.childNodes;if(o&&t)for(let n=o.length-1;n>=0;--n){const s=f(o[n],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,v(e))}}return Fe(e),!0}\n/* Check whether element has a valid namespace */return e instanceof c&&!function(e){let t=y(e);\n// In JSDOM, if we're inside shadow DOM, then parentNode\n// can be null. We just simulate parent in this case.\nt&&t.tagName||(t={namespaceURI:be,tagName:\"template\"});const o=gv(e.tagName),n=gv(t.tagName);return!!xe[e.namespaceURI]&&(e.namespaceURI===he?\n// The only way to switch from HTML namespace to SVG\n// is via <svg>. If it happens via any other tag, then\n// it should be killed.\nt.namespaceURI===fe?\"svg\"===o:\n// The only way to switch from MathML to SVG is via`\n// svg if parent is either <annotation-xml> or MathML\n// text integration points.\nt.namespaceURI===pe?\"svg\"===o&&(\"annotation-xml\"===n||Ee[n]):Boolean(De[o]):e.namespaceURI===pe?\n// The only way to switch from HTML namespace to MathML\n// is via <math>. If it happens via any other tag, then\n// it should be killed.\nt.namespaceURI===fe?\"math\"===o:\n// The only way to switch from SVG to MathML is via\n// <math> and HTML integration points\nt.namespaceURI===he?\"math\"===o&&Ae[n]:Boolean(Be[o]):e.namespaceURI===fe?\n// The only way to switch from SVG to HTML is via\n// HTML integration points, and from MathML to HTML\n// is via MathML text integration points\n!(t.namespaceURI===he&&!Ae[n])&&!(t.namespaceURI===pe&&!Ee[n])&&!Be[o]&&(Me[o]||!De[o]):!(\"application/xhtml+xml\"!==we||!xe[e.namespaceURI]))}(e)?(Fe(e),!0):\n/* Make sure that older browsers don't get fallback-tag mXSS */\n\"noscript\"!==n&&\"noembed\"!==n&&\"noframes\"!==n||!yv(/<\\/no(script|embed|frames)/i,e.innerHTML)?(\n/* Sanitize element content to be template-safe */\nX&&3===e.nodeType&&(\n/* Get the element's text content */\nt=e.textContent,dv([A,M,D],(e=>{t=fv(t,e,\" \")})),e.textContent!==t&&(mv(o.removed,{element:e.cloneNode()}),e.textContent=t))\n/* Execute a hook if present */,Le(\"afterSanitizeElements\",e,null),!1):(Fe(e),!0)},Pe=function(e,t,o){\n/* Make sure attribute cannot clobber */\nif(ne&&(\"id\"===t||\"name\"===t)&&(o in n||o in Oe))return!1;\n/* Allow valid data-* attributes: At least one character after \"-\"\n            (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n            XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n            We don't need to check the value; it's always URI safe. */if(G&&!$[t]&&yv(B,t));else if(j&&yv(F,t));else if(!H[t]||$[t]){if(\n// First condition does a very basic check if a) it's basically a valid custom element tagname AND\n// b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n// and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n!(Ue(e)&&(U.tagNameCheck instanceof RegExp&&yv(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&yv(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||\n// Alternative, second condition checks if it's an `is`-attribute, AND\n// the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n\"is\"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&yv(U.tagNameCheck,o)||U.tagNameCheck instanceof Function&&U.tagNameCheck(o))))return!1;\n/* Check value is safe. First, is attr inert? If so, is safe */}else if(me[t]);else if(yv(z,fv(o,R,\"\")));else if(\"src\"!==t&&\"xlink:href\"!==t&&\"href\"!==t||\"script\"===e||0!==bv(o,\"data:\")||!de[e])if(q&&!yv(I,fv(o,R,\"\")));else if(o)return!1;return!0},Ue=function(e){return\"annotation-xml\"!==e&&hv(e,N)},We=function(e){\n/* Execute a hook if present */\nLe(\"beforeSanitizeAttributes\",e,null);const{attributes:t}=e;\n/* Check if we have attributes; if not we might have a text node */if(!t)return;const n={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:H};let s=t.length;\n/* Go backwards over all attributes; safely remove bad ones */for(;s--;){const r=t[s],{name:a,namespaceURI:i,value:l}=r,c=Ce(a);let d=\"value\"===a?l:vv(l);const u=d;\n/* Execute a hook if present */\n/* Did the hooks approve of the attribute? */\nif(n.attrName=c,n.attrValue=d,n.keepAttr=!0,n.forceKeepAttr=void 0,// Allows developers to see this is a property they can set\nLe(\"uponSanitizeAttribute\",e,n),d=n.attrValue,n.forceKeepAttr)continue;\n/* Remove attribute */\n/* Did the hooks approve of the attribute? */if(!n.keepAttr){Ie(a,e);continue}\n/* Work around a security issue in jQuery 3.0 */if(!Y&&yv(/\\/>/i,d)){Ie(a,e);continue}\n/* Sanitize attribute content to be template-safe */X&&dv([A,M,D],(e=>{d=fv(d,e,\" \")}))\n/* Is `value` valid for this attribute? */;const m=Ce(e.nodeName);if(Pe(m,c,d))\n/* Work around a security issue with comments inside attributes */\nif(\n/* Full DOM Clobbering protection via namespace isolation,\n           * Prefix id and name attributes with `user-content-`\n           */\n!se||\"id\"!==c&&\"name\"!==c||(\n// Remove the attribute with this value\nIe(a,e),\n// Prefix the value and later re-create the attribute with the sanitized value\nd=\"user-content-\"+d),K&&yv(/((--!?|])>)|<\\/(style|title)/i,d))Ie(a,e);else{\n/* Handle attributes that require Trusted Types */\nif(w&&\"object\"==typeof p&&\"function\"==typeof p.getAttributeType)if(i);else switch(p.getAttributeType(m,c)){case\"TrustedHTML\":d=w.createHTML(d);break;case\"TrustedScriptURL\":d=w.createScriptURL(d)}\n/* Handle invalid data-* attribute set by try-catching it */if(d!==u)try{i?e.setAttributeNS(i,a,d):\n/* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\ne.setAttribute(a,d),ze(e)?Fe(e):uv(o.removed)}catch(e){}}else Ie(a,e)}\n/* Execute a hook if present */Le(\"afterSanitizeAttributes\",e,null)},$e=function e(t){let o=null;const n=Ne(t);\n/* Execute a hook if present */for(Le(\"beforeSanitizeShadowDOM\",t,null);o=n.nextNode();)\n/* Execute a hook if present */\nLe(\"uponSanitizeShadowNode\",o,null),\n/* Sanitize tags and elements */\nHe(o)||(\n/* Deep shadow DOM detected */\no.content instanceof a&&e(o.content)\n/* Check attributes, sanitize if necessary */,We(o));\n/* Execute a hook if present */Le(\"afterSanitizeShadowDOM\",t,null)};\n/**\n       * Sanitize\n       * Public method providing core sanitation functionality\n       *\n       * @param {String|Node} dirty string or DOM node\n       * @param {Object} cfg object\n       */\n// eslint-disable-next-line complexity\nreturn o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,c=null;\n/* Stringify, in case dirty is an object */\nif(\n/* Make sure we have a string to sanitize.\n          DO NOT return early, as this will return the wrong type if\n          the user has requested a DOM object rather than a string */\nve=!e,ve&&(e=\"\\x3c!--\\x3e\"),\"string\"!=typeof e&&!Ve(e)){if(\"function\"!=typeof e.toString)throw wv(\"toString is not a function\");if(\"string\"!=typeof(e=e.toString()))throw wv(\"dirty is not a string, aborting\")}\n/* Return dirty HTML if DOMPurify cannot run */if(!o.isSupported)return e;\n/* Assign config vars */if(Q||Te(t)\n/* Clean up removed elements */,o.removed=[],\n/* Check if dirty is correctly typed for IN_PLACE */\n\"string\"==typeof e&&(ae=!1),ae){\n/* Do some early pre-sanitization to avoid unsafe root nodes */\nif(e.nodeName){const t=Ce(e.nodeName);if(!V[t]||W[t])throw wv(\"root node is forbidden and cannot be sanitized in-place\")}}else if(e instanceof l)\n/* If dirty is a DOM element, append to an empty document to avoid\n             elements being stripped by the parser */\nn=Re(\"\\x3c!----\\x3e\"),r=n.ownerDocument.importNode(e,!0),1===r.nodeType&&\"BODY\"===r.nodeName||\"HTML\"===r.nodeName?\n/* Node is already a body, use as is */\nn=r:\n// eslint-disable-next-line unicorn/prefer-dom-node-append\nn.appendChild(r);else{\n/* Exit directly if we have nothing to do */\nif(!ee&&!X&&!J&&\n// eslint-disable-next-line unicorn/prefer-includes\n-1===e.indexOf(\"<\"))return w&&oe?w.createHTML(e):e;\n/* Initialize the document to work on */\n/* Check we have a DOM node from the data */\nif(n=Re(e),!n)return ee?null:oe?S:\"\"}\n/* Remove first element node (ours) if FORCE_BODY is set */n&&Z&&Fe(n.firstChild)\n/* Get node iterator */;const d=Ne(ae?e:n);\n/* Now start iterating over the created document */for(;i=d.nextNode();)\n/* Sanitize tags and elements */\nHe(i)||(\n/* Shadow DOM detected, sanitize it */\ni.content instanceof a&&$e(i.content)\n/* Check attributes, sanitize if necessary */,We(i));\n/* If we sanitized `dirty` in-place, return it. */if(ae)return e;\n/* Return sanitized string or DOM */if(ee){if(te)for(c=O.call(n.ownerDocument);n.firstChild;)\n// eslint-disable-next-line unicorn/prefer-dom-node-append\nc.appendChild(n.firstChild);else c=n;return(H.shadowroot||H.shadowrootmode)&&(\n/*\n              AdoptNode() is not used because internal state is not reset\n              (e.g. the past names map of a HTMLFormElement), this is safe\n              in theory but we would rather not risk another attack vector.\n              The state that is cloned by importNode() is explicitly defined\n              by the specs.\n            */\nc=T.call(s,c,!0)),c}let u=J?n.outerHTML:n.innerHTML;\n/* Serialize doctype if allowed */return J&&V[\"!doctype\"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&yv(qv,n.ownerDocument.doctype.name)&&(u=\"<!DOCTYPE \"+n.ownerDocument.doctype.name+\">\\n\"+u)\n/* Sanitize final string template-safe */,X&&dv([A,M,D],(e=>{u=fv(u,e,\" \")})),w&&oe?w.createHTML(u):u},\n/**\n       * Public method to set the configuration once\n       * setConfig\n       *\n       * @param {Object} cfg configuration object\n       */\no.setConfig=function(){Te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},\n/**\n       * Public method to remove the configuration\n       * clearConfig\n       *\n       */\no.clearConfig=function(){ke=null,Q=!1},\n/**\n       * Public method to check if an attribute value is valid.\n       * Uses last set config, if any. Otherwise, uses config defaults.\n       * isValidAttribute\n       *\n       * @param  {String} tag Tag name of containing element.\n       * @param  {String} attr Attribute name.\n       * @param  {String} value Attribute value.\n       * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n       */\no.isValidAttribute=function(e,t,o){\n/* Initialize shared config vars if necessary. */\nke||Te({});const n=Ce(e),s=Ce(t);return Pe(n,s,o)},\n/**\n       * AddHook\n       * Public method to add DOMPurify hooks\n       *\n       * @param {String} entryPoint entry point for the hook to add\n       * @param {Function} hookFunction function to execute\n       */\no.addHook=function(e,t){\"function\"==typeof t&&(E[e]=E[e]||[],mv(E[e],t))},\n/**\n       * RemoveHook\n       * Public method to remove a DOMPurify hook at a given entryPoint\n       * (pops it from the stack of hooks if more are present)\n       *\n       * @param {String} entryPoint entry point for the hook to remove\n       * @return {Function} removed(popped) hook\n       */\no.removeHook=function(e){if(E[e])return uv(E[e])},\n/**\n       * RemoveHooks\n       * Public method to remove all DOMPurify hooks at a given entryPoint\n       *\n       * @param  {String} entryPoint entry point for the hooks to remove\n       */\no.removeHooks=function(e){E[e]&&(E[e]=[])},\n/**\n       * RemoveAllHooks\n       * Public method to remove all DOMPurify hooks\n       */\no.removeAllHooks=function(){E={}},o}();const Qv=e=>Jv().sanitize(e);var Zv=tinymce.util.Tools.resolve(\"tinymce.util.I18n\");const ex={indent:!0,outdent:!0,\"table-insert-column-after\":!0,\"table-insert-column-before\":!0,\"paste-column-after\":!0,\"paste-column-before\":!0,\"unordered-list\":!0,\"list-bull-circle\":!0,\"list-bull-default\":!0,\"list-bull-square\":!0},tx=\"temporary-placeholder\",ox=e=>()=>fe(e,tx).getOr(\"!not found!\"),nx=(e,t)=>{const o=e.toLowerCase();if(Zv.isRtl()){const e=((e,t)=>Ee(e,t)?e:((e,t)=>e+t)(e,t))(o,\"-rtl\");return be(t,e)?e:o}return o},sx=(e,t)=>fe(t,nx(e,t)),rx=(e,t)=>{const o=t();return sx(e,o).getOrThunk(ox(o))},ax=()=>Th(\"add-focusable\",[Jr((e=>{kl(e.element,\"svg\").each((e=>St(e,\"focusable\",\"false\")))}))]),ix=(e,t,o,n)=>{var s,r;const a=(e=>!!Zv.isRtl()&&be(ex,e))(t)?[\"tox-icon--flip\"]:[],i=fe(o,nx(t,o)).or(n).getOrThunk(ox(o));return{dom:{tag:e.tag,attributes:null!==(s=e.attributes)&&void 0!==s?s:{},classes:e.classes.concat(a),innerHtml:i},behaviours:ca([...null!==(r=e.behaviours)&&void 0!==r?r:[],ax()])}},lx=(e,t,o,n=A.none())=>ix(t,e,o(),n),cx={success:\"checkmark\",error:\"warning\",err:\"error\",warning:\"warning\",warn:\"warning\",info:\"info\"},dx=Gm({name:\"Notification\",factory:e=>{const t=Di(\"notification-text\"),o=Lb({dom:Vb(`<p id=${t}>${Qv(e.backstageProvider.translate(e.text))}</p>`),behaviours:ca([_h.config({})])}),n=e=>({dom:{tag:\"div\",classes:[\"tox-bar\"],styles:{width:`${e}%`}}}),s=e=>({dom:{tag:\"div\",classes:[\"tox-text\"],innerHtml:`${e}%`}}),r=Lb({dom:{tag:\"div\",classes:e.progress?[\"tox-progress-bar\",\"tox-progress-indicator\"]:[\"tox-progress-bar\"]},components:[{dom:{tag:\"div\",classes:[\"tox-bar-container\"]},components:[n(0)]},s(0)],behaviours:ca([_h.config({})])}),a={updateProgress:(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{_h.set(e,[{dom:{tag:\"div\",classes:[\"tox-bar-container\"]},components:[n(t)]},s(t)])}))},updateText:(e,t)=>{if(e.getSystem().isConnected()){const n=o.get(e);_h.set(n,[dl(t)])}}},i=G([e.icon.toArray(),[e.level],A.from(cx[e.level]).toArray()]),l=Lb(zb.sketch({dom:{tag:\"button\",classes:[\"tox-notification__dismiss\",\"tox-button\",\"tox-button--naked\",\"tox-button--icon\"],attributes:{\"aria-label\":e.backstageProvider.translate(\"Close\")}},components:[lx(\"close\",{tag:\"span\",classes:[\"tox-icon\"]},e.iconProvider)],buttonBehaviours:ca([Ub.config({}),Zb.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate(\"Close\")})})]),action:t=>{e.onAction(t)}})),c=((e,t,o)=>{const n=o(),s=$(e,(e=>be(n,nx(e,n))));return ix({tag:\"div\",classes:[\"tox-notification__icon\"]},s.getOr(tx),n,A.none())})(i,0,e.iconProvider),d=[c,{dom:{tag:\"div\",classes:[\"tox-notification__body\"]},components:[o.asSpec()],behaviours:ca([_h.config({})])}];return{uid:e.uid,dom:{tag:\"div\",attributes:{role:\"alert\",\"aria-labelledby\":t},classes:[\"tox-notification\",\"tox-notification--in\",`tox-notification--${e.level}`]},behaviours:ca([Ub.config({}),Bh.config({}),bh.config({mode:\"special\",onEscape:t=>(e.onAction(t),A.some(!0))})]),components:d.concat(e.progress?[r.asSpec()]:[]).concat([l.asSpec()]),apis:a}},configFields:[Os(\"level\",\"info\",[\"success\",\"error\",\"warning\",\"warn\",\"info\"]),rs(\"progress\"),gs(\"icon\"),rs(\"onAction\"),rs(\"text\"),rs(\"iconProvider\"),rs(\"backstageProvider\")],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var ux=(e,t,o,n)=>{const s=t.backstage.shared,r=()=>ze(\"\"===e.queryCommandValue(\"ToggleView\")?e.getContentAreaContainer():e.getContainer()),a=()=>{const e=Ko(r());return A.some(e)},i=e=>{a().each((t=>{L(e,(e=>{Vt(e.element,\"width\"),Kt(e.element)>t.width&&Mt(e.element,\"width\",t.width+\"px\")}))}))};return{open:(t,l,c)=>{const d=()=>{n.on((t=>{l();const o=c();(e=>{_h.remove(e,u),m()})(t),((t,o)=>{0===lt(t.element).length?((t,o)=>{xf.hide(t),n.clear(),o&&e.focus()})(t,o):((e,t)=>{t&&bh.focusIn(e)})(t,o)})(t,o)}))},u=pl(dx.sketch({text:t.text,level:I([\"success\",\"error\",\"warning\",\"warn\",\"info\"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,onAction:d,iconProvider:s.providers.icons,backstageProvider:s.providers}));if(n.isSet()){const e=hl(u);n.on((t=>{_h.append(t,e),xf.reposition(t),u.hasConfigured(Oi)&&Oi.refresh(t),i(t.components())}))}else{const t=pl(xf.sketch({dom:{tag:\"div\",classes:[\"tox-notifications-container\"],attributes:{\"aria-label\":\"Notifications\",role:\"region\"}},lazySink:s.getSink,fireDismissalEventInstead:{},...s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ca([bh.config({mode:\"cyclic\",selector:\".tox-notification, .tox-notification a, .tox-notification button\"}),_h.config({}),...Tb(e)&&s.header.isPositionedAtTop()?[]:[Oi.config({contextual:{lazyContext:()=>A.some(Ko(r())),fadeInClass:\"tox-notification-container-dock-fadein\",fadeOutClass:\"tox-notification-container-dock-fadeout\",transitionClass:\"tox-notification-container-dock-transition\"},modes:[\"top\"],lazyViewport:t=>Rb(e,t.element).map((e=>({bounds:Nb(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:qt(e.element).top})}))).getOrThunk((()=>({bounds:Zo(),optScrollEnv:A.none()})))})]])})),i=hl(u),l={maxHeightFunction:Lc()},c={...s.anchors.banner(),overrides:l};n.set(t),o.add(t),xf.showWithinBounds(t,i,{anchor:c},a)}h(t.timeout)&&t.timeout>0&&Sf.setEditorTimeout(e,(()=>{d()}),t.timeout);const m=()=>{n.on((e=>{xf.reposition(e),e.hasConfigured(Oi)&&Oi.refresh(e),i(e.components())}))};return{close:d,reposition:m,text:e=>{dx.updateText(u,e)},settings:t,getEl:()=>u.element.dom,progressBar:{value:e=>{dx.updateProgress(u,e)}}}},close:e=>{e.close()},getArgs:e=>e.settings}};var mx;!function(e){e[e.CLOSE_ON_EXECUTE=0]=\"CLOSE_ON_EXECUTE\",e[e.BUBBLE_TO_SANDBOX=1]=\"BUBBLE_TO_SANDBOX\"}(mx||(mx={}));var gx=mx;const px=\"tox-menu-nav__js\",hx=\"tox-collection__item\",fx=\"tox-swatch\",bx={normal:px,color:fx},vx=\"tox-collection__item--enabled\",xx=\"tox-collection__item-icon\",yx=\"tox-collection__item-label\",wx=\"tox-collection__item-caret\",Sx=\"tox-collection__item--active\",Cx=\"tox-collection__item-container\",kx=\"tox-collection__item-container--row\",Ox=e=>fe(bx,e).getOr(px),_x=e=>\"color\"===e?\"tox-swatches\":\"tox-menu\",Tx=e=>({backgroundMenu:\"tox-background-menu\",selectedMenu:\"tox-selected-menu\",selectedItem:\"tox-collection__item--active\",hasIcons:\"tox-menu--has-icons\",menu:_x(e),tieredMenu:\"tox-tiered-menu\"}),Ex=e=>{const t=Tx(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Ox(e)}},Ax=(e,t,o)=>{const n=Tx(o);return{tag:\"div\",classes:G([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}},Mx=[cf.parts.items({})],Dx=(e,t,o)=>{const n=Tx(o);return{dom:{tag:\"div\",classes:G([[n.tieredMenu]])},markers:Ex(o)}},Bx=y([ks(\"type\",\"text\"),gs(\"data\"),ws(\"inputAttributes\",{}),ws(\"inputStyles\",{}),ws(\"tag\",\"input\"),ws(\"inputClasses\",[]),bi(\"onSetValue\"),Ts(\"fromInputValue\",w),Ts(\"toInputValue\",w),ws(\"styles\",{}),ws(\"eventOrder\",{}),ju(\"inputBehaviours\",[$u,Bh]),ws(\"selectOnFocus\",!0)]),Fx=e=>ca([Bh.config({onFocus:e.selectOnFocus?t=>{const o=t.element,n=tl(o);\"range\"!==e.type&&o.dom.setSelectionRange(0,n.length)}:b})]),Ix=e=>({...Fx(e),...qu(e.inputBehaviours,[$u.config({store:{mode:\"manual\",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:t=>e.fromInputValue(tl(t.element)),setValue:(t,o)=>{tl(t.element)!==o&&ol(t.element,e.toInputValue(o))}},onSetValue:e.onSetValue})])}),Rx=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Nx=Gm({name:\"Input\",configFields:Bx(),factory:(e,t)=>({uid:e.uid,dom:Rx(e),components:[],behaviours:Ix(e),eventOrder:e.eventOrder})}),zx=Di(\"refetch-trigger-event\"),Vx=Di(\"redirect-menu-item-interaction\"),Lx=\"tox-menu__searcher\",Hx=e=>Ol(e.element,`.${Lx}`).bind((t=>e.getSystem().getByDom(t).toOptional())),Px=Hx,Ux=e=>({fetchPattern:$u.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Wx=e=>{const t=(e,t)=>(t.cut(),A.none()),o=(e,t)=>{const o={interactionEvent:t.event,eventType:t.event.raw.type};return Rr(e,Vx,o),A.some(!0)},n=\"searcher-events\";return{dom:{tag:\"div\",classes:[hx]},components:[Nx.sketch({inputClasses:[Lx,\"tox-textfield\"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:\"search\",\"aria-autocomplete\":\"list\"},inputBehaviours:ca([Th(n,[Wr(Zs(),(e=>{Ir(e,zx)})),Wr(Js(),((e,t)=>{\"Escape\"===t.event.raw.key&&t.stop()}))]),bh.config({mode:\"special\",onLeft:t,onRight:t,onSpace:t,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,bh.name()]}})]}},$x=\"tox-collection--results__js\",jx=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:Di(\"aria-item-search-result-id\"),\"aria-selected\":\"false\"}}}:e},Gx=(e,t)=>o=>{const n=z(o,t);return V(n,(t=>({dom:e,components:t})))},qx=(e,t)=>{const o=[];let n=[];return L(e,((e,s)=>{t(e,s)?(n.length>0&&o.push(n),n=[],(be(e.dom,\"innerHtml\")||e.components&&e.components.length>0)&&n.push(e)):n.push(e)})),n.length>0&&o.push(n),V(o,(e=>({dom:{tag:\"div\",classes:[\"tox-collection__group\"]},components:e})))},Yx=(e,t,o)=>cf.parts.items({preprocess:n=>{const s=V(n,o);return\"auto\"!==e&&e>1?Gx({tag:\"div\",classes:[\"tox-collection__group\"]},e)(s):qx(s,((e,o)=>\"separator\"===t[o].type))}}),Xx=(e,t,o=!0)=>({dom:{tag:\"div\",classes:[\"tox-menu\",\"tox-collection\"].concat(1===e?[\"tox-collection--list\"]:[\"tox-collection--grid\"])},components:[Yx(e,t,w)]}),Kx=e=>R(e,(e=>\"icon\"in e&&void 0!==e.icon)),Jx=e=>(console.error(Zn(e)),console.log(e),A.none()),Qx=(e,t,o,n,s)=>{const r=(a=o,{dom:{tag:\"div\",classes:[\"tox-collection\",\"tox-collection--horizontal\"]},components:[cf.parts.items({preprocess:e=>qx(e,((e,t)=>\"separator\"===a[t].type))})]});var a;return{value:e,dom:r.dom,components:r.components,items:o}},Zx=(e,t,o,n,s)=>{if(\"color\"===s.menuType){const t=(e=>({dom:{tag:\"div\",classes:[\"tox-menu\",\"tox-swatches-menu\"]},components:[{dom:{tag:\"div\",classes:[\"tox-swatches\"]},components:[cf.parts.items({preprocess:\"auto\"!==e?Gx({tag:\"div\",classes:[\"tox-swatches__row\"]},e):w})]}]}))(n);return{value:e,dom:t.dom,components:t.components,items:o}}if(\"normal\"===s.menuType&&\"auto\"===n){const t=Xx(n,o);return{value:e,dom:t.dom,components:t.components,items:o}}if(\"normal\"===s.menuType||\"searchable\"===s.menuType){const t=\"searchable\"!==s.menuType?Xx(n,o):\"search-with-field\"===s.searchMode.searchMode?((e,t,o)=>{const n=Di(\"aria-controls-search-results\");return{dom:{tag:\"div\",classes:[\"tox-menu\",\"tox-collection\"].concat(1===e?[\"tox-collection--list\"]:[\"tox-collection--grid\"])},components:[Wx({i18n:Zv.translate,placeholder:o.placeholder}),{dom:{tag:\"div\",classes:[...1===e?[\"tox-collection--list\"]:[\"tox-collection--grid\"],$x],attributes:{id:n}},components:[Yx(e,t,jx)]}]}})(n,o,s.searchMode):((e,t)=>{const o=Di(\"aria-controls-search-results\");return{dom:{tag:\"div\",classes:[\"tox-menu\",\"tox-collection\",$x].concat(1===e?[\"tox-collection--list\"]:[\"tox-collection--grid\"]),attributes:{id:o}},components:[Yx(e,t,jx)]}})(n,o);return{value:e,dom:t.dom,components:t.components,items:o}}if(\"listpreview\"===s.menuType&&\"auto\"!==n){const t=(e=>({dom:{tag:\"div\",classes:[\"tox-menu\",\"tox-collection\",\"tox-collection--toolbar\",\"tox-collection--toolbar-lg\"]},components:[cf.parts.items({preprocess:Gx({tag:\"div\",classes:[\"tox-collection__group\"]},e)})]}))(n);return{value:e,dom:t.dom,components:t.components,items:o}}return{value:e,dom:Ax(t,n,s.menuType),components:Mx,items:o}},ey=is(\"type\"),ty=is(\"name\"),oy=is(\"label\"),ny=is(\"text\"),sy=is(\"title\"),ry=is(\"icon\"),ay=is(\"value\"),iy=cs(\"fetch\"),ly=cs(\"getSubmenuItems\"),cy=cs(\"onAction\"),dy=cs(\"onItemAction\"),uy=Ts(\"onSetup\",(()=>b)),my=fs(\"name\"),gy=fs(\"text\"),py=fs(\"role\"),hy=fs(\"icon\"),fy=fs(\"tooltip\"),by=fs(\"label\"),vy=fs(\"shortcut\"),xy=vs(\"select\"),yy=_s(\"active\",!1),wy=_s(\"borderless\",!1),Sy=_s(\"enabled\",!0),Cy=_s(\"primary\",!1),ky=e=>ws(\"columns\",e),Oy=ws(\"meta\",{}),_y=Ts(\"onAction\",b),Ty=e=>ks(\"type\",e),Ey=e=>os(\"name\",\"name\",wn((()=>Di(`${e}-name`))),Un),Ay=In([ey,gy]),My=In([Ty(\"autocompleteitem\"),yy,Sy,Oy,ay,gy,hy]),Dy=[Sy,fy,hy,gy,uy,ks(\"context\",\"mode:design\")],By=In([ey,cy,vy].concat(Dy)),Fy=e=>Kn(\"toolbarbutton\",By,e),Iy=[yy].concat(Dy),Ry=In(Iy.concat([ey,cy,vy])),Ny=e=>Kn(\"ToggleButton\",Ry,e),zy=[Ts(\"predicate\",T),Os(\"scope\",\"node\",[\"node\",\"editor\"]),Os(\"position\",\"selection\",[\"node\",\"selection\",\"line\"])],Vy=Dy.concat([Ty(\"contextformbutton\"),ks(\"align\",\"end\"),Cy,cy,ns(\"original\",w)]),Ly=Iy.concat([Ty(\"contextformbutton\"),ks(\"align\",\"end\"),Cy,cy,ns(\"original\",w)]),Hy=Dy.concat([Ty(\"contextformbutton\")]),Py=Iy.concat([Ty(\"contextformtogglebutton\")]),Uy=[by,ms(\"commands\",es(\"type\",{contextformbutton:Vy,contextformtogglebutton:Ly})),ps(\"launch\",es(\"type\",{contextformbutton:Hy,contextformtogglebutton:Py})),Ts(\"onInput\",b),Ts(\"onSetup\",b)],Wy=[...zy,...Uy,ls(\"type\",[\"contextform\"]),Ts(\"initValue\",y(\"\")),fs(\"placeholder\")],$y=[...zy,...Uy,ls(\"type\",[\"contextsliderform\"]),Ts(\"initValue\",y(0)),Ts(\"min\",y(0)),Ts(\"max\",y(100))],jy=[...zy,...Uy,ls(\"type\",[\"contextsizeinputform\"]),Ts(\"initValue\",y({width:\"\",height:\"\"}))],Gy=es(\"type\",{contextform:Wy,contextsliderform:$y,contextsizeinputform:jy}),qy=In([Ty(\"contexttoolbar\"),as(\"items\",Nn([Un,Vn([fs(\"name\"),fs(\"label\"),ms(\"items\",Un)])]))].concat(zy)),Yy=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items}),Xy=[ey,is(\"src\"),fs(\"alt\"),Es(\"classes\",[],Un)],Ky=In(Xy),Jy=[ey,ny,my,Es(\"classes\",[\"tox-collection__item-label\"],Un)],Qy=In(Jy),Zy=Dn((()=>qn(\"type\",{cardimage:Ky,cardtext:Qy,cardcontainer:ew}))),ew=In([ey,ks(\"direction\",\"horizontal\"),ks(\"align\",\"left\"),ks(\"valign\",\"middle\"),ms(\"items\",Zy)]),tw=[Sy,gy,py,vy,os(\"value\",\"value\",wn((()=>Di(\"menuitem-value\"))),Ln()),Oy,ks(\"context\",\"mode:design\")];const ow=In([ey,by,ms(\"items\",Zy),uy,_y].concat(tw)),nw=In([ey,yy,hy].concat(tw)),sw=[ey,is(\"fancytype\"),_y],rw=[ws(\"initData\",{})].concat(sw),aw=[vs(\"select\"),As(\"initData\",{},[_s(\"allowCustomColors\",!0),ks(\"storageKey\",\"default\"),xs(\"colors\",Ln())])].concat(sw),iw=es(\"fancytype\",{inserttable:rw,colorswatch:aw}),lw=In([ey,uy,_y,hy].concat(tw)),cw=In([ey,ly,uy,hy].concat(tw)),dw=In([ey,hy,yy,uy,cy].concat(tw)),uw=(e,t,o)=>{const n=kd(e.element,\".\"+o);if(n.length>0){const e=j(n,(e=>{const o=e.dom.getBoundingClientRect().top,s=n[0].dom.getBoundingClientRect().top;return Math.abs(o-s)>t})).getOr(n.length);return A.some({numColumns:e,numRows:Math.ceil(n.length/e)})}return A.none()},mw=e=>((e,t)=>ca([Th(e,t)]))(Di(\"unnamed-events\"),e),gw=e=>ug.config({disabled:e,disableClass:\"tox-collection__item--state-disabled\"}),pw=e=>ug.config({disabled:e}),hw=e=>ug.config({disabled:e,disableClass:\"tox-tbtn--disabled\"}),fw=e=>ug.config({disabled:e,disableClass:\"tox-tbtn--disabled\",useNative:!1}),bw=(e,t)=>{const o=e.getApi(t);return e=>{e(o)}},vw=(e,t)=>Jr((o=>{p(e.onBeforeSetup)&&e.onBeforeSetup(o),bw(e,o)((o=>{const n=e.onSetup(o);p(n)&&t.set(n)}))})),xw=(e,t)=>Qr((o=>bw(e,o)(t.get()))),yw=\"silver.uistate\",ww=\"setDisabled\",Sw=\"init\",Cw=[\"switchmode\",Sw],kw=(e,t)=>{const o=e.mainUi.outerContainer,n=[e.mainUi.mothership,...e.uiMotherships];t===ww&&L(n,(e=>{e.broadcastOn([Ou()],{target:o.element})})),L(n,(e=>{e.broadcastOn([yw],t)}))},Ow=(e,t)=>{e.on(\"init SwitchMode\",(e=>{kw(t,e.type)})),e.on(\"DisabledStateChange\",(o=>{if(!o.isDefaultPrevented()){const n=o.state?ww:Sw;kw(t,n),o.state||e.nodeChanged()}})),e.on(\"NodeChange\",(o=>{const n=e.ui.isEnabled()?o.type:ww;kw(t,n)})),Af(e)&&e.mode.set(\"readonly\")},_w=e=>dc.config({channels:{[yw]:{onReceive:(t,o)=>{if(o===ww||\"setEnabled\"===o)return void ug.set(t,o===ww);const{contextType:n,shouldDisable:s}=e();(\"mode\"!==n||I(Cw,o))&&ug.set(t,s)}}}}),Tw=(e,t)=>ea(((o,n)=>{bw(e,o)(e.onAction),e.triggersSubmenu||t!==gx.CLOSE_ON_EXECUTE||(o.getSystem().isConnected()&&Ir(o,fr()),n.stop())})),Ew={[mr()]:[\"disabling\",\"alloy.base.behaviour\",\"toggling\",\"item-events\"]},Aw=ye,Mw=(e,t,o,n)=>{const s=en(b);return{type:\"item\",dom:t.dom,components:Aw(t.optComponents),data:e.data,eventOrder:Ew,hasSubmenu:e.triggersSubmenu,itemBehaviours:ca([Th(\"item-events\",[Tw(e,o),vw(e,s),xw(e,s)]),gw((()=>!e.enabled||n.checkUiComponentContext(e.context).shouldDisable)),_w((()=>n.checkUiComponentContext(e.context))),_h.config({})].concat(e.itemBehaviours))}},Dw=e=>({value:e.value,meta:{text:e.text.getOr(\"\"),...e.meta}}),Bw=e=>{const t=Of.os.isMacOS()||Of.os.isiOS(),o=t?{alt:\"\\u2325\",ctrl:\"\\u2303\",shift:\"\\u21e7\",meta:\"\\u2318\",access:\"\\u2303\\u2325\"}:{meta:\"Ctrl\",access:\"Shift+Alt\"},n=e.split(\"+\"),s=V(n,(e=>{const t=e.toLowerCase().trim();return be(o,t)?o[t]:e}));return t?s.join(\"\"):s.join(\"+\")},Fw=(e,t,o=[xx])=>lx(e,{tag:\"div\",classes:o},t),Iw=e=>({dom:{tag:\"div\",classes:[yx]},components:[dl(Zv.translate(e))]}),Rw=(e,t)=>({dom:{tag:\"div\",classes:t,innerHtml:e}}),Nw=(e,t)=>({dom:{tag:\"div\",classes:[yx]},components:[{dom:{tag:e.tag,styles:e.styles},components:[dl(Zv.translate(t))]}]}),zw=e=>({dom:{tag:\"div\",classes:[\"tox-collection__item-accessory\"]},components:[dl(Bw(e))]}),Vw=e=>Fw(\"checkmark\",e,[\"tox-collection__item-checkmark\"]),Lw=e=>{const t=e.map((e=>({attributes:{id:Di(\"menu-item\"),\"aria-label\":Zv.translate(e)}}))).getOr({});return{tag:\"div\",classes:[px,hx],...t}},Hw=(e,t,o,n=A.none())=>\"color\"===e.presets?((e,t,o)=>{const n=e.value,s=e.iconContent.map((e=>((e,t,o)=>{const n=t();return sx(e,n).or(o).getOrThunk(ox(n))})(e,t.icons,o))),r=e.ariaLabel.map((e=>({\"aria-label\":t.translate(e),\"data-mce-name\":e}))).getOr({});return{dom:(()=>{const e=fx,t=s.getOr(\"\"),o={tag:\"div\",attributes:r,classes:[e]};return\"custom\"===n?{...o,tag:\"button\",classes:[...o.classes,\"tox-swatches__picker-btn\"],innerHtml:t}:\"remove\"===n?{...o,classes:[...o.classes,\"tox-swatch--remove\"],innerHtml:t}:g(n)?{...o,attributes:{...o.attributes,\"data-mce-color\":n},styles:{\"background-color\":n},innerHtml:t}:o})(),optComponents:[]}})(e,t,n):((e,t,o,n)=>{const s={tag:\"div\",classes:[xx]},r=o?e.iconContent.map((e=>lx(e,s,t.icons,n))).orThunk((()=>A.some({dom:s}))):A.none(),a=e.checkMark,i=A.from(e.meta).fold((()=>Iw),(e=>be(e,\"style\")?C(Nw,e.style):Iw)),l=e.htmlContent.fold((()=>e.textContent.map(i)),(e=>A.some(Rw(e,[yx]))));return{dom:Lw(e.ariaLabel),optComponents:[r,l,e.shortcutContent.map(zw),a,e.caret]}})(e,t,o,n),Pw=(e,t,o)=>fe(e,\"tooltipWorker\").map((e=>[Zb.config({lazySink:t.getSink,tooltipDom:{tag:\"div\",classes:[\"tox-tooltip-worker-container\"]},tooltipComponents:[],anchor:e=>({type:\"submenu\",item:e,overrides:{maxHeightFunction:Lc}}),mode:\"follow-highlight\",onShow:(t,o)=>{e((e=>{Zb.setComponents(t,[ul({element:ze(e)})])}))}})])).getOrThunk((()=>o.map((e=>[Zb.config({...t.providers.tooltips.getConfig({tooltipText:e}),mode:\"follow-highlight\"})])).getOr([]))),Uw=(e,t)=>{const o=(e=>Cf.DOM.encode(e))(Zv.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\"))(t),\"gi\");return o.replace(e,(e=>`<span class=\"tox-autocompleter-highlight\">${e}</span>`))}return o},Ww=(e,t)=>V(e,(e=>{switch(e.type){case\"cardcontainer\":return((e,t)=>{const o=\"vertical\"===e.direction?\"tox-collection__item-container--column\":kx,n=\"left\"===e.align?\"tox-collection__item-container--align-left\":\"tox-collection__item-container--align-right\";return{dom:{tag:\"div\",classes:[Cx,o,n,(()=>{switch(e.valign){case\"top\":return\"tox-collection__item-container--valign-top\";case\"middle\":return\"tox-collection__item-container--valign-middle\";case\"bottom\":return\"tox-collection__item-container--valign-bottom\"}})()]},components:t}})(e,Ww(e.items,t));case\"cardimage\":return((e,t,o)=>({dom:{tag:\"img\",classes:t,attributes:{src:e,alt:o.getOr(\"\")}}}))(e.src,e.classes,e.alt);case\"cardtext\":const o=e.name.exists((e=>I(t.cardText.highlightOn,e))),n=o?A.from(t.cardText.matchText).getOr(\"\"):\"\";return Rw(Uw(e.text,n),e.classes)}})),$w=Om(tf(),of()),jw=e=>({value:Xw(e)}),Gw=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,qw=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i,Yw=e=>Gw.test(e)||qw.test(e),Xw=e=>Oe(e,\"#\").toUpperCase(),Kw=e=>{const t=e.toString(16);return(1===t.length?\"0\"+t:t).toUpperCase()},Jw=e=>{const t=Kw(e.red)+Kw(e.green)+Kw(e.blue);return jw(t)},Qw=Math.min,Zw=Math.max,eS=Math.round,tS=/^\\s*rgb\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*\\)\\s*$/i,oS=/^\\s*rgba\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*((?:\\d?\\.\\d+|\\d+)%?)\\s*\\)\\s*$/i,nS=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n}),sS=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},rS=e=>{let t,o,n;const s=(e.hue||0)%360;let r=e.saturation/100,a=e.value/100;if(r=Zw(0,Qw(r,1)),a=Zw(0,Qw(a,1)),0===r)return t=o=n=eS(255*a),nS(t,o,n,1);const i=s/60,l=a*r,c=l*(1-Math.abs(i%2-1)),d=a-l;switch(Math.floor(i)){case 0:t=l,o=c,n=0;break;case 1:t=c,o=l,n=0;break;case 2:t=0,o=l,n=c;break;case 3:t=0,o=c,n=l;break;case 4:t=c,o=0,n=l;break;case 5:t=l,o=0,n=c;break;default:t=o=n=0}return t=eS(255*(t+d)),o=eS(255*(o+d)),n=eS(255*(n+d)),nS(t,o,n,1)},aS=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(Gw,((e,t,o,n)=>t+t+o+o+n+n));return{value:t}})(e),o=qw.exec(t.value);return null===o?[\"FFFFFF\",\"FF\",\"FF\",\"FF\"]:o})(e),o=parseInt(t[1],16),n=parseInt(t[2],16),s=parseInt(t[3],16);return nS(o,n,s,1)},iS=(e,t,o,n)=>{const s=parseInt(e,10),r=parseInt(t,10),a=parseInt(o,10),i=parseFloat(n);return nS(s,r,a,i)},lS=e=>{const t=tS.exec(e);if(null!==t)return A.some(iS(t[1],t[2],t[3],\"1\"));const o=oS.exec(e);return null!==o?A.some(iS(o[1],o[2],o[3],o[4])):A.none()},cS=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,dS=nS(255,0,0,1),uS=(e,t)=>{e.dispatch(\"ResizeContent\",t)},mS=(e,t)=>{e.dispatch(\"TextColorChange\",t)},gS=(e,t)=>e.dispatch(\"ResolveName\",{name:t.nodeName.toLowerCase(),target:t}),pS=e=>{e.dispatch(\"ContextToolbarClose\")},hS=(e,t)=>()=>{e(),t()},fS=e=>vS(e,\"NodeChange\",(t=>{t.setEnabled(e.selection.isEditable())})),bS=(e,t)=>o=>{const n=fS(e)(o),s=((e,t)=>o=>{const n=on(),s=()=>{o.setActive(e.formatter.match(t));const s=e.formatter.formatChanged(t,o.setActive);n.set(s)};return e.initialized?s():e.once(\"init\",s),()=>{e.off(\"init\",s),n.clear()}})(e,t)(o);return()=>{n(),s()}},vS=(e,t,o)=>n=>{const s=()=>o(n),r=()=>{o(n),e.on(t,s)};return e.initialized?r():e.once(\"init\",r),()=>{e.off(\"init\",r),e.off(t,s)}},xS=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand(\"mceToggleFormat\",!1,t.format)}))},yS=(e,t)=>()=>e.execCommand(t);var wS=tinymce.util.Tools.resolve(\"tinymce.util.LocalStorage\");const SS={},CS=e=>fe(SS,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,o=wS.getItem(t);if(m(o)){const e=wS.getItem(\"tinymce-custom-colors\");wS.setItem(t,g(e)?e:\"[]\")}const n=((e,t=10)=>{const o=wS.getItem(e),n=r(o)?JSON.parse(o):[],s=t-(a=n).length<0?a.slice(0,t):a;var a;const i=e=>{s.splice(e,1)};return{add:o=>{((e,t)=>{const o=F(e,t);return-1===o?A.none():A.some(o)})(s,o).each(i),s.unshift(o),s.length>t&&s.pop(),wS.setItem(e,JSON.stringify(s))},state:()=>s.slice(0)}})(t,10);return SS[e]=n,n})),kS=(e,t)=>{CS(e).add(t)},OS=(e,t,o)=>({hue:e,saturation:t,value:o}),_S=e=>{let t=0,o=0,n=0;const s=e.red/255,r=e.green/255,a=e.blue/255,i=Math.min(s,Math.min(r,a)),l=Math.max(s,Math.max(r,a));return i===l?(n=i,OS(0,0,100*n)):(t=s===i?3:a===i?1:5,t=60*(t-(s===i?r-a:a===i?s-r:a-s)/(l-i)),o=(l-i)/l,n=l,OS(Math.round(t),Math.round(100*o),Math.round(100*n)))},TS=e=>Jw(rS(e)),ES=\"forecolor\",AS=\"hilitecolor\",MS=e=>{const t=[];for(let o=0;o<e.length;o+=2)t.push({text:e[o+1],value:e[o],icon:\"checkmark\",type:\"choiceitem\"});return t},DS=e=>t=>t.options.get(e),BS=\"#000000\",FS=(e,t)=>t===ES&&e.options.isSet(\"color_map_foreground\")?DS(\"color_map_foreground\")(e):t===AS&&e.options.isSet(\"color_map_background\")?DS(\"color_map_background\")(e):e.options.isSet(\"color_map_raw\")?DS(\"color_map_raw\")(e):DS(\"color_map\")(e),IS=(e,t=\"default\")=>Math.max(5,Math.ceil(Math.sqrt(FS(e,t).length))),RS=(e,t)=>{const o=DS(\"color_cols\")(e),n=IS(e,t);return o===IS(e)?n:o},NS=(e,t=\"default\")=>Math.round(t===ES?DS(\"color_cols_foreground\")(e):t===AS?DS(\"color_cols_background\")(e):DS(\"color_cols\")(e)),zS=DS(\"custom_colors\"),VS=DS(\"color_default_foreground\"),LS=DS(\"color_default_background\"),HS=(e,t)=>{const o=ze(e.selection.getStart()),n=\"hilitecolor\"===t?Rs(o,(e=>{if(je(e)){const t=Ft(e,\"background-color\");return Ce(lS(t).exists((e=>0!==e.alpha)),t)}return A.none()})).getOr(\"rgba(0, 0, 0, 0)\"):Ft(o,\"color\");return lS(n).map((e=>\"#\"+Jw(e).value))},PS=e=>{const t=\"choiceitem\",o={type:t,text:\"Remove color\",icon:\"color-swatch-remove-color\",value:\"remove\"};return e?[o,{type:t,text:\"Custom color\",icon:\"color-picker\",value:\"custom\"}]:[o]},US=(e,t,o,n)=>{\"custom\"===o?JS(e)((o=>{o.each((o=>{kS(t,o),e.execCommand(\"mceApplyTextcolor\",t,o),n(o)}))}),HS(e,t).getOr(BS)):\"remove\"===o?(n(\"\"),e.execCommand(\"mceRemoveTextcolor\",t)):(n(o),e.execCommand(\"mceApplyTextcolor\",t,o))},WS=(e,t,o)=>e.concat((e=>V(CS(e).state(),(e=>({type:\"choiceitem\",text:e,icon:\"checkmark\",value:e}))))(t).concat(PS(o))),$S=(e,t,o)=>n=>{n(WS(e,t,o))},jS=(e,t,o)=>{const n=\"forecolor\"===t?\"tox-icon-text-color__color\":\"tox-icon-highlight-bg-color__color\";e.setIconFill(n,o)},GS=(e,t)=>{e.setTooltip(t)},qS=(e,t)=>o=>{const n=HS(e,t);return xe(n,o.toUpperCase())},YS=(e,t,o)=>{if(De(o))return\"forecolor\"===t?\"Text color\":\"Background color\";const n=\"forecolor\"===t?\"Text color {0}\":\"Background color {0}\",s=WS(FS(e,t),t,!1),r=$(s,(e=>e.value===o)).getOr({text:\"\"}).text;return e.translate([n,e.translate(r)])},XS=(e,t,o,n)=>{e.ui.registry.addSplitButton(t,{tooltip:YS(e,o,n.get()),presets:\"color\",icon:\"forecolor\"===t?\"text-color\":\"highlight-bg-color\",select:qS(e,o),columns:NS(e,o),fetch:$S(FS(e,o),o,zS(e)),onAction:t=>{US(e,o,n.get(),b)},onItemAction:(s,r)=>{US(e,o,r,(o=>{n.set(o),mS(e,{name:t,color:o})}))},onSetup:s=>{jS(s,t,n.get());const r=n=>{n.name===t&&(jS(s,n.name,n.color),GS(s,YS(e,o,n.color)))};return e.on(\"TextColorChange\",r),hS(fS(e)(s),(()=>{e.off(\"TextColorChange\",r)}))}})},KS=(e,t,o,n,s)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:\"forecolor\"===t?\"text-color\":\"highlight-bg-color\",onSetup:n=>(GS(n,YS(e,o,s.get())),jS(n,t,s.get()),fS(e)(n)),getSubmenuItems:()=>[{type:\"fancymenuitem\",fancytype:\"colorswatch\",select:qS(e,o),initData:{storageKey:o},onAction:n=>{US(e,o,n.value,(o=>{s.set(o),mS(e,{name:t,color:o})}))}}]})},JS=e=>(t,o)=>{let n=!1;const s={colorpicker:o};e.windowManager.open({title:\"Color Picker\",size:\"normal\",body:{type:\"panel\",items:[{type:\"colorpicker\",name:\"colorpicker\",label:\"Color\"}]},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:s,onAction:(e,t)=>{\"hex-valid\"===t.name&&(n=t.value)},onSubmit:o=>{const s=o.getData().colorpicker;n?(t(A.from(s)),o.close()):e.windowManager.alert(e.translate([\"Invalid hex color code: {0}\",s]))},onClose:b,onCancel:()=>{t(A.none())}})},QS=(e,t,o,n,s,r,a,i)=>{const l=Kx(t),c=ZS(t,o,n,\"color\"!==s?\"normal\":\"color\",r,a,i);return Zx(e,l,c,n,{menuType:s})},ZS=(e,t,o,n,s,r,a)=>ye(V(e,(i=>{return\"choiceitem\"===i.type?(l=i,Kn(\"choicemenuitem\",nw,l)).fold(Jx,(i=>A.some(((e,t,o,n,s,r,a,i=!0)=>{const l=Hw({presets:o,textContent:t?e.text:A.none(),htmlContent:A.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:A.none(),checkMark:t?A.some(Vw(a.icons)):A.none(),caret:A.none(),value:e.value},a,i),c=e.text.filter(y(!t)).map((e=>Zb.config(a.tooltips.getConfig({tooltipText:a.translate(e)}))));return xn(Mw({context:e.context,data:Dw(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Hh.set(e,t)},isActive:()=>Hh.isOn(e),isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t)}),onAction:t=>n(e.value),onSetup:e=>(e.setActive(s),b),triggersSubmenu:!1,itemBehaviours:[...c.toArray()]},l,r,a),{toggling:{toggleClass:vx,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(i,1===o,n,t,r(i.value),s,a,Kx(e))))):A.none();var l}))),eC=(e,t)=>{const o=Ex(t);return 1===e?{mode:\"menu\",moveOnTab:!0}:\"auto\"===e?{mode:\"grid\",selector:\".\"+o.item,initSize:{numColumns:1,numRows:1}}:{mode:\"matrix\",rowSelector:\".\"+(\"color\"===t?\"tox-swatches__row\":\"tox-collection__group\"),previousSelector:e=>\"color\"===t?Ol(e.element,\"[aria-checked=true]\"):A.none()}},tC=Di(\"cell-over\"),oC=Di(\"cell-execute\"),nC=(e,t,o)=>{const n=o=>Rr(o,oC,{row:e,col:t}),s=(e,t)=>{t.stop(),n(e)};return pl({dom:{tag:\"div\",attributes:{role:\"button\",\"aria-label\":o}},behaviours:ca([Th(\"insert-table-picker-cell\",[Wr(Ys(),Bh.focus),Wr(mr(),n),Wr(tr(),s),Wr(pr(),s)]),Hh.config({toggleClass:\"tox-insert-table-picker__selected\",toggleOnExecute:!1}),Bh.config({onFocus:o=>Rr(o,tC,{row:e,col:t})})])})},sC=e=>q(e,(e=>V(e,hl))),rC=(e,t)=>dl(`${t}x${e}`),aC={inserttable:(e,t)=>{const o=(e=>(t,o)=>e.shared.providers.translate([\"{0} columns, {1} rows\",o,t]))(t),n=(e=>{const t=[];for(let o=0;o<10;o++){const n=[];for(let t=0;t<10;t++){const s=e(o+1,t+1);n.push(nC(o,t,s))}t.push(n)}return t})(o),s=rC(0,0),r=Lb({dom:{tag:\"span\",classes:[\"tox-insert-table-picker__label\"]},components:[s],behaviours:ca([_h.config({})])});return{type:\"widget\",data:{value:Di(\"widget-id\")},dom:{tag:\"div\",classes:[\"tox-fancymenuitem\"]},autofocus:!0,components:[$w.widget({dom:{tag:\"div\",classes:[\"tox-insert-table-picker\"]},components:sC(n).concat(r.asSpec()),behaviours:ca([Th(\"insert-table-picker\",[Jr((e=>{_h.set(r.get(e),[s])})),qr(tC,((e,t,o)=>{const{row:s,col:a}=o.event;((e,t,o)=>{for(let n=0;n<10;n++)for(let s=0;s<10;s++)Hh.set(e[n][s],n<=t&&s<=o)})(n,s,a),_h.set(r.get(e),[rC(s+1,a+1)])})),qr(oC,((t,o,n)=>{const{row:s,col:r}=n.event;Ir(t,fr()),e.onAction({numRows:s+1,numColumns:r+1})}))]),bh.config({initSize:{numRows:10,numColumns:10},mode:\"flatgrid\",selector:'[role=\"button\"]'})])})]}},colorswatch:(e,t)=>{const o=((e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>WS(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o)),(e=>e.concat(PS(o))))})(e,t),n=t.colorinput.getColorCols(e.initData.storageKey),s=\"color\",r={...QS(Di(\"menu-value\"),o,(t=>{e.onAction({value:t})}),n,s,gx.CLOSE_ON_EXECUTE,e.select.getOr(T),t.shared.providers),markers:Ex(s),movement:eC(n,s),showMenuRole:!1};return{type:\"widget\",data:{value:Di(\"widget-id\")},dom:{tag:\"div\",classes:[\"tox-fancymenuitem\"]},autofocus:!0,components:[$w.widget(cf.sketch(r))]}}},iC=e=>({type:\"separator\",dom:{tag:\"div\",classes:[hx,\"tox-collection__group-heading\"]},components:e.text.map(dl).toArray()});var lC=Object.freeze({__proto__:null,getCoupled:(e,t,o,n)=>o.getOrCreate(e,t,n),getExistingCoupled:(e,t,o,n)=>o.getExisting(e,t,n)}),cC=[as(\"others\",Xn(ln.value,Ln()))],dC=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,o)=>{if(0===re(t.others).length)throw new Error(\"Cannot find any known coupled components\");return fe(e,o)},o=y({});return la({readState:o,getExisting:(e,o,n)=>t(o,n).orThunk((()=>(fe(o.others,n).getOrDie(\"No information found for coupled component: \"+n),A.none()))),getOrCreate:(o,n,s)=>t(n,s).getOrThunk((()=>{const t=fe(n.others,s).getOrDie(\"No information found for coupled component: \"+s)(o),r=o.getSystem().build(t);return e[s]=r,r}))})}});const uC=ua({fields:cC,name:\"coupling\",apis:lC,state:dC}),mC=e=>{let t=A.none(),o=[];const n=e=>{s()?r(e):o.push(e)},s=()=>t.isSome(),r=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{s()||(t=A.some(e),L(o,r),o=[])})),{get:n,map:e=>mC((t=>{n((o=>{t(e(o))}))})),isReady:s}},gC={nu:mC,pure:e=>mC((t=>{t(e)}))},pC=e=>{setTimeout((()=>{throw e}),0)},hC=e=>{const t=t=>{e().then(t,pC)};return{map:t=>hC((()=>e().then(t))),bind:t=>hC((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>hC((()=>e().then((()=>t.toPromise())))),toLazy:()=>gC.nu(t),toCached:()=>{let t=null;return hC((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},fC=e=>hC((()=>new Promise(e))),bC=e=>hC((()=>Promise.resolve(e))),vC=y(\"sink\"),xC=y(ym({name:vC(),overrides:y({dom:{tag:\"div\"},behaviours:ca([Qd.config({useFixed:E})]),events:Hr([Yr(Js()),Yr($s()),Yr(tr())])})})),yC=(e,t)=>{const o=e.getHotspot(t).getOr(t),n=\"hotspot\",s=e.getAnchorOverrides();return e.layouts.fold((()=>({type:n,hotspot:o,overrides:s})),(e=>({type:n,hotspot:o,overrides:s,layouts:e})))},wC=(e,t,o,n,s,r,a)=>{const i=((e,t,o,n,s,r,a)=>{const i=((e,t,o)=>(0,e.fetch)(o).map(t))(e,t,n),l=kC(n,e);return i.map((t=>t.bind((t=>{const i=t.menus[t.primary];return A.from(i).each((t=>{e.listRole.each((e=>{t.role=e}))})),A.from(vf.sketch({...r.menu(),uid:Vi(\"\"),data:t,highlightOnOpen:a,onOpenMenu:(e,t)=>{const n=l().getOrDie();Qd.position(n,t,{anchor:o}),ku.decloak(s)},onOpenSubmenu:(e,t,o)=>{const n=l().getOrDie();Qd.position(n,o,{anchor:{type:\"submenu\",item:t}}),ku.decloak(s)},onRepositionMenu:(e,t,n)=>{const s=l().getOrDie();Qd.position(s,t,{anchor:o}),L(n,(e=>{Qd.position(s,e.triggeredMenu,{anchor:{type:\"submenu\",item:e.triggeringItem}})}))},onEscape:()=>(Bh.focus(n),ku.close(s),A.some(!0))}))}))))})(e,t,yC(e,o),o,n,s,a);return i.map((e=>(e.fold((()=>{ku.isOpen(n)&&ku.close(n)}),(e=>{ku.cloak(n),ku.open(n,e),r(n)})),n)))},SC=(e,t,o,n,s,r,a)=>(ku.close(n),bC(n)),CC=(e,t,o,n,s,r)=>{const a=uC.getCoupled(o,\"sandbox\");return(ku.isOpen(a)?SC:wC)(e,t,o,a,n,s,r)},kC=(e,t)=>e.getSystem().getByUid(t.uid+\"-\"+vC()).map((e=>()=>ln.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>ln.error(new Error(\"No internal sink is specified, nor could an external sink be found\"))),(t=>()=>t(e))))),OC=e=>{ku.getState(e).each((e=>{vf.repositionMenus(e)}))},_C=(e,t,o)=>{const n=El(),s=kC(t,e);return{dom:{tag:\"div\",classes:e.sandboxClasses,attributes:{id:n.id}},behaviours:Xu(e.sandboxBehaviours,[$u.config({store:{mode:\"memory\",initialValue:t}}),ku.config({onOpen:(s,r)=>{const a=yC(e,t);n.link(t.element),e.matchWidth&&((e,t,o)=>{const n=Jm.getCurrent(t).getOr(t),s=Kt(e.element);o?Mt(n.element,\"min-width\",s+\"px\"):((e,t)=>{Xt.set(e,t)})(n.element,s)})(a.hotspot,r,e.useMinWidth),e.onOpen(a,s,r),void 0!==o&&void 0!==o.onOpen&&o.onOpen(s,r)},onClose:(e,r)=>{n.unlink(t.element),s().getOr(r).element.dom.dispatchEvent(new window.FocusEvent(\"focusout\")),void 0!==o&&void 0!==o.onClose&&o.onClose(e,r)},isPartOf:(e,o,n)=>Al(o,n)||Al(t,n),getAttachPoint:()=>s().getOrDie()}),Jm.config({find:e=>ku.getState(e).bind((e=>Jm.getCurrent(e)))}),dc.config({channels:{...Au({isExtraPart:T}),...Du({doReposition:OC})}})])}},TC=e=>{const t=uC.getCoupled(e,\"sandbox\");OC(t)},EC=()=>[ws(\"sandboxClasses\",[]),Yu(\"sandboxBehaviours\",[Jm,dc,ku,$u])],AC=y([rs(\"dom\"),rs(\"fetch\"),bi(\"onOpen\"),vi(\"onExecute\"),ws(\"getHotspot\",A.some),ws(\"getAnchorOverrides\",y({})),Jc(),ju(\"dropdownBehaviours\",[Hh,uC,bh,Bh]),rs(\"toggleClass\"),ws(\"eventOrder\",{}),gs(\"lazySink\"),ws(\"matchWidth\",!1),ws(\"useMinWidth\",!1),gs(\"role\"),gs(\"listRole\")].concat(EC())),MC=y([xm({schema:[pi(),ws(\"fakeFocus\",!1)],name:\"menu\",defaults:e=>({onExecute:e.onExecute})}),xC()]),DC=qm({name:\"Dropdown\",configFields:AC(),partFields:MC(),factory:(e,t,o,n)=>{const s=e=>{ku.getState(e).each((e=>{vf.highlightPrimary(e)}))},r=(t,o,s)=>CC(e,w,t,n,o,s),a={expand:e=>{Hh.isOn(e)||r(e,b,ff.HighlightNone).get(b)},open:e=>{Hh.isOn(e)||r(e,b,ff.HighlightMenuAndItem).get(b)},refetch:t=>uC.getExistingCoupled(t,\"sandbox\").fold((()=>r(t,b,ff.HighlightMenuAndItem).map(b)),(o=>wC(e,w,t,o,n,b,ff.HighlightMenuAndItem).map(b))),isOpen:Hh.isOn,close:e=>{Hh.isOn(e)&&r(e,b,ff.HighlightMenuAndItem).get(b)},repositionMenus:e=>{Hh.isOn(e)&&TC(e)}},i=(e,t)=>(Nr(e),A.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:qu(e.dropdownBehaviours,[Hh.config({toggleClass:e.toggleClass,aria:{mode:\"expanded\"}}),uC.config({others:{sandbox:t=>_C(e,t,{onOpen:()=>Hh.on(t),onClose:()=>Hh.off(t)})}}),bh.config({mode:\"special\",onSpace:i,onEnter:i,onDown:(e,t)=>{if(DC.isOpen(e)){const t=uC.getCoupled(e,\"sandbox\");s(t)}else DC.open(e);return A.some(!0)},onEscape:(e,t)=>DC.isOpen(e)?(DC.close(e),A.some(!0)):A.none()}),Bh.config({})]),events:Wh(A.some((e=>{r(e,s,ff.HighlightMenuAndItem).get(b)}))),eventOrder:{...e.eventOrder,[mr()]:[\"disabling\",\"toggling\",\"alloy.base.behaviour\"]},apis:a,domModification:{attributes:{\"aria-haspopup\":e.listRole.getOr(\"true\"),...e.role.fold((()=>({})),(e=>({role:e}))),...\"button\"===e.dom.tag?{type:fe(e.dom,\"attributes\").bind((e=>fe(e,\"type\"))).getOr(\"button\")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),BC=(e,t,o)=>{Px(e).each((e=>{var n;((e,t)=>{Ot(t.element,\"id\").each((t=>St(e.element,\"aria-activedescendant\",t)))})(e,o),(Ca((n=t).element,$x)?A.some(n.element):Ol(n.element,\".\"+$x)).each((t=>{Ot(t,\"id\").each((t=>St(e.element,\"aria-controls\",t)))}))})),St(o.element,\"aria-selected\",\"true\")},FC=(e,t,o)=>{St(o.element,\"aria-selected\",\"false\")},IC=e=>uC.getExistingCoupled(e,\"sandbox\").bind(Hx).map(Ux).map((e=>e.fetchPattern)).getOr(\"\");var RC;!function(e){e[e.ContentFocus=0]=\"ContentFocus\",e[e.UiFocus=1]=\"UiFocus\"}(RC||(RC={}));const NC=(e,t,o,n,s)=>{const r=o.shared.providers,a=e=>s?{...e,shortcut:A.none(),icon:e.text.isSome()?A.none():e.icon}:e;switch(e.type){case\"menuitem\":return(i=e,Kn(\"menuitem\",lw,i)).fold(Jx,(e=>A.some(((e,t,o,n=!0)=>{const s=Hw({presets:\"normal\",iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,caret:A.none(),checkMark:A.none(),shortcutContent:e.shortcut},o,n);return Mw({context:e.context,data:Dw(e),getApi:e=>({isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},s,t,o)})(a(e),t,r,n))));case\"nestedmenuitem\":return(e=>Kn(\"nestedmenuitem\",cw,e))(e).fold(Jx,(e=>A.some(((e,t,o,n=!0,s=!1)=>{const r=s?(a=o.icons,Fw(\"chevron-down\",a,[wx])):(e=>Fw(\"chevron-right\",e,[wx]))(o.icons);var a;const i=Hw({presets:\"normal\",iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,caret:A.some(r),checkMark:A.none(),shortcutContent:e.shortcut},o,n);return Mw({context:e.context,data:Dw(e),getApi:e=>({isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t),setIconFill:(t,o)=>{Ol(e.element,`svg path[class=\"${t}\"], rect[class=\"${t}\"]`).each((e=>{St(e,\"fill\",o)}))},setTooltip:t=>{const n=o.translate(t);St(e.element,\"aria-label\",n)}}),enabled:e.enabled,onAction:b,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},i,t,o)})(a(e),t,r,n,s))));case\"togglemenuitem\":return(e=>Kn(\"togglemenuitem\",dw,e))(e).fold(Jx,(e=>A.some(((e,t,o,n=!0)=>{const s=Hw({iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,checkMark:A.some(Vw(o.icons)),caret:A.none(),shortcutContent:e.shortcut,presets:\"normal\",meta:e.meta},o,n);return xn(Mw({context:e.context,data:Dw(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Hh.set(e,t)},isActive:()=>Hh.isOn(e),isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},s,t,o),{toggling:{toggleClass:vx,toggleOnExecute:!1,selected:e.active},role:e.role.getOrUndefined()})})(a(e),t,r,n))));case\"separator\":return(e=>Kn(\"separatormenuitem\",Ay,e))(e).fold(Jx,(e=>A.some(iC(e))));case\"fancymenuitem\":return(e=>Kn(\"fancymenuitem\",iw,e))(e).fold(Jx,(e=>((e,t)=>fe(aC,e.fancytype).map((o=>o(e,t))))(e,o)));default:return console.error(\"Unknown item in general menu\",e),A.none()}var i},zC=(e,t,o,n,s,r,a)=>{const i=1===n,l=!i||Kx(e);return ye(V(e,(e=>{switch(e.type){case\"separator\":return(n=e,Kn(\"Autocompleter.Separator\",Ay,n)).fold(Jx,(e=>A.some(iC(e))));case\"cardmenuitem\":return(e=>Kn(\"cardmenuitem\",ow,e))(e).fold(Jx,(e=>A.some(((e,t,o,n)=>{const s={dom:Lw(e.label),optComponents:[A.some({dom:{tag:\"div\",classes:[Cx,kx]},components:Ww(e.items,n)})]};return Mw({context:\"mode:design\",data:Dw({text:A.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>{ug.set(e,!t),L(kd(e.element,\"*\"),(o=>{e.getSystem().getByDom(o).each((e=>{e.hasConfigured(ug)&&ug.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(n.itemBehaviours).getOr([])},s,t,o.providers)})({...e,onAction:t=>{e.onAction(t),o(e.value,e.meta)}},s,r,{itemBehaviours:Pw(e.meta,r,A.none()),cardText:{matchText:t,highlightOn:a}}))));default:return(e=>Kn(\"Autocompleter.Item\",My,e))(e).fold(Jx,(e=>A.some(((e,t,o,n,s,r,a,i=!0)=>{const l=Hw({presets:n,textContent:A.none(),htmlContent:o?e.text.map((e=>Uw(e,t))):A.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:e.value},a.providers,i,e.icon),c=e.text.filter((e=>!o&&\"\"!==e));return Mw({context:\"mode:design\",data:Dw(e),enabled:e.enabled,getApi:y({}),onAction:t=>s(e.value,e.meta),onSetup:y(b),triggersSubmenu:!1,itemBehaviours:Pw(e,a,c)},l,r,a.providers)})(e,t,i,\"normal\",o,s,r,l))))}var n})))},VC=(e,t,o,n,s,r)=>{const a=Kx(t),i=ye(V(t,(e=>{const t=e=>NC(e,o,n,(e=>s?!be(e,\"text\"):a)(e),s);return\"nestedmenuitem\"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>\"no-search\"===e.searchMode?{menuType:\"normal\"}:{menuType:\"searchable\",searchMode:e})(r);return(s?Qx:Zx)(e,a,i,1,l)},LC=e=>vf.singleData(e.value,e),HC=e=>md(ze(e.startContainer),e.startOffset,ze(e.endContainer),e.endOffset),PC=(e,t)=>{const o=Di(\"autocompleter\"),n=en(!1),s=en(!1),r=nn(),a=pl(xf.sketch({dom:{tag:\"div\",classes:[\"tox-autocompleter\"],attributes:{id:o}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ca([Th(\"dismissAutocompleter\",[Wr(Or(),(()=>u())),Wr(Br(),((t,o)=>{Ot(o.event.target,\"id\").each((t=>St(ze(e.getBody()),\"aria-activedescendant\",t)))}))])]),lazySink:t.getSink})),i=()=>xf.isOpen(a),l=s.get,c=()=>{if(i()){xf.hide(a),e.dom.remove(o,!1);const t=ze(e.getBody());Ot(t,\"aria-owns\").filter((e=>e===o)).each((()=>{Tt(t,\"aria-owns\"),Tt(t,\"aria-activedescendant\")}))}},d=()=>xf.getContent(a).bind((e=>ee(e.components(),0))),u=()=>e.execCommand(\"mceAutocompleterClose\"),m=s=>{const i=(o=>{const s=se(o,(e=>A.from(e.columns))).getOr(1);return q(o,(o=>{const a=o.items;return zC(a,o.matchText,((t,s)=>{const a={hide:()=>u(),reload:t=>{c(),e.execCommand(\"mceAutocompleterReload\",!1,{fetchOptions:t})}};e.execCommand(\"mceAutocompleterRefreshActiveRange\"),r.get().each((e=>{n.set(!0),o.onAction(a,e,t,s),n.set(!1)}))}),s,gx.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))})(s);i.length>0?(((t,o)=>{const n=se(t,(e=>A.from(e.columns))).getOr(1);xf.showMenuAt(a,{anchor:{type:\"selection\",getSelection:()=>r.get().map(HC),root:ze(e.getBody())}},((e,t,o,n)=>{const s=eC(t,n),r=Ex(n);return{data:LC({...e,movement:s,menuBehaviours:mw(\"auto\"!==t?[]:[Jr(((e,t)=>{uw(e,4,r.item).each((({numColumns:t,numRows:o})=>{bh.setGridSize(e,o,t)}))}))])}),menu:{markers:Ex(n),fakeFocus:o===RC.ContentFocus}}})(Zx(\"autocompleter-value\",!0,o,n,{menuType:\"normal\"}),n,RC.ContentFocus,\"normal\")),d().each(wg.highlightFirst)})(s,i),St(ze(e.getBody()),\"aria-owns\",o),e.inline||g()):c()},g=()=>{e.dom.get(o)&&e.dom.remove(o,!1);const t=e.getDoc().documentElement,n=e.selection.getNode(),s=(e=>ni(e,!0))(a.element);Dt(s,{border:\"0\",clip:\"rect(0 0 0 0)\",height:\"1px\",margin:\"-1px\",overflow:\"hidden\",padding:\"0\",position:\"absolute\",width:\"1px\",top:`${n.offsetTop}px`,left:`${n.offsetLeft}px`}),e.dom.add(t,s.dom),Ol(s,'[role=\"menu\"]').each((e=>{Vt(e,\"position\"),Vt(e,\"max-height\")}))};e.on(\"AutocompleterStart\",(({lookupData:e})=>{s.set(!0),n.set(!1),m(e)})),e.on(\"AutocompleterUpdate\",(({lookupData:e})=>m(e))),e.on(\"AutocompleterUpdateActiveRange\",(({range:e})=>r.set(e))),e.on(\"AutocompleterEnd\",(()=>{c(),s.set(!1),n.set(!1),r.clear()}));((e,t)=>{const o=(e,t)=>{Rr(e,Js(),{raw:t})},n=()=>e.getMenu().bind(wg.getHighlighted);t.on(\"keydown\",(t=>{const s=t.which;e.isActive()&&(e.isMenuOpen()?13===s?(n().each(Nr),t.preventDefault()):40===s?(n().fold((()=>{e.getMenu().each(wg.highlightFirst)}),(e=>{o(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==s&&38!==s&&39!==s||n().each((e=>{o(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==s&&38!==s&&40!==s||e.cancelIfNecessary())})),t.on(\"NodeChange\",(()=>{!e.isActive()||e.isProcessingAction()||t.queryCommandState(\"mceAutoCompleterInRange\")||e.cancelIfNecessary()}))})({cancelIfNecessary:u,isMenuOpen:i,isActive:l,isProcessingAction:n.get,getMenu:d},e)},UC=(e,t,o)=>_l(e,t,o).isSome(),WC=(e,t)=>{let o=null;return{cancel:()=>{null!==o&&(clearTimeout(o),o=null)},schedule:(...n)=>{o=setTimeout((()=>{e.apply(null,n),o=null}),t)}}},$C=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?A.none():A.some(t.touches[0])},jC=(e,t)=>{const o={stopBackspace:!0,...t},n=(e=>{const t=nn(),o=en(!1),n=WC((t=>{e.triggerEvent(hr(),t),o.set(!0)}),400),s=Bs([{key:Hs(),value:e=>($C(e).each((s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.schedule(e),o.set(!1),t.set(r)})),A.none())},{key:Ps(),value:e=>(n.cancel(),$C(e).each((e=>{t.on((o=>{((e,t)=>{const o=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return o>5||n>5})(e,o)&&t.clear()}))})),A.none())},{key:Us(),value:s=>(n.cancel(),t.get().filter((e=>Ze(e.target,s.target))).map((t=>o.get()?(s.prevent(),!1):e.triggerEvent(pr(),s))))}]);return{fireIfReady:(e,t)=>fe(s,t).bind((t=>t(e)))}})(o),s=V([\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\",\"gesturestart\",\"mousedown\",\"mouseup\",\"mouseover\",\"mousemove\",\"mouseout\",\"click\"].concat([\"selectstart\",\"input\",\"contextmenu\",\"change\",\"transitionend\",\"transitioncancel\",\"drag\",\"dragstart\",\"dragend\",\"dragenter\",\"dragleave\",\"dragover\",\"drop\",\"keyup\"]),(t=>Dc(e,t,(e=>{n.fireIfReady(e,t).each((t=>{t&&e.kill()})),o.triggerEvent(t,e)&&e.kill()})))),r=nn(),a=Dc(e,\"paste\",(e=>{n.fireIfReady(e,\"paste\").each((t=>{t&&e.kill()})),o.triggerEvent(\"paste\",e)&&e.kill(),r.set(setTimeout((()=>{o.triggerEvent(dr(),e)}),0))})),i=Dc(e,\"keydown\",(e=>{o.triggerEvent(\"keydown\",e)?e.kill():o.stopBackspace&&(e=>e.raw.which===Sg[0]&&!I([\"input\",\"textarea\"],Ue(e.target))&&!UC(e.target,'[contenteditable=\"true\"]'))(e)&&e.prevent()})),l=Dc(e,\"focusin\",(e=>{o.triggerEvent(\"focusin\",e)&&e.kill()})),c=nn(),d=Dc(e,\"focusout\",(e=>{o.triggerEvent(\"focusout\",e)&&e.kill(),c.set(setTimeout((()=>{o.triggerEvent(cr(),e)}),0))}));return{unbind:()=>{L(s,(e=>{e.unbind()})),i.unbind(),l.unbind(),d.unbind(),a.unbind(),r.on(clearTimeout),c.on(clearTimeout)}}},GC=(e,t)=>{const o=fe(e,\"target\").getOr(t);return en(o)},qC=Ms([{stopped:[]},{resume:[\"element\"]},{complete:[]}]),YC=(e,t,o,n,s,r)=>{const a=e(t,n),i=((e,t)=>{const o=en(!1),n=en(!1);return{stop:()=>{o.set(!0)},cut:()=>{n.set(!0)},isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}})(o,s);return a.fold((()=>(r.logEventNoHandlers(t,n),qC.complete())),(e=>{const o=e.descHandler;return qi(o)(i),i.isStopped()?(r.logEventStopped(t,e.element,o.purpose),qC.stopped()):i.isCut()?(r.logEventCut(t,e.element,o.purpose),qC.complete()):rt(e.element).fold((()=>(r.logNoParent(t,e.element,o.purpose),qC.complete())),(n=>(r.logEventResponse(t,e.element,o.purpose),qC.resume(n))))}))},XC=(e,t,o,n,s,r)=>YC(e,t,o,n,s,r).fold(E,(n=>XC(e,t,o,n,s,r)),T),KC=(e,t,o,n,s)=>{const r=GC(o,n);return XC(e,t,o,n,r,s)},JC=()=>{const e=(()=>{const e={};return{registerId:(t,o,n)=>{ie(n,((n,s)=>{const r=void 0!==e[s]?e[s]:{};r[o]=((e,t)=>({cHandler:C.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(n,t),e[s]=r}))},unregisterId:t=>{ie(e,((e,o)=>{be(e,t)&&delete e[t]}))},filterByType:t=>fe(e,t).map((e=>ge(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,o,n)=>fe(e,o).bind((e=>Rs(n,(t=>((e,t)=>zi(t).bind((t=>fe(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},o=o=>{zi(o.element).each((o=>{delete t[o],e.unregisterId(o)}))};return{find:(t,o,n)=>e.find(t,o,n),filter:t=>e.filterByType(t),register:n=>{const s=(e=>{const t=e.element;return zi(t).getOrThunk((()=>((e,t)=>{const o=Di(Ii+\"uid-\");return Ni(t,o),o})(0,e.element)))})(n);ve(t,s)&&((e,n)=>{const s=t[n];if(s!==e)throw new Error('The tagId \"'+n+'\" is already used by: '+si(s.element)+\"\\nCannot use it for: \"+si(e.element)+\"\\nThe conflicting element is\"+(vt(s.element)?\" \":\" not \")+\"already in the DOM\");o(e)})(n,s);const r=[n];e.registerId(r,s,n.events),t[s]=n},unregister:o,getById:e=>fe(t,e)}},QC=Gm({name:\"Container\",factory:e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:\"div\",attributes:{role:\"presentation\",...t},...o},components:e.components,behaviours:Gu(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ws(\"components\",[]),ju(\"containerBehaviours\",[]),ws(\"events\",{}),ws(\"domModification\",{}),ws(\"eventOrder\",{})]}),ZC=e=>{const t=t=>rt(e.element).fold(E,(e=>Ze(t,e))),o=JC(),n=(e,n)=>o.find(t,e,n),s=jC(e.element,{triggerEvent:(e,t)=>li(e,t.target,(o=>((e,t,o,n)=>KC(e,t,o,o.target,n))(n,e,t,o)))}),r={debugInfo:y(\"real\"),triggerEvent:(e,t,o)=>{li(e,t,(s=>KC(n,e,o,t,s)))},triggerFocus:(e,t)=>{zi(e).fold((()=>{mc(e)}),(o=>{li(lr(),e,(o=>(((e,t,o,n,s)=>{const r=GC(o,n);YC(e,t,o,n,r,s)})(n,lr(),{originator:t,kill:b,prevent:b,target:e},e,o),!1)))}))},triggerEscape:(e,t)=>{r.triggerEvent(\"keydown\",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>h(e),build:pl,buildOrPatch:gl,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{a(e)},removeFromWorld:e=>{i(e)},broadcast:e=>{u(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:E},a=e=>{e.connect(r),Ge(e.element)||(o.register(e),L(e.components(),a),r.triggerEvent(vr(),e.element,{target:e.element}))},i=e=>{Ge(e.element)||(L(e.components(),i),o.unregister(e)),e.disconnect()},l=t=>{ru(e,t)},c=e=>{lu(e)},d=e=>{const t=o.filter(ur());L(t,(t=>{const o=t.descHandler;qi(o)(e)}))},u=e=>{d({universal:!0,data:e})},m=(e,t)=>{d({universal:!1,channels:e,data:t})},g=(e,t)=>((e,t)=>{const o=(e=>{const t=en(!1);return{stop:()=>{t.set(!0)},cut:b,isStopped:t.get,isCut:T,event:e,setSource:O(\"Cannot set source of a broadcasted event\"),getSource:O(\"Cannot get source of a broadcasted event\")}})(t);return L(e,(e=>{const t=e.descHandler;qi(t)(o)})),o.isStopped()})(o.filter(e),t),p=e=>o.getById(e).fold((()=>ln.error(new Error('Could not find component with uid: \"'+e+'\" in system.'))),ln.value),h=e=>{const t=zi(e).getOr(\"not found\");return p(t)};return a(e),{root:e,element:e.element,destroy:()=>{s.unbind(),Ho(e.element)},add:l,remove:c,getByUid:p,getByDom:h,addToWorld:a,removeFromWorld:i,broadcast:u,broadcastOn:m,broadcastEvent:g}},ek=y([ws(\"prefix\",\"form-field\"),ju(\"fieldBehaviours\",[Jm,$u])]),tk=y([ym({schema:[rs(\"dom\")],name:\"label\"}),ym({factory:{sketch:e=>({uid:e.uid,dom:{tag:\"span\",styles:{display:\"none\"},attributes:{\"aria-hidden\":\"true\"},innerHtml:e.text}})},schema:[rs(\"text\")],name:\"aria-descriptor\"}),vm({factory:{sketch:e=>{const t=((e,t)=>{const o={};return ie(e,((e,n)=>{I(t,n)||(o[n]=e)})),o})(e,[\"factory\"]);return e.factory.sketch(t)}},schema:[rs(\"factory\")],name:\"field\"})]),ok=qm({name:\"FormField\",configFields:ek(),partFields:tk(),factory:(e,t,o,n)=>{const s=qu(e.fieldBehaviours,[Jm.config({find:t=>Bm(t,e,\"field\")}),$u.config({store:{mode:\"manual\",getValue:e=>Jm.getCurrent(e).bind($u.getValue),setValue:(e,t)=>{Jm.getCurrent(e).each((e=>{$u.setValue(e,t)}))}}})]),r=Hr([Jr(((t,o)=>{const n=Im(t,e,[\"label\",\"field\",\"aria-descriptor\"]);n.field().each((t=>{const o=Di(e.prefix);n.label().each((e=>{St(e.element,\"for\",o),St(t.element,\"id\",o)})),n[\"aria-descriptor\"]().each((o=>{const n=Di(e.prefix);St(o.element,\"id\",n),St(t.element,\"aria-describedby\",n)}))}))}))]),a={getField:t=>Bm(t,e,\"field\"),getLabel:t=>Bm(t,e,\"label\")};return{uid:e.uid,dom:e.dom,components:t,behaviours:s,events:r,apis:a}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var nk=tinymce.util.Tools.resolve(\"tinymce.html.Entities\");const sk=(e,t,o,n)=>{const s=rk(e,t,o,n);return ok.sketch(s)},rk=(e,t,o,n)=>({dom:ak(o),components:e.toArray().concat([t]),fieldBehaviours:ca(n)}),ak=e=>({tag:\"div\",classes:[\"tox-form__group\"].concat(e)}),ik=(e,t)=>ok.parts.label({dom:{tag:\"label\",classes:[\"tox-label\"]},components:[dl(t.translate(e))]}),lk=Di(\"form-component-change\"),ck=Di(\"form-component-input\"),dk=Di(\"form-close\"),uk=Di(\"form-cancel\"),mk=Di(\"form-action\"),gk=Di(\"form-submit\"),pk=Di(\"form-block\"),hk=Di(\"form-unblock\"),fk=Di(\"form-tabchange\"),bk=Di(\"form-resize\"),vk=(e,t,o)=>{const n=e.label.map((e=>ik(e,t))),s=t.icons(),r=e=>(t,o)=>{_l(o.event.target,\"[data-collection-item-value]\").each((n=>{e(t,o,n,kt(n,\"data-collection-item-value\"))}))},a=r(((o,n,s,r)=>{n.stop(),t.checkUiComponentContext(\"mode:design\").shouldDisable||t.isDisabled()||Rr(o,mk,{name:e.name,value:r})})),i=[Wr(Ys(),r(((e,t,o)=>{mc(o,!0)}))),Wr(tr(),a),Wr(pr(),a),Wr(Xs(),r(((e,t,o)=>{Ol(e.element,\".\"+Sx).each((e=>{Sa(e,Sx)})),ya(o,Sx)}))),Wr(Ks(),r((e=>{Ol(e.element,\".\"+Sx).each((e=>{Sa(e,Sx),gc(e)}))}))),ea(r(((t,o,n,s)=>{Rr(t,mk,{name:e.name,value:s})})))],l=(e,t)=>V(kd(e.element,\".tox-collection__item\"),t),c=ok.parts.field({dom:{tag:\"div\",classes:[\"tox-collection\"].concat(1!==e.columns?[\"tox-collection--grid\"]:[\"tox-collection--list\"])},components:[],factory:{sketch:w},behaviours:ca([ug.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{l(e,(e=>{ya(e,\"tox-collection__item--state-disabled\"),St(e,\"aria-disabled\",!0)}))},onEnabled:e=>{l(e,(e=>{Sa(e,\"tox-collection__item--state-disabled\"),Tt(e,\"aria-disabled\")}))}}),_w((()=>t.checkUiComponentContext(e.context))),_h.config({}),Zb.config({...t.tooltips.getConfig({tooltipText:\"\",onShow:e=>{Ol(e.element,\".\"+Sx+\"[data-mce-tooltip]\").each((o=>{Ot(o,\"data-mce-tooltip\").each((o=>{Zb.setComponents(e,t.tooltips.getComponents({tooltipText:o}))}))}))}}),mode:\"children-keyboard-focus\",anchor:e=>({type:\"node\",node:Ol(e.element,\".\"+Sx).orThunk((()=>Qe(\".tox-collection__item\"))),root:e.element,layouts:{onLtr:y([Zl,Ql,Yl,Kl,Xl,Jl]),onRtl:y([Zl,Ql,Yl,Kl,Xl,Jl])},bubble:Wc(0,-2,{})})}),$u.config({store:{mode:\"memory\",initialValue:o.getOr([])},onSetValue:(o,n)=>{((o,n)=>{const r=t.checkUiComponentContext(\"mode:design\").shouldDisable||t.isDisabled()?\" tox-collection__item--state-disabled\":\"\",a=V(n,(t=>{const o=Zv.translate(t.text),n=1===e.columns?`<div class=\"tox-collection__item-label\">${o}</div>`:\"\",a=`<div class=\"tox-collection__item-icon\">${(e=>{var t;return null!==(t=s[e])&&void 0!==t?t:e})(t.icon)}</div>`,i={_:\" \",\" - \":\" \",\"-\":\" \"},l=o.replace(/\\_| \\- |\\-/g,(e=>i[e]));return`<div data-mce-tooltip=\"${l}\" class=\"tox-collection__item${r}\" tabindex=\"-1\" data-collection-item-value=\"${nk.encodeAllRaw(t.value)}\" aria-label=\"${l}\">${a}${n}</div>`})),i=\"auto\"!==e.columns&&e.columns>1?z(a,e.columns):[a],l=V(i,(e=>`<div class=\"tox-collection__group\">${e.join(\"\")}</div>`));oi(o.element,l.join(\"\"))})(o,n),\"auto\"===e.columns&&uw(o,5,\"tox-collection__item\").each((({numRows:e,numColumns:t})=>{bh.setGridSize(o,e,t)})),Ir(o,bk)}}),Ub.config({}),bh.config((d=e.columns,1===d?{mode:\"menu\",moveOnTab:!1,selector:\".tox-collection__item\"}:\"auto\"===d?{mode:\"flatgrid\",selector:\".tox-collection__item\",initSize:{numColumns:1,numRows:1}}:{mode:\"matrix\",selectors:{row:\".tox-collection__group\",cell:`.${hx}`}})),Th(\"collection-events\",i)]),eventOrder:{[mr()]:[\"disabling\",\"alloy.base.behaviour\",\"collection-events\"],[Xs()]:[\"collection-events\",\"tooltipping\"]}});var d;return sk(n,c,[\"tox-form__group--collection\"],[])},xk=[\"input\",\"textarea\"],yk=e=>{const t=Ue(e);return I(xk,t)},wk=(e,t)=>{const o=t.getRoot(e).getOr(e.element);Sa(o,t.invalidClass),t.notify.each((t=>{yk(e.element)&&St(e.element,\"aria-invalid\",!1),t.getContainer(e).each((e=>{oi(e,t.validHtml)})),t.onValid(e)}))},Sk=(e,t,o,n)=>{const s=t.getRoot(e).getOr(e.element);ya(s,t.invalidClass),t.notify.each((t=>{yk(e.element)&&St(e.element,\"aria-invalid\",!0),t.getContainer(e).each((e=>{oi(e,n)})),t.onInvalid(e,n)}))},Ck=(e,t,o)=>t.validator.fold((()=>bC(ln.value(!0))),(t=>t.validate(e))),kk=(e,t,o)=>(t.notify.each((t=>{t.onValidate(e)})),Ck(e,t).map((o=>e.getSystem().isConnected()?o.fold((o=>(Sk(e,t,0,o),ln.error(o))),(o=>(wk(e,t),ln.value(o)))):ln.error(\"No longer in system\"))));var Ok=Object.freeze({__proto__:null,markValid:wk,markInvalid:Sk,query:Ck,run:kk,isInvalid:(e,t)=>{const o=t.getRoot(e).getOr(e.element);return Ca(o,t.invalidClass)}}),_k=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Hr([Wr(t.onEvent,(t=>{kk(t,e).get(w)}))].concat(t.validateOnLoad?[Jr((t=>{kk(t,e).get(b)}))]:[])))).getOr({})}),Tk=[rs(\"invalidClass\"),ws(\"getRoot\",A.none),ys(\"notify\",[ws(\"aria\",\"alert\"),ws(\"getContainer\",A.none),ws(\"validHtml\",\"\"),bi(\"onValid\"),bi(\"onInvalid\"),bi(\"onValidate\")]),ys(\"validator\",[rs(\"validate\"),ws(\"onEvent\",\"input\"),ws(\"validateOnLoad\",!0)])];const Ek=ua({fields:Tk,name:\"invalidating\",active:_k,apis:Ok,extra:{validation:e=>t=>{const o=$u.getValue(t);return bC(e(o))}}}),Ak=ua({fields:[],name:\"unselecting\",active:Object.freeze({__proto__:null,events:()=>Hr([Pr(rr(),E)]),exhibit:()=>na({styles:{\"-webkit-user-select\":\"none\",\"user-select\":\"none\",\"-ms-user-select\":\"none\",\"-moz-user-select\":\"-moz-none\"},attributes:{unselectable:\"on\"}})})}),Mk=Di(\"color-input-change\"),Dk=Di(\"color-swatch-change\"),Bk=Di(\"color-picker-cancel\"),Fk=ym({schema:[rs(\"dom\")],name:\"label\"}),Ik=e=>ym({name:e+\"-edge\",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Hr([$r(Hs(),((t,o,n)=>e(t,n)),[t]),$r($s(),((t,o,n)=>e(t,n)),[t]),$r(js(),((t,o,n)=>{n.mouseIsDown.get()&&e(t,n)}),[t])])})))}),Rk=Ik(\"top-left\"),Nk=Ik(\"top\"),zk=Ik(\"top-right\"),Vk=Ik(\"right\"),Lk=Ik(\"bottom-right\"),Hk=Ik(\"bottom\"),Pk=Ik(\"bottom-left\"),Uk=Ik(\"left\"),Wk=vm({name:\"thumb\",defaults:y({dom:{styles:{position:\"absolute\"}}}),overrides:e=>({events:Hr([Gr(Hs(),e,\"spectrum\"),Gr(Ps(),e,\"spectrum\"),Gr(Us(),e,\"spectrum\"),Gr($s(),e,\"spectrum\"),Gr(js(),e,\"spectrum\"),Gr(qs(),e,\"spectrum\")])})}),$k=e=>zg(e.event);var jk=[Fk,Uk,Vk,Nk,Hk,Rk,zk,Pk,Lk,Wk,vm({schema:[ns(\"mouseIsDown\",(()=>en(!1)))],name:\"spectrum\",overrides:e=>{const t=e.model.manager,o=(o,n)=>t.getValueFromEvent(n).map((n=>t.setValueFrom(o,e,n)));return{behaviours:ca([bh.config({mode:\"special\",onLeft:(o,n)=>t.onLeft(o,e,$k(n)),onRight:(o,n)=>t.onRight(o,e,$k(n)),onUp:(o,n)=>t.onUp(o,e,$k(n)),onDown:(o,n)=>t.onDown(o,e,$k(n))}),Ub.config({}),Bh.config({})]),events:Hr([Wr(Hs(),o),Wr(Ps(),o),Wr($s(),o),Wr(js(),((t,n)=>{e.mouseIsDown.get()&&o(t,n)}))])}}})];const Gk=y(\"slider.change.value\"),qk=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf(\"touch\"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?A.some(e.touches[0]).map((e=>jt(e.clientX,e.clientY))):A.none()}{const e=t;return void 0!==e.clientX?A.some(e).map((e=>jt(e.clientX,e.clientY))):A.none()}},Yk=e=>e.model.minX,Xk=e=>e.model.minY,Kk=e=>e.model.minX-1,Jk=e=>e.model.minY-1,Qk=e=>e.model.maxX,Zk=e=>e.model.maxY,eO=e=>e.model.maxX+1,tO=e=>e.model.maxY+1,oO=(e,t,o)=>t(e)-o(e),nO=e=>oO(e,Qk,Yk),sO=e=>oO(e,Zk,Xk),rO=e=>nO(e)/2,aO=e=>sO(e)/2,iO=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,lO=e=>e.snapToGrid,cO=e=>e.snapStart,dO=e=>e.rounded,uO=(e,t)=>void 0!==e[t+\"-edge\"],mO=e=>uO(e,\"left\"),gO=e=>uO(e,\"right\"),pO=e=>uO(e,\"top\"),hO=e=>uO(e,\"bottom\"),fO=e=>e.model.value.get(),bO=(e,t)=>({x:e,y:t}),vO=(e,t)=>{Rr(e,Gk(),{value:t})},xO=(e,t,o,n)=>e<t?e:e>o?o:e===t?t-1:Math.max(t,e-n),yO=(e,t,o,n)=>e>o?e:e<t?t:e===o?o+1:Math.min(o,e+n),wO=(e,t,o)=>Math.max(t,Math.min(o,e)),SO=e=>{const{min:t,max:o,range:n,value:s,step:r,snap:a,snapStart:i,rounded:l,hasMinEdge:c,hasMaxEdge:d,minBound:u,maxBound:m,screenRange:g}=e,p=c?t-1:t,h=d?o+1:o;if(s<u)return p;if(s>m)return h;{const e=((e,t,o)=>Math.min(o,Math.max(e,t))-t)(s,u,m),c=wO(e/g*n+t,p,h);return a&&c>=t&&c<=o?((e,t,o,n,s)=>s.fold((()=>{const s=e-t,r=Math.round(s/n)*n;return wO(t+r,t-1,o+1)}),(t=>{const s=(e-t)%n,r=Math.round(s/n),a=Math.floor((e-t)/n),i=Math.floor((o-t)/n),l=t+Math.min(i,a+r)*n;return Math.max(t,l)})))(c,t,o,r,i):l?Math.round(c):c}},CO=e=>{const{min:t,max:o,range:n,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:i,maxOffset:l,centerMinEdge:c,centerMaxEdge:d}=e;return s<t?r?0:c:s>o?a?i:d:(s-t)/n*l},kO=\"top\",OO=\"right\",_O=\"bottom\",TO=\"left\",EO=e=>e.element.dom.getBoundingClientRect(),AO=(e,t)=>e[t],MO=e=>{const t=EO(e);return AO(t,TO)},DO=e=>{const t=EO(e);return AO(t,OO)},BO=e=>{const t=EO(e);return AO(t,kO)},FO=e=>{const t=EO(e);return AO(t,_O)},IO=e=>{const t=EO(e);return AO(t,\"width\")},RO=e=>{const t=EO(e);return AO(t,\"height\")},NO=(e,t,o)=>(e+t)/2-o,zO=(e,t)=>{const o=EO(e),n=EO(t),s=AO(o,TO),r=AO(o,OO),a=AO(n,TO);return NO(s,r,a)},VO=(e,t)=>{const o=EO(e),n=EO(t),s=AO(o,kO),r=AO(o,_O),a=AO(n,kO);return NO(s,r,a)},LO=(e,t)=>{Rr(e,Gk(),{value:t})},HO=(e,t,o)=>{const n={min:Yk(t),max:Qk(t),range:nO(t),value:o,step:iO(t),snap:lO(t),snapStart:cO(t),rounded:dO(t),hasMinEdge:mO(t),hasMaxEdge:gO(t),minBound:MO(e),maxBound:DO(e),screenRange:IO(e)};return SO(n)},PO=e=>(t,o,n)=>((e,t,o,n)=>{const s=(e>0?yO:xO)(fO(o),Yk(o),Qk(o),iO(o,n));return LO(t,s),A.some(s)})(e,t,o,n).map(E),UO=(e,t,o,n,s,r)=>{const a=((e,t,o,n,s)=>{const r=IO(e),a=n.bind((t=>A.some(zO(t,e)))).getOr(0),i=s.bind((t=>A.some(zO(t,e)))).getOr(r),l={min:Yk(t),max:Qk(t),range:nO(t),value:o,hasMinEdge:mO(t),hasMaxEdge:gO(t),minBound:MO(e),minOffset:0,maxBound:DO(e),maxOffset:r,centerMinEdge:a,centerMaxEdge:i};return CO(l)})(t,r,o,n,s);return MO(t)-MO(e)+a},WO=PO(-1),$O=PO(1),jO=A.none,GO=A.none,qO={\"top-left\":A.none(),top:A.none(),\"top-right\":A.none(),right:A.some(((e,t)=>{vO(e,eO(t))})),\"bottom-right\":A.none(),bottom:A.none(),\"bottom-left\":A.none(),left:A.some(((e,t)=>{vO(e,Kk(t))}))};var YO=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{const n=HO(e,t,o);return LO(e,n),n},setToMin:(e,t)=>{const o=Yk(t);LO(e,o)},setToMax:(e,t)=>{const o=Qk(t);LO(e,o)},findValueOfOffset:HO,getValueFromEvent:e=>qk(e).map((e=>e.left)),findPositionOfValue:UO,setPositionFromValue:(e,t,o,n)=>{const s=fO(o),r=UO(e,n.getSpectrum(e),s,n.getLeftEdge(e),n.getRightEdge(e),o),a=Kt(t.element)/2;Mt(t.element,\"left\",r-a+\"px\")},onLeft:WO,onRight:$O,onUp:jO,onDown:GO,edgeActions:qO});const XO=(e,t)=>{Rr(e,Gk(),{value:t})},KO=(e,t,o)=>{const n={min:Xk(t),max:Zk(t),range:sO(t),value:o,step:iO(t),snap:lO(t),snapStart:cO(t),rounded:dO(t),hasMinEdge:pO(t),hasMaxEdge:hO(t),minBound:BO(e),maxBound:FO(e),screenRange:RO(e)};return SO(n)},JO=e=>(t,o,n)=>((e,t,o,n)=>{const s=(e>0?yO:xO)(fO(o),Xk(o),Zk(o),iO(o,n));return XO(t,s),A.some(s)})(e,t,o,n).map(E),QO=(e,t,o,n,s,r)=>{const a=((e,t,o,n,s)=>{const r=RO(e),a=n.bind((t=>A.some(VO(t,e)))).getOr(0),i=s.bind((t=>A.some(VO(t,e)))).getOr(r),l={min:Xk(t),max:Zk(t),range:sO(t),value:o,hasMinEdge:pO(t),hasMaxEdge:hO(t),minBound:BO(e),minOffset:0,maxBound:FO(e),maxOffset:r,centerMinEdge:a,centerMaxEdge:i};return CO(l)})(t,r,o,n,s);return BO(t)-BO(e)+a},ZO=A.none,e_=A.none,t_=JO(-1),o_=JO(1),n_={\"top-left\":A.none(),top:A.some(((e,t)=>{vO(e,Jk(t))})),\"top-right\":A.none(),right:A.none(),\"bottom-right\":A.none(),bottom:A.some(((e,t)=>{vO(e,tO(t))})),\"bottom-left\":A.none(),left:A.none()};var s_=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{const n=KO(e,t,o);return XO(e,n),n},setToMin:(e,t)=>{const o=Xk(t);XO(e,o)},setToMax:(e,t)=>{const o=Zk(t);XO(e,o)},findValueOfOffset:KO,getValueFromEvent:e=>qk(e).map((e=>e.top)),findPositionOfValue:QO,setPositionFromValue:(e,t,o,n)=>{const s=fO(o),r=QO(e,n.getSpectrum(e),s,n.getTopEdge(e),n.getBottomEdge(e),o),a=Ut(t.element)/2;Mt(t.element,\"top\",r-a+\"px\")},onLeft:ZO,onRight:e_,onUp:t_,onDown:o_,edgeActions:n_});const r_=(e,t)=>{Rr(e,Gk(),{value:t})},a_=(e,t)=>({x:e,y:t}),i_=(e,t)=>(o,n,s)=>((e,t,o,n,s)=>{const r=e>0?yO:xO,a=t?fO(n).x:r(fO(n).x,Yk(n),Qk(n),iO(n,s)),i=t?r(fO(n).y,Xk(n),Zk(n),iO(n,s)):fO(n).y;return r_(o,a_(a,i)),A.some(a)})(e,t,o,n,s).map(E),l_=i_(-1,!1),c_=i_(1,!1),d_=i_(-1,!0),u_=i_(1,!0),m_={\"top-left\":A.some(((e,t)=>{vO(e,bO(Kk(t),Jk(t)))})),top:A.some(((e,t)=>{vO(e,bO(rO(t),Jk(t)))})),\"top-right\":A.some(((e,t)=>{vO(e,bO(eO(t),Jk(t)))})),right:A.some(((e,t)=>{vO(e,bO(eO(t),aO(t)))})),\"bottom-right\":A.some(((e,t)=>{vO(e,bO(eO(t),tO(t)))})),bottom:A.some(((e,t)=>{vO(e,bO(rO(t),tO(t)))})),\"bottom-left\":A.some(((e,t)=>{vO(e,bO(Kk(t),tO(t)))})),left:A.some(((e,t)=>{vO(e,bO(Kk(t),aO(t)))}))};var g_=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{const n=HO(e,t,o.left),s=KO(e,t,o.top),r=a_(n,s);return r_(e,r),r},setToMin:(e,t)=>{const o=Yk(t),n=Xk(t);r_(e,a_(o,n))},setToMax:(e,t)=>{const o=Qk(t),n=Zk(t);r_(e,a_(o,n))},getValueFromEvent:e=>qk(e),setPositionFromValue:(e,t,o,n)=>{const s=fO(o),r=UO(e,n.getSpectrum(e),s.x,n.getLeftEdge(e),n.getRightEdge(e),o),a=QO(e,n.getSpectrum(e),s.y,n.getTopEdge(e),n.getBottomEdge(e),o),i=Kt(t.element)/2,l=Ut(t.element)/2;Mt(t.element,\"left\",r-i+\"px\"),Mt(t.element,\"top\",a-l+\"px\")},onLeft:l_,onRight:c_,onUp:d_,onDown:u_,edgeActions:m_});const p_=qm({name:\"Slider\",configFields:[ws(\"stepSize\",1),ws(\"speedMultiplier\",10),ws(\"onChange\",b),ws(\"onChoose\",b),ws(\"onInit\",b),ws(\"onDragStart\",b),ws(\"onDragEnd\",b),ws(\"snapToGrid\",!1),ws(\"rounded\",!0),gs(\"snapStart\"),as(\"model\",es(\"mode\",{x:[ws(\"minX\",0),ws(\"maxX\",100),ns(\"value\",(e=>en(e.mode.minX))),rs(\"getInitialValue\"),wi(\"manager\",YO)],y:[ws(\"minY\",0),ws(\"maxY\",100),ns(\"value\",(e=>en(e.mode.minY))),rs(\"getInitialValue\"),wi(\"manager\",s_)],xy:[ws(\"minX\",0),ws(\"maxX\",100),ws(\"minY\",0),ws(\"maxY\",100),ns(\"value\",(e=>en({x:e.mode.minX,y:e.mode.minY}))),rs(\"getInitialValue\"),wi(\"manager\",g_)]})),ju(\"sliderBehaviours\",[bh,$u]),ns(\"mouseIsDown\",(()=>en(!1)))],partFields:jk,factory:(e,t,o,n)=>{const s=t=>Fm(t,e,\"thumb\"),r=t=>Fm(t,e,\"spectrum\"),a=t=>Bm(t,e,\"left-edge\"),i=t=>Bm(t,e,\"right-edge\"),l=t=>Bm(t,e,\"top-edge\"),c=t=>Bm(t,e,\"bottom-edge\"),d=e.model,u=d.manager,m=(t,o)=>{u.setPositionFromValue(t,o,e,{getLeftEdge:a,getRightEdge:i,getTopEdge:l,getBottomEdge:c,getSpectrum:r})},g=(e,t)=>{d.value.set(t);const o=s(e);m(e,o)},p=t=>{const o=e.mouseIsDown.get();e.mouseIsDown.set(!1),o&&Bm(t,e,\"thumb\").each((o=>{const n=d.value.get();e.onChoose(t,o,n)}))},h=(t,o)=>{o.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,s(t))},f=(t,o)=>{o.stop(),e.onDragEnd(t,s(t)),p(t)},b=t=>{Bm(t,e,\"spectrum\").map(bh.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:qu(e.sliderBehaviours,[bh.config({mode:\"special\",focusIn:b}),$u.config({store:{mode:\"manual\",getValue:e=>d.value.get(),setValue:g}}),dc.config({channels:{[Tu()]:{onReceive:p}}})]),events:Hr([Wr(Gk(),((t,o)=>{((t,o)=>{g(t,o);const n=s(t);e.onChange(t,n,o),A.some(!0)})(t,o.event.value)})),Jr(((t,o)=>{const n=d.getInitialValue();d.value.set(n);const a=s(t);m(t,a);const i=r(t);e.onInit(t,a,i,d.value.get())})),Wr(Hs(),h),Wr(Us(),f),Wr($s(),((e,t)=>{b(e),h(e,t)})),Wr(qs(),f)]),apis:{resetToMin:t=>{u.setToMin(t,e)},resetToMax:t=>{u.setToMax(t,e)},setValue:g,refresh:m},domModification:{styles:{position:\"relative\"}}}},apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),h_=Di(\"rgb-hex-update\"),f_=Di(\"slider-update\"),b_=Di(\"palette-update\"),v_=\"form\",x_=[ju(\"formBehaviours\",[$u])],y_=e=>\"<alloy.field.\"+e+\">\",w_=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:qu(e.formBehaviours,[$u.config({store:{mode:\"manual\",getValue:t=>{const o=Rm(t,e);return le(o,((e,t)=>e().bind((e=>{return o=Jm.getCurrent(e),n=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+si(e.element)),o.fold((()=>ln.error(n)),ln.value);var o,n})).map($u.getValue)))},setValue:(t,o)=>{ie(o,((o,n)=>{Bm(t,e,n).each((e=>{Jm.getCurrent(e).each((e=>{$u.setValue(e,o)}))}))}))}}})]),apis:{getField:(t,o)=>Bm(t,e,o).bind(Jm.getCurrent)}}),S_={getField:ji(((e,t,o)=>e.getField(t,o))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,o)=>(e.push(t),Tm(v_,y_(t),o)),record:y(e)}})(),o=e(t),n=t.record(),s=V(n,(e=>vm({name:e,pname:y_(e)})));return Um(v_,x_,s,w_,o)}},C_=Di(\"valid-input\"),k_=Di(\"invalid-input\"),O_=Di(\"validating-input\"),__=\"colorcustom.rgb.\",T_={isEnabled:E,setEnabled:b,immediatelyShow:b,immediatelyHide:b},E_=(e,t,o,n,s,r)=>{const a=(e,t)=>{const o=t.get();e!==o.isEnabled()&&(o.setEnabled(e),e?o.immediatelyShow():o.immediatelyHide())},i=(o,n,s)=>Ek.config({invalidClass:t(\"invalid\"),notify:{onValidate:e=>{Rr(e,O_,{type:o})},onValid:e=>{a(!1,s),Rr(e,C_,{type:o,value:$u.getValue(e)})},onInvalid:e=>{a(!0,s),Rr(e,k_,{type:o,value:$u.getValue(e)})}},validator:{validate:t=>{const o=$u.getValue(t),s=n(o)?ln.value(!0):ln.error(e(\"aria.input.invalid\"));return bC(s)},validateOnLoad:!1}}),l=(o,n,a,l,c)=>{const d=en(T_),u=e(__+\"range\"),m=ok.parts.label({dom:{tag:\"label\"},components:[dl(a)]}),g=ok.parts.field({data:c,factory:Nx,inputAttributes:{type:\"text\",\"aria-label\":l,...\"hex\"===n?{\"aria-live\":\"polite\"}:{}},inputClasses:[t(\"textfield\")],inputBehaviours:ca([i(n,o,d),Ub.config({}),Zb.config({...s({tooltipText:\"\",onSetup:e=>{d.set({isEnabled:()=>Zb.isEnabled(e),setEnabled:t=>Zb.setEnabled(e,t),immediatelyShow:()=>Zb.immediateOpenClose(e,!0),immediatelyHide:()=>Zb.immediateOpenClose(e,!1)}),Zb.setEnabled(e,!1)},onShow:(o,s)=>{Zb.setComponents(o,[{dom:{tag:\"p\",classes:[t(\"rgb-warning-note\")]},components:[dl(e(\"hex\"===n?\"colorcustom.rgb.invalidHex\":\"colorcustom.rgb.invalid\"))]}])}})})]),onSetValue:e=>{Ek.isInvalid(e)&&Ek.run(e).get(b)}}),p=Di(\"aria-invalid\"),h=Lb(r(\"invalid\",A.some(p),\"warning\")),f=[m,g,Lb({dom:{tag:\"div\",classes:[t(\"invalid-icon\")]},components:[h.asSpec()]}).asSpec()],v=\"hex\"!==n?[ok.parts[\"aria-descriptor\"]({text:u})]:[],x=f.concat(v);return{dom:{tag:\"div\",attributes:{role:\"presentation\"},classes:[t(\"rgb-container\")]},components:x}},c=(e,t)=>{const o=t.red,n=t.green,s=t.blue;$u.setValue(e,{red:o,green:n,blue:s})},d=Lb({dom:{tag:\"div\",classes:[t(\"rgba-preview\")],styles:{\"background-color\":\"white\"},attributes:{role:\"presentation\"}}}),u=(e,t)=>{d.getOpt(e).each((e=>{Mt(e.element,\"background-color\",\"#\"+t.value)}))},m=Gm({factory:()=>{const s={red:en(A.some(255)),green:en(A.some(255)),blue:en(A.some(255)),hex:en(A.some(\"ffffff\"))},r=e=>s[e].get(),a=(e,t)=>{s[e].set(t)},i=e=>{const t=e.red,o=e.green,n=e.blue;a(\"red\",A.some(t)),a(\"green\",A.some(o)),a(\"blue\",A.some(n))},m=(e,t)=>{const o=t.event;\"hex\"!==o.type?a(o.type,A.none()):n(e)},g=(e,t)=>{const n=t.event;(e=>\"hex\"===e.type)(n)?((e,t)=>{o(e);const n=jw(t);a(\"hex\",A.some(n.value));const s=aS(n);c(e,s),i(s),Rr(e,h_,{hex:n}),u(e,n)})(e,n.value):((e,t,o)=>{const n=parseInt(o,10);a(t,A.some(n)),r(\"red\").bind((e=>r(\"green\").bind((t=>r(\"blue\").map((o=>nS(e,t,o,1))))))).each((t=>{const o=((e,t)=>{const o=Jw(t);return S_.getField(e,\"hex\").each((t=>{Bh.isFocused(t)||$u.setValue(e,{hex:o.value})})),o})(e,t);Rr(e,h_,{hex:o}),u(e,o)}))})(e,n.type,n.value)},p=t=>({label:e(__+t+\".label\"),description:e(__+t+\".description\")}),h=p(\"red\"),f=p(\"green\"),b=p(\"blue\"),v=p(\"hex\");return xn(S_.sketch((o=>({dom:{tag:\"form\",classes:[t(\"rgb-form\")],attributes:{\"aria-label\":e(\"aria.color.picker\")}},components:[o.field(\"red\",ok.sketch(l(sS,\"red\",h.label,h.description,255))),o.field(\"green\",ok.sketch(l(sS,\"green\",f.label,f.description,255))),o.field(\"blue\",ok.sketch(l(sS,\"blue\",b.label,b.description,255))),o.field(\"hex\",ok.sketch(l(Yw,\"hex\",v.label,v.description,\"ffffff\"))),d.asSpec()],formBehaviours:ca([Ek.config({invalidClass:t(\"form-invalid\")}),Th(\"rgb-form-events\",[Wr(C_,g),Wr(k_,m),Wr(O_,m)])])}))),{apis:{updateHex:(e,t)=>{$u.setValue(e,{hex:t.value}),((e,t)=>{const o=aS(t);c(e,o),i(o)})(e,t),u(e,t)}}})},name:\"RgbForm\",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}});return m},A_=(e,t,o,n)=>{const s=Gm({name:\"ColourPicker\",configFields:[rs(\"dom\"),ws(\"onValidHex\",b),ws(\"onInvalidHex\",b)],factory:s=>{const r=E_(e,t,s.onValidHex,s.onInvalidHex,o,n),a=((e,t)=>{const o=p_.parts.spectrum({dom:{tag:\"canvas\",attributes:{role:\"presentation\"},classes:[t(\"sv-palette-spectrum\")]}}),n=p_.parts.thumb({dom:{tag:\"div\",attributes:{role:\"presentation\"},classes:[t(\"sv-palette-thumb\")],innerHtml:`<div class=${t(\"sv-palette-inner-thumb\")} role=\"presentation\"></div>`}}),s=(e,t)=>{const{width:o,height:n}=e,s=e.getContext(\"2d\");if(null===s)return;s.fillStyle=t,s.fillRect(0,0,o,n);const r=s.createLinearGradient(0,0,o,0);r.addColorStop(0,\"rgba(255,255,255,1)\"),r.addColorStop(1,\"rgba(255,255,255,0)\"),s.fillStyle=r,s.fillRect(0,0,o,n);const a=s.createLinearGradient(0,0,0,n);a.addColorStop(0,\"rgba(0,0,0,0)\"),a.addColorStop(1,\"rgba(0,0,0,1)\"),s.fillStyle=a,s.fillRect(0,0,o,n)};return Gm({factory:r=>{const a=y({x:0,y:0}),i=ca([Jm.config({find:A.some}),Bh.config({})]);return p_.sketch({dom:{tag:\"div\",attributes:{role:\"slider\",\"aria-valuetext\":e([\"Saturation {0}%, Brightness {1}%\",0,0])},classes:[t(\"sv-palette\")]},model:{mode:\"xy\",getInitialValue:a},rounded:!1,components:[o,n],onChange:(t,o,n)=>{h(n)||St(t.element,\"aria-valuetext\",e([\"Saturation {0}%, Brightness {1}%\",Math.floor(n.x),Math.floor(100-n.y)])),Rr(t,b_,{value:n})},onInit:(e,t,o,n)=>{s(o.element.dom,cS(dS))},sliderBehaviours:i})},name:\"SaturationBrightnessPalette\",configFields:[],apis:{setHue:(e,t,o)=>{((e,t)=>{const o=e.components()[0].element.dom,n=OS(t,100,100),r=rS(n);s(o,cS(r))})(t,o)},setThumb:(t,o,n)=>{((t,o)=>{const n=_S(aS(o));p_.setValue(t,{x:n.saturation,y:100-n.value}),St(t.element,\"aria-valuetext\",e([\"Saturation {0}%, Brightness {1}%\",n.saturation,n.value]))})(o,n)}},extraApis:{}})})(e,t),i={paletteRgba:en(dS),paletteHue:en(0)},l=Lb(((e,t)=>{const o=p_.parts.spectrum({dom:{tag:\"div\",classes:[t(\"hue-slider-spectrum\")],attributes:{role:\"presentation\"}}}),n=p_.parts.thumb({dom:{tag:\"div\",classes:[t(\"hue-slider-thumb\")],attributes:{role:\"presentation\"}}});return p_.sketch({dom:{tag:\"div\",classes:[t(\"hue-slider\")],attributes:{role:\"slider\",\"aria-valuemin\":0,\"aria-valuemax\":360,\"aria-valuenow\":120}},rounded:!1,model:{mode:\"y\",getInitialValue:y(0)},components:[o,n],sliderBehaviours:ca([Bh.config({})]),onChange:(e,t,o)=>{St(e.element,\"aria-valuenow\",Math.floor(360-3.6*o)),Rr(e,f_,{value:o})}})})(0,t)),c=Lb(a.sketch({})),d=Lb(r.sketch({})),u=(e,t,o)=>{c.getOpt(e).each((e=>{a.setHue(e,o)}))},m=(e,t)=>{d.getOpt(e).each((e=>{r.updateHex(e,t)}))},g=(e,t,o)=>{l.getOpt(e).each((e=>{p_.setValue(e,(e=>100-e/360*100)(o))}))},p=(e,t)=>{c.getOpt(e).each((e=>{a.setThumb(e,t)}))},f=(e,t,o,n)=>{((e,t)=>{const o=aS(e);i.paletteRgba.set(o),i.paletteHue.set(t)})(t,o),L(n,(n=>{n(e,t,o)}))};return{uid:s.uid,dom:s.dom,components:[c.asSpec(),l.asSpec(),d.asSpec()],behaviours:ca([Th(\"colour-picker-events\",[Wr(h_,(()=>{const e=[u,g,p];return(t,o)=>{const n=o.event.hex,s=(e=>_S(aS(e)))(n);f(t,n,s.hue,e)}})()),Wr(b_,(()=>{const e=[m];return(t,o)=>{const n=o.event.value,s=i.paletteHue.get(),r=OS(s,n.x,100-n.y),a=TS(r);f(t,a,s,e)}})()),Wr(f_,(()=>{const e=[u,m];return(t,o)=>{const n=(e=>(100-e)/100*360)(o.event.value),s=i.paletteRgba.get(),r=_S(s),a=OS(n,r.saturation,r.value),l=TS(a);f(t,l,n,e)}})())]),Jm.config({find:e=>d.getOpt(e)}),bh.config({mode:\"acyclic\"})])}}});return s},M_=()=>Jm.config({find:A.some}),D_=e=>Jm.config({find:t=>ct(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),B_=In([ws(\"preprocess\",w),ws(\"postprocess\",w)]),F_=(e,t)=>{const o=Qn(\"RepresentingConfigs.memento processors\",B_,t);return $u.config({store:{mode:\"manual\",getValue:t=>{const n=e.get(t),s=$u.getValue(n);return o.postprocess(s)},setValue:(t,n)=>{const s=o.preprocess(n),r=e.get(t);$u.setValue(r,s)}}})},I_=(e,t,o)=>$u.config({store:{mode:\"manual\",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:o}}),R_=(e,t,o)=>I_(e,(e=>t(e.element)),((e,t)=>o(e.element,t))),N_=e=>$u.config({store:{mode:\"memory\",initialValue:e}}),z_={\"colorcustom.rgb.red.label\":\"R\",\"colorcustom.rgb.red.description\":\"Red channel\",\"colorcustom.rgb.green.label\":\"G\",\"colorcustom.rgb.green.description\":\"Green channel\",\"colorcustom.rgb.blue.label\":\"B\",\"colorcustom.rgb.blue.description\":\"Blue channel\",\"colorcustom.rgb.hex.label\":\"#\",\"colorcustom.rgb.hex.description\":\"Hex color code\",\"colorcustom.rgb.range\":\"Range 0 to 255\",\"colorcustom.rgb.invalid\":\"Numbers only, 0 to 255\",\"colorcustom.rgb.invalidHex\":\"Hexadecimal only, 000000 to FFFFFF\",\"aria.color.picker\":\"Color Picker\",\"aria.input.invalid\":\"Invalid input\"};var V_=tinymce.util.Tools.resolve(\"tinymce.Resource\");const L_=e=>be(e,\"init\");var H_=tinymce.util.Tools.resolve(\"tinymce.util.Tools\");const P_=Di(\"browse.files.event\"),U_=(e,t,o)=>{const n=(e,t)=>{t.stop()},s=e=>(t,o)=>{L(e,(e=>{e(t,o)}))},r=Lb({dom:{tag:\"input\",attributes:{type:\"file\",accept:\"image/*\"},styles:{display:\"none\"}},behaviours:ca([Th(\"input-file-events\",[Yr(tr()),Yr(pr())])])}),a=e.label.map((e=>ik(e,t))),i=ok.parts.field({factory:zb,dom:{tag:\"button\",styles:{position:\"relative\"},classes:[\"tox-button\",\"tox-button--secondary\"]},components:[dl(t.translate(\"Browse for an image\")),r.asSpec()],action:e=>{r.get(e).element.dom.click()},buttonBehaviours:ca([M_(),N_(o.getOr([])),Ub.config({}),pw((()=>t.checkUiComponentContext(e.context).shouldDisable)),_w((()=>t.checkUiComponentContext(e.context)))])}),l={dom:{tag:\"div\",classes:[\"tox-dropzone-container\"]},behaviours:ca([ug.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable}),_w((()=>t.checkUiComponentContext(e.context))),Hh.config({toggleClass:\"dragenter\",toggleOnExecute:!1}),Th(\"dropzone-events\",[Wr(\"dragenter\",s([n,Hh.toggle])),Wr(\"dragleave\",s([n,Hh.toggle])),Wr(\"dragover\",n),Wr(\"drop\",s([n,(e,t)=>{var o;if(!ug.isDisabled(e)){const n=t.event.raw;Rr(e,P_,{files:null===(o=n.dataTransfer)||void 0===o?void 0:o.files})}}])),Wr(er(),((e,t)=>{const o=t.event.raw.target;Rr(e,P_,{files:o.files})}))])]),components:[{dom:{tag:\"div\",classes:[\"tox-dropzone\"],styles:{}},components:[{dom:{tag:\"p\"},components:[dl(t.translate(\"Drop an image here\"))]},i]}]};return sk(a,l,[\"tox-form__group--stretched\"],[Th(\"handle-files\",[Wr(P_,((o,n)=>{ok.getField(o).each((o=>{var s,r;s=o,(r=n.event.files)&&($u.setValue(s,((e,t)=>{const o=H_.explode(t.getOption(\"images_file_types\"));return P(ne(e),(e=>R(o,(t=>Ee(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(r,t)),Rr(s,lk,{name:e.name}))}))}))])])},W_=(e,t)=>{let o=null;const n=()=>{c(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...s)=>{n(),o=setTimeout((()=>{o=null,e.apply(null,s)}),t)}}},$_=Di(\"alloy-fake-before-tabstop\"),j_=Di(\"alloy-fake-after-tabstop\"),G_=e=>({dom:{tag:\"div\",styles:{width:\"1px\",height:\"1px\",outline:\"none\"},attributes:{tabindex:\"0\"},classes:e},behaviours:ca([Bh.config({ignore:!0}),Ub.config({})])}),q_=(e,t)=>({dom:{tag:\"div\",classes:[\"tox-navobj\",...e.getOr([])]},components:[G_([$_]),t,G_([j_])],behaviours:ca([D_(1)])}),Y_=(e,t)=>{Rr(e,Js(),{raw:{which:9,shiftKey:t}})},X_=(e,t)=>{const o=t.element;Ca(o,$_)?Y_(e,!0):Ca(o,j_)&&Y_(e,!1)},K_=e=>UC(e,[\".\"+$_,\".\"+j_].join(\",\"),T),J_=Di(\"update-dialog\"),Q_=Di(\"update-title\"),Z_=Di(\"update-body\"),eT=Di(\"update-footer\"),tT=Di(\"body-send-message\"),oT=Di(\"dialog-focus-shifted\"),nT=Mo().browser,sT=nT.isSafari(),rT=nT.isFirefox(),aT=sT||rT,iT=nT.isChromium(),lT=({scrollTop:e,scrollHeight:t,clientHeight:o})=>Math.ceil(e)+o>=t,cT=(e,t)=>e.scrollTo(0,\"bottom\"===t?99999999:t),dT=(e,t,o)=>{const n=e.dom;A.from(n.contentDocument).fold(o,(e=>{let o=0;const s=((e,t)=>{const o=e.body;return A.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!iT&&!sT||g(o)&&(0!==o.scrollTop||Math.abs(o.scrollHeight-o.clientHeight)>1))?o:e.documentElement)})(e,t).map((e=>(o=e.scrollTop,e))).forall(lT),r=()=>{const e=n.contentWindow;g(e)&&(s?cT(e,\"bottom\"):!s&&aT&&0!==o&&cT(e,o))};sT&&n.addEventListener(\"load\",r,{once:!0}),e.open(),e.write(t),e.close(),sT||r()}))},uT=Ce(aT,sT?500:200).map((e=>((e,t)=>{let o=null,n=null;return{cancel:()=>{c(o)||(clearTimeout(o),o=null,n=null)},throttle:(...s)=>{n=s,c(o)&&(o=setTimeout((()=>{const t=n;o=null,n=null,e.apply(null,t)}),t))}}})(dT,e))),mT=Di(\"toolbar.button.execute\"),gT=Di(\"common-button-display-events\"),pT={[mr()]:[\"disabling\",\"alloy.base.behaviour\",\"toggling\",\"toolbar-button-events\",\"tooltipping\"],[Cr()]:[\"toolbar-button-events\",gT],[kr()]:[\"toolbar-button-events\",\"dropdown-events\",\"tooltipping\"],[$s()]:[\"focusing\",\"alloy.base.behaviour\",gT]},hT=e=>Mt(e.element,\"width\",Ft(e.element,\"width\")),fT=(e,t,o)=>lx(e,{tag:\"span\",classes:[\"tox-icon\",\"tox-tbtn__icon-wrap\"],behaviours:o},t),bT=(e,t)=>fT(e,t,[]),vT=(e,t)=>fT(e,t,[_h.config({})]),xT=(e,t,o)=>({dom:{tag:\"span\",classes:[`${t}__select-label`]},components:[dl(o.translate(e))],behaviours:ca([_h.config({})])}),yT=Di(\"update-menu-text\"),wT=Di(\"update-menu-icon\"),ST=(e,t,o,n)=>{const s=en(b),r=e.text.map((e=>Lb(xT(e,t,o.providers)))),a=e.icon.map((e=>Lb(vT(e,o.providers.icons)))),i=(e,t)=>{const o=$u.getValue(e);return Bh.focus(o),Rr(o,\"keydown\",{raw:t.event.raw}),DC.close(o),A.some(!0)},l=e.role.fold((()=>({})),(e=>({role:e}))),c=A.from(e.listRole).map((e=>({listRole:e}))).getOr({}),d=e.ariaLabel.fold((()=>({})),(e=>({\"aria-label\":o.providers.translate(e)}))),u=lx(\"chevron-down\",{tag:\"div\",classes:[`${t}__select-chevron`]},o.providers.icons),m=Di(\"common-button-display-events\"),p=\"dropdown-events\",h=Lb(DC.sketch({...e.uid?{uid:e.uid}:{},...l,...c,dom:{tag:\"button\",classes:[t,`${t}--select`].concat(V(e.classes,(e=>`${t}--${e}`))),attributes:{...d,...g(n)?{\"data-mce-name\":n}:{}}},components:Aw([a.map((e=>e.asSpec())),r.map((e=>e.asSpec())),A.some(u)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,o,n)=>{e.searchable&&(e=>{Px(e).each((e=>Bh.focus(e)))})(n)},dropdownBehaviours:ca([...e.dropdownBehaviours,pw((()=>e.disabled||o.providers.checkUiComponentContext(e.context).shouldDisable)),_w((()=>o.providers.checkUiComponentContext(e.context))),Ak.config({}),_h.config({}),...e.tooltip.map((e=>Zb.config(o.providers.tooltips.getConfig({tooltipText:o.providers.translate(e)})))).toArray(),Th(p,[vw(e,s),xw(e,s)]),Th(m,[Jr(((t,o)=>{\"listbox\"!==e.listRole&&hT(t)}))]),Th(\"update-dropdown-width-variable\",[Wr(Sr(),((e,t)=>DC.close(e)))]),Th(\"menubutton-update-display-text\",[Wr(yT,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{_h.set(e,[dl(o.providers.translate(t.event.text))])}))})),Wr(wT,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{_h.set(e,[vT(t.event.icon,o.providers.icons)])}))}))])]),eventOrder:xn(pT,{[$s()]:[\"focusing\",\"alloy.base.behaviour\",\"item-type-events\",\"normal-dropdown-events\"],[Cr()]:[\"toolbar-button-events\",Zb.name(),p,m]}),sandboxBehaviours:ca([bh.config({mode:\"special\",onLeft:i,onRight:i}),Th(\"dropdown-sandbox-events\",[Wr(zx,((e,t)=>{(e=>{const t=$u.getValue(e),o=Hx(e).map(Ux);DC.refetch(t).get((()=>{const e=uC.getCoupled(t,\"sandbox\");o.each((t=>Hx(e).each((e=>((e,t)=>{$u.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),Wr(Vx,((e,t)=>{((e,t)=>{(e=>ku.getState(e).bind(wg.getHighlighted).bind(wg.getHighlighted))(e).each((o=>{((e,t,o,n)=>{const s={...n,target:t};e.getSystem().triggerEvent(o,t,s)})(e,o.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:o.getSink,toggleClass:`${t}--active`,parts:{menu:{...Dx(0,e.columns,e.presets),fakeFocus:e.searchable,...\"listbox\"===e.listRole?{}:{onHighlightItem:BC,onCollapseMenu:(e,t,o)=>{wg.getHighlighted(o).each((t=>{BC(e,o,t)}))},onDehighlightItem:FC}}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{Vc()(e,t-10)}}),fetch:t=>fC(C(e.fetch,t))}));return h.asSpec()},CT=e=>\"separator\"===e.type,kT={type:\"separator\"},OT=(e,t)=>{const o=((e,t)=>{const o=W(e,((e,o)=>(e=>r(e))(o)?\"\"===o?e:\"|\"===o?e.length>0&&!CT(e[e.length-1])?e.concat([kT]):e:be(t,o.toLowerCase())?e.concat([t[o.toLowerCase()]]):e:e.concat([o])),[]);return o.length>0&&CT(o[o.length-1])&&o.pop(),o})(r(e)?e.split(\" \"):e,t);return U(o,((e,o)=>{if((e=>be(e,\"getSubmenuItems\"))(o)){const n=(e=>{const t=fe(e,\"value\").getOrThunk((()=>Di(\"generated-menu-item\")));return xn({value:t},e)})(o),s=((e,t)=>{const o=e.getSubmenuItems(),n=OT(o,t);return{item:e,menus:xn(n.menus,{[e.value]:n.items}),expansions:xn(n.expansions,{[e.value]:e.value})}})(n,t);return{menus:xn(e.menus,s.menus),items:[s.item,...e.items],expansions:xn(e.expansions,s.expansions)}}return{...e,items:[o,...e.items]}}),{menus:{},expansions:{},items:[]})},_T=(e,t,o,n)=>{const s=Di(\"primary-menu\"),r=OT(e,o.shared.providers.menuItems());if(0===r.items.length)return A.none();const a=(e=>e.search.fold((()=>({searchMode:\"no-search\"})),(e=>({searchMode:\"search-with-field\",placeholder:e.placeholder}))))(n),i=VC(s,r.items,t,o,n.isHorizontalMenu,a),l=(e=>e.search.fold((()=>({searchMode:\"no-search\"})),(e=>({searchMode:\"search-with-results\"}))))(n),c=le(r.menus,((e,n)=>VC(n,e,t,o,!1,l))),d=xn(c,Ds(s,i));return A.from(vf.tieredData(s,d,r.expansions))},TT=e=>!be(e,\"items\"),ET=\"data-value\",AT=(e,t,o,n,s)=>V(o,(o=>TT(o)?{type:\"togglemenuitem\",...s?{}:{role:\"option\"},text:o.text,value:o.value,active:o.value===n,onAction:()=>{$u.setValue(e,o.value),Rr(e,lk,{name:t}),Bh.focus(e)}}:{type:\"nestedmenuitem\",text:o.text,getSubmenuItems:()=>AT(e,t,o.items,n,s)})),MT=(e,t)=>se(e,(e=>TT(e)?Ce(e.value===t,e):MT(e.items,t))),DT=Gm({name:\"HtmlSelect\",configFields:[rs(\"options\"),ju(\"selectBehaviours\",[Bh,$u]),ws(\"selectClasses\",[]),ws(\"selectAttributes\",{}),gs(\"data\")],factory:(e,t)=>{const o=V(e.options,(e=>({dom:{tag:\"option\",value:e.value,innerHtml:e.text}}))),n=e.data.map((e=>Ds(\"initialValue\",e))).getOr({});return{uid:e.uid,dom:{tag:\"select\",classes:e.selectClasses,attributes:e.selectAttributes},components:o,behaviours:qu(e.selectBehaviours,[Bh.config({}),$u.config({store:{mode:\"manual\",getValue:e=>tl(e.element),setValue:(t,o)=>{const n=te(e.options);$(e.options,(e=>e.value===o)).isSome()?ol(t.element,o):-1===t.element.dom.selectedIndex&&\"\"===o&&n.each((e=>ol(t.element,e.value)))},...n}})])}}}),BT=y([ws(\"field1Name\",\"field1\"),ws(\"field2Name\",\"field2\"),xi(\"onLockedChange\"),hi([\"lockClass\"]),ws(\"locked\",!1),Yu(\"coupledFieldBehaviours\",[Jm,$u]),Ts(\"onInput\",b)]),FT=(e,t)=>vm({factory:ok,name:e,overrides:e=>({fieldBehaviours:ca([Th(\"coupled-input-behaviour\",[Wr(Zs(),(o=>{((e,t,o)=>Bm(e,t,o).bind(Jm.getCurrent))(o,e,t).each((t=>{Bm(o,e,\"lock\").each((n=>{Hh.isOn(n)&&e.onLockedChange(o,t,n),e.onInput(o)}))}))}))])])})}),IT=y([FT(\"field1\",\"field2\"),FT(\"field2\",\"field1\"),vm({factory:zb,schema:[rs(\"dom\")],name:\"lock\",overrides:e=>({buttonBehaviours:ca([Hh.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:\"pressed\"}})])})})]),RT=qm({name:\"FormCoupledInputs\",configFields:BT(),partFields:IT(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Xu(e.coupledFieldBehaviours,[Jm.config({find:A.some}),$u.config({store:{mode:\"manual\",getValue:t=>{const o=zm(t,e,[\"field1\",\"field2\"]);return{[e.field1Name]:$u.getValue(o.field1()),[e.field2Name]:$u.getValue(o.field2())}},setValue:(t,o)=>{const n=zm(t,e,[\"field1\",\"field2\"]);ve(o,e.field1Name)&&$u.setValue(n.field1(),o[e.field1Name]),ve(o,e.field2Name)&&$u.setValue(n.field2(),o[e.field2Name])}}})]),apis:{getField1:t=>Bm(t,e,\"field1\"),getField2:t=>Bm(t,e,\"field2\"),getLock:t=>Bm(t,e,\"lock\")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),NT=e=>{const t={\"\":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,\"%\":4};let o=e.value.toFixed((n=e.unit)in t?t[n]:1);var n;return-1!==o.indexOf(\".\")&&(o=o.replace(/\\.?0*$/,\"\")),o+e.unit},zT=e=>{const t=/^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),o=t[2];return ln.value({value:e,unit:o})}return ln.error(e)},VT=(e,t)=>{const o={\"\":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},n=e=>be(o,e);return e.unit===t?A.some(e.value):n(e.unit)&&n(t)?o[e.unit]===o[t]?A.some(e.value):A.some(e.value/o[e.unit]*o[t]):A.none()},LT=e=>A.none(),HT=(e,t)=>{const o=zT(e).toOptional(),n=zT(t).toOptional();return we(o,n,((e,t)=>VT(e,t.unit).map((e=>t.value/e)).map((e=>{return o=e,n=t.unit,e=>VT(e,n).map((e=>({value:e*o,unit:n})));var o,n})).getOr(LT))).getOr(LT)},PT=(e,t)=>{const o=e.label.map((e=>ik(e,t))),n=[ug.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable}),_w((()=>t.checkUiComponentContext(e.context))),bh.config({mode:\"execution\",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ir(e,gk),A.some(!0))}),Th(\"textfield-change\",[Wr(Zs(),((t,o)=>{Rr(t,lk,{name:e.name})})),Wr(dr(),((t,o)=>{Rr(t,lk,{name:e.name})}))]),Ub.config({})],s=e.validation.map((e=>Ek.config({getRoot:e=>at(e.element),invalidClass:\"tox-invalid\",validator:{validate:t=>{const o=$u.getValue(t),n=e.validator(o);return bC(!0===n?ln.value(o):ln.error(n))},validateOnLoad:e.validateOnLoad}}))).toArray(),r={...e.placeholder.fold(y({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(y({}),(e=>({inputmode:e}))),\"data-mce-name\":e.name},a=ok.parts.field({tag:!0===e.multiline?\"textarea\":\"input\",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:r,inputClasses:[e.classname],inputBehaviours:ca(G([n,s])),selectOnFocus:!1,factory:Nx}),i=e.multiline?{dom:{tag:\"div\",classes:[\"tox-textarea-wrap\"]},components:[a]}:a,l=(e.flex?[\"tox-form__group--stretched\"]:[]).concat(e.maximized?[\"tox-form-group--maximize\"]:[]),c=[ug.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ok.getField(e).each(ug.disable)},onEnabled:e=>{ok.getField(e).each(ug.enable)}}),_w((()=>t.checkUiComponentContext(e.context)))];return sk(o,i,l,c)},UT=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),WT=e=>e.dimension.property,$T=(e,t)=>e.dimension.getDimension(t),jT=(e,t)=>{const o=UT(e,t);Oa(o,[t.shrinkingClass,t.growingClass])},GT=(e,t)=>{Sa(e.element,t.openClass),ya(e.element,t.closedClass),Mt(e.element,WT(t),\"0px\"),Lt(e.element)},qT=(e,t)=>{Sa(e.element,t.closedClass),ya(e.element,t.openClass),Vt(e.element,WT(t))},YT=(e,t,o,n)=>{o.setCollapsed(),Mt(e.element,WT(t),$T(t,e.element)),jT(e,t),GT(e,t),t.onStartShrink(e),t.onShrunk(e)},XT=(e,t,o,n)=>{const s=n.getOrThunk((()=>$T(t,e.element)));o.setCollapsed(),Mt(e.element,WT(t),s),Lt(e.element);const r=UT(e,t);Sa(r,t.growingClass),ya(r,t.shrinkingClass),GT(e,t),t.onStartShrink(e)},KT=(e,t,o)=>{const n=$T(t,e.element);(\"0px\"===n?YT:XT)(e,t,o,A.some(n))},JT=(e,t,o)=>{const n=UT(e,t),s=Ca(n,t.shrinkingClass),r=$T(t,e.element);qT(e,t);const a=$T(t,e.element);(s?()=>{Mt(e.element,WT(t),r),Lt(e.element)}:()=>{GT(e,t)})(),Sa(n,t.shrinkingClass),ya(n,t.growingClass),qT(e,t),Mt(e.element,WT(t),a),o.setExpanded(),t.onStartGrow(e)},QT=(e,t,o)=>{const n=UT(e,t);return!0===Ca(n,t.growingClass)},ZT=(e,t,o)=>{const n=UT(e,t);return!0===Ca(n,t.shrinkingClass)};var eE=Object.freeze({__proto__:null,refresh:(e,t,o)=>{if(o.isExpanded()){Vt(e.element,WT(t));const o=$T(t,e.element);Mt(e.element,WT(t),o)}},grow:(e,t,o)=>{o.isExpanded()||JT(e,t,o)},shrink:(e,t,o)=>{o.isExpanded()&&KT(e,t,o)},immediateShrink:(e,t,o)=>{o.isExpanded()&&YT(e,t,o)},hasGrown:(e,t,o)=>o.isExpanded(),hasShrunk:(e,t,o)=>o.isCollapsed(),isGrowing:QT,isShrinking:ZT,isTransitioning:(e,t,o)=>QT(e,t)||ZT(e,t),toggleGrow:(e,t,o)=>{(o.isExpanded()?KT:JT)(e,t,o)},disableTransitions:jT,immediateGrow:(e,t,o)=>{o.isExpanded()||(qT(e,t),Mt(e.element,WT(t),$T(t,e.element)),jT(e,t),o.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),tE=Object.freeze({__proto__:null,exhibit:(e,t,o)=>{const n=t.expanded;return na(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Ds(t.dimension.property,\"0px\")})},events:(e,t)=>Hr([Kr(nr(),((o,n)=>{n.event.raw.propertyName===e.dimension.property&&(jT(o,e),t.isExpanded()&&Vt(o.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(o))}))])}),oE=[rs(\"closedClass\"),rs(\"openClass\"),rs(\"shrinkingClass\"),rs(\"growingClass\"),gs(\"getAnimationRoot\"),bi(\"onShrunk\"),bi(\"onStartShrink\"),bi(\"onGrown\"),bi(\"onStartGrow\"),ws(\"expanded\",!1),as(\"dimension\",es(\"property\",{width:[wi(\"property\",\"width\"),wi(\"getDimension\",(e=>Kt(e)+\"px\"))],height:[wi(\"property\",\"height\"),wi(\"getDimension\",(e=>Ut(e)+\"px\"))]}))];const nE=ua({fields:oE,name:\"sliding\",active:tE,apis:eE,state:Object.freeze({__proto__:null,init:e=>{const t=en(e.expanded);return la({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:C(t.set,!1),setExpanded:C(t.set,!0),readState:()=>\"expanded: \"+t.get()})}})}),sE=e=>({isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t),setActive:t=>{const o=e.element;t?(ya(o,\"tox-tbtn--enabled\"),St(o,\"aria-pressed\",!0)):(Sa(o,\"tox-tbtn--enabled\"),Tt(o,\"aria-pressed\"))},isActive:()=>Ca(e.element,\"tox-tbtn--enabled\"),setText:t=>{Rr(e,yT,{text:t})},setIcon:t=>Rr(e,wT,{icon:t})}),rE=(e,t,o,n,s=!0,r)=>ST({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const s={pattern:e.search.isSome()?IC(t):\"\"};e.fetch((t=>{n(_T(t,gx.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:e.search}))}),s,sE(t))},onSetup:e.onSetup,getApi:sE,columns:1,presets:\"normal\",classes:[],dropdownBehaviours:[...s?[Ub.config({})]:[]],context:e.context},t,o.shared,r),aE=(e,t,o)=>{const n=e=>n=>{const s=!n.isActive();n.setActive(s),e.storage.set(s),o.shared.getSink().each((o=>{t().getOpt(o).each((t=>{mc(t.element),Rr(t,mk,{name:e.name,value:e.storage.get()})}))}))},s=e=>t=>{t.setActive(e.storage.get())};return t=>{t(V(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,context:e.context,onAction:n(e),onSetup:s(e)}})))}},iE=e=>({dom:{tag:\"span\",classes:[\"tox-tree__label\"],attributes:{\"aria-label\":e}},components:[dl(e)]}),lE=(e,t,o)=>{e.customStateIcon.each((n=>t.push(uE(n,o.shared.providers.icons,e.customStateIconTooltip.fold((()=>[]),(e=>[Zb.config(o.shared.providers.tooltips.getConfig({tooltipText:e}))])),[\"tox-icon-custom-state\"]))))},cE=Di(\"leaf-label-event-id\"),dE=({leaf:e,onLeafAction:t,visible:o,treeId:n,selectedId:s,backstage:r})=>{const a=e.menu.map((e=>rE(e,\"tox-mbtn\",r,A.none(),o))),i=[iE(e.title)];return lE(e,i,r),a.each((e=>i.push(e))),zb.sketch({dom:{tag:\"div\",classes:[\"tox-tree--leaf__label\",\"tox-trbtn\"].concat(o?[\"tox-tree--leaf__label--visible\"]:[])},components:i,role:\"treeitem\",action:o=>{t(e.id),o.getSystem().broadcastOn([`update-active-item-${n}`],{value:e.id})},eventOrder:{[Js()]:[cE,\"keying\"]},buttonBehaviours:ca([...o?[Ub.config({})]:[],Hh.config({toggleClass:\"tox-trbtn--enabled\",toggleOnExecute:!1,aria:{mode:\"selected\"}}),dc.config({channels:{[`update-active-item-${n}`]:{onReceive:(t,o)=>{(o.value===e.id?Hh.on:Hh.off)(t)}}}}),Th(cE,[Jr(((t,o)=>{s.each((o=>{(o===e.id?Hh.on:Hh.off)(t)}))})),Wr(Js(),((e,t)=>{const o=\"ArrowLeft\"===t.event.raw.code,n=\"ArrowRight\"===t.event.raw.code;o?(Sl(e.element,\".tox-tree--directory\").each((t=>{e.getSystem().getByDom(t).each((e=>{kl(t,\".tox-tree--directory__label\").each((t=>{e.getSystem().getByDom(t).each(Bh.focus)}))}))})),t.stop()):n&&t.stop()}))])])})},uE=(e,t,o,n,s)=>lx(e,{tag:\"span\",classes:[\"tox-tree__icon-wrap\",\"tox-icon\"].concat(n||[]),behaviours:o,attributes:s},t),mE=Di(\"directory-label-event-id\"),gE=({directory:e,visible:t,noChildren:o,backstage:n})=>{const s=e.menu.map((e=>rE(e,\"tox-mbtn\",n,A.none()))),r=[{dom:{tag:\"div\",classes:[\"tox-chevron\"]},components:[(a=n.shared.providers.icons,uE(\"chevron-right\",a,[]))]},iE(e.title)];var a;lE(e,r,n),s.each((e=>{r.push(e)}));const i=t=>{Sl(t.element,\".tox-tree--directory\").each((o=>{t.getSystem().getByDom(o).each((o=>{const n=!Hh.isOn(o);Hh.toggle(o),Rr(t,\"expand-tree-node\",{expanded:n,node:e.id})}))}))};return zb.sketch({dom:{tag:\"div\",classes:[\"tox-tree--directory__label\",\"tox-trbtn\"].concat(t?[\"tox-tree--directory__label--visible\"]:[])},components:r,action:i,eventOrder:{[Js()]:[mE,\"keying\"]},buttonBehaviours:ca([...t?[Ub.config({})]:[],Th(mE,[Wr(Js(),((e,t)=>{const n=\"ArrowRight\"===t.event.raw.code,s=\"ArrowLeft\"===t.event.raw.code;n&&o&&t.stop(),(n||s)&&Sl(e.element,\".tox-tree--directory\").each((o=>{e.getSystem().getByDom(o).each((o=>{!Hh.isOn(o)&&n||Hh.isOn(o)&&s?(i(e),t.stop()):s&&!Hh.isOn(o)&&(Sl(o.element,\".tox-tree--directory\").each((e=>{kl(e,\".tox-tree--directory__label\").each((e=>{o.getSystem().getByDom(e).each(Bh.focus)}))})),t.stop())}))}))}))])])})},pE=({children:e,onLeafAction:t,visible:o,treeId:n,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:\"div\",classes:[\"tox-tree--directory__children\"]},components:e.map((e=>\"leaf\"===e.type?dE({leaf:e,selectedId:r,onLeafAction:t,visible:o,treeId:n,backstage:a}):fE({directory:e,expandedIds:s,selectedId:r,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:a}))),behaviours:ca([nE.config({dimension:{property:\"height\"},closedClass:\"tox-tree--directory__children--closed\",openClass:\"tox-tree--directory__children--open\",growingClass:\"tox-tree--directory__children--growing\",shrinkingClass:\"tox-tree--directory__children--shrinking\",expanded:o}),_h.config({})])}),hE=Di(\"directory-event-id\"),fE=({directory:e,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:s,expandedIds:r,selectedId:a})=>{const{children:i}=e,l=en(r),c=r.includes(e.id);return{dom:{tag:\"div\",classes:[\"tox-tree--directory\"],attributes:{role:\"treeitem\"}},components:[gE({directory:e,visible:o,noChildren:0===e.children.length,backstage:s}),pE({children:i,expandedIds:r,selectedId:a,onLeafAction:t,visible:c,treeId:n,backstage:s})],behaviours:ca([Th(hE,[Jr(((e,t)=>{Hh.set(e,c)})),Wr(\"expand-tree-node\",((e,t)=>{const{expanded:o,node:n}=t.event;l.set(o?[...l.get(),n]:l.get().filter((e=>e!==n)))}))]),Hh.config({...e.children.length>0?{aria:{mode:\"expanded\"}}:{},toggleClass:\"tox-tree--directory--expanded\",onToggled:(e,o)=>{const r=e.components()[1],c=(d=o,i.map((e=>\"leaf\"===e.type?dE({leaf:e,selectedId:a,onLeafAction:t,visible:d,treeId:n,backstage:s}):fE({directory:e,expandedIds:l.get(),selectedId:a,onLeafAction:t,labelTabstopping:d,treeId:n,backstage:s}))));var d;o?nE.grow(r):nE.shrink(r),_h.set(r,c)}})])}},bE=Di(\"tree-event-id\");var vE=Object.freeze({__proto__:null,events:(e,t)=>{const o=e.stream.streams.setup(e,t);return Hr([Wr(e.event,o),Qr((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Wr(e,(()=>t.cancel()))])).getOr([])))}});const xE=e=>{const t=en(null);return la({readState:()=>({timer:null!==t.get()?\"set\":\"unset\"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var yE=Object.freeze({__proto__:null,throttle:xE,init:e=>e.stream.streams.state(e)}),wE=[as(\"stream\",es(\"mode\",{throttle:[rs(\"delay\"),ws(\"stopEvent\",!0),wi(\"streams\",{setup:(e,t)=>{const o=e.stream,n=W_(e.onStream,o.delay);return t.setTimer(n),(e,t)=>{n.throttle(e,t),o.stopEvent&&t.stop()}},state:xE})]})),ws(\"event\",\"input\"),gs(\"cancelEvent\"),xi(\"onStream\")];const SE=ua({fields:wE,name:\"streaming\",active:vE,state:yE}),CE=(e,t,o)=>{const n=$u.getValue(o);$u.setValue(t,n),OE(t)},kE=(e,t)=>{const o=e.element,n=tl(o),s=o.dom;\"number\"!==kt(o,\"type\")&&t(s,n)},OE=e=>{kE(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},_E=y(\"alloy.typeahead.itemexecute\"),TE=y([gs(\"lazySink\"),rs(\"fetch\"),ws(\"minChars\",5),ws(\"responseTime\",1e3),bi(\"onOpen\"),ws(\"getHotspot\",A.some),ws(\"getAnchorOverrides\",y({})),ws(\"layouts\",A.none()),ws(\"eventOrder\",{}),As(\"model\",{},[ws(\"getDisplayText\",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),ws(\"selectsOver\",!0),ws(\"populateFromBrowse\",!0)]),bi(\"onSetValue\"),vi(\"onExecute\"),bi(\"onItemExecute\"),ws(\"inputClasses\",[]),ws(\"inputAttributes\",{}),ws(\"inputStyles\",{}),ws(\"matchWidth\",!0),ws(\"useMinWidth\",!1),ws(\"dismissOnBlur\",!0),hi([\"openClass\"]),gs(\"initialData\"),gs(\"listRole\"),ju(\"typeaheadBehaviours\",[Bh,$u,SE,bh,Hh,uC]),ns(\"lazyTypeaheadComp\",(()=>en(A.none))),ns(\"previewing\",(()=>en(!0)))].concat(Bx()).concat(EC())),EE=y([xm({schema:[pi()],name:\"menu\",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,o,n)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,o)=>{if(e.selectsOver){const n=$u.getValue(t),s=e.getDisplayText(n),r=$u.getValue(o);return 0===e.getDisplayText(r).indexOf(s)?A.some((()=>{CE(0,t,o),((e,t)=>{kE(e,((e,o)=>e.setSelectionRange(t,o.length)))})(t,s.length)})):A.none()}return A.none()})(e.model,t,n).fold((()=>{e.model.selectsOver?(wg.dehighlight(o,n),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&CE(e.model,t,n),Ot(n.element,\"id\").each((e=>St(t.element,\"aria-activedescendant\",e)))}))},onExecute:(t,o)=>e.lazyTypeaheadComp.get().map((e=>(Rr(e,_E(),{item:o}),!0))),onHover:(t,o)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&CE(e.model,t,o)}))}})})]),AE=qm({name:\"Typeahead\",configFields:TE(),partFields:EE(),factory:(e,t,o,n)=>{const s=(t,o,s)=>{e.previewing.set(!1);const r=uC.getCoupled(t,\"sandbox\");if(ku.isOpen(r))Jm.getCurrent(r).each((e=>{wg.getHighlighted(e).fold((()=>{s(e)}),(()=>{Lr(r,e.element,\"keydown\",o)}))}));else{const o=e=>{Jm.getCurrent(e).each(s)};wC(e,a(t),t,r,n,o,ff.HighlightMenuAndItem).get(b)}},r=Fx(e),a=e=>t=>t.map((t=>{const o=he(t.menus),n=q(o,(e=>P(e.items,(e=>\"item\"===e.type))));return $u.getState(e).update(V(n,(e=>e.data))),t})),i=e=>Jm.getCurrent(e),l=\"typeaheadevents\",c=[Bh.config({}),$u.config({onSetValue:e.onSetValue,store:{mode:\"dataset\",getDataKey:e=>tl(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,o)=>{ol(t.element,e.model.getDisplayText(o))},...e.initialData.map((e=>Ds(\"initialValue\",e))).getOr({})}}),SE.config({stream:{mode:\"throttle\",delay:e.responseTime,stopEvent:!1},onStream:(t,o)=>{const s=uC.getCoupled(t,\"sandbox\");if(Bh.isFocused(t)&&tl(t.element).length>=e.minChars){const o=i(s).bind((e=>wg.getHighlighted(e).map($u.getValue)));e.previewing.set(!0);const r=t=>{i(s).each((t=>{o.fold((()=>{e.model.selectsOver&&wg.highlightFirst(t)}),(e=>{wg.highlightBy(t,(t=>$u.getValue(t).value===e.value)),wg.getHighlighted(t).orThunk((()=>(wg.highlightFirst(t),A.none())))}))}))};wC(e,a(t),t,s,n,r,ff.HighlightJustMenu).get(b)}},cancelEvent:br()}),bh.config({mode:\"special\",onDown:(e,t)=>(s(e,t,wg.highlightFirst),A.some(!0)),onEscape:e=>{const t=uC.getCoupled(e,\"sandbox\");return ku.isOpen(t)?(ku.close(t),A.some(!0)):A.none()},onUp:(e,t)=>(s(e,t,wg.highlightLast),A.some(!0)),onEnter:t=>{const o=uC.getCoupled(t,\"sandbox\"),n=ku.isOpen(o);if(n&&!e.previewing.get())return i(o).bind((e=>wg.getHighlighted(e))).map((e=>(Rr(t,_E(),{item:e}),!0)));{const s=$u.getValue(t);return Ir(t,br()),e.onExecute(o,t,s),n&&ku.close(o),A.some(!0)}}}),Hh.config({toggleClass:e.markers.openClass,aria:{mode:\"expanded\"}}),uC.config({others:{sandbox:t=>_C(e,t,{onOpen:()=>Hh.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>Tt(e.element,\"aria-activedescendant\"))),Hh.off(t)}})}}),Th(l,[Jr((t=>{e.lazyTypeaheadComp.set(A.some(t))})),Qr((t=>{e.lazyTypeaheadComp.set(A.none())})),ea((t=>{const o=b;CC(e,a(t),t,n,o,ff.HighlightMenuAndItem).get(b)})),Wr(_E(),((t,o)=>{const n=uC.getCoupled(t,\"sandbox\");CE(e.model,t,o.event.item),Ir(t,br()),e.onItemExecute(t,n,o.event.item,$u.getValue(t)),ku.close(n),OE(t)}))].concat(e.dismissOnBlur?[Wr(cr(),(e=>{const t=uC.getCoupled(e,\"sandbox\");fc(t.element).isNone()&&ku.close(t)}))]:[]))],d={[kr()]:[$u.name(),SE.name(),l],...e.eventOrder};return{uid:e.uid,dom:Rx(xn(e,{inputAttributes:{role:\"combobox\",\"aria-autocomplete\":\"list\",\"aria-haspopup\":\"true\"}})),behaviours:{...r,...qu(e.typeaheadBehaviours,c)},eventOrder:d}}}),ME=e=>({...e,toCached:()=>ME(e.toCached()),bindFuture:t=>ME(e.bind((e=>e.fold((e=>bC(ln.error(e))),(e=>t(e)))))),bindResult:t=>ME(e.map((e=>e.bind(t)))),mapResult:t=>ME(e.map((e=>e.map(t)))),mapError:t=>ME(e.map((e=>e.mapError(t)))),foldResult:(t,o)=>e.map((e=>e.fold(t,o))),withTimeout:(t,o)=>ME(fC((n=>{let s=!1;const r=setTimeout((()=>{s=!0,n(ln.error(o()))}),t);e.get((e=>{s||(clearTimeout(r),n(e))}))})))}),DE=e=>ME(fC(e)),BE=(e,t,o=[],n,s,r,a)=>{const i=t.fold((()=>({})),(e=>({action:e}))),l={buttonBehaviours:ca([gw((()=>!e.enabled||a.checkUiComponentContext(e.context).shouldDisable)),_w((()=>a.checkUiComponentContext(e.context))),Ub.config({}),...r.map((e=>Zb.config(a.tooltips.getConfig({tooltipText:a.translate(e)})))).toArray(),Th(\"button press\",[Ur(\"click\")])].concat(o)),eventOrder:{click:[\"button press\",\"alloy.base.behaviour\"],mousedown:[\"button press\",\"alloy.base.behaviour\"]},...i},c=xn(l,{dom:n});return xn(c,{components:s})},FE=(e,t,o,n=[],s)=>{const r={tag:\"button\",classes:[\"tox-tbtn\"],attributes:{...e.tooltip.map((e=>({\"aria-label\":o.translate(e)}))).getOr({}),\"data-mce-name\":s}},a=e.icon.map((e=>bT(e,o.icons))),i=Aw([a]);return BE(e,t,n,r,i,e.tooltip,o)},IE=e=>{switch(e){case\"primary\":return[\"tox-button\"];case\"toolbar\":return[\"tox-tbtn\"];default:return[\"tox-button\",\"tox-button--secondary\"]}},RE=(e,t,o,n=[],s=[])=>{const r=o.translate(e.text),a=e.icon.map((e=>bT(e,o.icons))),i=[a.getOrThunk((()=>dl(r)))],l=e.buttonType.getOr(e.primary||e.borderless?\"primary\":\"secondary\"),c={tag:\"button\",classes:[...IE(l),...a.isSome()?[\"tox-button--icon\"]:[],...e.borderless?[\"tox-button--naked\"]:[],...s],attributes:{\"aria-label\":r,\"data-mce-name\":e.text}},d=e.icon.map(y(r));return BE(e,t,n,c,i,d,o)},NE=(e,t,o,n=[],s=[])=>{const r=RE(e,A.some(t),o,n,s);return zb.sketch(r)},zE=(e,t)=>o=>{\"custom\"===t?Rr(o,mk,{name:e,value:{}}):\"submit\"===t?Ir(o,gk):\"cancel\"===t?Ir(o,uk):console.error(\"Unknown button type: \",t)},VE=(e,t,o)=>{if(((e,t)=>\"menu\"===t)(0,t)){const t=()=>r,n=e,s={...e,type:\"menubutton\",search:A.none(),onSetup:t=>(t.setEnabled(e.enabled),b),fetch:aE(n.items,t,o)},r=Lb(rE(s,\"tox-tbtn\",o,A.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return r.asSpec()}if(((e,t)=>\"custom\"===t||\"cancel\"===t||\"submit\"===t)(0,t)){const n=zE(e.name,t),s={...e,context:\"cancel\"===t?\"any\":e.context,borderless:!1};return NE(s,n,o.shared.providers,[])}if(((e,t)=>\"togglebutton\"===t)(0,t))return((e,t,o)=>{var n,s;const r=e.icon.map((e=>vT(e,t.icons))).map(Lb),a=e.buttonType.getOr(e.primary?\"primary\":\"secondary\"),i={...e,name:null!==(n=e.name)&&void 0!==n?n:\"\",primary:\"primary\"===a,tooltip:e.tooltip,enabled:null!==(s=e.enabled)&&void 0!==s&&s,borderless:!1},l=i.tooltip.or(e.text).map((e=>({\"aria-label\":t.translate(e)}))).getOr({}),c=IE(null!=a?a:\"secondary\"),d=e.icon.isSome()&&e.text.isSome(),u={tag:\"button\",classes:[...c.concat(e.icon.isSome()?[\"tox-button--icon\"]:[]),...e.active?[\"tox-button--enabled\"]:[],...d?[\"tox-button--icon-and-text\"]:[]],attributes:{...l,...g(o)?{\"data-mce-name\":o}:{}}},m=t.translate(e.text.getOr(\"\")),p=dl(m),h=[...Aw([r.map((e=>e.asSpec()))]),...e.text.isSome()?[p]:[]],f=BE(i,A.some((o=>{Rr(o,mk,{name:e.name,value:{setIcon:e=>{r.map((n=>n.getOpt(o).each((o=>{_h.set(o,[vT(e,t.icons)])}))))}}})})),[],u,h,e.tooltip,t);return zb.sketch(f)})(e,o.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error(\"Unknown footer button type: \",t),new Error(\"Unknown footer button type\")},LE={type:\"separator\"},HE=e=>({type:\"menuitem\",value:e.url,text:e.title,meta:{attach:e.attach},onAction:b}),PE=(e,t)=>({type:\"menuitem\",value:t,text:e,meta:{attach:void 0},onAction:b}),UE=(e,t)=>(e=>V(e,HE))(((e,t)=>P(t,(t=>t.type===e)))(e,t)),WE=e=>UE(\"header\",e.targets),$E=e=>UE(\"anchor\",e.targets),jE=e=>A.from(e.anchorTop).map((e=>PE(\"<top>\",e))).toArray(),GE=e=>A.from(e.anchorBottom).map((e=>PE(\"<bottom>\",e))).toArray(),qE=(e,t)=>{const o=e.toLowerCase();return P(t,(e=>{var t;const n=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,s=null!==(t=e.value)&&void 0!==t?t:\"\";return _e(n.toLowerCase(),o)||_e(s.toLowerCase(),o)}))},YE=Di(\"aria-invalid\"),XE=(e,t)=>{e.dom.checked=t},KE=e=>e.dom.checked,JE=e=>(t,o,n,s,r)=>fe(o,\"name\").fold((()=>e(o,s,A.none(),r)),(a=>t.field(a,e(o,s,fe(n,a),r)))),QE={bar:JE(((e,t)=>((e,t)=>({dom:{tag:\"div\",classes:[\"tox-bar\",\"tox-form__controls-h-stack\"]},components:V(e.items,t.interpreter)}))(e,t.shared))),collection:JE(((e,t,o)=>vk(e,t.shared.providers,o))),alertbanner:JE(((e,t)=>((e,t)=>{const o=rx(e.icon,t.icons);return QC.sketch({dom:{tag:\"div\",attributes:{role:\"alert\"},classes:[\"tox-notification\",\"tox-notification--in\",`tox-notification--${e.level}`]},components:[{dom:{tag:\"div\",classes:[\"tox-notification__icon\"],innerHtml:e.url?void 0:o},components:e.url?[zb.sketch({dom:{tag:\"button\",classes:[\"tox-button\",\"tox-button--naked\",\"tox-button--icon\"],innerHtml:o,attributes:{title:t.translate(e.iconTooltip)}},action:t=>Rr(t,mk,{name:\"alert-banner\",value:e.url}),buttonBehaviours:ca([ax()])})]:void 0},{dom:{tag:\"div\",classes:[\"tox-notification__body\"],innerHtml:t.translate(e.text)}}]})})(e,t.shared.providers))),input:JE(((e,t,o)=>((e,t,o)=>PT({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:\"tox-textfield\",validation:A.none(),maximized:e.maximized,data:o,context:e.context},t))(e,t.shared.providers,o))),textarea:JE(((e,t,o)=>((e,t,o)=>PT({name:e.name,multiline:!0,label:e.label,inputMode:A.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:\"tox-textarea\",validation:A.none(),maximized:e.maximized,data:o,context:e.context},t))(e,t.shared.providers,o))),label:JE(((e,t,o,n)=>((e,t,o)=>{const n=\"tox-label\",s=\"center\"===e.align?[`${n}--center`]:[],r=\"end\"===e.align?[`${n}--end`]:[],a=Lb({dom:{tag:\"label\",classes:[n,...s,...r]},components:[dl(t.providers.translate(e.label))]}),i=V(e.items,t.interpreter);return{dom:{tag:\"div\",classes:[\"tox-form__group\"]},components:[a.asSpec(),...i],behaviours:ca([M_(),_h.config({}),(l=A.none(),R_(l,ti,oi)),bh.config({mode:\"acyclic\"}),Th(\"label\",[Jr((t=>{e.for.each((e=>{o(e).each((e=>{a.getOpt(t).each((t=>{var o;const n=null!==(o=kt(e.element,\"id\"))&&void 0!==o?o:Di(\"form-field\");St(e.element,\"id\",n),St(t.element,\"for\",n)}))}))}))}))])])};var l})(e,t.shared,n))),iframe:(OM=(e,t,o)=>((e,t,o)=>{const n=\"tox-dialog__iframe\",s=e.transparent?[]:[`${n}--opaque`],r=e.border?[\"tox-navobj-bordered\"]:[],a={...e.label.map((e=>({title:e}))).getOr({}),...o.map((e=>({srcdoc:e}))).getOr({}),...e.sandboxed?{sandbox:\"allow-scripts allow-same-origin\"}:{}},i=((e,t)=>{const o=en(e.getOr(\"\"));return{getValue:e=>o.get(),setValue:(e,n)=>{if(o.get()!==n){const o=e.element,s=()=>St(o,\"srcdoc\",n);t?uT.fold(y(dT),(e=>e.throttle))(o,n,s):s()}o.set(n)}}})(o,e.streamContent),l=e.label.map((e=>ik(e,t))),c=ok.parts.field({factory:{sketch:e=>q_(A.from(r),{uid:e.uid,dom:{tag:\"iframe\",attributes:a,classes:[n,...s]},behaviours:ca([Ub.config({}),Bh.config({}),I_(o,i.getValue,i.setValue),dc.config({channels:{[oT]:{onReceive:(e,t)=>{t.newFocus.each((t=>{at(e.element).each((o=>{(Ze(e.element,t)?ya:Sa)(o,\"tox-navobj-bordered-focus\")}))}))}}}})])})}});return sk(l,c,[\"tox-form__group--stretched\"],[])})(e,t.shared.providers,o),(e,t,o,n,s)=>{const r=xn(t,{source:\"dynamic\"});return JE(OM)(e,r,o,n,s)}),button:JE(((e,t)=>((e,t)=>{const o=zE(e.name,\"custom\");return n=A.none(),s=ok.parts.field({factory:zb,...RE(e,A.some(o),t,[N_(\"\"),M_()])}),sk(n,s,[],[]);var n,s})(e,t.shared.providers))),checkbox:JE(((e,t,o)=>((e,t,o)=>{const n=e=>(e.element.dom.click(),A.some(!0)),s=ok.parts.field({factory:{sketch:w},dom:{tag:\"input\",classes:[\"tox-checkbox__input\"],attributes:{type:\"checkbox\"}},behaviours:ca([M_(),ug.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{at(e.element).each((e=>ya(e,\"tox-checkbox--disabled\")))},onEnabled:e=>{at(e.element).each((e=>Sa(e,\"tox-checkbox--disabled\")))}}),Ub.config({}),Bh.config({}),R_(o,KE,XE),bh.config({mode:\"special\",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),Th(\"checkbox-events\",[Wr(er(),((t,o)=>{Rr(t,lk,{name:e.name})}))])])}),r=ok.parts.label({dom:{tag:\"span\",classes:[\"tox-checkbox__label\"]},components:[dl(t.translate(e.label))],behaviours:ca([Ak.config({})])}),a=e=>lx(\"checked\"===e?\"selected\":\"unselected\",{tag:\"span\",classes:[\"tox-icon\",\"tox-checkbox-icon__\"+e]},t.icons),i=Lb({dom:{tag:\"div\",classes:[\"tox-checkbox__icons\"]},components:[a(\"checked\"),a(\"unchecked\")]});return ok.sketch({dom:{tag:\"label\",classes:[\"tox-checkbox\"]},components:[s,i.asSpec(),r],fieldBehaviours:ca([ug.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),_w((()=>t.checkUiComponentContext(e.context)))])})})(e,t.shared.providers,o))),colorinput:JE(((e,t,o)=>((e,t,o,n)=>{const s=ok.parts.field({factory:Nx,inputClasses:[\"tox-textfield\"],data:n,onSetValue:e=>Ek.run(e).get(b),inputBehaviours:ca([ug.config({disabled:()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable}),_w((()=>t.providers.checkUiComponentContext(e.context))),Ub.config({}),Ek.config({invalidClass:\"tox-textbox-field-invalid\",getRoot:e=>at(e.element),notify:{onValid:e=>{const t=$u.getValue(e);Rr(e,Mk,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=$u.getValue(e);if(0===t.length)return bC(ln.value(!0));{const e=Re(\"span\");Mt(e,\"background-color\",t);const o=Rt(e,\"background-color\").fold((()=>ln.error(\"blah\")),(e=>ln.value(t)));return bC(o)}}}})]),selectOnFocus:!1}),r=e.label.map((e=>ik(e,t.providers))),a=(e,t)=>{Rr(e,Dk,{value:t})},i=Lb(((e,t)=>DC.sketch({dom:e.dom,components:e.components,toggleClass:\"mce-active\",dropdownBehaviours:ca([pw((()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable)),_w((()=>t.providers.checkUiComponentContext(e.context))),Ak.config({}),Ub.config({})]),layouts:e.layouts,sandboxClasses:[\"tox-dialog__popups\"],lazySink:t.getSink,fetch:o=>fC((t=>e.fetch(t))).map((n=>A.from(LC(xn(QS(Di(\"menu-value\"),n,(t=>{e.onItemAction(o,t)}),e.columns,e.presets,gx.CLOSE_ON_EXECUTE,T,t.providers),{movement:eC(e.columns,e.presets)}))))),parts:{menu:Dx(0,0,e.presets)}}))({dom:{tag:\"span\",attributes:{\"aria-label\":t.providers.translate(\"Color swatch\")}},layouts:{onRtl:()=>[Xl,Yl,Zl],onLtr:()=>[Yl,Xl,Zl]},components:[],fetch:$S(o.getColors(e.storageKey),e.storageKey,o.hasCustomColors()),columns:o.getColorCols(e.storageKey),presets:\"color\",onItemAction:(t,n)=>{i.getOpt(t).each((t=>{\"custom\"===n?o.colorPicker((o=>{o.fold((()=>Ir(t,Bk)),(o=>{a(t,o),kS(e.storageKey,o)}))}),\"#ffffff\"):a(t,\"remove\"===n?\"\":n)}))},context:e.context},t));return ok.sketch({dom:{tag:\"div\",classes:[\"tox-form__group\"]},components:r.toArray().concat([{dom:{tag:\"div\",classes:[\"tox-color-input\"]},components:[s,i.asSpec()]}]),fieldBehaviours:ca([Th(\"form-field-events\",[Wr(Mk,((t,o)=>{i.getOpt(t).each((e=>{Mt(e.element,\"background-color\",o.event.color)})),Rr(t,lk,{name:e.name})})),Wr(Dk,((e,t)=>{ok.getField(e).each((o=>{$u.setValue(o,t.event.value),Jm.getCurrent(e).each(Bh.focus)}))})),Wr(Bk,((e,t)=>{ok.getField(e).each((t=>{Jm.getCurrent(e).each(Bh.focus)}))}))])])})})(e,t.shared,t.colorinput,o))),colorpicker:JE(((e,t,o)=>((e,t,o)=>{const n=e=>\"tox-\"+e,s=A_((e=>t=>r(t)?e.translate(z_[t]):e.translate(t))(t),n,t.tooltips.getConfig,((e,o,n=e,s=e)=>lx(n,{tag:\"div\",classes:[\"tox-icon\",\"tox-control-wrap__status-icon-\"+e],attributes:{title:t.translate(s),\"aria-live\":\"polite\",...o.fold((()=>({})),(e=>({id:e})))}},t.icons))),a=Lb(s.sketch({dom:{tag:\"div\",classes:[n(\"color-picker-container\")],attributes:{role:\"presentation\"}},onValidHex:e=>{Rr(e,mk,{name:\"hex-valid\",value:!0})},onInvalidHex:e=>{Rr(e,mk,{name:\"hex-valid\",value:!1})}}));return{dom:{tag:\"div\"},components:[a.asSpec()],behaviours:ca([I_(o,(e=>{const t=a.get(e);return Jm.getCurrent(t).bind((e=>$u.getValue(e).hex)).map((e=>\"#\"+Oe(e,\"#\"))).getOr(\"\")}),((e,t)=>{const o=A.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>ee(e,1))),n=a.get(e);Jm.getCurrent(n).fold((()=>{console.log(\"Can not find form\")}),(e=>{$u.setValue(e,{hex:o.getOr(\"\")}),S_.getField(e,\"hex\").each((e=>{Ir(e,Zs())}))}))})),M_()])}})(0,t.shared.providers,o))),dropzone:JE(((e,t,o)=>U_(e,t.shared.providers,o))),grid:JE(((e,t)=>((e,t)=>({dom:{tag:\"div\",classes:[\"tox-form__grid\",`tox-form__grid--${e.columns}col`]},components:V(e.items,t.interpreter)}))(e,t.shared))),listbox:JE(((e,t,o)=>((e,t,o)=>{const n=R(e.items,(e=>!TT(e))),s=t.shared.providers,r=o.bind((t=>MT(e.items,t))).orThunk((()=>te(e.items).filter(TT))),a=e.label.map((e=>ik(e,s))),i=ok.parts.field({dom:{},factory:{sketch:o=>ST({context:e.context,uid:o.uid,text:r.map((e=>e.text)),icon:A.none(),tooltip:A.none(),role:Ce(!n,\"combobox\"),...n?{}:{listRole:\"listbox\"},ariaLabel:e.label,fetch:(o,s)=>{const r=AT(o,e.name,e.items,$u.getValue(o),n);s(_T(r,gx.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:A.none()}))},onSetup:y(b),getApi:y({}),columns:1,presets:\"normal\",classes:[],dropdownBehaviours:[Ub.config({}),I_(r.map((e=>e.value)),(e=>kt(e.element,ET)),((t,o)=>{MT(e.items,o).each((e=>{St(t.element,ET,e.value),Rr(t,yT,{text:e.text})}))}))]},\"tox-listbox\",t.shared)}}),l={dom:{tag:\"div\",classes:[\"tox-listboxfield\"]},components:[i]};return ok.sketch({dom:{tag:\"div\",classes:[\"tox-form__group\"]},components:G([a.toArray(),[l]]),fieldBehaviours:ca([ug.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ok.getField(e).each(ug.disable)},onEnabled:e=>{ok.getField(e).each(ug.enable)}})])})})(e,t,o))),selectbox:JE(((e,t,o)=>((e,t,o)=>{const n=V(e.items,(e=>({text:t.translate(e.text),value:e.value}))),s=e.label.map((e=>ik(e,t))),r=ok.parts.field({dom:{},...o.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:n,factory:DT,selectBehaviours:ca([ug.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),Ub.config({}),Th(\"selectbox-change\",[Wr(er(),((t,o)=>{Rr(t,lk,{name:e.name})}))])])}),a=e.size>1?A.none():A.some(lx(\"chevron-down\",{tag:\"div\",classes:[\"tox-selectfield__icon-js\"]},t.icons)),i={dom:{tag:\"div\",classes:[\"tox-selectfield\"]},components:G([[r],a.toArray()])};return ok.sketch({dom:{tag:\"div\",classes:[\"tox-form__group\"]},components:G([s.toArray(),[i]]),fieldBehaviours:ca([ug.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ok.getField(e).each(ug.disable)},onEnabled:e=>{ok.getField(e).each(ug.enable)}}),_w((()=>t.checkUiComponentContext(e.context)))])})})(e,t.shared.providers,o))),sizeinput:JE(((e,t)=>((e,t)=>{let o=LT;const n=Di(\"ratio-event\"),s=e=>lx(e,{tag:\"span\",classes:[\"tox-icon\",\"tox-lock-icon__\"+e]},t.icons),r=()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,a=_w((()=>t.checkUiComponentContext(e.context))),i=e.label.getOr(\"Constrain proportions\"),l=t.translate(i),c=RT.parts.lock({dom:{tag:\"button\",classes:[\"tox-lock\",\"tox-button\",\"tox-button--naked\",\"tox-button--icon\"],attributes:{\"aria-label\":l,\"data-mce-name\":i}},components:[s(\"lock\"),s(\"unlock\")],buttonBehaviours:ca([ug.config({disabled:r}),a,Ub.config({}),Zb.config(t.tooltips.getConfig({tooltipText:l}))])}),d=e=>({dom:{tag:\"div\",classes:[\"tox-form__group\"]},components:e}),u=t=>ok.parts.field({factory:Nx,inputClasses:[\"tox-textfield\"],inputBehaviours:ca([ug.config({disabled:r}),a,Ub.config({}),Th(\"size-input-events\",[Wr(Xs(),((e,o)=>{Rr(e,n,{isField1:t})})),Wr(er(),((t,o)=>{Rr(t,lk,{name:e.name})}))])]),selectOnFocus:!1}),m=e=>({dom:{tag:\"label\",classes:[\"tox-label\"]},components:[dl(t.translate(e))]}),g=RT.parts.field1(d([ok.parts.label(m(\"Width\")),u(!0)])),p=RT.parts.field2(d([ok.parts.label(m(\"Height\")),u(!1)]));return RT.sketch({dom:{tag:\"div\",classes:[\"tox-form__group\"]},components:[{dom:{tag:\"div\",classes:[\"tox-form__controls-h-stack\"]},components:[g,p,d([m(\"\\xa0\"),c])]}],field1Name:\"width\",field2Name:\"height\",locked:!0,markers:{lockClass:\"tox-locked\"},onLockedChange:(e,t,n)=>{zT($u.getValue(e)).each((e=>{o(e).each((e=>{$u.setValue(t,NT(e))}))}))},coupledFieldBehaviours:ca([ug.config({disabled:r,onDisabled:e=>{RT.getField1(e).bind(ok.getField).each(ug.disable),RT.getField2(e).bind(ok.getField).each(ug.disable),RT.getLock(e).each(ug.disable)},onEnabled:e=>{RT.getField1(e).bind(ok.getField).each(ug.enable),RT.getField2(e).bind(ok.getField).each(ug.enable),RT.getLock(e).each(ug.enable)}}),_w((()=>t.checkUiComponentContext(\"mode:design\"))),Th(\"size-input-events2\",[Wr(n,((e,t)=>{const n=t.event.isField1,s=n?RT.getField1(e):RT.getField2(e),r=n?RT.getField2(e):RT.getField1(e),a=s.map($u.getValue).getOr(\"\"),i=r.map($u.getValue).getOr(\"\");o=HT(a,i)}))])])})})(e,t.shared.providers))),slider:JE(((e,t,o)=>((e,t,o)=>{const n=p_.parts.label({dom:{tag:\"label\",classes:[\"tox-label\"]},components:[dl(t.translate(e.label))]}),s=p_.parts.spectrum({dom:{tag:\"div\",classes:[\"tox-slider__rail\"],attributes:{role:\"presentation\"}}}),r=p_.parts.thumb({dom:{tag:\"div\",classes:[\"tox-slider__handle\"],attributes:{role:\"presentation\"}}});return p_.sketch({dom:{tag:\"div\",classes:[\"tox-slider\"],attributes:{role:\"presentation\"}},model:{mode:\"x\",minX:e.min,maxX:e.max,getInitialValue:y(o.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[n,s,r],sliderBehaviours:ca([M_(),Bh.config({})]),onChoose:(t,o,n)=>{Rr(t,lk,{name:e.name,value:n})},onChange:(t,o,n)=>{Rr(t,lk,{name:e.name,value:n})}})})(e,t.shared.providers,o))),urlinput:JE(((e,t,o)=>((e,t,o,n)=>{const s=t.shared.providers,r=t=>{const n=$u.getValue(t);o.addToHistory(n.value,e.filetype)},a={...n.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:[\"tox-textfield\"],sandboxClasses:[\"tox-dialog__popups\"],inputAttributes:{\"aria-errormessage\":YE,type:\"url\"},minChars:0,responseTime:0,fetch:n=>{const s=((e,t,o)=>{var n,s;const r=$u.getValue(t),a=null!==(s=null===(n=null==r?void 0:r.meta)||void 0===n?void 0:n.text)&&void 0!==s?s:r.value;return o.getLinkInformation().fold((()=>[]),(t=>{const n=qE(a,(e=>V(e,(e=>PE(e,e))))(o.getHistory(e)));return\"file\"===e?(s=[n,qE(a,WE(t)),qE(a,G([jE(t),$E(t),GE(t)]))],W(s,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(LE,t)),[])):n;var s}))})(e.filetype,n,o),r=_T(s,gx.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:A.none()});return bC(r)},getHotspot:e=>g.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(Ek)&&Ek.run(e).get(b)},typeaheadBehaviours:ca([...o.getValidationHandler().map((t=>Ek.config({getRoot:e=>at(e.element),invalidClass:\"tox-control-wrap--status-invalid\",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{St(e.element,\"title\",s.translate(t))}))}},validator:{validate:o=>{const n=$u.getValue(o);return DE((o=>{t({type:e.filetype,url:n.value},(e=>{if(\"invalid\"===e.status){const t=ln.error(e.message);o(t)}else{const t=ln.value(e.message);o(t)}}))}))},validateOnLoad:!1}}))).toArray(),ug.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable}),Ub.config({}),Th(\"urlinput-events\",[Wr(Zs(),(t=>{const o=tl(t.element),n=o.trim();n!==o&&ol(t.element,n),\"file\"===e.filetype&&Rr(t,lk,{name:e.name})})),Wr(er(),(t=>{Rr(t,lk,{name:e.name}),r(t)})),Wr(dr(),(t=>{Rr(t,lk,{name:e.name}),r(t)}))])]),eventOrder:{[Zs()]:[\"streaming\",\"urlinput-events\",\"invalidating\"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:\"tox-textfield--popup-open\"},lazySink:t.shared.getSink,parts:{menu:Dx(0,0,\"normal\")},onExecute:(e,t,o)=>{Rr(t,gk,{})},onItemExecute:(t,o,n,s)=>{r(t),Rr(t,lk,{name:e.name})}},i=ok.parts.field({...a,factory:AE}),l=e.label.map((e=>ik(e,s))),c=Lb(((e,t,o=e,n=e)=>lx(o,{tag:\"div\",classes:[\"tox-icon\",\"tox-control-wrap__status-icon-\"+e],attributes:{title:s.translate(n),\"aria-live\":\"polite\",...t.fold((()=>({})),(e=>({id:e})))}},s.icons))(\"invalid\",A.some(YE),\"warning\")),d=Lb({dom:{tag:\"div\",classes:[\"tox-control-wrap__status-icon-wrap\"]},components:[c.asSpec()]}),u=o.getUrlPicker(e.filetype),m=Di(\"browser.url.event\"),g=Lb({dom:{tag:\"div\",classes:[\"tox-control-wrap\"]},components:[i,d.asSpec()],behaviours:ca([ug.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable})])}),p=Lb(NE({context:e.context,name:e.name,icon:A.some(\"browse\"),text:e.picker_text.or(e.label).getOr(\"\"),enabled:e.enabled,primary:!1,buttonType:A.none(),borderless:!0},(e=>Ir(e,m)),s,[],[\"tox-browse-url\"]));return ok.sketch({dom:ak([]),components:l.toArray().concat([{dom:{tag:\"div\",classes:[\"tox-form__controls-h-stack\"]},components:G([[g.asSpec()],u.map((()=>p.asSpec())).toArray()])}]),fieldBehaviours:ca([ug.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{ok.getField(e).each(ug.disable),p.getOpt(e).each(ug.disable)},onEnabled:e=>{ok.getField(e).each(ug.enable),p.getOpt(e).each(ug.enable)}}),_w((()=>s.checkUiComponentContext(e.context))),Th(\"url-input-events\",[Wr(m,(t=>{Jm.getCurrent(t).each((o=>{const n=$u.getValue(o),s={fieldname:e.name,...n};u.each((n=>{n(s).get((n=>{$u.setValue(o,n),Rr(t,lk,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,o))),customeditor:JE((e=>{const t=nn(),o=Lb({dom:{tag:e.tag}}),n=nn(),s=!L_(e)&&e.onFocus.isSome()?[Bh.config({onFocus:t=>{e.onFocus.each((e=>{e(t.element.dom)}))}}),Ub.config({})]:[];return{dom:{tag:\"div\",classes:[\"tox-custom-editor\"]},behaviours:ca([Th(\"custom-editor-events\",[Jr((s=>{o.getOpt(s).each((o=>{(L_(e)?e.init(o.element.dom):V_.load(e.scriptId,e.scriptUrl).then((t=>t(o.element.dom,e.settings)))).then((e=>{n.on((t=>{e.setValue(t)})),n.clear(),t.set(e)}))}))}))]),I_(A.none(),(()=>t.get().fold((()=>n.get().getOr(\"\")),(e=>e.getValue()))),((e,o)=>{t.get().fold((()=>n.set(o)),(e=>e.setValue(o)))})),M_()].concat(s)),components:[o.asSpec()]}})),htmlpanel:JE(((e,t)=>((e,t)=>{const o=[\"tox-form__group\",...e.stretched?[\"tox-form__group--stretched\"]:[]],n=Th(\"htmlpanel\",[Jr((t=>{e.onInit(t.element.dom)}))]);return\"presentation\"===e.presets?QC.sketch({dom:{tag:\"div\",classes:o,innerHtml:e.html},containerBehaviours:ca([Zb.config({...t.tooltips.getConfig({tooltipText:\"\",onShow:e=>{Ol(e.element,\"[data-mce-tooltip]:hover\").orThunk((()=>fc(e.element))).each((o=>{Ot(o,\"data-mce-tooltip\").each((o=>{Zb.setComponents(e,t.tooltips.getComponents({tooltipText:o}))}))}))}}),mode:\"children-normal\",anchor:e=>({type:\"node\",node:Ol(e.element,\"[data-mce-tooltip]:hover\").orThunk((()=>fc(e.element).filter((e=>Ot(e,\"data-mce-tooltip\").isSome())))),root:e.element,layouts:{onLtr:y([Zl,Ql,Yl,Kl,Xl,Jl]),onRtl:y([Zl,Ql,Yl,Kl,Xl,Jl])},bubble:Wc(0,-2,{})})}),n])}):QC.sketch({dom:{tag:\"div\",classes:o,innerHtml:e.html,attributes:{role:\"document\"}},containerBehaviours:ca([Ub.config({}),Bh.config({}),n])})})(e,t.shared.providers))),imagepreview:JE(((e,t,o)=>((e,t)=>{const o=en(t.getOr({url:\"\"})),n=Lb({dom:{tag:\"img\",classes:[\"tox-imagepreview__image\"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),s=Lb({dom:{tag:\"div\",classes:[\"tox-imagepreview__container\"],attributes:{role:\"presentation\"}},components:[n.asSpec()]}),r={};e.height.each((e=>r.height=e));const a=t.map((e=>({url:e.url,zoom:A.from(e.zoom),cachedWidth:A.from(e.cachedWidth),cachedHeight:A.from(e.cachedHeight)})));return{dom:{tag:\"div\",classes:[\"tox-imagepreview\"],styles:r,attributes:{role:\"presentation\"}},components:[s.asSpec()],behaviours:ca([M_(),I_(a,(()=>o.get()),((e,t)=>{const r={url:t.url};t.zoom.each((e=>r.zoom=e)),t.cachedWidth.each((e=>r.cachedWidth=e)),t.cachedHeight.each((e=>r.cachedHeight=e)),o.set(r);const a=()=>{const{cachedWidth:t,cachedHeight:o,zoom:n}=r;if(!u(t)&&!u(o)){if(u(n)){const n=((e,t,o)=>{const n=Kt(e),s=Ut(e);return Math.min(n/t,s/o,1)})(e.element,t,o);r.zoom=n}const a=((e,t,o,n,s)=>{const r=o*s,a=n*s,i=Math.max(0,e/2-r/2),l=Math.max(0,t/2-a/2);return{left:i.toString()+\"px\",top:l.toString()+\"px\",width:r.toString()+\"px\",height:a.toString()+\"px\"}})(Kt(e.element),Ut(e.element),t,o,r.zoom);s.getOpt(e).each((e=>{Dt(e.element,a)}))}};n.getOpt(e).each((o=>{const n=o.element;var s;t.url!==kt(n,\"src\")&&(St(n,\"src\",t.url),Sa(e.element,\"tox-imagepreview__loaded\")),a(),(s=n,new Promise(((e,t)=>{const o=()=>{r(),e(s)},n=[Dc(s,\"load\",o),Dc(s,\"error\",(()=>{r(),t(\"Unable to load data from image: \"+s.dom.src)}))],r=()=>L(n,(e=>e.unbind()));s.dom.complete&&o()}))).then((t=>{e.getSystem().isConnected()&&(ya(e.element,\"tox-imagepreview__loaded\"),r.cachedWidth=t.dom.naturalWidth,r.cachedHeight=t.dom.naturalHeight,a())}))}))}))])}})(e,o))),table:JE(((e,t)=>((e,t)=>{const o=e=>({dom:{tag:\"td\",innerHtml:t.translate(e)}});return{dom:{tag:\"table\",classes:[\"tox-dialog__table\"]},components:[(s=e.header,{dom:{tag:\"thead\"},components:[{dom:{tag:\"tr\"},components:V(s,(e=>({dom:{tag:\"th\",innerHtml:t.translate(e)}})))}]}),(n=e.cells,{dom:{tag:\"tbody\"},components:V(n,(e=>({dom:{tag:\"tr\"},components:V(e,o)})))})],behaviours:ca([Ub.config({}),Bh.config({})])};var n,s})(e,t.shared.providers))),tree:JE(((e,t)=>((e,t)=>{const o=e.onLeafAction.getOr(b),n=e.onToggleExpand.getOr(b),s=e.defaultExpandedIds,r=en(s),a=en(e.defaultSelectedId),i=Di(\"tree-id\"),l=(n,s)=>e.items.map((e=>\"leaf\"===e.type?dE({leaf:e,selectedId:n,onLeafAction:o,visible:!0,treeId:i,backstage:t}):fE({directory:e,selectedId:n,onLeafAction:o,expandedIds:s,labelTabstopping:!0,treeId:i,backstage:t})));return{dom:{tag:\"div\",classes:[\"tox-tree\"],attributes:{role:\"tree\"}},components:l(a.get(),r.get()),behaviours:ca([bh.config({mode:\"flow\",selector:\".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible\",cycles:!1}),Th(bE,[Wr(\"expand-tree-node\",((e,t)=>{const{expanded:o,node:s}=t.event;r.set(o?[...r.get(),s]:r.get().filter((e=>e!==s))),n(r.get(),{expanded:o,node:s})}))]),dc.config({channels:{[`update-active-item-${i}`]:{onReceive:(e,t)=>{a.set(A.some(t.value)),_h.set(e,l(A.some(t.value),r.get()))}}}}),_h.config({})])}})(e,t))),panel:JE(((e,t)=>((e,t)=>({dom:{tag:\"div\",classes:e.classes},components:V(e.items,t.shared.interpreter)}))(e,t)))},ZE={field:(e,t)=>t,record:y([])},eA=(e,t,o,n,s)=>{const r=xn(n,{shared:{interpreter:t=>tA(e,t,o,r,s)}});return tA(e,t,o,r,s)},tA=(e,t,o,n,s)=>fe(QE,t.type).fold((()=>(console.error(`Unknown factory type \"${t.type}\", defaulting to container: `,t),t)),(r=>r(e,t,o,n,s))),oA=(e,t,o,n)=>tA(ZE,e,t,o,n),nA=\"layout-inset\",sA=e=>e.x,rA=(e,t)=>e.x+e.width/2-t.width/2,aA=(e,t)=>e.x+e.width-t.width,iA=e=>e.y,lA=(e,t)=>e.y+e.height-t.height,cA=(e,t)=>e.y+e.height/2-t.height/2,dA=(e,t,o)=>Ml(aA(e,t),lA(e,t),o.insetSouthwest(),Rl(),\"southwest\",Hl(e,{right:0,bottom:3}),nA),uA=(e,t,o)=>Ml(sA(e),lA(e,t),o.insetSoutheast(),Il(),\"southeast\",Hl(e,{left:1,bottom:3}),nA),mA=(e,t,o)=>Ml(aA(e,t),iA(e),o.insetNorthwest(),Fl(),\"northwest\",Hl(e,{right:0,top:2}),nA),gA=(e,t,o)=>Ml(sA(e),iA(e),o.insetNortheast(),Bl(),\"northeast\",Hl(e,{left:1,top:2}),nA),pA=(e,t,o)=>Ml(rA(e,t),iA(e),o.insetNorth(),Nl(),\"north\",Hl(e,{top:2}),nA),hA=(e,t,o)=>Ml(rA(e,t),lA(e,t),o.insetSouth(),zl(),\"south\",Hl(e,{bottom:3}),nA),fA=(e,t,o)=>Ml(aA(e,t),cA(e,t),o.insetEast(),Ll(),\"east\",Hl(e,{right:0}),nA),bA=(e,t,o)=>Ml(sA(e),cA(e,t),o.insetWest(),Vl(),\"west\",Hl(e,{left:1}),nA),vA=e=>{switch(e){case\"north\":return pA;case\"northeast\":return gA;case\"northwest\":return mA;case\"south\":return hA;case\"southeast\":return uA;case\"southwest\":return dA;case\"east\":return fA;case\"west\":return bA}},xA=(e,t,o,n,s)=>Tc(n).map(vA).getOr(pA)(e,t,o,n,s),yA=e=>{switch(e){case\"north\":return hA;case\"northeast\":return uA;case\"northwest\":return dA;case\"south\":return pA;case\"southeast\":return gA;case\"southwest\":return mA;case\"east\":return bA;case\"west\":return fA}},wA=(e,t,o,n,s)=>Tc(n).map(yA).getOr(pA)(e,t,o,n,s),SA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},CA=(e,t,o)=>{const n={maxHeightFunction:Lc()};return()=>o()?{type:\"node\",root:ht(pt(e())),node:A.from(e()),bubble:Wc(12,12,SA),layouts:{onRtl:()=>[gA],onLtr:()=>[mA]},overrides:n}:{type:\"hotspot\",hotspot:t(),bubble:Wc(-12,12,SA),layouts:{onRtl:()=>[Yl,Xl,Zl],onLtr:()=>[Xl,Yl,Zl]},overrides:n}},kA=(e,t,o,n)=>{const s={maxHeightFunction:Lc()};return()=>n()?{type:\"node\",root:ht(pt(t())),node:A.from(t()),bubble:Wc(12,12,SA),layouts:{onRtl:()=>[pA],onLtr:()=>[pA]},overrides:s}:e?{type:\"node\",root:ht(pt(t())),node:A.from(t()),bubble:Wc(0,-Wt(t()),SA),layouts:{onRtl:()=>[Ql],onLtr:()=>[Ql]},overrides:s}:{type:\"hotspot\",hotspot:o(),bubble:Wc(0,0,SA),layouts:{onRtl:()=>[Ql],onLtr:()=>[Ql]},overrides:s}},OA=(e,t,o)=>()=>o()?{type:\"node\",root:ht(pt(e())),node:A.from(e()),layouts:{onRtl:()=>[pA],onLtr:()=>[pA]}}:{type:\"hotspot\",hotspot:t(),layouts:{onRtl:()=>[Zl],onLtr:()=>[Zl]}},_A=(e,t)=>()=>({type:\"selection\",root:t(),getSelection:()=>{const t=e.selection.getRng(),o=e.model.table.getSelectedCells();if(o.length>1){const e=o[0],t=o[o.length-1],n={firstCell:ze(e),lastCell:ze(t)};return A.some(n)}return A.some(fd.range(ze(t.startContainer),t.startOffset,ze(t.endContainer),t.endOffset))}}),TA=e=>t=>({type:\"node\",root:e(),node:t}),EA=(e,t,o,n)=>{const s=kb(e),r=()=>ze(e.getBody()),a=()=>ze(e.getContentAreaContainer()),i=()=>s||!n();return{inlineDialog:CA(a,t,i),inlineBottomDialog:kA(e.inline,a,o,i),banner:OA(a,t,i),cursor:_A(e,r),node:TA(r)}},AA=e=>(t,o)=>{JS(e)(t,o)},MA=e=>()=>zS(e),DA=e=>t=>FS(e,t),BA=e=>t=>NS(e,t),FA=e=>()=>sb(e),IA=e=>ve(e,\"items\"),RA=e=>ve(e,\"format\"),NA=[{title:\"Headings\",items:[{title:\"Heading 1\",format:\"h1\"},{title:\"Heading 2\",format:\"h2\"},{title:\"Heading 3\",format:\"h3\"},{title:\"Heading 4\",format:\"h4\"},{title:\"Heading 5\",format:\"h5\"},{title:\"Heading 6\",format:\"h6\"}]},{title:\"Inline\",items:[{title:\"Bold\",format:\"bold\"},{title:\"Italic\",format:\"italic\"},{title:\"Underline\",format:\"underline\"},{title:\"Strikethrough\",format:\"strikethrough\"},{title:\"Superscript\",format:\"superscript\"},{title:\"Subscript\",format:\"subscript\"},{title:\"Code\",format:\"code\"}]},{title:\"Blocks\",items:[{title:\"Paragraph\",format:\"p\"},{title:\"Blockquote\",format:\"blockquote\"},{title:\"Div\",format:\"div\"},{title:\"Pre\",format:\"pre\"}]},{title:\"Align\",items:[{title:\"Left\",format:\"alignleft\"},{title:\"Center\",format:\"aligncenter\"},{title:\"Right\",format:\"alignright\"},{title:\"Justify\",format:\"alignjustify\"}]}],zA=e=>W(e,((e,t)=>{if(be(t,\"items\")){const o=zA(t.items);return{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:t.title,items:o.formats}])}}if(be(t,\"inline\")||(e=>be(e,\"block\"))(t)||(e=>be(e,\"selector\"))(t)){const o=`custom-${r(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),VA=e=>zf(e).map((t=>{const o=((e,t)=>{const o=zA(t),n=t=>{L(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?n(o.customFormats):e.on(\"init\",(()=>{n(o.customFormats)})),o.formats})(e,t);return Vf(e)?NA.concat(o):o})).getOr(NA),LA=(e,t,o)=>({...e,type:\"formatter\",isSelected:t(e.format),getStylePreview:o(e.format)}),HA=(e,t,o,n)=>{const s=t=>V(t,(t=>IA(t)?(e=>{const t=s(e.items);return{...e,type:\"submenu\",getStyleItems:y(t)}})(t):RA(t)?(e=>LA(e,o,n))(t):(e=>{const t=re(e);return 1===t.length&&I(t,\"title\")})(t)?{...t,type:\"separator\"}:(t=>{const s=r(t.name)?t.name:Di(t.title),a=`custom-${s}`,i={...t,type:\"formatter\",format:a,isSelected:o(a),getStylePreview:n(a)};return e.formatter.register(s,i),i})(t)));return s(t)},PA=e=>{let t=0;const o=e=>[{dom:{tag:\"div\",classes:[\"tox-tooltip__body\"]},components:[dl(e.tooltipText)]}];return{getConfig:n=>({delayForShow:()=>t>0?60:300,delayForHide:y(300),exclusive:!0,lazySink:e,tooltipDom:{tag:\"div\",classes:[\"tox-tooltip\",\"tox-tooltip--up\"]},tooltipComponents:o(n),onShow:(e,o)=>{t++,n.onShow&&n.onShow(e,o)},onHide:(e,o)=>{t--,n.onHide&&n.onHide(e,o)},onSetup:n.onSetup}),getComponents:o}},UA=H_.trim,WA=e=>t=>{if((e=>g(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute(\"data-mce-contenteditable\")===e)return!0}return!1},$A=WA(\"true\"),jA=WA(\"false\"),GA=(e,t,o,n,s)=>({type:e,title:t,url:o,level:n,attach:s}),qA=e=>e.innerText||e.textContent,YA=e=>(e=>e&&\"A\"===e.nodeName&&void 0!==(e.id||e.name))(e)&&KA(e),XA=e=>e&&/^(H[1-6])$/.test(e.nodeName),KA=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&\"inherit\"!==e)return $A(t)}return!1})(e)&&!jA(e),JA=e=>XA(e)&&KA(e),QA=e=>{var t;const o=(e=>e.id?e.id:Di(\"h\"))(e);return GA(\"header\",null!==(t=qA(e))&&void 0!==t?t:\"\",\"#\"+o,(e=>XA(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=o}))},ZA=e=>{const t=e.id||e.name,o=qA(e);return GA(\"anchor\",o||\"#\"+t,\"#\"+t,0,b)},eM=e=>UA(e.title).length>0,tM=e=>{const t=(e=>{const t=V(kd(ze(e),\"h1,h2,h3,h4,h5,h6,a:not([href])\"),(e=>e.dom));return t})(e);return P((e=>V(P(e,JA),QA))(t).concat((e=>V(P(e,YA),ZA))(t)),eM)},oM=\"tinymce-url-history\",nM=e=>r(e)&&/^https?/.test(e),sM=e=>a(e)&&pe(e,(e=>{return!(l(t=e)&&t.length<=5&&Y(t,nM));var t})).isNone(),rM=()=>{const e=wS.getItem(oM);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log(\"Local storage \"+oM+\" was not valid JSON\",e),{};throw e}return sM(t)?t:(console.log(\"Local storage \"+oM+\" was not valid format\",t),{})},aM=e=>{const t=rM();return fe(t,e).getOr([])},iM=(e,t)=>{if(!nM(e))return;const o=rM(),n=fe(o,t).getOr([]),s=P(n,(t=>t!==e));o[t]=[e].concat(s).slice(0,5),(e=>{if(!sM(e))throw new Error(\"Bad format for history:\\n\"+JSON.stringify(e));wS.setItem(oM,JSON.stringify(e))})(o)},lM=e=>!!e,cM=e=>le(H_.makeMap(e,/[, ]/),lM),dM=e=>A.from(Jf(e)),uM=e=>A.from(e).filter(r).getOrUndefined(),mM=e=>({getHistory:aM,addToHistory:iM,getLinkInformation:()=>(e=>tb(e)?A.some({targets:tM(e.getBody()),anchorTop:uM(ob(e)),anchorBottom:uM(nb(e))}):A.none())(e),getValidationHandler:()=>(e=>A.from(Qf(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const o=(e=>{const t=A.from(eb(e)).filter(lM).map(cM);return dM(e).fold(T,(e=>t.fold(E,(e=>re(e).length>0&&e))))})(e);return d(o)?o?dM(e):A.none():o[t]?dM(e):A.none()})(e,t).map((o=>n=>fC((s=>{const i={filetype:t,fieldname:n.fieldname,...A.from(n.meta).getOr({})};o.call(e,((e,t)=>{if(!r(e))throw new Error(\"Expected value to be string\");if(void 0!==t&&!a(t))throw new Error(\"Expected meta to be a object\");s({value:e,meta:t})}),n.value,i)})))))(e,t)}),gM=Hm,pM=Cm,hM=y([ws(\"shell\",!1),rs(\"makeItem\"),ws(\"setupItem\",b),Yu(\"listBehaviours\",[_h])]),fM=ym({name:\"items\",overrides:()=>({behaviours:ca([_h.config({})])})}),bM=y([fM]),vM=qm({name:y(\"CustomList\")(),configFields:hM(),partFields:bM(),factory:(e,t,o,n)=>{const s=e.shell?{behaviours:[_h.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:s.components,behaviours:qu(e.listBehaviours,s.behaviours),apis:{setItems:(t,o)=>{var n;(n=t,e.shell?A.some(n):Bm(n,e,\"items\")).fold((()=>{throw console.error(\"Custom List was defined to not be a shell, but no item container was specified in components\"),new Error(\"Custom List was defined to not be a shell, but no item container was specified in components\")}),(n=>{const s=_h.contents(n),r=o.length,a=r-s.length,i=a>0?N(a,(()=>e.makeItem())):[],l=s.slice(r);L(l,(e=>_h.remove(n,e))),L(i,(e=>_h.append(n,e)));const c=_h.contents(n);L(c,((n,s)=>{e.setupItem(t,n,o[s],s)}))}))}}}},apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}}),xM=y([rs(\"dom\"),ws(\"shell\",!0),ju(\"toolbarBehaviours\",[_h])]),yM=y([ym({name:\"groups\",overrides:()=>({behaviours:ca([_h.config({})])})})]),wM=qm({name:\"Toolbar\",configFields:xM(),partFields:yM(),factory:(e,t,o,n)=>{const s=e.shell?{behaviours:[_h.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:s.components,behaviours:qu(e.toolbarBehaviours,s.behaviours),apis:{setGroups:(t,o)=>{var n;(n=t,e.shell?A.some(n):Bm(n,e,\"groups\")).fold((()=>{throw console.error(\"Toolbar was defined to not be a shell, but no groups container was specified in components\"),new Error(\"Toolbar was defined to not be a shell, but no groups container was specified in components\")}),(e=>{_h.set(e,o)}))},refresh:b},domModification:{attributes:{role:\"group\"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}}),SM=b,CM=T,kM=y([]);var OM,_M=Object.freeze({__proto__:null,setup:SM,isDocked:CM,getBehaviours:kM});const TM=y(Di(\"toolbar-height-change\")),EM={fadeInClass:\"tox-editor-dock-fadein\",fadeOutClass:\"tox-editor-dock-fadeout\",transitionClass:\"tox-editor-dock-transition\"},AM=\"tox-tinymce--toolbar-sticky-on\",MM=\"tox-tinymce--toolbar-sticky-off\",DM=(e,t)=>I(Oi.getModes(e),t),BM=e=>{const t=e.element;at(t).each((o=>{const n=\"padding-\"+Oi.getModes(e)[0];if(Oi.isDocked(e)){const e=Kt(o);Mt(t,\"width\",e+\"px\"),Mt(o,n,(e=>Wt(e)+(parseInt(Ft(e,\"margin-top\"),10)||0)+(parseInt(Ft(e,\"margin-bottom\"),10)||0))(t)+\"px\")}else Vt(t,\"width\"),Vt(o,n)}))},FM=(e,t)=>{t?(Sa(e,EM.fadeOutClass),ka(e,[EM.transitionClass,EM.fadeInClass])):(Sa(e,EM.fadeInClass),ka(e,[EM.fadeOutClass,EM.transitionClass]))},IM=(e,t)=>{const o=ze(e.getContainer());t?(ya(o,AM),Sa(o,MM)):(ya(o,MM),Sa(o,AM))},RM=(e,t)=>{const o=nn(),n=t.getSink,s=e=>{n().each((t=>e(t.element)))},r=t=>{e.inline||BM(t),IM(e,Oi.isDocked(t)),t.getSystem().broadcastOn([_u()],{}),n().each((e=>e.getSystem().broadcastOn([_u()],{})))},a=e.inline?[]:[dc.config({channels:{[TM()]:{onReceive:BM}}})];return[Bh.config({}),Oi.config({contextual:{lazyContext:t=>{const o=Wt(t.element),n=e.inline?e.getContentAreaContainer():e.getContainer();return A.from(n).map((n=>{const s=Ko(ze(n));return Rb(e,t.element).fold((()=>{const e=s.height-o,n=s.y+(DM(t,\"top\")?0:o);return Xo(s.x,n,s.width,e)}),(e=>{const n=Qo(s,Nb(e)),r=DM(t,\"top\")?n.y:n.y+o;return Xo(n.x,r,n.width,n.height-o)}))}))},onShow:()=>{s((e=>FM(e,!0)))},onShown:e=>{s((e=>Oa(e,[EM.transitionClass,EM.fadeInClass]))),o.get().each((t=>{((e,t)=>{const o=tt(t);hc(o).filter((e=>!Ze(t,e))).filter((t=>Ze(t,ze(o.dom.body))||et(e,t))).each((()=>mc(t)))})(e.element,t),o.clear()}))},onHide:e=>{((e,t)=>fc(e).orThunk((()=>t().toOptional().bind((e=>fc(e.element))))))(e.element,n).fold(o.clear,o.set),s((e=>FM(e,!1)))},onHidden:()=>{s((e=>Oa(e,[EM.transitionClass])))},...EM},lazyViewport:t=>Rb(e,t.element).fold((()=>{const o=Zo(),n=Yf(e),s=o.y+(DM(t,\"top\")&&!Ib(e)?n:0),r=o.height-(DM(t,\"bottom\")?n:0);return{bounds:Xo(o.x,s,o.width,r),optScrollEnv:A.none()}}),(e=>({bounds:Nb(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:qt(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var NM=Object.freeze({__proto__:null,setup:(e,t,o)=>{e.inline||(t.header.isPositionedAtTop()||e.on(\"ResizeEditor\",(()=>{o().each(Oi.reset)})),e.on(\"ResizeWindow ResizeEditor\",(()=>{o().each(BM)})),e.on(\"SkinLoaded\",(()=>{o().each((e=>{Oi.isDocked(e)?Oi.reset(e):Oi.refresh(e)}))})),e.on(\"FullscreenStateChanged\",(()=>{o().each(Oi.reset)}))),e.on(\"AfterScrollIntoView\",(e=>{o().each((t=>{Oi.refresh(t);const o=t.element;dp(o)&&((e,t)=>{const o=tt(t),n=st(t).dom.innerHeight,s=Po(o),r=ze(e.elm),a=Jo(r),i=Ut(r),l=a.y,c=l+i,d=qt(t),u=Ut(t),m=d.top,g=m+u,p=Math.abs(m-s.top)<2,h=Math.abs(g-(s.top+n))<2;if(p&&l<g)Uo(s.left,l-u,o);else if(h&&c>m){const e=l-n+i+u;Uo(s.left,e,o)}})(e,o)}))})),e.on(\"PostRender\",(()=>{IM(e,!1)}))},isDocked:e=>e().map(Oi.isDocked).getOr(!1),getBehaviours:RM});const zM=In([ey,as(\"items\",Nn([Vn([ty,ms(\"items\",Un)]),Un]))].concat(Dy)),VM=[fs(\"text\"),fs(\"tooltip\"),fs(\"icon\"),Ss(\"search\",!1,Nn([Wn,In([fs(\"placeholder\")])],(e=>d(e)?e?A.some({placeholder:A.none()}):A.none():A.some(e)))),cs(\"fetch\"),Ts(\"onSetup\",(()=>b)),ks(\"context\",\"mode:design\")],LM=In([ey,...VM]),HM=e=>Kn(\"menubutton\",LM,e),PM=In([ey,fy,hy,gy,xy,iy,uy,Os(\"presets\",\"normal\",[\"normal\",\"color\",\"listpreview\"]),ky(1),cy,dy,ks(\"context\",\"mode:design\")]);var UM=Gm({factory:(e,t)=>{const o={focus:bh.focusIn,setMenus:(e,o)=>{const n=V(o,(e=>{const o={type:\"menubutton\",text:e.text,fetch:t=>{t(e.getItems())},context:\"any\"},n=HM(o).mapError((e=>Zn(e))).getOrDie();return rE(n,\"tox-mbtn\",t.backstage,A.some(\"menuitem\"))}));_h.set(e,n)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:ca([_h.config({}),Th(\"menubar-events\",[Jr((t=>{e.onSetup(t)})),Wr(Ys(),((e,t)=>{Ol(e.element,\".tox-mbtn--active\").each((o=>{_l(t.event.target,\".tox-mbtn\").each((t=>{Ze(o,t)||e.getSystem().getByDom(o).each((o=>{e.getSystem().getByDom(t).each((e=>{DC.expand(e),DC.close(o),Bh.focus(e)}))}))}))}))})),Wr(Tr(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((o=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{DC.isOpen(o)&&(DC.expand(e),DC.close(o))}))}))}))]),bh.config({mode:\"flow\",selector:\".tox-mbtn\",onEscape:t=>(e.onEscape(t),A.some(!0))}),Ub.config({})]),apis:o,domModification:{attributes:{role:\"menubar\"}}}},name:\"silver.Menubar\",configFields:[rs(\"dom\"),rs(\"uid\"),rs(\"onEscape\"),rs(\"backstage\"),ws(\"onSetup\",b)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const WM=\"container\",$M=[ju(\"slotBehaviours\",[])],jM=e=>\"<alloy.field.\"+e+\">\",GM=(e,t)=>{const o=t=>Nm(e),n=(t,o)=>(n,s)=>Bm(n,e,s).map((e=>t(e,s))).getOr(o),s=(e,t)=>\"true\"!==kt(e.element,\"aria-hidden\"),r=n(s,!1),a=n(((e,t)=>{if(s(e)){const o=e.element;Mt(o,\"display\",\"none\"),St(o,\"aria-hidden\",\"true\"),Rr(e,Er(),{name:t,visible:!1})}})),i=(e=>(t,o)=>{L(o,(o=>e(t,o)))})(a),l=n(((e,t)=>{if(!s(e)){const o=e.element;Vt(o,\"display\"),Tt(o,\"aria-hidden\"),Rr(e,Er(),{name:t,visible:!0})}})),c={getSlotNames:o,getSlot:(t,o)=>Bm(t,e,o),isShowing:r,hideSlot:a,hideAllSlots:e=>i(e,o()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.slotBehaviours),apis:c}},qM={...le({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},(e=>ji(e))),sketch:e=>{const t=(()=>{const e=[];return{slot:(t,o)=>(e.push(t),Tm(WM,jM(t),o)),record:y(e)}})(),o=e(t),n=t.record(),s=V(n,(e=>vm({name:e,pname:jM(e)})));return Um(WM,$M,s,GM,o)}},YM=In([hy,fy,Ts(\"onShow\",b),Ts(\"onHide\",b),uy]),XM=e=>({element:()=>e.element.dom}),KM=(e,t)=>{const o=V(re(t),(e=>{const o=t[e],n=Jn((e=>Kn(\"sidebar\",YM,e))(o));return{name:e,getApi:XM,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return V(o,(t=>{const n=en(b);return e.slot(t.name,{dom:{tag:\"div\",classes:[\"tox-sidebar__pane\"]},behaviours:mw([vw(t,n),xw(t,n),Wr(Er(),((e,t)=>{const n=t.event,s=$(o,(e=>e.name===n.name));s.each((t=>{(n.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},JM=e=>qM.sketch((t=>({dom:{tag:\"div\",classes:[\"tox-sidebar__pane-container\"]},components:KM(t,e),slotBehaviours:mw([Jr((e=>qM.hideAllSlots(e)))])}))),QM=(e,t)=>{St(e,\"role\",t)},ZM=e=>Jm.getCurrent(e).bind((e=>nE.isGrowing(e)||nE.hasGrown(e)?Jm.getCurrent(e).bind((e=>$(qM.getSlotNames(e),(t=>qM.isShowing(e,t))))):A.none())),eD=Di(\"FixSizeEvent\"),tD=Di(\"AutoSizeEvent\");var oD=Object.freeze({__proto__:null,block:(e,t,o,n)=>{St(e.element,\"aria-busy\",!0);const s=t.getRoot(e).getOr(e),r=ca([bh.config({mode:\"special\",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),Bh.config({})]),a=n(s,r),i=s.getSystem().build(a);_h.append(s,hl(i)),i.hasConfigured(bh)&&t.focus&&bh.focusIn(i),o.isBlocked()||t.onBlock(e),o.blockWith((()=>_h.remove(s,i)))},unblock:(e,t,o)=>{Tt(e.element,\"aria-busy\"),o.isBlocked()&&t.onUnblock(e),o.clear()},isBlocked:(e,t,o)=>o.isBlocked()}),nD=[Ts(\"getRoot\",A.none),_s(\"focus\",!0),bi(\"onBlock\"),bi(\"onUnblock\")];const sD=ua({fields:nD,name:\"blocking\",apis:oD,state:Object.freeze({__proto__:null,init:()=>{const e=tn((e=>e.destroy()));return la({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),rD=e=>Jm.getCurrent(e).each((e=>mc(e.element,!0))),aD=(e,t,o)=>{const n=en(!1),s=nn(),r=o=>{var s;n.get()&&(!(e=>\"focusin\"===e.type)(s=o)||!(s.composed?te(s.composedPath()):A.from(s.target)).map(ze).filter(je).exists((e=>Ca(e,\"mce-pastebin\"))))&&(o.preventDefault(),rD(t()),e.editorManager.setActive(e))};e.inline||e.on(\"PreInit\",(()=>{e.dom.bind(e.getWin(),\"focusin\",r),e.on(\"BeforeExecCommand\",(e=>{\"mcefocus\"===e.command.toLowerCase()&&!0!==e.value&&r(e)}))}));const a=s=>{s!==n.get()&&(n.set(s),((e,t,o,n)=>{const s=t.element;if(((e,t)=>{const o=\"tabindex\",n=`data-mce-${o}`;A.from(e.iframeElement).map(ze).each((e=>{t?(Ot(e,o).each((t=>St(e,n,t))),St(e,o,-1)):(Tt(e,o),Ot(e,n).each((t=>{St(e,o,t),Tt(e,n)})))}))})(e,o),o)sD.block(t,(e=>(t,o)=>({dom:{tag:\"div\",attributes:{\"aria-label\":e.translate(\"Loading...\"),tabindex:\"0\"},classes:[\"tox-throbber__busy-spinner\"]},components:[{dom:Vb('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')}]}))(n)),Vt(s,\"display\"),Tt(s,\"aria-hidden\"),e.hasFocus()&&rD(t);else{const o=Jm.getCurrent(t).exists((e=>pc(e.element)));sD.unblock(t),Mt(s,\"display\",\"none\"),St(s,\"aria-hidden\",\"true\"),o&&e.focus()}})(e,t(),s,o.providers),((e,t)=>{e.dispatch(\"AfterProgressState\",{state:t})})(e,s))};e.on(\"ProgressState\",(t=>{if(s.on(clearTimeout),h(t.time)){const o=Sf.setEditorTimeout(e,(()=>a(t.state)),t.time);s.set(o)}else a(t.state),s.clear()}))},iD=(e,t,o)=>({within:e,extra:t,withinWidth:o}),lD=(e,t,o)=>{const n=W(e,((e,t)=>((e,t)=>{const n=o(e);return A.some({element:e,start:t,finish:t+n,width:n})})(t,e.len).fold(y(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,s=P(n,(e=>e.finish<=t)),r=U(s,((e,t)=>e+t.width),0);return{within:s,extra:n.slice(s.length),withinWidth:r}},cD=e=>V(e,(e=>e.element)),dD=(e,t)=>{const o=V(t,(e=>hl(e)));wM.setGroups(e,o)},uD=(e,t,o)=>{const n=t.builtGroups.get();if(0===n.length)return;const s=Fm(e,t,\"primary\"),r=uC.getCoupled(e,\"overflowGroup\");Mt(s.element,\"visibility\",\"hidden\");const a=n.concat([r]),i=se(a,(e=>fc(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));o([]),dD(s,a);const l=((e,t,o,n)=>{const s=((e,t,o)=>{const n=lD(t,e,o);return 0===n.extra.length?A.some(n):A.none()})(e,t,o).getOrThunk((()=>lD(t,e-o(n),o))),r=s.within,a=s.extra,i=s.withinWidth;return 1===a.length&&a[0].width<=o(n)?((e,t,o)=>{const n=cD(e.concat(t));return iD(n,[],o)})(r,a,i):a.length>=1?((e,t,o,n)=>{const s=cD(e).concat([o]);return iD(s,cD(t),n)})(r,a,n,i):((e,t,o)=>iD(cD(e),[],o))(r,0,i)})(Kt(s.element),t.builtGroups.get(),(e=>Math.ceil(e.element.dom.getBoundingClientRect().width)),r);0===l.extra.length?(_h.remove(s,r),o([])):(dD(s,l.within),o(l.extra)),Vt(s.element,\"visibility\"),Lt(s.element),i.each(Bh.focus)},mD=y([ju(\"splitToolbarBehaviours\",[uC]),ns(\"builtGroups\",(()=>en([])))]),gD=y([hi([\"overflowToggledClass\"]),vs(\"getOverflowBounds\"),rs(\"lazySink\"),ns(\"overflowGroups\",(()=>en([]))),bi(\"onOpened\"),bi(\"onClosed\")].concat(mD())),pD=y([vm({factory:wM,schema:xM(),name:\"primary\"}),xm({schema:xM(),name:\"overflow\"}),xm({name:\"overflow-button\"}),xm({name:\"overflow-group\"})]),hD=y(((e,t)=>{((e,t)=>{const o=Xt.max(e,t,[\"margin-left\",\"border-left-width\",\"padding-left\",\"padding-right\",\"border-right-width\",\"margin-right\"]);Mt(e,\"max-width\",o+\"px\")})(e,Math.floor(t))})),fD=y([hi([\"toggledClass\"]),rs(\"lazySink\"),cs(\"fetch\"),vs(\"getBounds\"),ys(\"fireDismissalEventInstead\",[ws(\"event\",Or())]),Jc(),bi(\"onToggled\")]),bD=y([xm({name:\"button\",overrides:e=>({dom:{attributes:{\"aria-haspopup\":\"true\"}},buttonBehaviours:ca([Hh.config({toggleClass:e.markers.toggledClass,aria:{mode:\"expanded\"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),xm({factory:wM,schema:xM(),name:\"toolbar\",overrides:e=>({toolbarBehaviours:ca([bh.config({mode:\"cyclic\",onEscape:t=>(Bm(t,e,\"button\").each(Bh.focus),A.none())})])})})]),vD=nn(),xD=(e,t)=>{const o=uC.getCoupled(e,\"toolbarSandbox\");ku.isOpen(o)?ku.close(o):ku.open(o,t.toolbar())},yD=(e,t,o,n)=>{const s=o.getBounds.map((e=>e())),r=o.lazySink(e).getOrDie();Qd.positionWithinBounds(r,t,{anchor:{type:\"hotspot\",hotspot:e,layouts:n,overrides:{maxWidthFunction:hD()}}},s)},wD=(e,t,o,n,s)=>{wM.setGroups(t,s),yD(e,t,o,n),Hh.on(e)},SD=qm({name:\"FloatingToolbarButton\",factory:(e,t,o,n)=>({...zb.sketch({...n.button(),action:e=>{xD(e,n)},buttonBehaviours:Xu({dump:n.button().buttonBehaviours},[uC.config({others:{toolbarSandbox:t=>((e,t,o)=>{const n=El();return{dom:{tag:\"div\",attributes:{id:n.id}},behaviours:ca([bh.config({mode:\"special\",onEscape:e=>(ku.close(e),A.some(!0))}),ku.config({onOpen:(s,r)=>{const a=vD.get().getOr(!1);o.fetch().get((s=>{wD(e,r,o,t.layouts,s),n.link(e.element),a||bh.focusIn(r)}))},onClose:()=>{Hh.off(e),vD.get().getOr(!1)||Bh.focus(e),n.unlink(e.element)},isPartOf:(t,o,n)=>Al(o,n)||Al(e,n),getAttachPoint:()=>o.lazySink(e).getOrDie()}),dc.config({channels:{...Au({isExtraPart:T,...o.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Du({doReposition:()=>{ku.getState(uC.getCoupled(e,\"toolbarSandbox\")).each((n=>{yD(e,n,o,t.layouts)}))}})}})])}})(t,o,e)}})])}),apis:{setGroups:(t,n)=>{ku.getState(uC.getCoupled(t,\"toolbarSandbox\")).each((s=>{wD(t,s,e,o.layouts,n)}))},reposition:t=>{ku.getState(uC.getCoupled(t,\"toolbarSandbox\")).each((n=>{yD(t,n,e,o.layouts)}))},toggle:e=>{xD(e,n)},toggleWithoutFocusing:e=>{((e,t)=>{vD.set(!0),xD(e,t),vD.clear()})(e,n)},getToolbar:e=>ku.getState(uC.getCoupled(e,\"toolbarSandbox\")),isOpen:e=>ku.isOpen(uC.getCoupled(e,\"toolbarSandbox\"))}}),configFields:fD(),partFields:bD(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),CD=y([rs(\"items\"),hi([\"itemSelector\"]),ju(\"tgroupBehaviours\",[bh])]),kD=y([wm({name:\"items\",unit:\"item\"})]),OD=qm({name:\"ToolbarGroup\",configFields:CD(),partFields:kD(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:qu(e.tgroupBehaviours,[bh.config({mode:\"flow\",selector:e.markers.itemSelector})]),domModification:{attributes:{role:\"toolbar\"}}})}),_D=e=>V(e,(e=>hl(e))),TD=(e,t,o)=>{uD(e,o,(n=>{o.overflowGroups.set(n),t.getOpt(e).each((e=>{SD.setGroups(e,_D(n))}))}))},ED=qm({name:\"SplitFloatingToolbar\",configFields:gD(),partFields:pD(),factory:(e,t,o,n)=>{const s=Lb(SD.sketch({fetch:()=>fC((t=>{t(_D(e.overflowGroups.get()))})),layouts:{onLtr:()=>[Xl,Yl],onRtl:()=>[Yl,Xl],onBottomLtr:()=>[Jl,Kl],onBottomRtl:()=>[Kl,Jl]},getBounds:o.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n[\"overflow-button\"](),toolbar:n.overflow()},onToggled:(t,o)=>e[o?\"onOpened\":\"onClosed\"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:qu(e.splitToolbarBehaviours,[uC.config({others:{overflowGroup:()=>OD.sketch({...n[\"overflow-group\"](),items:[s.asSpec()]})}})]),apis:{setGroups:(t,o)=>{e.builtGroups.set(V(o,t.getSystem().build)),TD(t,s,e)},refresh:t=>TD(t,s,e),toggle:e=>{s.getOpt(e).each((e=>{SD.toggle(e)}))},toggleWithoutFocusing:e=>{s.getOpt(e).each(SD.toggleWithoutFocusing)},isOpen:e=>s.getOpt(e).map(SD.isOpen).getOr(!1),reposition:e=>{s.getOpt(e).each((e=>{SD.reposition(e)}))},getOverflow:e=>s.getOpt(e).bind(SD.getToolbar)},domModification:{attributes:{role:\"group\"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),AD=y([hi([\"closedClass\",\"openClass\",\"shrinkingClass\",\"growingClass\",\"overflowToggledClass\"]),bi(\"onOpened\"),bi(\"onClosed\")].concat(mD())),MD=y([vm({factory:wM,schema:xM(),name:\"primary\"}),vm({factory:wM,schema:xM(),name:\"overflow\",overrides:e=>({toolbarBehaviours:ca([nE.config({dimension:{property:\"height\"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Bm(t,e,\"overflow-button\").each((e=>{Hh.off(e)})),e.onClosed(t)},onGrown:t=>{e.onOpened(t)},onStartGrow:t=>{Bm(t,e,\"overflow-button\").each(Hh.on)}}),bh.config({mode:\"acyclic\",onEscape:t=>(Bm(t,e,\"overflow-button\").each(Bh.focus),A.some(!0))})])})}),xm({name:\"overflow-button\",overrides:e=>({buttonBehaviours:ca([Hh.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:\"expanded\"},toggleOnExecute:!1})])})}),xm({name:\"overflow-group\"})]),DD=(e,t,o)=>{Bm(e,t,\"overflow-button\").each((n=>{Bm(e,t,\"overflow\").each((s=>{if(BD(e,t),nE.hasShrunk(s)){const e=t.onOpened;t.onOpened=n=>{o||bh.focusIn(s),e(n),t.onOpened=e}}else{const e=t.onClosed;t.onClosed=s=>{o||Bh.focus(n),e(s),t.onClosed=e}}nE.toggleGrow(s)}))}))},BD=(e,t)=>{Bm(e,t,\"overflow\").each((o=>{uD(e,t,(e=>{const t=V(e,(e=>hl(e)));wM.setGroups(o,t)})),Bm(e,t,\"overflow-button\").each((e=>{nE.hasGrown(o)&&Hh.on(e)})),nE.refresh(o)}))},FD=qm({name:\"SplitSlidingToolbar\",configFields:AD(),partFields:MD(),factory:(e,t,o,n)=>{const s=\"alloy.toolbar.toggle\";return{uid:e.uid,dom:e.dom,components:t,behaviours:qu(e.splitToolbarBehaviours,[uC.config({others:{overflowGroup:e=>OD.sketch({...n[\"overflow-group\"](),items:[zb.sketch({...n[\"overflow-button\"](),action:t=>{Ir(e,s)}})]})}}),Th(\"toolbar-toggle-events\",[Wr(s,(t=>{DD(t,e,!1)}))])]),apis:{setGroups:(t,o)=>{((t,o)=>{const n=V(o,t.getSystem().build);e.builtGroups.set(n)})(t,o),BD(t,e)},refresh:t=>BD(t,e),toggle:t=>{DD(t,e,!1)},toggleWithoutFocusing:t=>{DD(t,e,!0)},isOpen:t=>((e,t)=>Bm(e,t,\"overflow\").map(nE.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:\"group\"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),ID=e=>{const t=e.label.isNone()?e.title.fold((()=>({})),(e=>({attributes:{\"aria-label\":e}}))):e.label.fold((()=>({})),(e=>({attributes:{\"aria-label\":e}})));return{dom:{tag:\"div\",classes:[\"tox-toolbar__group\"].concat(e.label.isSome()?[\"tox-toolbar__group_with_label\"]:[]),...t},components:[...e.label.map((e=>({dom:{tag:\"span\",classes:[\"tox-label\",\"tox-label--context-toolbar\"]},components:[dl(e)]}))).toArray(),OD.parts.items({})],items:e.items,markers:{itemSelector:\"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])\"},tgroupBehaviours:ca([Ub.config({}),Bh.config({ignore:!0})])}},RD=e=>OD.sketch(ID(e)),ND=(e,t)=>{const o=Jr((t=>{const o=V(e.initGroups,RD);wM.setGroups(t,o)}));return ca([fw((()=>e.providers.checkUiComponentContext(\"any\").shouldDisable)),_w((()=>e.providers.checkUiComponentContext(\"any\"))),bh.config({mode:t,onEscape:e.onEscape,visibilitySelector:\".tox-toolbar__overflow\",selector:\".tox-toolbar__group\"}),Th(\"toolbar-events\",[o])])},zD=e=>{const t=e.cyclicKeying?\"cyclic\":\"acyclic\";return{uid:e.uid,dom:{tag:\"div\",classes:[\"tox-toolbar-overlord\"]},parts:{\"overflow-group\":ID({title:A.none(),label:A.none(),items:[]}),\"overflow-button\":FE({context:\"any\",name:\"more\",icon:A.some(\"more-drawer\"),enabled:!0,tooltip:A.some(\"Reveal or hide additional toolbar items\"),primary:!1,buttonType:A.none(),borderless:!1},A.none(),e.providers,[],\"overflow-button\")},splitToolbarBehaviours:ND(e,t)}},VD=e=>{const t=zD(e),o=ED.parts.primary({dom:{tag:\"div\",classes:[\"tox-toolbar__primary\"]}});return ED.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,o=Jo(t),n=nt(t),s=Jo(n),r=Math.max(n.dom.scrollHeight,s.height);return Xo(o.x+4,s.y,o.width-8,r)},parts:{...t.parts,overflow:{dom:{tag:\"div\",classes:[\"tox-toolbar__overflow\"],attributes:e.attributes}}},components:[o],markers:{overflowToggledClass:\"tox-tbtn--enabled\"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},LD=e=>{const t=FD.parts.primary({dom:{tag:\"div\",classes:[\"tox-toolbar__primary\"]}}),o=FD.parts.overflow({dom:{tag:\"div\",classes:[\"tox-toolbar__overflow\"]}}),n=zD(e);return FD.sketch({...n,components:[t,o],markers:{openClass:\"tox-toolbar__overflow--open\",closedClass:\"tox-toolbar__overflow--closed\",growingClass:\"tox-toolbar__overflow--growing\",shrinkingClass:\"tox-toolbar__overflow--shrinking\",overflowToggledClass:\"tox-tbtn--enabled\"},onOpened:t=>{t.getSystem().broadcastOn([TM()],{type:\"opened\"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([TM()],{type:\"closed\"}),e.onToggled(t,!1)}})},HD=e=>{const t=e.cyclicKeying?\"cyclic\":\"acyclic\";return wM.sketch({uid:e.uid,dom:{tag:\"div\",classes:[\"tox-toolbar\"].concat(e.type===yf.scrolling?[\"tox-toolbar--scrolling\"]:[])},components:[wM.parts.groups({})],toolbarBehaviours:ND(e,t)})},PD=[gy,hy,fs(\"tooltip\"),Os(\"buttonType\",\"secondary\",[\"primary\",\"secondary\"]),_s(\"borderless\",!1),cs(\"onAction\"),ks(\"context\",\"mode:design\")],UD={button:[...PD,ny,ls(\"type\",[\"button\"])],togglebutton:[...PD,_s(\"active\",!1),ls(\"type\",[\"togglebutton\"])]},WD=[ls(\"type\",[\"group\"]),Es(\"buttons\",[],es(\"type\",UD))],$D=es(\"type\",{...UD,group:WD}),jD=In([Es(\"buttons\",[],$D),cs(\"onShow\"),cs(\"onHide\")]),GD=(e,t)=>((e,t)=>{var o,n;const s=\"togglebutton\"===e.type,r=e.icon.map((e=>vT(e,t.icons))).map(Lb),a={...e,name:s?e.text.getOr(e.icon.getOr(\"\")):null!==(o=e.text)&&void 0!==o?o:e.icon.getOr(\"\"),primary:\"primary\"===e.buttonType,buttonType:A.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},i=IE(null!==(n=e.buttonType)&&void 0!==n?n:\"secondary\"),l=s?e.text.map(t.translate):A.some(t.translate(e.text)),c=l.map(dl),d=a.tooltip.or(l).map((e=>({\"aria-label\":t.translate(e)}))).getOr({}),u=r.map((e=>e.asSpec())),m=Aw([u,c]),g=e.icon.isSome()&&c.isSome(),p={tag:\"button\",classes:i.concat(...e.icon.isSome()&&!g?[\"tox-button--icon\"]:[]).concat(...g?[\"tox-button--icon-and-text\"]:[]).concat(...e.borderless?[\"tox-button--naked\"]:[]).concat(...\"togglebutton\"===e.type&&e.active?[\"tox-button--enabled\"]:[]),attributes:d},h=BE(a,A.some((o=>{const n=e=>{r.map((n=>n.getOpt(o).each((o=>{_h.set(o,[vT(e,t.icons)])}))))};return s?e.onAction({setIcon:n,setActive:e=>{const t=o.element;e?(ya(t,\"tox-button--enabled\"),St(t,\"aria-pressed\",!0)):(Sa(t,\"tox-button--enabled\"),Tt(t,\"aria-pressed\"))},isActive:()=>Ca(o.element,\"tox-button--enabled\"),focus:()=>mc(o.element)}):\"button\"===e.type?e.onAction({setIcon:n}):void 0})),[],p,m,e.tooltip,t);return zb.sketch(h)})(e,t),qD=Mo().deviceType,YD=qD.isPhone(),XD=qD.isTablet();var KD=qm({name:\"silver.View\",configFields:[rs(\"viewConfig\")],partFields:[ym({factory:{sketch:e=>{let t=!1;const o=V(e.buttons,(o=>\"group\"===o.type?(t=!0,((e,t)=>({dom:{tag:\"div\",classes:[\"tox-view__toolbar__group\"]},components:V(e.buttons,(e=>GD(e,t)))}))(o,e.providers)):GD(o,e.providers)));return{uid:e.uid,dom:{tag:\"div\",classes:[t?\"tox-view__toolbar\":\"tox-view__header\",...YD||XD?[\"tox-view--mobile\",\"tox-view--scrolling\"]:[]]},behaviours:ca([Bh.config({}),bh.config({mode:\"flow\",selector:\"button, .tox-button\",focusInside:$g.OnEnterOrSpaceMode})]),components:t?o:[QC.sketch({dom:{tag:\"div\",classes:[\"tox-view__header-start\"]},components:[]}),QC.sketch({dom:{tag:\"div\",classes:[\"tox-view__header-end\"]},components:o})]}}},schema:[rs(\"buttons\"),rs(\"providers\")],name:\"header\"}),ym({factory:{sketch:e=>({uid:e.uid,behaviours:ca([Bh.config({}),Ub.config({})]),dom:{tag:\"div\",classes:[\"tox-view__pane\"]}})},schema:[],name:\"pane\"})],factory:(e,t,o,n)=>{const s={getPane:t=>gM.getPart(t,e,\"pane\"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,behaviours:ca([Bh.config({}),bh.config({mode:\"cyclic\",focusInside:$g.OnEnterOrSpaceMode})]),apis:s}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const JD=(e,t,o)=>ge(t,((t,n)=>{const s=Jn(Kn(\"view\",jD,t));return e.slot(n,KD.sketch({dom:{tag:\"div\",classes:[\"tox-view\"]},viewConfig:s,components:[...s.buttons.length>0?[KD.parts.header({buttons:s.buttons,providers:o})]:[],KD.parts.pane({})]}))})),QD=(e,t)=>qM.sketch((o=>({dom:{tag:\"div\",classes:[\"tox-view-wrap__slot-container\"]},components:JD(o,e,t),slotBehaviours:mw([Jr((e=>qM.hideAllSlots(e)))])}))),ZD=e=>$(qM.getSlotNames(e),(t=>qM.isShowing(e,t))),eB=(e,t,o)=>{qM.getSlot(e,t).each((e=>{KD.getPane(e).each((t=>{var n;o(e)((n=t.element.dom,{getContainer:y(n)}))}))}))};var tB=Gm({factory:(e,t)=>{const o={setViews:(e,o)=>{_h.set(e,[QD(o,t.backstage.shared.providers)])},whichView:e=>Jm.getCurrent(e).bind(ZD),toggleView:(e,t,o,n)=>Jm.getCurrent(e).exists((s=>{const r=ZD(s),a=r.exists((e=>n===e)),i=qM.getSlot(s,n).isSome();return i&&(qM.hideAllSlots(s),a?((e=>{const t=e.element;Mt(t,\"display\",\"none\"),St(t,\"aria-hidden\",\"true\")})(e),t()):(o(),(e=>{const t=e.element;Vt(t,\"display\"),Tt(t,\"aria-hidden\")})(e),qM.showSlot(s,n),((e,t)=>{eB(e,t,KD.getOnShow)})(s,n)),r.each((e=>((e,t)=>eB(e,t,KD.getOnHide))(s,e)))),i}))};return{uid:e.uid,dom:{tag:\"div\",classes:[\"tox-view-wrap\"],attributes:{\"aria-hidden\":\"true\"},styles:{display:\"none\"}},components:[],behaviours:ca([_h.config({}),Jm.config({find:e=>{const t=_h.contents(e);return te(t)}})]),apis:o}},name:\"silver.ViewWrapper\",configFields:[rs(\"backstage\")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,s)=>e.toggleView(t,o,n,s),whichView:(e,t)=>e.whichView(t)}});const oB=pM.optional({factory:UM,name:\"menubar\",schema:[rs(\"backstage\")]}),nB=pM.optional({factory:{sketch:e=>vM.sketch({uid:e.uid,dom:e.dom,listBehaviours:ca([bh.config({mode:\"acyclic\",selector:\".tox-toolbar\"})]),makeItem:()=>HD({type:e.type,uid:Di(\"multiple-toolbar-item\"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),A.some(!0))}),setupItem:(e,t,o,n)=>{wM.setGroups(t,o)},shell:!0})},name:\"multiple-toolbar\",schema:[rs(\"dom\"),rs(\"onEscape\")]}),sB=pM.optional({factory:{sketch:e=>{const t=(e=>e.type===yf.sliding?LD:e.type===yf.floating?VD:HD)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),A.some(!0)),onToggled:(t,o)=>e.onToolbarToggled(o),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:\"toolbar\",schema:[rs(\"dom\"),rs(\"onEscape\"),rs(\"getSink\")]}),rB=pM.optional({factory:{sketch:e=>{const t=e.editor,o=e.sticky?RM:kM;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:ca(o(t,e.sharedBackstage))}}},name:\"header\",schema:[rs(\"dom\")]}),aB=pM.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:\"a\",attributes:{href:\"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral\",rel:\"noopener\",target:\"_blank\",\"aria-hidden\":\"true\"},classes:[\"tox-promotion-link\"],innerHtml:\"\\u26a1\\ufe0fUpgrade\"}}]})},name:\"promotion\",schema:[rs(\"dom\")]}),iB=pM.optional({name:\"socket\",schema:[rs(\"dom\")]}),lB=pM.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:\"div\",classes:[\"tox-sidebar\"],attributes:{role:\"presentation\"}},components:[{dom:{tag:\"div\",classes:[\"tox-sidebar__slider\"]},components:[],behaviours:ca([Ub.config({}),Bh.config({}),nE.config({dimension:{property:\"width\"},closedClass:\"tox-sidebar--sliding-closed\",openClass:\"tox-sidebar--sliding-open\",shrinkingClass:\"tox-sidebar--sliding-shrinking\",growingClass:\"tox-sidebar--sliding-growing\",onShrunk:e=>{Jm.getCurrent(e).each(qM.hideAllSlots),Ir(e,tD)},onGrown:e=>{Ir(e,tD)},onStartGrow:e=>{Rr(e,eD,{width:Rt(e.element,\"width\").getOr(\"\")})},onStartShrink:e=>{Rr(e,eD,{width:Kt(e.element)+\"px\"})}}),_h.config({}),Jm.config({find:e=>{const t=_h.contents(e);return te(t)}})])}],behaviours:ca([D_(0),Th(\"sidebar-sliding-events\",[Wr(eD,((e,t)=>{Mt(e.element,\"width\",t.event.width)})),Wr(tD,((e,t)=>{Vt(e.element,\"width\")}))])])})},name:\"sidebar\",schema:[rs(\"dom\")]}),cB=pM.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:\"div\",attributes:{\"aria-hidden\":\"true\"},classes:[\"tox-throbber\"],styles:{display:\"none\"}},behaviours:ca([_h.config({}),sD.config({focus:!1}),Jm.config({find:e=>te(e.components())})]),components:[]})},name:\"throbber\",schema:[rs(\"dom\")]}),dB=pM.optional({factory:tB,name:\"viewWrapper\",schema:[rs(\"backstage\")]}),uB=pM.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:\"div\",classes:[\"tox-editor-container\"]},components:e.components})},name:\"editorContainer\",schema:[]});var mB=qm({name:\"OuterContainer\",factory:(e,t,o)=>{let n=!1;const s=e=>{Cl(e,\".tox-statusbar\").each((e=>{\"none\"===Ft(e,\"display\")&&\"true\"===kt(e,\"aria-hidden\")?(Vt(e,\"display\"),Tt(e,\"aria-hidden\")):(Mt(e,\"display\",\"none\"),St(e,\"aria-hidden\",\"true\"))}))},a={getSocket:t=>gM.getPart(t,e,\"socket\"),setSidebar:(t,o,n)=>{gM.getPart(t,e,\"sidebar\").each((e=>((e,t,o)=>{Jm.getCurrent(e).each((n=>{_h.set(n,[JM(t)]);const s=null==o?void 0:o.toLowerCase();r(s)&&be(t,s)&&Jm.getCurrent(n).each((t=>{qM.showSlot(t,s),nE.immediateGrow(n),Vt(n.element,\"width\"),QM(e.element,\"region\")}))}))})(e,o,n)))},toggleSidebar:(t,o)=>{gM.getPart(t,e,\"sidebar\").each((e=>((e,t)=>{Jm.getCurrent(e).each((o=>{Jm.getCurrent(o).each((n=>{nE.hasGrown(o)?qM.isShowing(n,t)?(nE.shrink(o),QM(e.element,\"presentation\")):(qM.hideAllSlots(n),qM.showSlot(n,t),QM(e.element,\"region\")):(qM.hideAllSlots(n),qM.showSlot(n,t),nE.grow(o),QM(e.element,\"region\"))}))}))})(e,o)))},whichSidebar:t=>gM.getPart(t,e,\"sidebar\").bind(ZM).getOrNull(),getHeader:t=>gM.getPart(t,e,\"header\"),getToolbar:t=>gM.getPart(t,e,\"toolbar\"),setToolbar:(t,o)=>{gM.getPart(t,e,\"toolbar\").each((e=>{const t=V(o,RD);e.getApis().setGroups(e,t)}))},setToolbars:(t,o)=>{gM.getPart(t,e,\"multiple-toolbar\").each((e=>{const t=V(o,(e=>V(e,RD)));vM.setItems(e,t)}))},refreshToolbar:t=>{gM.getPart(t,e,\"toolbar\").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{gM.getPart(t,e,\"toolbar\").each((e=>{Se(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{gM.getPart(t,e,\"toolbar\").each((e=>{Se(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>gM.getPart(t,e,\"toolbar\").bind((e=>A.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>gM.getPart(t,e,\"throbber\"),focusToolbar:t=>{gM.getPart(t,e,\"toolbar\").orThunk((()=>gM.getPart(t,e,\"multiple-toolbar\"))).each((e=>{bh.focusIn(e)}))},setMenubar:(t,o)=>{gM.getPart(t,e,\"menubar\").each((e=>{UM.setMenus(e,o)}))},focusMenubar:t=>{gM.getPart(t,e,\"menubar\").each((e=>{UM.focus(e)}))},setViews:(t,o)=>{gM.getPart(t,e,\"viewWrapper\").each((e=>{tB.setViews(e,o)}))},toggleView:(t,o)=>gM.getPart(t,e,\"viewWrapper\").exists((e=>tB.toggleView(e,(()=>a.showMainView(t)),(()=>a.hideMainView(t)),o))),whichView:t=>gM.getPart(t,e,\"viewWrapper\").bind(tB.whichView).getOrNull(),hideMainView:t=>{n=a.isToolbarDrawerToggled(t),n&&a.toggleToolbarDrawer(t),gM.getPart(t,e,\"editorContainer\").each((e=>{const t=e.element;s(t),Mt(t,\"display\",\"none\"),St(t,\"aria-hidden\",\"true\")}))},showMainView:t=>{n&&a.toggleToolbarDrawer(t),gM.getPart(t,e,\"editorContainer\").each((e=>{const t=e.element;s(t),Vt(t,\"display\"),Tt(t,\"aria-hidden\")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:a,behaviours:e.behaviours}},configFields:[rs(\"dom\"),rs(\"behaviours\")],partFields:[rB,oB,sB,nB,iB,lB,aB,cB,dB,uB],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const gB={file:{title:\"File\",items:\"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations\"},edit:{title:\"Edit\",items:\"undo redo | cut copy paste pastetext | selectall | searchreplace\"},view:{title:\"View\",items:\"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments\"},insert:{title:\"Insert\",items:\"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime\"},format:{title:\"Format\",items:\"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat\"},tools:{title:\"Tools\",items:\"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate\"},table:{title:\"Table\",items:\"inserttable | cell row column | advtablesort | tableprops deletetable\"},help:{title:\"Help\",items:\"help\"}},pB=e=>e.split(\" \"),hB=(e,t)=>{const o={...gB,...t.menus},n=re(t.menus).length>0,s=void 0===t.menubar||!0===t.menubar?pB(\"file edit view insert format tools table help\"):pB(!1===t.menubar?\"\":t.menubar),a=P(s,(e=>{const o=be(gB,e);return n?o||fe(t.menus,e).exists((e=>be(e,\"items\"))):o})),i=V(a,(n=>{const s=o[n];return((e,t,o)=>{const n=Pf(o).split(/[ ,]/);return{text:e.title,getItems:()=>q(e.items,(e=>{const o=e.toLowerCase();return 0===o.trim().length||R(n,(e=>e===o))?[]:\"separator\"===o||\"|\"===o?[{type:\"separator\"}]:t.menuItems[o]?[t.menuItems[o]]:[]}))}})({title:s.title,items:pB(s.items)},t,e)}));return P(i,(e=>e.getItems().length>0&&R(e.getItems(),(e=>r(e)||\"separator\"!==e.type))))},fB=(e,t,o)=>(e.on(\"remove\",(()=>o.unload(t))),o.load(t)),bB=(e,t,o,n)=>(e.on(\"remove\",(()=>n.unloadRawCss(t))),n.loadRawCss(t,o)),vB=e=>A.from(tinymce.Resource.get(e)).filter(r),xB=(e,t,o=\"\")=>{const n=(e=>{const t=pb(e);return t?A.from(t):A.none()})(e).map((e=>((e,t)=>\"ui/\"+e+\"/\"+t)(e,`${t}.css`))),s=n.bind(vB);return we(n,s,((e,t)=>({_kind:\"load-raw\",key:e,css:t}))).getOrThunk((()=>{const n=e.editorManager.suffix;return{_kind:\"load-stylesheet\",url:o+`/${t}${n}.css`}}))},yB=(e,t)=>{const o=e.ui.styleSheetLoader,n=xB(e,\"skin\",t);switch(n._kind){case\"load-raw\":const{key:t,css:s}=n;return bB(e,t,s,o),Promise.resolve();case\"load-stylesheet\":const{url:r}=n;return fB(e,r,o);default:return Promise.resolve()}},wB=(e,t)=>{var o;if(o=ze(e.getElement()),!ft(o).isSome())return Promise.resolve();{const o=Cf.DOM.styleSheetLoader,n=xB(e,\"skin.shadowdom\",t);switch(n._kind){case\"load-raw\":const{key:t,css:s}=n;return bB(e,t,s,o),Promise.resolve();case\"load-stylesheet\":const{url:r}=n;return fB(e,r,o);default:return Promise.resolve()}}},SB=(e,t)=>(async(e,t)=>{const o=bb(t);if(await((e,t,o)=>{const n=xB(e,t?\"content.inline\":\"content\",o);switch(n._kind){case\"load-raw\":const{key:s,css:r}=n;return t?bB(e,s,r,e.ui.styleSheetLoader):e.on(\"PostRender\",(()=>{bB(e,s,r,e.dom.styleSheetLoader)})),Promise.resolve();case\"load-stylesheet\":const{url:a}=n;return o&&e.contentCSS.push(a),Promise.resolve();default:return Promise.resolve()}})(t,e,o),!hb(t)&&r(o))return Promise.all([yB(t,o),wB(t,o)]).then()})(e,t).then((e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch(\"SkinLoaded\")})(e)};return()=>{e.initialized?t():e.on(\"init\",t)}})(t),(e=>()=>((e,t)=>{e.dispatch(\"SkinLoadError\",t)})(e,{message:\"Skin could not be loaded\"}))(t)),CB=C(SB,!1),kB=C(SB,!0),OB=(e,t,o)=>De(o)?e.translate(t):e.translate([t,e.translate(o)]),_B=(e,t)=>{const o=(o,s,r,a)=>{const i=e.shared.providers.translate(o.title);if(\"separator\"===o.type)return A.some({type:\"separator\",text:i});if(\"submenu\"===o.type){const e=q(o.getStyleItems(),(e=>n(e,s,a)));return 0===s&&e.length<=0?A.none():A.some({type:\"nestedmenuitem\",text:i,enabled:e.length>0,getSubmenuItems:()=>q(o.getStyleItems(),(e=>n(e,s,a)))})}return A.some({type:\"togglemenuitem\",text:i,icon:o.icon,active:o.isSelected(a),enabled:!r,onAction:t.onAction(o),...o.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},n=(e,n,s)=>{const r=\"formatter\"===e.type&&t.isInvalid(e);return 0===n?r?[]:o(e,n,!1,s).toArray():o(e,n,r,s).toArray()},s=e=>{const o=t.getCurrentValue(),s=t.shouldHide?0:1;return q(e,(e=>n(e,s,o)))};return{validateItems:s,getFetch:(e,t)=>(o,n)=>{const r=t(),a=s(r);n(_T(a,gx.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:A.none()}))}}},TB=(e,t)=>{const o=t.dataset,n=\"basic\"===o.type?()=>V(o.data,(e=>LA(e,t.isSelectedFor,t.getPreviewFor))):o.getData;return{items:_B(e,t),getStyleItems:n}},EB=(e,t,o,n,s,r)=>{const{items:a,getStyleItems:i}=TB(t,o),l=en(o.tooltip);return ST({context:\"mode:design\",text:o.icon.isSome()?A.none():o.text,icon:o.icon,ariaLabel:A.some(o.tooltip),tooltip:A.none(),role:A.none(),fetch:a.getFetch(t,i),onSetup:t=>{const r=o=>t.setTooltip(OB(e,n(o.value),o.value));return e.on(s,r),hS(vS(e,\"NodeChange\",(t=>{const n=t.getComponent();o.updateText(n),ug.set(t.getComponent(),!e.selection.isEditable())}))(t),(()=>e.off(s,r)))},getApi:e=>({getComponent:y(e),setTooltip:o=>{const n=t.shared.providers.translate(o);St(e.element,\"aria-label\",n),l.set(o)}}),columns:1,presets:\"normal\",classes:o.icon.isSome()?[]:[\"bespoke\"],dropdownBehaviours:[Zb.config({...t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(o.tooltip),onShow:e=>{if(o.tooltip!==l.get()){const o=t.shared.providers.translate(l.get());Zb.setComponents(e,t.shared.providers.tooltips.getComponents({tooltipText:o}))}}})})]},\"tox-tbtn\",t.shared,r)};var AB;!function(e){e[e.SemiColon=0]=\"SemiColon\",e[e.Space=1]=\"Space\"}(AB||(AB={}));const MB=(e,t,o)=>{const n=(s=((e,t)=>t===AB.SemiColon?e.replace(/;$/,\"\").split(\";\"):e.split(\" \"))(e.options.get(t),o),V(s,(e=>{let t=e,o=e;const n=e.split(\"=\");return n.length>1&&(t=n[0],o=n[1]),{title:t,format:o}})));var s;return{type:\"basic\",data:n}},DB=y(\"Alignment {0}\"),BB=\"left\",FB=[{title:\"Left\",icon:\"align-left\",format:\"alignleft\",command:\"JustifyLeft\"},{title:\"Center\",icon:\"align-center\",format:\"aligncenter\",command:\"JustifyCenter\"},{title:\"Right\",icon:\"align-right\",format:\"alignright\",command:\"JustifyRight\"},{title:\"Justify\",icon:\"align-justify\",format:\"alignjustify\",command:\"JustifyFull\"}],IB=e=>{const t={type:\"basic\",data:FB};return{tooltip:OB(e,DB(),BB),text:A.none(),icon:A.some(\"align-left\"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:e=>A.none,onAction:t=>()=>$(FB,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const o=$(FB,(t=>e.formatter.match(t.format))).fold(y(BB),(e=>e.title.toLowerCase()));Rr(t,wT,{icon:`align-${o}`}),((e,t)=>{e.dispatch(\"AlignTextUpdate\",t)})(e,{value:o})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},RB=(e,t)=>{const o=t(),n=V(o,(e=>e.format));return A.from(e.formatter.closest(n)).bind((e=>$(o,(t=>t.format===e))))},NB=y(\"Block {0}\"),zB=\"Paragraph\",VB=e=>{const t=MB(e,\"block_formats\",AB.SemiColon);return{tooltip:OB(e,NB(),zB),text:A.some(zB),icon:A.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:t=>()=>{const o=e.formatter.get(t);return o?A.some({tag:o.length>0&&(o[0].inline||o[0].block)||\"div\",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},onAction:xS(e),updateText:o=>{const n=RB(e,(()=>t.data)).fold(y(zB),(e=>e.title));Rr(o,yT,{text:n}),((e,t)=>{e.dispatch(\"BlocksTextUpdate\",t)})(e,{value:n})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},LB=y(\"Font {0}\"),HB=\"System Font\",PB=[\"-apple-system\",\"Segoe UI\",\"Roboto\",\"Helvetica Neue\",\"sans-serif\"],UB=e=>{const t=e.split(/\\s*,\\s*/);return V(t,(e=>e.replace(/^['\"]+|['\"]+$/g,\"\")))},WB=(e,t)=>t.length>0&&Y(t,(t=>e.indexOf(t.toLowerCase())>-1)),$B=e=>{const t=()=>{const t=e=>e?UB(e)[0]:\"\",n=e.queryCommandValue(\"FontName\"),s=o.data,r=n?n.toLowerCase():\"\",a=gb(e),i=$(s,(e=>{const o=e.format;return o.toLowerCase()===r||t(o).toLowerCase()===t(r).toLowerCase()})).orThunk((()=>Ce(((e,t)=>{if(0===e.indexOf(\"-apple-system\")||t.length>0){const o=UB(e.toLowerCase());return WB(o,PB)||WB(o,t)}return!1})(r,a),{title:HB,format:r})));return{matchOpt:i,font:n}},o=MB(e,\"font_family_formats\",AB.SemiColon);return{tooltip:OB(e,LB(),HB),text:A.some(HB),icon:A.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=t();return e},getPreviewFor:e=>()=>A.some({tag:\"div\",styles:-1===e.indexOf(\"dings\")?{\"font-family\":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand(\"FontName\",!1,t.format)}))},updateText:o=>{const{matchOpt:n,font:s}=t(),r=n.fold(y(s),(e=>e.title));Rr(o,yT,{text:r}),((e,t)=>{e.dispatch(\"FontFamilyTextUpdate\",t)})(e,{value:r})},dataset:o,shouldHide:!1,isInvalid:T}},jB={unsupportedLength:[\"em\",\"ex\",\"cap\",\"ch\",\"ic\",\"rem\",\"lh\",\"rlh\",\"vw\",\"vh\",\"vi\",\"vb\",\"vmin\",\"vmax\",\"cm\",\"mm\",\"Q\",\"in\",\"pc\",\"pt\",\"px\"],fixed:[\"px\",\"pt\"],relative:[\"%\"],empty:[\"\"]},GB=(()=>{const e=\"[0-9]+\",t=\"[eE][+-]?\"+e,o=e=>`(?:${e})?`,n=[\"Infinity\",e+\"\\\\.\"+o(e)+o(t),\"\\\\.\"+e+o(t),e+o(t)].join(\"|\");return new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),qB=(e,t)=>A.from(GB.exec(e)).bind((e=>{const o=Number(e[1]),n=e[2];return((e,t)=>R(t,(t=>R(jB[t],(t=>e===t)))))(n,t)?A.some({value:o,unit:n}):A.none()})),YB={tab:y(9),escape:y(27),enter:y(13),backspace:y(8),delete:y(46),left:y(37),up:y(38),right:y(39),down:y(40),space:y(32),home:y(36),end:y(35),pageUp:y(33),pageDown:y(34)},XB=y(\"Font size {0}\"),KB=\"12pt\",JB={\"8pt\":\"1\",\"10pt\":\"2\",\"12pt\":\"3\",\"14pt\":\"4\",\"18pt\":\"5\",\"24pt\":\"6\",\"36pt\":\"7\"},QB={\"xx-small\":\"7pt\",\"x-small\":\"8pt\",small:\"10pt\",medium:\"12pt\",large:\"14pt\",\"x-large\":\"18pt\",\"xx-large\":\"24pt\"},ZB=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const o=Math.pow(10,t);return Math.round(e*o)/o})(72*parseInt(e,10)/96,t||0)+\"pt\":fe(QB,e).getOr(e),eF=e=>fe(JB,e).getOr(\"\"),tF=e=>{const t=()=>{let t=A.none();const o=n.data,s=e.queryCommandValue(\"FontSize\");if(s)for(let e=3;t.isNone()&&e>=0;e--){const n=ZB(s,e),r=eF(n);t=$(o,(e=>e.format===s||e.format===n||e.format===r))}return{matchOpt:t,size:s}},o=y(A.none),n=MB(e,\"font_size_formats\",AB.Space);return{tooltip:OB(e,XB(),KB),text:A.some(KB),icon:A.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:o,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand(\"FontSize\",!1,t.format)}))},updateText:o=>{const{matchOpt:n,size:s}=t(),r=n.fold(y(s),(e=>e.title));Rr(o,yT,{text:r}),((e,t)=>{e.dispatch(\"FontSizeTextUpdate\",t)})(e,{value:r})},dataset:n,shouldHide:!1,isInvalid:T}},oF=e=>De(e)?\"Formats\":\"Format {0}\",nF=(e,t)=>{const o=\"Formats\";return{tooltip:OB(e,oF(\"\"),\"\"),text:A.some(o),icon:A.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:t=>()=>{const o=e.formatter.get(t);return void 0!==o?A.some({tag:o.length>0&&(o[0].inline||o[0].block)||\"div\",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},onAction:xS(e),updateText:t=>{const n=e=>IA(e)?q(e.items,n):RA(e)?[{title:e.title,format:e.format}]:[],s=q(VA(e),n),r=RB(e,y(s)).fold(y({title:o,tooltipLabel:\"\"}),(e=>({title:e.title,tooltipLabel:e.title})));Rr(t,yT,{text:r.title}),((e,t)=>{e.dispatch(\"StylesTextUpdate\",t)})(e,{value:r.tooltipLabel})},shouldHide:Lf(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},sF=y([rs(\"toggleClass\"),rs(\"fetch\"),xi(\"onExecute\"),ws(\"getHotspot\",A.some),ws(\"getAnchorOverrides\",y({})),Jc(),xi(\"onItemExecute\"),gs(\"lazySink\"),rs(\"dom\"),bi(\"onOpen\"),ju(\"splitDropdownBehaviours\",[uC,bh,Bh]),ws(\"matchWidth\",!1),ws(\"useMinWidth\",!1),ws(\"eventOrder\",{}),gs(\"role\"),gs(\"listRole\")].concat(EC())),rF=vm({factory:zb,schema:[rs(\"dom\")],name:\"arrow\",defaults:()=>({buttonBehaviours:ca([Bh.revoke()])}),overrides:e=>({dom:{tag:\"span\",attributes:{role:\"presentation\"}},action:t=>{t.getSystem().getByUid(e.uid).each(Nr)},buttonBehaviours:ca([Hh.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),aF=vm({factory:zb,schema:[rs(\"dom\")],name:\"button\",defaults:()=>({buttonBehaviours:ca([Bh.revoke()])}),overrides:e=>({dom:{tag:\"span\",attributes:{role:\"presentation\"}},action:t=>{t.getSystem().getByUid(e.uid).each((o=>{e.onExecute(o,t)}))}})}),iF=y([rF,aF,ym({factory:{sketch:e=>({uid:e.uid,dom:{tag:\"span\",styles:{display:\"none\"},attributes:{\"aria-hidden\":\"true\"},innerHtml:e.text}})},schema:[rs(\"text\")],name:\"aria-descriptor\"}),xm({schema:[pi()],name:\"menu\",defaults:e=>({onExecute:(t,o)=>{t.getSystem().getByUid(e.uid).each((n=>{e.onItemExecute(n,t,o)}))}})}),xC()]),lF=qm({name:\"SplitDropdown\",configFields:sF(),partFields:iF(),factory:(e,t,o,n)=>{const s=e=>{Jm.getCurrent(e).each((e=>{wg.highlightFirst(e),bh.focusIn(e)}))},r=t=>{CC(e,w,t,n,s,ff.HighlightMenuAndItem).get(b)},a=t=>{const o=Fm(t,e,\"button\");return Nr(o),A.some(!0)},i={...Hr([Jr(((t,o)=>{Bm(t,e,\"aria-descriptor\").each((e=>{const o=Di(\"aria\");St(e.element,\"id\",o),St(t.element,\"aria-describedby\",o)}))}))]),...Wh(A.some(r))},l={repositionMenus:e=>{Hh.isOn(e)&&TC(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[mr()]:[\"disabling\",\"toggling\",\"alloy.base.behaviour\"]},events:i,behaviours:qu(e.splitDropdownBehaviours,[uC.config({others:{sandbox:t=>{const o=Fm(t,e,\"arrow\");return _C(e,t,{onOpen:()=>{Hh.on(o),Hh.on(t)},onClose:()=>{Hh.off(o),Hh.off(t)}})}}}),bh.config({mode:\"special\",onSpace:a,onEnter:a,onDown:e=>(r(e),A.some(!0))}),Bh.config({}),Hh.config({toggleOnExecute:!1,aria:{mode:\"expanded\"}})]),domModification:{attributes:{role:e.role.getOr(\"button\"),\"aria-haspopup\":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),cF=e=>({isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t),setText:t=>Rr(e,yT,{text:t}),setIcon:t=>Rr(e,wT,{icon:t})}),dF=e=>({setActive:t=>{Hh.set(e,t)},isActive:()=>Hh.isOn(e),isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t),setText:t=>Rr(e,yT,{text:t}),setIcon:t=>Rr(e,wT,{icon:t})}),uF=(e,t)=>e.map((e=>({\"aria-label\":t.translate(e)}))).getOr({}),mF=Di(\"focus-button\"),gF=(e,t,o,n,s,r,a)=>{const i=t.map((e=>Lb(xT(e,\"tox-tbtn\",s)))),l=e.map((e=>Lb(vT(e,s.icons))));return{dom:{tag:\"button\",classes:[\"tox-tbtn\"].concat(t.isSome()?[\"tox-tbtn--select\"]:[]),attributes:{...uF(o,s),...g(a)?{\"data-mce-name\":a}:{}}},components:Aw([l.map((e=>e.asSpec())),i.map((e=>e.asSpec()))]),eventOrder:{[$s()]:[\"focusing\",\"alloy.base.behaviour\",gT],[Cr()]:[gT,\"toolbar-group-button-events\"],[kr()]:[gT,\"toolbar-group-button-events\",\"tooltipping\"]},buttonBehaviours:ca([fw((()=>s.checkUiComponentContext(r).shouldDisable)),_w((()=>s.checkUiComponentContext(r))),Th(gT,[Jr(((e,t)=>hT(e))),Wr(yT,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{_h.set(e,[dl(s.translate(t.event.text))])}))})),Wr(wT,((e,t)=>{l.bind((t=>t.getOpt(e))).each((e=>{_h.set(e,[vT(t.event.icon,s.icons)])}))})),Wr($s(),((e,t)=>{t.event.prevent(),Ir(e,mF)}))])].concat(n.getOr([])))}},pF=(e,t,o,n)=>{var s;const r=en(b),a=gF(e.icon,e.text,e.tooltip,A.none(),o,e.context,n);return zb.sketch({dom:a.dom,components:a.components,eventOrder:pT,buttonBehaviours:{...ca([Th(\"toolbar-button-events\",[(i={onAction:e.onAction,getApi:t.getApi},ea(((e,t)=>{bw(i,e)((t=>{Rr(e,mT,{buttonApi:t}),i.onAction(t)}))}))),vw(t,r),xw(t,r)]),...e.tooltip.map((t=>Zb.config(o.tooltips.getConfig({tooltipText:o.translate(t)+e.shortcut.map((e=>` (${Bw(e)})`)).getOr(\"\")})))).toArray(),fw((()=>!e.enabled||o.checkUiComponentContext(e.context).shouldDisable)),_w((()=>o.checkUiComponentContext(e.context)))].concat(t.toolbarButtonBehaviours)),[gT]:null===(s=a.buttonBehaviours)||void 0===s?void 0:s[gT]}});var i},hF=(e,t,o,n)=>pF(e,{toolbarButtonBehaviours:o.length>0?[Th(\"toolbarButtonWith\",o)]:[],getApi:cF,onSetup:e.onSetup},t,n),fF=(e,t,o,n)=>pF(e,{toolbarButtonBehaviours:[_h.config({}),Hh.config({toggleClass:\"tox-tbtn--enabled\",aria:{mode:\"pressed\"},toggleOnExecute:!1})].concat(o.length>0?[Th(\"toolbarToggleButtonWith\",o)]:[]),getApi:dF,onSetup:e.onSetup},t,n),bF=(e,t,o)=>n=>fC((e=>t.fetch(e))).map((s=>A.from(LC(xn(QS(Di(\"menu-value\"),s,(o=>{t.onItemAction(e(n),o)}),t.columns,t.presets,gx.CLOSE_ON_EXECUTE,t.select.getOr(T),o),{movement:eC(t.columns,t.presets),menuBehaviours:mw(\"auto\"!==t.columns?[]:[Jr(((e,o)=>{uw(e,4,Ox(t.presets)).each((({numRows:t,numColumns:o})=>{bh.setGridSize(e,t,o)}))}))])}))))),vF=[{name:\"history\",items:[\"undo\",\"redo\"]},{name:\"ai\",items:[\"aidialog\",\"aishortcuts\"]},{name:\"styles\",items:[\"styles\"]},{name:\"formatting\",items:[\"bold\",\"italic\"]},{name:\"alignment\",items:[\"alignleft\",\"aligncenter\",\"alignright\",\"alignjustify\"]},{name:\"indentation\",items:[\"outdent\",\"indent\"]},{name:\"permanent pen\",items:[\"permanentpen\"]},{name:\"comments\",items:[\"addcomment\"]}],xF=(e,t)=>(o,n,s,r)=>{const a=e(o).mapError((e=>Zn(e))).getOrDie();return t(a,n,s,r)},yF={button:xF(Fy,((e,t,o,n)=>((e,t,o)=>hF(e,t,[],o))(e,t.shared.providers,n))),togglebutton:xF(Ny,((e,t,o,n)=>((e,t,o)=>fF(e,t,[],o))(e,t.shared.providers,n))),menubutton:xF(HM,((e,t,o,n)=>rE(e,\"tox-tbtn\",t,A.none(),!1,n))),splitbutton:xF((e=>Kn(\"SplitButton\",PM,e)),((e,t,o,n)=>((e,t,o)=>{const n=en(e.tooltip.getOr(\"\")),s=e=>({isEnabled:()=>!ug.isDisabled(e),setEnabled:t=>ug.set(e,!t),setIconFill:(t,o)=>{Ol(e.element,`svg path[class=\"${t}\"], rect[class=\"${t}\"]`).each((e=>{St(e,\"fill\",o)}))},setActive:t=>{St(e.element,\"aria-pressed\",t),Ol(e.element,\"span\").each((o=>{e.getSystem().getByDom(o).each((e=>Hh.set(e,t)))}))},isActive:()=>Ol(e.element,\"span\").exists((t=>e.getSystem().getByDom(t).exists(Hh.isOn))),setText:t=>Ol(e.element,\"span\").each((o=>e.getSystem().getByDom(o).each((e=>Rr(e,yT,{text:t}))))),setIcon:t=>Ol(e.element,\"span\").each((o=>e.getSystem().getByDom(o).each((e=>Rr(e,wT,{icon:t}))))),setTooltip:o=>{const s=t.providers.translate(o);St(e.element,\"aria-label\",s),n.set(o)}}),r=en(b),a={getApi:s,onSetup:e.onSetup};return lF.sketch({dom:{tag:\"div\",classes:[\"tox-split-button\"],attributes:{\"aria-pressed\":!1,...uF(e.tooltip,t.providers),...g(o)?{\"data-mce-name\":o}:{}}},onExecute:t=>{const o=s(t);o.isEnabled()&&e.onAction(o)},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:ca([Th(\"split-dropdown-events\",[Jr(((e,t)=>hT(e))),Wr(mF,Bh.focus),vw(a,r),xw(a,r)]),hw((()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable)),_w((()=>t.providers.checkUiComponentContext(e.context))),Ak.config({}),...e.tooltip.map((e=>Zb.config({...t.providers.tooltips.getConfig({tooltipText:t.providers.translate(e),onShow:o=>{if(n.get()!==e){const e=t.providers.translate(n.get());Zb.setComponents(o,t.providers.tooltips.getComponents({tooltipText:e}))}}})}))).toArray()]),eventOrder:{[Cr()]:[\"alloy.base.behaviour\",\"split-dropdown-events\",\"tooltipping\"],[kr()]:[\"split-dropdown-events\",\"tooltipping\"]},toggleClass:\"tox-tbtn--enabled\",lazySink:t.getSink,fetch:bF(s,e,t.providers),parts:{menu:Dx(0,e.columns,e.presets)},components:[lF.parts.button(gF(e.icon,e.text,A.none(),A.some([Hh.config({toggleClass:\"tox-tbtn--enabled\",toggleOnExecute:!1}),fw(T),_w(y({contextType:\"any\",shouldDisable:!1}))]),t.providers,e.context)),lF.parts.arrow({dom:{tag:\"button\",classes:[\"tox-tbtn\",\"tox-split-button__chevron\"],innerHtml:rx(\"chevron-down\",t.providers.icons)},buttonBehaviours:ca([hw(T),_w(y({contextType:\"any\",shouldDisable:!1}))])}),lF.parts[\"aria-descriptor\"]({text:t.providers.translate(\"To open the popup, press Shift+Enter\")})]})})(e,t.shared,n))),grouptoolbarbutton:xF((e=>Kn(\"GroupToolbarButton\",zM,e)),((e,t,o,n)=>{const s=o.ui.registry.getAll().buttons,r={[Xc]:t.shared.header.isPositionedAtTop()?Yc.TopToBottom:Yc.BottomToTop};if(Uf(o)===yf.floating)return((e,t,o,n,s)=>{const r=t.shared,a=en(b),i={toolbarButtonBehaviours:[],getApi:cF,onSetup:e.onSetup},l=[Th(\"toolbar-group-button-events\",[vw(i,a),xw(i,a)]),...e.tooltip.map((e=>Zb.config(t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(e)})))).toArray()];return SD.sketch({lazySink:r.getSink,fetch:()=>fC((t=>{t(V(o(e.items),RD))})),markers:{toggledClass:\"tox-tbtn--enabled\"},parts:{button:gF(e.icon,e.text,e.tooltip,A.some(l),r.providers,e.context,s),toolbar:{dom:{tag:\"div\",classes:[\"tox-toolbar__overflow\"],attributes:n}}}})})(e,t,(e=>SF(o,{buttons:s,toolbar:e,allowToolbarGroups:!1},t,A.none())),r,n);throw new Error(\"Toolbar groups are only supported when using floating toolbar mode\")}))},wF={styles:(e,t)=>{const o={type:\"advanced\",...t.styles};return EB(e,t,nF(e,o),oF,\"StylesTextUpdate\",\"styles\")},fontsize:(e,t)=>EB(e,t,tF(e),XB,\"FontSizeTextUpdate\",\"fontsize\"),fontsizeinput:(e,t)=>((e,t,o,n)=>{let s=A.none();const r=vS(e,\"NodeChange SwitchMode DisabledStateChange\",(t=>{const n=t.getComponent();s=A.some(n),o.updateInputValue(n),ug.set(n,!e.selection.isEditable()||Mf(e))})),a=e=>({getComponent:y(e)}),i=en(b),l=Di(\"custom-number-input-events\"),c=(e,t,n)=>{const r=s.map((e=>$u.getValue(e))).getOr(\"\"),a=o.getNewValue(r,e),i=r.length-`${a}`.length,l=s.map((e=>e.element.dom.selectionStart-i)),c=s.map((e=>e.element.dom.selectionEnd-i));o.onAction(a,n),s.each((e=>{$u.setValue(e,a),t&&(l.each((t=>e.element.dom.selectionStart=t)),c.each((t=>e.element.dom.selectionEnd=t)))}))},d=(e,t)=>c(((e,t)=>e-t),e,t),u=(e,t)=>c(((e,t)=>e+t),e,t),m=e=>at(e.element).fold(A.none,(e=>(mc(e),A.some(!0)))),p=e=>pc(e.element)?(dt(e.element).each((e=>mc(e))),A.some(!0)):A.none(),h=(o,n,s,r)=>{const i=en(b),l=t.shared.providers.translate(s),c=Di(\"altExecuting\"),d=vS(e,\"NodeChange SwitchMode DisabledStateChange\",(t=>{ug.set(t.getComponent(),!e.selection.isEditable()||Mf(e))})),u=e=>{ug.isDisabled(e)||o(!0)};return zb.sketch({dom:{tag:\"button\",attributes:{\"aria-label\":l,\"data-mce-name\":n},classes:r.concat(n)},components:[bT(n,t.shared.providers.icons)],buttonBehaviours:ca([ug.config({}),Zb.config(t.shared.providers.tooltips.getConfig({tooltipText:l})),Th(c,[vw({onSetup:d,getApi:a},i),xw({getApi:a},i),Wr(Js(),((e,t)=>{t.event.raw.keyCode!==YB.space()&&t.event.raw.keyCode!==YB.enter()||ug.isDisabled(e)||o(!1)})),Wr(tr(),u),Wr(Us(),u)])]),eventOrder:{[Js()]:[c,\"keying\"],[tr()]:[c,\"alloy.base.behaviour\"],[Us()]:[c,\"alloy.base.behaviour\"],[Cr()]:[\"alloy.base.behaviour\",c,\"tooltipping\"],[kr()]:[c,\"tooltipping\"]}})},f=Lb(h((e=>d(!1,e)),\"minus\",\"Decrease font size\",[])),v=Lb(h((e=>u(!1,e)),\"plus\",\"Increase font size\",[])),x=Lb({dom:{tag:\"div\",classes:[\"tox-input-wrapper\"]},components:[Nx.sketch({inputBehaviours:ca([ug.config({}),Th(l,[vw({onSetup:r,getApi:a},i),xw({getApi:a},i)]),Th(\"input-update-display-text\",[Wr(yT,((e,t)=>{$u.setValue(e,t.event.text)})),Wr(Ks(),(e=>{o.onAction($u.getValue(e))})),Wr(er(),(e=>{o.onAction($u.getValue(e))}))]),bh.config({mode:\"special\",onEnter:e=>(c(w,!0,!0),A.some(!0)),onEscape:m,onUp:e=>(u(!0,!1),A.some(!0)),onDown:e=>(d(!0,!1),A.some(!0)),onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())})])})],behaviours:ca([Bh.config({}),bh.config({mode:\"special\",onEnter:p,onSpace:p,onEscape:m}),Th(\"input-wrapper-events\",[Wr(Ys(),(e=>{L([f,v],(t=>{const o=ze(t.get(e).element.dom);pc(o)&&gc(o)}))}))])])});return{dom:{tag:\"div\",classes:[\"tox-number-input\"],attributes:{...g(n)?{\"data-mce-name\":n}:{}}},components:[f.asSpec(),x.asSpec(),v.asSpec()],behaviours:ca([Bh.config({}),bh.config({mode:\"flow\",focusInside:$g.OnEnterOrSpaceMode,cycles:!1,selector:\"button, .tox-input-wrapper\",onEscape:e=>pc(e.element)?A.none():(mc(e.element),A.some(!0))})])}})(e,t,(e=>{const t=()=>e.queryCommandValue(\"FontSize\");return{updateInputValue:e=>Rr(e,yT,{text:t()}),onAction:(t,o)=>e.execCommand(\"FontSize\",!1,t,{skip_focus:!o}),getNewValue:(o,n)=>{qB(o,[\"unsupportedLength\",\"empty\"]);const s=t(),r=qB(o,[\"unsupportedLength\",\"empty\"]).or(qB(s,[\"unsupportedLength\",\"empty\"])),a=r.map((e=>e.value)).getOr(16),i=Zf(e),l=r.map((e=>e.unit)).filter((e=>\"\"!==e)).getOr(i),c=n(a,(e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}})(l).step),d=`${(e=>e>=0)(c)?c:a}${l}`;return d!==s&&((e,t)=>{e.dispatch(\"FontSizeInputTextUpdate\",t)})(e,{value:d}),d}}})(e),\"fontsizeinput\"),fontfamily:(e,t)=>EB(e,t,$B(e),LB,\"FontFamilyTextUpdate\",\"fontfamily\"),blocks:(e,t)=>EB(e,t,VB(e),NB,\"BlocksTextUpdate\",\"blocks\"),align:(e,t)=>EB(e,t,IB(e),DB,\"AlignTextUpdate\",\"align\")},SF=(e,t,o,n)=>{const s=(e=>{const t=e.toolbar,o=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=V(vF,(t=>{const o=P(t.items,(t=>be(e,t)||be(wF,t)));return{name:t.name,items:o}}));return P(t,(e=>e.items.length>0))})(o):r(t)?(e=>{const t=e.split(\"|\");return V(t,(e=>({items:e.trim().split(\" \")})))})(t):(e=>f(e,(e=>(be(e,\"name\")||be(e,\"label\"))&&be(e,\"items\"))))(t)?t:(console.error(\"Toolbar type should be string, string[], boolean or ToolbarGroup[]\"),[])})(t),a=V(s,(s=>{const r=q(s.items,(s=>0===s.trim().length?[]:((e,t,o,n,s,r)=>fe(t,o.toLowerCase()).orThunk((()=>r.bind((e=>se(e,(e=>fe(t,e+o.toLowerCase()))))))).fold((()=>fe(wF,o.toLowerCase()).map((t=>t(e,s)))),(t=>\"grouptoolbarbutton\"!==t.type||n?((e,t,o,n)=>fe(yF,e.type).fold((()=>(console.error(\"skipping button defined by\",e),A.none())),(s=>A.some(s(e,t,o,n)))))(t,s,e,o.toLowerCase()):(console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none()))))(e,t.buttons,s,t.allowToolbarGroups,o,n).toArray()));return{title:A.from(e.translate(s.name)),label:Ce(void 0!==s.label,e.translate(s.label)),items:r}}));return P(a,(e=>e.items.length>0))},CF=(e,t,o,n)=>{const s=t.mainUi.outerContainer,a=o.toolbar,i=o.buttons;if(f(a,r)){const t=a.map((t=>{const s={toolbar:t,buttons:i,allowToolbarGroups:o.allowToolbarGroups};return SF(e,s,n,A.none())}));mB.setToolbars(s,t)}else mB.setToolbar(s,SF(e,o,n,A.none()))},kF=Mo(),OF=kF.os.isiOS()&&kF.os.version.major<=12;var _F=Object.freeze({__proto__:null,render:(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=t,i=en(0),l=r.outerContainer;CB(e);const d=ze(s.targetNode),u=ht(pt(d));uu(d,r.mothership),((e,t,o)=>{Eb(e)&&uu(o.mainUi.mothership.element,o.popupUi.mothership),du(t,o.dialogUi.mothership)})(e,u,t),e.on(\"PostRender\",(()=>{mB.setSidebar(l,o.sidebar,db(e))})),e.on(\"SkinLoaded\",(()=>{CF(e,t,o,n),i.set(e.getWin().innerWidth),mB.setMenubar(l,hB(e,o)),mB.setViews(l,o.views),((e,t)=>{const{uiMotherships:o}=t,n=e.dom;let s=e.getWin();const r=e.getDoc().documentElement,a=en(jt(s.innerWidth,s.innerHeight)),i=en(jt(r.offsetWidth,r.offsetHeight)),l=()=>{const t=a.get();t.left===s.innerWidth&&t.top===s.innerHeight||(a.set(jt(s.innerWidth,s.innerHeight)),uS(e))},c=()=>{const t=e.getDoc().documentElement,o=i.get();o.left===t.offsetWidth&&o.top===t.offsetHeight||(i.set(jt(t.offsetWidth,t.offsetHeight)),uS(e))},d=t=>{((e,t)=>{e.dispatch(\"ScrollContent\",t)})(e,t)};n.bind(s,\"resize\",l),n.bind(s,\"scroll\",d);const u=Bc(ze(e.getBody()),\"load\",c);e.on(\"hide\",(()=>{L(o,(e=>{Mt(e.element,\"display\",\"none\")}))})),e.on(\"show\",(()=>{L(o,(e=>{Vt(e.element,\"display\")}))})),e.on(\"NodeChange\",c),e.on(\"remove\",(()=>{u.unbind(),n.unbind(s,\"resize\",l),n.unbind(s,\"scroll\",d),s=null}))})(e,t)}));const m=mB.getSocket(l).getOrDie(\"Could not find expected socket element\");if(OF){Dt(m.element,{overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});const t=(e=>{let t=null;return{cancel:()=>{c(t)||(clearTimeout(t),t=null)},throttle:(...o)=>{c(t)&&(t=setTimeout((()=>{t=null,e.apply(null,o)}),20))}}})((()=>{e.dispatch(\"ScrollContent\")})),o=Dc(m.element,\"scroll\",t.throttle);e.on(\"remove\",o.unbind)}Ow(e,t),e.addCommand(\"ToggleSidebar\",((t,o)=>{mB.toggleSidebar(l,o),(e=>{e.dispatch(\"ToggleSidebar\")})(e)})),e.addQueryValueHandler(\"ToggleSidebar\",(()=>{var e;return null!==(e=mB.whichSidebar(l))&&void 0!==e?e:\"\"})),e.addCommand(\"ToggleView\",((t,o)=>{if(mB.toggleView(l,o)){const t=l.element;r.mothership.broadcastOn([Ou()],{target:t}),L(a,(e=>{e.broadcastOn([Ou()],{target:t})})),c(mB.whichView(l))&&(e.focus(),e.nodeChanged(),mB.refreshToolbar(l)),(e=>{e.dispatch(\"ToggleView\")})(e)}})),e.addQueryValueHandler(\"ToggleView\",(()=>{var e;return null!==(e=mB.whichView(l))&&void 0!==e?e:\"\"}));const g=Uf(e);g!==yf.sliding&&g!==yf.floating||e.on(\"ResizeWindow ResizeEditor ResizeContent\",(()=>{const o=e.getWin().innerWidth;o!==i.get()&&(mB.refreshToolbar(t.mainUi.outerContainer),i.set(o))}));const p={setEnabled:e=>{kw(t,e?\"setEnabled\":\"setDisabled\")},isEnabled:()=>!ug.isDisabled(l)};return{iframeContainer:m.element.dom,editorContainer:l.element.dom,api:p}}});const TF=e=>/^[0-9\\.]+(|px)$/i.test(\"\"+e)?A.some(parseInt(\"\"+e,10)):A.none(),EF=e=>h(e)?e+\"px\":e,AF=(e,t,o)=>{const n=t.filter((t=>e<t)),s=o.filter((t=>e>t));return n.or(s).getOr(e)},MF=e=>{const t=Bf(e),o=Ff(e),n=Rf(e);return TF(t).map((e=>AF(e,o,n)))},{ToolbarLocation:DF,ToolbarMode:BF}=Mb,FF=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=o,i=Cf.DOM,l=kb(e),c=Tb(e),d=Rf(e).or(MF(e)),u=n.shared.header,m=u.isPositionedAtTop,g=Uf(e),p=g===BF.sliding||g===BF.floating,h=en(!1),f=()=>h.get()&&!e.removed,b=e=>p?e.fold(y(0),(e=>e.components().length>1?Ut(e.components()[1].element):0)):0,v=()=>{L(a,(e=>{e.broadcastOn([_u()],{})}))},x=o=>{if(!f())return;l||s.on((e=>{const o=d.getOrThunk((()=>$o().width-Yt(t).left-10));Mt(e.element,\"max-width\",o+\"px\")}));const n=Po(),a=!(l||l||!(qt(r.outerContainer.element).left+Jt(r.outerContainer.element)>=window.innerWidth-40||Rt(r.outerContainer.element,\"width\").isSome())||(Mt(r.outerContainer.element,\"position\",\"absolute\"),Mt(r.outerContainer.element,\"left\",\"0px\"),Vt(r.outerContainer.element,\"width\"),0));if(p&&mB.refreshToolbar(r.outerContainer),!l){const o=Po(),i=Ce(n.left!==o.left,n);((o,n)=>{s.on((s=>{const a=mB.getToolbar(r.outerContainer),i=b(a),l=Ko(t),c=((e,t)=>Eb(e)?Aa(t):A.none())(e,r.outerContainer.element),d=c.fold((()=>l.x),(e=>{const t=Ko(e);return Ze(e,xt())?l.x:l.x-t.x})),u=Ce(o,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter((e=>e>150)).map((e=>{const t=n.getOr(Po()),o=window.innerWidth-(d-t.left),s=Math.max(Math.min(e,o),150);return o<e&&Mt(r.outerContainer.element,\"width\",s+\"px\"),{width:s+\"px\"}})).getOr({width:\"max-content\"}),g={position:\"absolute\",left:Math.round(d)+\"px\",top:c.fold((()=>m()?Math.max(l.y-Ut(s.element)+i,0):l.bottom),(e=>{var t;const o=Ko(e),n=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,r=Ze(e,xt())?Math.max(l.y-Ut(s.element)+i,0):l.y-o.y+n-Ut(s.element)+i;return m()?r:l.bottom}))+\"px\"};Dt(r.outerContainer.element,{...g,...u})}))})(a,i),i.each((e=>{Uo(e.left,o.top)}))}c&&s.on(o),v()},w=()=>!(l||!c||!f())&&s.get().exists((o=>{const n=u.getDockingMode(),a=(o=>{switch($f(e)){case DF.auto:const e=mB.getToolbar(r.outerContainer),n=b(e),s=Ut(o.element)-n,a=Ko(t);if(a.y>s)return\"top\";{const e=nt(t),o=Math.max(e.dom.scrollHeight,Ut(e));return a.bottom<o-s||Zo().bottom<a.bottom-s?\"bottom\":\"top\"}case DF.bottom:return\"bottom\";case DF.top:default:return\"top\"}})(o);return a!==n&&(i=a,s.on((e=>{Oi.setModes(e,[i]),u.setDockingMode(i);const t=m()?Yc.TopToBottom:Yc.BottomToTop;St(e.element,Xc,t)})),!0);var i}));return{isVisible:f,isPositionedAtTop:m,show:()=>{h.set(!0),Mt(r.outerContainer.element,\"display\",\"flex\"),i.addClass(e.getBody(),\"mce-edit-focus\"),L(a,(e=>{Vt(e.element,\"display\")})),w(),Eb(e)?x((e=>Oi.isDocked(e)?Oi.reset(e):Oi.refresh(e))):x(Oi.refresh)},hide:()=>{h.set(!1),Mt(r.outerContainer.element,\"display\",\"none\"),i.removeClass(e.getBody(),\"mce-edit-focus\"),L(a,(e=>{Mt(e.element,\"display\",\"none\")}))},update:x,updateMode:()=>{w()&&x(Oi.reset)},repositionPopups:v}},IF=(e,t)=>{const o=Ko(e);return{pos:t?o.y:o.bottom,bounds:o}};var RF=Object.freeze({__proto__:null,render:(e,t,o,n,s)=>{const{mainUi:r}=t,a=nn(),i=ze(s.targetNode),l=FF(e,i,t,n,a),c=qf(e);kB(e);const d=()=>{if(a.isSet())return void l.show();a.set(mB.getHeader(r.outerContainer).getOrDie());const s=Ob(e);Eb(e)?(uu(i,r.mothership),uu(i,t.popupUi.mothership)):du(s,r.mothership),du(s,t.dialogUi.mothership);const d=()=>{CF(e,t,o,n),mB.setMenubar(r.outerContainer,hB(e,o)),l.show(),((e,t,o,n)=>{const s=en(IF(t,o.isPositionedAtTop())),r=n=>{const{pos:r,bounds:a}=IF(t,o.isPositionedAtTop()),{pos:i,bounds:l}=s.get(),c=a.height!==l.height||a.width!==l.width;s.set({pos:r,bounds:a}),c&&uS(e,n),o.isVisible()&&(i!==r?o.update(Oi.reset):c&&(o.updateMode(),o.repositionPopups()))};n||(e.on(\"activate\",o.show),e.on(\"deactivate\",o.hide)),e.on(\"SkinLoaded ResizeWindow\",(()=>o.update(Oi.reset))),e.on(\"NodeChange keydown\",(e=>{requestAnimationFrame((()=>r(e)))}));let a=0;const i=W_((()=>o.update(Oi.refresh)),33);e.on(\"ScrollWindow\",(()=>{const e=Po().left;e!==a&&(a=e,i.throttle()),o.updateMode()})),Eb(e)&&e.on(\"ElementScroll\",(e=>{o.update(Oi.refresh)}));const l=on();l.set(Bc(ze(e.getBody()),\"load\",(e=>r(e.raw)))),e.on(\"remove\",(()=>{l.clear()}))})(e,i,l,c),e.nodeChanged()};c?e.once(\"SkinLoaded\",d):d()};e.on(\"show\",d),e.on(\"hide\",l.hide),c||(e.on(\"focus\",d),e.on(\"blur\",l.hide)),e.on(\"init\",(()=>{(e.hasFocus()||c)&&d()})),Ow(e,t);const u={show:d,hide:l.hide,setEnabled:e=>{kw(t,e?\"setEnabled\":\"setDisabled\")},isEnabled:()=>!ug.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:u}}});const NF=\"contexttoolbar-hide\",zF=e=>{xf.getContent(e).each((e=>{Ol(e.element,\".tox-toolbar-slider__input,.tox-toolbar-textfield\").fold((()=>bh.focusIn(e)),mc)}))},VF=Di(\"forward-slide\"),LF=Di(\"backward-slide\"),HF=Di(\"change-slide-event\"),PF=\"tox-pop--resizing\",UF=(e,t)=>{const o=nn();return{setInputEnabled:o=>{!o&&t&&mc(t),ug.set(e,!o)},isInputEnabled:()=>!ug.isDisabled(e),hide:()=>{o.isSet()||o.set($u.getValue(e)),Ir(e,fr())},back:()=>{o.isSet()||o.set($u.getValue(e)),Ir(e,LF)},getValue:()=>o.get().getOrThunk((()=>$u.getValue(e))),setValue:t=>{o.isSet()?o.set(t):$u.setValue(e,t)}}},WF=(e,t)=>Wr(mT,((o,n)=>{const s=e.get(o),r=UF(s,o.element);t.onAction(r,n.event.buttonApi)})),$F=(e,t,o)=>{const n=V(t,(t=>Lb(((e,t,o)=>(e=>\"contextformtogglebutton\"===e.type)(t)?((e,t,o)=>{const{primary:n,...s}=t.original,r=Jn(Ny({...s,type:\"togglebutton\",onAction:b}));return fF(r,o,[WF(e,t)])})(e,t,o):((e,t,o)=>{const{primary:n,...s}=t.original,r=Jn(Fy({...s,type:\"button\",onAction:b}));return hF(r,o,[WF(e,t)])})(e,t,o))(e,t,o))));return{asSpecs:()=>V(n,(e=>e.asSpec())),findPrimary:e=>se(t,((t,o)=>t.primary?A.from(n[o]).bind((t=>t.getOpt(e))).filter(k(ug.isDisabled)):A.none()))}},jF=(e,t,o)=>{const{width:n,height:s}=e.initValue();let r=LT;const a=Di(\"ratio-event\"),i=UF,l=e=>lx(e,{tag:\"span\",classes:[\"tox-icon\",\"tox-lock-icon__\"+e]},t.icons),c=()=>!1,d=e.label.getOr(\"Constrain proportions\"),u=t.translate(d),m=RT.parts.lock({dom:{tag:\"button\",classes:[\"tox-lock\",\"tox-button\",\"tox-button--naked\",\"tox-button--icon\"],attributes:{\"aria-label\":u,\"data-mce-name\":d}},components:[l(\"lock\"),l(\"unlock\")],buttonBehaviours:ca([ug.config({disabled:c}),Ub.config({}),Zb.config(t.tooltips.getConfig({tooltipText:u}))])}),g=e=>({dom:{tag:\"div\",classes:[\"tox-context-form__group\"]},components:e}),p=e=>Sl(e.element,\"div.tox-focusable-wrapper\").fold(A.none,(e=>(mc(e),A.some(!0)))),h=e=>ok.parts.field({factory:Nx,inputClasses:[\"tox-textfield\",\"tox-toolbar-textfield\",\"tox-textfield-size\"],data:e?n:s,inputBehaviours:ca([ug.config({disabled:c}),Ub.config({}),Th(\"size-input-toolbar-events\",[Wr(Xs(),((t,o)=>{Rr(t,a,{isField1:e})}))]),bh.config({mode:\"special\",onEnter:o,onEscape:p})]),selectOnFocus:!1}),f=e=>({dom:{tag:\"label\",classes:[\"tox-label\"]},components:[dl(t.translate(e))]}),v=e=>({dom:{tag:\"div\",classes:[\"tox-focusable-wrapper\",\"tox-toolbar-nav-item\"]},components:[e],behaviours:ca([Ub.config({}),Bh.config({}),bh.config({mode:\"special\",onEnter:e=>Ol(e.element,\"input\").fold(A.none,(e=>(mc(e),A.some(!0))))})])}),x=v(RT.parts.field1(g([ok.parts.label(f(\"Width:\")),h(!0)]))),y=v(RT.parts.field2(g([ok.parts.label(f(\"Height:\")),h(!1)]))),w=en(b),S=[vw({onSetup:e.onSetup,getApi:i},w),xw({getApi:i},w)];return RT.sketch({dom:{tag:\"div\",classes:[\"tox-context-form__group\"]},components:[x,y,g([f(\"\\xa0\"),m])],field1Name:\"width\",field2Name:\"height\",locked:!0,markers:{lockClass:\"tox-locked\"},onLockedChange:(e,t,o)=>{zT($u.getValue(e)).each((e=>{r(e).each((e=>{$u.setValue(t,NT(e))}))}))},onInput:e=>Ir(e,ck),coupledFieldBehaviours:ca([Bh.config({}),bh.config({mode:\"flow\",focusInside:$g.OnEnterOrSpaceMode,cycles:!1,selector:\"button, .tox-focusable-wrapper\"}),ug.config({disabled:c,onDisabled:e=>{RT.getField1(e).bind(ok.getField).each(ug.disable),RT.getField2(e).bind(ok.getField).each(ug.disable),RT.getLock(e).each(ug.disable)},onEnabled:e=>{RT.getField1(e).bind(ok.getField).each(ug.enable),RT.getField2(e).bind(ok.getField).each(ug.enable),RT.getLock(e).each(ug.enable)}}),_w((()=>t.checkUiComponentContext(\"mode:design\"))),Th(\"size-input-toolbar-events2\",[Wr(a,((e,t)=>{const o=t.event.isField1,n=o?RT.getField1(e):RT.getField2(e),s=o?RT.getField2(e):RT.getField1(e),a=n.map($u.getValue).getOr(\"\"),i=s.map($u.getValue).getOr(\"\");r=HT(a,i)})),Wr(ck,(t=>e.onInput(UF(t)))),...S])])})},GF=(e,t,o)=>ok.sketch({dom:{tag:\"div\",classes:[\"tox-context-form__group\"]},components:[...e.toArray(),t],fieldBehaviours:ca([ug.config({disabled:()=>o.checkUiComponentContext(\"mode:design\").shouldDisable,onDisabled:e=>{(e=>{fc(e.element).each((e=>{Sl(e,'[tabindex=\"-1\"]').each((e=>{mc(e)}))}))})(e),ok.getField(e).each(ug.disable)},onEnabled:e=>{ok.getField(e).each(ug.enable)}})])}),qF=(e,t,o)=>{const n=en(b),s=e.label.map((e=>ok.parts.label({dom:{tag:\"label\",classes:[\"tox-label\"]},components:[dl(t.translate(e))]}))),r=ok.parts.field({factory:Nx,type:\"range\",inputClasses:[\"tox-toolbar-slider__input\",\"tox-toolbar-nav-item\"],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:t=>(e=>{const t=parseFloat(e);return isNaN(t)?A.none():A.some(t)})(t).getOr(e.min()),toInputValue:e=>String(e),inputBehaviours:ca([ug.config({disabled:()=>t.checkUiComponentContext(\"mode:design\").shouldDisable}),_w((()=>t.checkUiComponentContext(\"mode:design\"))),bh.config({mode:\"special\",onEnter:o,onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())}),Th(\"slider-events\",[vw({onSetup:e.onSetup,getApi:UF,onBeforeSetup:bh.focusIn},n),xw({getApi:UF},n),Wr(Zs(),(t=>{e.onInput(UF(t))}))])])});return GF(s,r,t)},YF=(e,t,o)=>{const n=en(b),s=e.label.map((e=>ok.parts.label({dom:{tag:\"label\",classes:[\"tox-label\"]},components:[dl(t.translate(e))]}))),r={...e.placeholder.map((e=>({placeholder:t.translate(e)}))).getOr({})},a=ok.parts.field({factory:Nx,inputClasses:[\"tox-toolbar-textfield\",\"tox-toolbar-nav-item\"],inputAttributes:r,data:e.initValue(),selectOnFocus:!0,inputBehaviours:ca([ug.config({disabled:()=>t.checkUiComponentContext(\"mode:design\").shouldDisable}),_w((()=>t.checkUiComponentContext(\"mode:design\"))),bh.config({mode:\"special\",onEnter:o,onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())}),Th(\"input-events\",[vw({onSetup:e.onSetup,getApi:UF,onBeforeSetup:bh.focusIn},n),xw({getApi:UF},n),Wr(Zs(),(t=>{e.onInput(UF(t))}))])])});return GF(s,a,t)},XF=(e,t,o)=>{const n=Lb(e(o,(e=>r.findPrimary(e).orThunk((()=>a.findPrimary(e))).map((e=>(Nr(e),!0)))))),s=H(t.commands,(e=>\"start\"===e.align)),r=$F(n,s.pass,o),a=$F(n,s.fail,o);return P([{title:A.none(),label:A.none(),items:r.asSpecs()},{title:A.none(),label:A.none(),items:[n.asSpec()]},{title:A.none(),label:A.none(),items:a.asSpecs()}],(e=>e.items.length>0))},KF=(e,t)=>{switch(e.type){case\"contextform\":return XF(C(YF,e),e,t);case\"contextsliderform\":return XF(C(qF,e),e,t);case\"contextsizeinputform\":return XF(C(jF,e),e,t)}},JF=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o,QF=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const o=mt(ze(e.startContainer),e.startOffset).element;return(Ge(o)?rt(o):A.some(o)).filter(je).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Po();return Xo(e.left+t.left,e.top+t.top,t.width,t.height)}{const o=Jo(ze(e.getBody()));return Xo(o.x+t.left,o.y+t.top,t.width,t.height)}},ZF=(e,t,o,n=0)=>{const s=$o(window),r=Ko(ze(e.getContentAreaContainer())),a=fb(e)||xb(e)||wb(e),{x:i,width:l}=((e,t,o)=>{const n=Math.max(e.x+o,t.x);return{x:n,width:Math.min(e.right-o,t.right)-n}})(r,s,n);if(e.inline&&!a)return Xo(i,s.y,l,s.height);{const a=t.header.isPositionedAtTop(),{y:c,bottom:d}=((e,t,o,n,s,r)=>{const a=ze(e.getContainer()),i=Ol(a,\".tox-editor-header\").getOr(a),l=Ko(i),c=l.y>=t.bottom,d=n&&!c;if(e.inline&&d)return{y:Math.max(l.bottom+r,o.y),bottom:o.bottom};if(e.inline&&!d)return{y:o.y,bottom:Math.min(l.y-r,o.bottom)};const u=\"line\"===s?Ko(a):t;return d?{y:Math.max(l.bottom+r,o.y),bottom:Math.min(u.bottom-r,o.bottom)}:{y:Math.max(u.y+r,o.y),bottom:Math.min(l.y-r,o.bottom)}})(e,r,s,a,o,n);return Xo(i,c,l,d-c)}},eI={valignCentre:[],alignCentre:[],alignLeft:[\"tox-pop--align-left\"],alignRight:[\"tox-pop--align-right\"],right:[\"tox-pop--right\"],left:[\"tox-pop--left\"],bottom:[\"tox-pop--bottom\"],top:[\"tox-pop--top\"],inset:[\"tox-pop--inset\"]},tI={maxHeightFunction:Lc(),maxWidthFunction:hD()},oI=e=>\"node\"===e,nI=(e,t,o,n,s)=>{const r=QF(e),a=n.lastElement().exists((e=>Ze(o,e)));return((e,t)=>{const o=e.selection.getRng(),n=mt(ze(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Ze(n.element,t)})(e,o)?a?xA:pA:a?((e,o)=>{const s=Rt(e,\"position\");Mt(e,\"position\",o);const a=JF(r,Ko(t),-20)&&!n.isReposition()?wA:xA;return s.each((t=>Mt(e,\"position\",t))),a})(t,n.getMode()):(\"fixed\"===n.getMode()?s.y+Po().top:s.y)+(Ut(t)+12)<=r.y?pA:hA},sI=(e,t,o,n)=>{const s=t=>(n,s,r,a,i)=>({...nI(e,a,t,o,i)({...n,y:i.y,height:i.height},s,r,a,i),alwaysFit:!0}),r=e=>oI(n)?[s(e)]:[];return t?{onLtr:e=>[Zl,Yl,Xl,Kl,Jl,Ql].concat(r(e)),onRtl:e=>[Zl,Xl,Yl,Jl,Kl,Ql].concat(r(e))}:{onLtr:e=>[Ql,Zl,Kl,Yl,Jl,Xl].concat(r(e)),onRtl:e=>[Ql,Zl,Jl,Xl,Kl,Yl].concat(r(e))}},rI=(e,t)=>{const o=P(t,(t=>t.predicate(e.dom))),{pass:n,fail:s}=H(o,(e=>\"contexttoolbar\"===e.type));return{contextToolbars:n,contextForms:s}},aI=(e,t)=>{const o={},n=[],s=[],r={},a={},i=re(e);return L(i,(i=>{const l=e[i];\"contextform\"===l.type||\"contextsliderform\"===l.type||\"contextsizeinputform\"===l.type?((e,i)=>{const l=Jn(Kn(\"ContextForm\",Gy,i));o[e]=l,l.launch.map((o=>{r[\"form:\"+e]={...i.launch,type:\"contextformtogglebutton\"===o.type?\"togglebutton\":\"button\",onAction:()=>{t(l)}}})),\"editor\"===l.scope?s.push(l):n.push(l),a[e]=l})(i,l):\"contexttoolbar\"===l.type&&((e,t)=>{var o;(o=t,Kn(\"ContextToolbar\",qy,o)).each((o=>{\"editor\"===t.scope?s.push(o):n.push(o),a[e]=o}))})(i,l)})),{forms:o,inNodeScope:n,inEditorScope:s,lookupTable:a,formNavigators:r}},iI=\"tox-pop--transition\",lI=(e,t,o,n)=>{const s=n.backstage,a=s.shared,i=Mo().deviceType.isTouch,l=nn(),c=nn(),d=nn(),u=pl((e=>{const t=en([]);return xf.sketch({dom:{tag:\"div\",classes:[\"tox-pop\"]},fireDismissalEventInstead:{event:\"doNotDismissYet\"},onShow:e=>{t.set([]),xf.getContent(e).each((e=>{Vt(e.element,\"visibility\")})),Sa(e.element,PF),Vt(e.element,\"width\")},onHide:()=>{e.onHide()},inlineBehaviours:ca([Th(\"context-toolbar-events\",[Kr(nr(),((e,t)=>{\"width\"===t.event.raw.propertyName&&(Sa(e.element,PF),Vt(e.element,\"width\"))})),Wr(HF,((e,t)=>{const o=e.element;Vt(o,\"width\");const n=Kt(o);Vt(o,\"left\"),Vt(o,\"right\"),Vt(o,\"max-width\"),xf.setContent(e,t.event.contents),ya(o,PF);const s=Kt(o);Mt(o,\"transition\",\"none\"),xf.reposition(e),Vt(o,\"transition\"),Mt(o,\"width\",n+\"px\"),t.event.focus.fold((()=>zF(e)),(t=>{mc(t),fc(o).isNone()&&zF(e)})),setTimeout((()=>{Mt(e.element,\"width\",s+\"px\")}),0)})),Wr(VF,((e,o)=>{xf.getContent(e).each((o=>{t.set(t.get().concat([{bar:o,focus:hc(pt(e.element))}]))})),Rr(e,HF,{contents:o.event.forwardContents,focus:A.none()})})),Wr(LF,((o,n)=>{e.onBack(),oe(t.get()).each((e=>{t.set(t.get().slice(0,t.get().length-1)),Rr(o,HF,{contents:hl(e.bar),focus:e.focus})}))}))]),bh.config({mode:\"special\",onEscape:o=>oe(t.get()).fold((()=>e.onEscape()),(e=>(Ir(o,LF),A.some(!0))))})]),lazySink:()=>ln.value(e.sink)})})({sink:o,onEscape:()=>(e.focus(),pS(e),A.some(!0)),onHide:()=>{pS(e)},onBack:()=>{(e=>{e.dispatch(\"ContextFormSlideBack\")})(e)}})),m=()=>{const t=d.get().getOr(\"node\"),o=oI(t)?1:0;return ZF(e,a,t,o)},g=()=>!(e.removed||i()&&s.isContextMenuOpen()),p=()=>{if(g()){const t=m(),o=xe(d.get(),\"node\")?((e,t)=>t.filter((e=>vt(e)&&$e(e))).map(Jo).getOrThunk((()=>QF(e))))(e,l.get()):QF(e);return t.height<=0||!JF(o,t,.01)}return!0},h=()=>{l.clear(),c.clear(),d.clear(),xf.hide(u)},f=()=>{if(xf.isOpen(u)){const e=u.element;Vt(e,\"display\"),p()?Mt(e,\"display\",\"none\"):(c.set(0),xf.reposition(u))}},v=t=>({dom:{tag:\"div\",classes:[\"tox-pop__dialog\"]},components:[t],behaviours:ca([bh.config({mode:\"acyclic\"}),Th(\"pop-dialog-wrap-events\",[Jr((t=>{e.shortcuts.add(\"ctrl+F9\",\"focus statusbar\",(()=>bh.focusIn(t)))})),Qr((t=>{e.shortcuts.remove(\"ctrl+F9\")}))])])}),x=Qt((()=>aI(t,(e=>{const t=y([e]);Rr(u,VF,{forwardContents:v(t)})})))),y=t=>{const{buttons:o}=e.ui.registry.getAll(),s={...o,...x().formNavigators},i=Uf(e)===yf.scrolling?yf.scrolling:yf.default,l=G(V(t,(t=>{return\"contexttoolbar\"===t.type?((t,o)=>SF(e,{buttons:t,toolbar:o.items,allowToolbarGroups:!1},n.backstage,A.some([\"form:\"])))(s,(o=t,{...o,items:r(o.items)?o.items:V(o.items,Yy)})):((e,t)=>KF(e,t))(t,a.providers);var o})));return HD({type:i,uid:Di(\"context-toolbar\"),initGroups:l,onEscape:A.none,cyclicKeying:!0,providers:a.providers})},w=(t,n)=>{if(C.cancel(),!g())return;const s=y(t),r=t[0].position,h=((t,n)=>{const s=\"node\"===t?a.anchors.node(n):a.anchors.cursor(),r=((e,t,o,n)=>\"line\"===t?{bubble:Wc(12,0,eI),layouts:{onLtr:()=>[ec],onRtl:()=>[tc]},overrides:tI}:{bubble:Wc(0,12,eI,1/12),layouts:sI(e,o,n,t),overrides:tI})(e,t,i(),{lastElement:l.get,isReposition:()=>xe(c.get(),0),getMode:()=>Qd.getMode(o)});return xn(s,r)})(r,n);d.set(r),c.set(1);const f=u.element;Vt(f,\"display\"),(e=>xe(we(e,l.get(),Ze),!0))(n)||(Sa(f,iI),Qd.reset(o,u)),xf.showWithinBounds(u,v(s),{anchor:h,transition:{classes:[iI],mode:\"placement\"}},(()=>A.some(m()))),n.fold(l.clear,l.set),p()&&Mt(f,\"display\",\"none\")};let S=!1;const C=W_((()=>{!e.hasFocus()||e.removed||S||(Ca(u.element,iI)?C.throttle():((e,t)=>{const o=ze(t.getBody()),n=e=>Ze(e,o),s=ze(t.selection.getNode());return(e=>!n(e)&&!et(o,e))(s)?A.none():((e,t,o)=>{const n=rI(e,t);if(n.contextForms.length>0)return A.some({elem:e,toolbars:[n.contextForms[0]]});{const t=rI(e,o);if(t.contextForms.length>0)return A.some({elem:e,toolbars:[t.contextForms[0]]});if(n.contextToolbars.length>0||t.contextToolbars.length>0){const o=(e=>{if(e.length<=1)return e;{const t=t=>R(e,(e=>e.position===t)),o=t=>P(e,(e=>e.position===t)),n=t(\"selection\"),s=t(\"node\");if(n||s){if(s&&n){const e=o(\"node\"),t=V(o(\"selection\"),(e=>({...e,position:\"node\"})));return e.concat(t)}return o(n?\"selection\":\"node\")}return o(\"line\")}})(n.contextToolbars.concat(t.contextToolbars));return A.some({elem:e,toolbars:o})}return A.none()}})(s,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,o)=>e(t)?A.none():Is(t,(e=>{if(je(e)){const{contextToolbars:t,contextForms:n}=rI(e,o.inNodeScope),s=n.length>0?n:(e=>{if(e.length<=1)return e;{const t=t=>$(e,(e=>e.position===t));return t(\"selection\").orThunk((()=>t(\"node\"))).orThunk((()=>t(\"line\"))).map((e=>e.position)).fold((()=>[]),(t=>P(e,(e=>e.position===t))))}})(t);return s.length>0?A.some({elem:e,toolbars:s}):A.none()}return A.none()}),e))(n,s,e)))})(x(),e).fold(h,(e=>{w(e.toolbars,A.some(e.elem))})))}),17);e.on(\"init\",(()=>{e.on(\"remove\",h),e.on(\"ScrollContent ScrollWindow ObjectResized ResizeEditor longpress\",f),e.on(\"click keyup focus SetContent\",C.throttle),e.on(NF,h),e.on(\"contexttoolbar-show\",(t=>{const o=x();fe(o.lookupTable,t.toolbarKey).each((o=>{w([o],Ce(t.target!==e,t.target)),zF(u)}))})),e.on(\"focusout\",(t=>{Sf.setEditorTimeout(e,(()=>{fc(o.element).isNone()&&fc(u.element).isNone()&&h()}),0)})),e.on(\"SwitchMode\",(()=>{e.mode.isReadOnly()&&h()})),e.on(\"DisabledStateChange\",(e=>{e.state&&h()})),e.on(\"ExecCommand\",(({command:e})=>{\"toggleview\"===e.toLowerCase()&&h()})),e.on(\"AfterProgressState\",(t=>{t.state?h():e.hasFocus()&&C.throttle()})),e.on(\"dragstart\",(()=>{S=!0})),e.on(\"dragend drop\",(()=>{S=!1})),e.on(\"NodeChange\",(e=>{fc(u.element).fold(C.throttle,b)}))}))},cI=(e,t)=>{const o=()=>{const o=t.getOptions(e),n=t.getCurrent(e).map(t.hash),s=nn();return V(o,(o=>({type:\"togglemenuitem\",text:t.display(o),onSetup:r=>{const a=e=>{e&&(s.on((e=>e.setActive(!1))),s.set(r)),r.setActive(e)};a(xe(n,t.hash(o)));const i=t.watcher(e,o,a);return()=>{s.clear(),i()}},onAction:()=>t.setCurrent(e,o)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(o()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:\"nestedmenuitem\",text:t.text,getSubmenuItems:o,onSetup:t.onMenuSetup})},dI=e=>{cI(e,(e=>({name:\"lineheight\",text:\"Line height\",icon:\"line-height\",getOptions:vb,hash:e=>(e=>qB(e,[\"fixed\",\"relative\",\"empty\"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:w,watcher:(e,t,o)=>e.formatter.formatChanged(\"lineheight\",o,!1,{value:t}).unbind,getCurrent:e=>A.from(e.queryCommandValue(\"LineHeight\")),setCurrent:(e,t)=>e.execCommand(\"LineHeight\",!1,t),onToolbarSetup:fS(e),onMenuSetup:fS(e)}))(e)),(e=>A.from(Hf(e)).map((t=>({name:\"language\",text:\"Language\",icon:\"language\",getOptions:y(t),hash:e=>u(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,o)=>{var n;return e.formatter.formatChanged(\"lang\",o,!1,{value:t.code,customValue:null!==(n=t.customCode)&&void 0!==n?n:null}).unbind},getCurrent:e=>{const t=ze(e.selection.getNode());return Rs(t,(e=>A.some(e).filter(je).bind((e=>Ot(e,\"lang\").map((t=>({code:t,customCode:Ot(e,\"data-mce-lang\").getOrUndefined(),title:\"\"})))))))},setCurrent:(e,t)=>e.execCommand(\"Lang\",!1,t),onToolbarSetup:t=>{const o=on();return t.setActive(e.formatter.match(\"lang\",{},void 0,!0)),o.set(e.formatter.formatChanged(\"lang\",t.setActive,!0)),hS(o.clear,fS(e)(t))},onMenuSetup:fS(e)}))))(e).each((t=>cI(e,t)))},uI=e=>vS(e,\"NodeChange\",(t=>{t.setEnabled(e.queryCommandState(\"outdent\")&&e.selection.isEditable())})),mI=(e,t)=>o=>{o.setActive(t.get());const n=e=>{t.set(e.state),o.setActive(e.state)};return e.on(\"PastePlainTextToggle\",n),hS((()=>e.off(\"PastePlainTextToggle\",n)),fS(e)(o))},gI=(e,t)=>()=>{e.execCommand(\"mceToggleFormat\",!1,t)},pI=e=>{(e=>{(e=>{H_.each([{name:\"bold\",text:\"Bold\",icon:\"bold\",shortcut:\"Meta+B\"},{name:\"italic\",text:\"Italic\",icon:\"italic\",shortcut:\"Meta+I\"},{name:\"underline\",text:\"Underline\",icon:\"underline\",shortcut:\"Meta+U\"},{name:\"strikethrough\",text:\"Strikethrough\",icon:\"strike-through\"},{name:\"subscript\",text:\"Subscript\",icon:\"subscript\"},{name:\"superscript\",text:\"Superscript\",icon:\"superscript\"}],((t,o)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:bS(e,t.name),onAction:gI(e,t.name),shortcut:t.shortcut})}));for(let t=1;t<=6;t++){const o=\"h\"+t,n=`Access+${t}`;e.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:\"Heading \"+t,onSetup:bS(e,o),onAction:gI(e,o),shortcut:n})}})(e),(e=>{H_.each([{name:\"copy\",text:\"Copy\",action:\"Copy\",icon:\"copy\",context:\"any\"},{name:\"help\",text:\"Help\",action:\"mceHelp\",icon:\"help\",shortcut:\"Alt+0\",context:\"any\"},{name:\"selectall\",text:\"Select all\",action:\"SelectAll\",icon:\"select-all\",shortcut:\"Meta+A\",context:\"any\"},{name:\"newdocument\",text:\"New document\",action:\"mceNewDocument\",icon:\"new-document\"},{name:\"print\",text:\"Print\",action:\"mcePrint\",icon:\"print\",shortcut:\"Meta+P\",context:\"any\"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:yS(e,t.action),shortcut:t.shortcut,context:t.context})})),H_.each([{name:\"cut\",text:\"Cut\",action:\"Cut\",icon:\"cut\"},{name:\"paste\",text:\"Paste\",action:\"Paste\",icon:\"paste\"},{name:\"removeformat\",text:\"Clear formatting\",action:\"RemoveFormat\",icon:\"remove-formatting\"},{name:\"remove\",text:\"Remove\",action:\"Delete\",icon:\"remove\"},{name:\"hr\",text:\"Horizontal line\",action:\"InsertHorizontalRule\",icon:\"horizontal-rule\"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:fS(e),onAction:yS(e,t.action)})}))})(e),(e=>{H_.each([{name:\"blockquote\",text:\"Blockquote\",action:\"mceBlockQuote\",icon:\"quote\"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:yS(e,t.action),onSetup:bS(e,t.name)})}))})(e)})(e),(e=>{H_.each([{name:\"newdocument\",text:\"New document\",action:\"mceNewDocument\",icon:\"new-document\"},{name:\"copy\",text:\"Copy\",action:\"Copy\",icon:\"copy\",shortcut:\"Meta+C\",context:\"any\"},{name:\"selectall\",text:\"Select all\",action:\"SelectAll\",icon:\"select-all\",shortcut:\"Meta+A\",context:\"any\"},{name:\"print\",text:\"Print...\",action:\"mcePrint\",icon:\"print\",shortcut:\"Meta+P\",context:\"any\"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:yS(e,t.action),context:t.context})})),H_.each([{name:\"bold\",text:\"Bold\",action:\"Bold\",icon:\"bold\",shortcut:\"Meta+B\"},{name:\"italic\",text:\"Italic\",action:\"Italic\",icon:\"italic\",shortcut:\"Meta+I\"},{name:\"underline\",text:\"Underline\",action:\"Underline\",icon:\"underline\",shortcut:\"Meta+U\"},{name:\"strikethrough\",text:\"Strikethrough\",action:\"Strikethrough\",icon:\"strike-through\"},{name:\"subscript\",text:\"Subscript\",action:\"Subscript\",icon:\"subscript\"},{name:\"superscript\",text:\"Superscript\",action:\"Superscript\",icon:\"superscript\"},{name:\"removeformat\",text:\"Clear formatting\",action:\"RemoveFormat\",icon:\"remove-formatting\"},{name:\"cut\",text:\"Cut\",action:\"Cut\",icon:\"cut\",shortcut:\"Meta+X\"},{name:\"paste\",text:\"Paste\",action:\"Paste\",icon:\"paste\",shortcut:\"Meta+V\"},{name:\"hr\",text:\"Horizontal line\",action:\"InsertHorizontalRule\",icon:\"horizontal-rule\"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:fS(e),onAction:yS(e,t.action)})})),e.ui.registry.addMenuItem(\"codeformat\",{text:\"Code\",icon:\"sourcecode\",onSetup:fS(e),onAction:gI(e,\"code\")})})(e)},hI=(e,t)=>vS(e,\"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode\",(o=>{o.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),fI=e=>vS(e,\"VisualAid\",(t=>{t.setActive(e.hasVisual)})),bI=(e,t)=>{(e=>{L([{name:\"alignleft\",text:\"Align left\",cmd:\"JustifyLeft\",icon:\"align-left\"},{name:\"aligncenter\",text:\"Align center\",cmd:\"JustifyCenter\",icon:\"align-center\"},{name:\"alignright\",text:\"Align right\",cmd:\"JustifyRight\",icon:\"align-right\"},{name:\"alignjustify\",text:\"Justify\",cmd:\"JustifyFull\",icon:\"align-justify\"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:yS(e,t.cmd),onSetup:bS(e,t.name)})})),e.ui.registry.addButton(\"alignnone\",{tooltip:\"No alignment\",icon:\"align-none\",onSetup:fS(e),onAction:yS(e,\"JustifyNone\")})})(e),pI(e),((e,t)=>{((e,t)=>{const o=TB(t,IB(e));e.ui.registry.addNestedMenuItem(\"align\",{text:t.shared.providers.translate(\"Align\"),onSetup:fS(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const o=TB(t,$B(e));e.ui.registry.addNestedMenuItem(\"fontfamily\",{text:t.shared.providers.translate(\"Fonts\"),onSetup:fS(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const o={type:\"advanced\",...t.styles},n=TB(t,nF(e,o));e.ui.registry.addNestedMenuItem(\"styles\",{text:\"Formats\",onSetup:fS(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const o=TB(t,VB(e));e.ui.registry.addNestedMenuItem(\"blocks\",{text:\"Blocks\",onSetup:fS(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const o=TB(t,tF(e));e.ui.registry.addNestedMenuItem(\"fontsize\",{text:\"Font sizes\",onSetup:fS(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem(\"undo\",{text:\"Undo\",icon:\"undo\",shortcut:\"Meta+Z\",onSetup:hI(e,\"hasUndo\"),onAction:yS(e,\"undo\")}),e.ui.registry.addMenuItem(\"redo\",{text:\"Redo\",icon:\"redo\",shortcut:\"Meta+Y\",onSetup:hI(e,\"hasRedo\"),onAction:yS(e,\"redo\")})})(e),(e=>{e.ui.registry.addButton(\"undo\",{tooltip:\"Undo\",icon:\"undo\",enabled:!1,onSetup:hI(e,\"hasUndo\"),onAction:yS(e,\"undo\"),shortcut:\"Meta+Z\"}),e.ui.registry.addButton(\"redo\",{tooltip:\"Redo\",icon:\"redo\",enabled:!1,onSetup:hI(e,\"hasRedo\"),onAction:yS(e,\"redo\"),shortcut:\"Meta+Y\"})})(e)})(e),(e=>{(e=>{e.addCommand(\"mceApplyTextcolor\",((t,o)=>{((e,t,o)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:o}),e.nodeChanged()}))})(e,t,o)})),e.addCommand(\"mceRemoveTextcolor\",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=VS(e),o=LS(e),n=en(t),s=en(o);XS(e,\"forecolor\",\"forecolor\",n),XS(e,\"backcolor\",\"hilitecolor\",s),KS(e,\"forecolor\",\"forecolor\",\"Text color\",n),KS(e,\"backcolor\",\"hilitecolor\",\"Background color\",s)})(e),(e=>{(e=>{e.ui.registry.addButton(\"visualaid\",{tooltip:\"Visual aids\",text:\"Visual aids\",onAction:yS(e,\"mceToggleVisualAid\"),context:\"any\"})})(e),(e=>{e.ui.registry.addToggleMenuItem(\"visualaid\",{text:\"Visual aids\",onSetup:fI(e),onAction:yS(e,\"mceToggleVisualAid\"),context:\"any\"})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton(\"outdent\",{tooltip:\"Decrease indent\",icon:\"outdent\",onSetup:uI(e),onAction:yS(e,\"outdent\")}),e.ui.registry.addButton(\"indent\",{tooltip:\"Increase indent\",icon:\"indent\",onSetup:fS(e),onAction:yS(e,\"indent\")})})(e)})(e),dI(e),(e=>{const t=en(cb(e)),o=()=>e.execCommand(\"mceTogglePlainTextPaste\");e.ui.registry.addToggleButton(\"pastetext\",{active:!1,icon:\"paste-text\",tooltip:\"Paste as text\",onAction:o,onSetup:mI(e,t)}),e.ui.registry.addToggleMenuItem(\"pastetext\",{text:\"Paste as text\",icon:\"paste-text\",onAction:o,onSetup:mI(e,t)})})(e),(e=>{e.ui.registry.addContext(\"editable\",(()=>e.selection.isEditable())),e.ui.registry.addContext(\"mode\",(t=>e.mode.get()===t)),e.ui.registry.addContext(\"any\",E),e.ui.registry.addContext(\"formatting\",(t=>e.formatter.canApply(t))),e.ui.registry.addContext(\"insert\",(t=>e.schema.isValidChild(e.selection.getNode().tagName,t)))})(e)},vI=e=>r(e)?e.split(/[ ,]/):e,xI=e=>t=>t.options.get(e),yI=xI(\"contextmenu_never_use_native\"),wI=xI(\"contextmenu_avoid_overlap\"),SI=e=>{const t=e.ui.registry.getAll().contextMenus,o=e.options.get(\"contextmenu\");return e.options.isSet(\"contextmenu\")?o:P(o,(e=>be(t,e)))},CI=(e,t)=>({type:\"makeshift\",x:e,y:t}),kI=e=>\"longpress\"===e.type||0===e.type.indexOf(\"touch\"),OI=(e,t)=>\"contextmenu\"===t.type||\"longpress\"===t.type?e.inline?(e=>{if(kI(e)){const t=e.touches[0];return CI(t.pageX,t.pageY)}return CI(e.pageX,e.pageY)})(t):((e,t)=>{const o=Cf.DOM.getPos(e);return((e,t,o)=>CI(e.x+t,e.y+o))(t,o.x,o.y)})(e.getContentAreaContainer(),(e=>{if(kI(e)){const t=e.touches[0];return CI(t.clientX,t.clientY)}return CI(e.clientX,e.clientY)})(t)):_I(e),_I=e=>({type:\"selection\",root:ze(e.selection.getNode())}),TI=(e,t,o)=>{switch(o){case\"node\":return(e=>({type:\"node\",node:A.some(ze(e.selection.getNode())),root:ze(e.getBody())}))(e);case\"point\":return OI(e,t);case\"selection\":return _I(e)}},EI=(e,t,o,n,s,r)=>{const a=o(),i=TI(e,t,r);_T(a,gx.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:A.none()}).map((e=>{t.preventDefault(),xf.showMenuAt(s,{anchor:i},{menu:{markers:Ex(\"normal\")},data:e})}))},AI={onLtr:()=>[Zl,Yl,Xl,Kl,Jl,Ql,pA,hA,gA,uA,mA,dA],onRtl:()=>[Zl,Xl,Yl,Jl,Kl,Ql,pA,hA,mA,dA,gA,uA]},MI={valignCentre:[],alignCentre:[],alignLeft:[\"tox-pop--align-left\"],alignRight:[\"tox-pop--align-right\"],right:[\"tox-pop--right\"],left:[\"tox-pop--left\"],bottom:[\"tox-pop--bottom\"],top:[\"tox-pop--top\"]},DI=(e,t,o,n,s,r)=>{const a=Mo(),i=a.os.isiOS(),l=a.os.isMacOS(),c=a.os.isAndroid(),d=a.deviceType.isTouch(),u=()=>{const a=o();((e,t,o,n,s,r,a)=>{const i=((e,t,o)=>{const n=TI(e,t,o);return{bubble:Wc(0,\"point\"===o?12:0,MI),layouts:AI,overrides:{maxWidthFunction:hD(),maxHeightFunction:Lc()},...n}})(e,t,r);_T(o,gx.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!0,search:A.none()}).map((o=>{t.preventDefault();const l=a?ff.HighlightMenuAndItem:ff.HighlightNone;xf.showMenuWithinBounds(s,{anchor:i},{menu:{markers:Ex(\"normal\"),highlightOnOpen:l},data:o,type:\"horizontal\"},(()=>A.some(ZF(e,n.shared,\"node\"===r?\"node\":\"selection\")))),e.dispatch(NF)}))})(e,t,a,n,s,r,!(c||i||l&&d))};if((l||i)&&\"node\"!==r){const o=()=>{(e=>{const t=e.selection.getRng(),o=()=>{Sf.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),r()};e.once(\"touchend\",o);const n=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on(\"mousedown\",n,!0);const s=()=>r();e.once(\"longpresscancel\",s);const r=()=>{e.off(\"touchend\",o),e.off(\"longpresscancel\",s),e.off(\"mousedown\",n)}})(e),u()};((e,t)=>{const o=e.selection;if(o.isCollapsed()||t.touches.length<1)return!1;{const n=t.touches[0],s=o.getRng();return Td(e.getWin(),fd.domRange(s)).exists((e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY))}})(e,t)?o():(e.once(\"selectionchange\",o),e.once(\"touchend\",(()=>e.off(\"selectionchange\",o))))}else u()},BI=e=>r(e)?\"|\"===e:\"separator\"===e.type,FI={type:\"separator\"},II=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(r(e))return e;switch(e.type){case\"separator\":return FI;case\"submenu\":return{type:\"nestedmenuitem\",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return r(t)?t:V(t,II)}};default:const o=e;return{type:\"menuitem\",...t(o),onAction:v(o.onAction)}}},RI=(e,t)=>{if(0===t.length)return e;const o=oe(e).filter((e=>!BI(e))).fold((()=>[]),(e=>[FI]));return e.concat(o).concat(t).concat([FI])},NI=(e,t)=>!(e=>\"longpress\"===e.type||be(e,\"touches\"))(t)&&(2!==t.button||t.target===e.getBody()&&\"\"===t.pointerType),zI=(e,t)=>NI(e,t)?e.selection.getStart(!0):t.target,VI=(e,t,o)=>{const n=Mo().deviceType.isTouch,s=pl(xf.sketch({dom:{tag:\"div\"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>o.setContextMenuState(!0),onHide:()=>o.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ca([Th(\"dismissContextMenu\",[Wr(Or(),((t,o)=>{ku.close(t),e.focus()}))])])})),a=()=>xf.hide(s),i=t=>{if(yI(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!yI(e))(e,t)||(e=>0===SI(e).length)(e))return;const a=((e,t)=>{const o=wI(e),n=NI(e,t)?\"selection\":\"point\";if(Me(o)){const s=zI(e,t);return UC(ze(s),o)?\"node\":n}return n})(e,t);(n()?DI:EI)(e,t,(()=>{const o=zI(e,t),n=e.ui.registry.getAll(),s=SI(e);return((e,t,o)=>{const n=W(t,((t,n)=>fe(e,n.toLowerCase()).map((e=>{const n=e.update(o);if(r(n)&&Me(Ae(n)))return RI(t,n.split(\" \"));if(l(n)&&n.length>0){const e=V(n,II);return RI(t,e)}return t})).getOrThunk((()=>t.concat([n])))),[]);return n.length>0&&BI(n[n.length-1])&&n.pop(),n})(n.contextMenus,s,o)}),o,s,a)};e.on(\"init\",(()=>{const t=\"ResizeEditor ScrollContent ScrollWindow longpresscancel\"+(n()?\"\":\" ResizeWindow\");e.on(t,a),e.on(\"longpress contextmenu\",i)}))},LI=Ms([{offset:[\"x\",\"y\"]},{absolute:[\"x\",\"y\"]},{fixed:[\"x\",\"y\"]}]),HI=e=>t=>t.translate(-e.left,-e.top),PI=e=>t=>t.translate(e.left,e.top),UI=e=>(t,o)=>W(e,((e,t)=>t(e)),jt(t,o)),WI=(e,t,o)=>e.fold(UI([PI(o),HI(t)]),UI([HI(t)]),UI([])),$I=(e,t,o)=>e.fold(UI([PI(o)]),UI([]),UI([PI(t)])),jI=(e,t,o)=>e.fold(UI([]),UI([HI(o)]),UI([PI(t),HI(o)])),GI=(e,t,o)=>{const n=e.fold(((e,t)=>({position:A.some(\"absolute\"),left:A.some(e+\"px\"),top:A.some(t+\"px\")})),((e,t)=>({position:A.some(\"absolute\"),left:A.some(e-o.left+\"px\"),top:A.some(t-o.top+\"px\")})),((e,t)=>({position:A.some(\"fixed\"),left:A.some(e+\"px\"),top:A.some(t+\"px\")})));return{right:A.none(),bottom:A.none(),...n}},qI=(e,t,o,n)=>{const s=(e,s)=>(r,a)=>{const i=e(t,o,n);return s(r.getOr(i.left),a.getOr(i.top))};return e.fold(s(jI,YI),s($I,XI),s(WI,KI))},YI=LI.offset,XI=LI.absolute,KI=LI.fixed,JI=(e,t)=>{const o=kt(e,t);return u(o)?NaN:parseInt(o,10)},QI=(e,t,o,n,s,r)=>{const a=((e,t,o,n)=>((e,t)=>{const o=e.element,n=JI(o,t.leftAttr),s=JI(o,t.topAttr);return isNaN(n)||isNaN(s)?A.none():A.some(jt(n,s))})(e,t).fold((()=>o),(e=>KI(e.left+n.left,e.top+n.top))))(e,t,o,n),i=t.mustSnap?eR(e,t,a,s,r):tR(e,t,a,s,r),l=WI(a,s,r);return((e,t,o)=>{const n=e.element;St(n,t.leftAttr,o.left+\"px\"),St(n,t.topAttr,o.top+\"px\")})(e,t,l),i.fold((()=>({coord:KI(l.left,l.top),extra:A.none()})),(e=>({coord:e.output,extra:e.extra})))},ZI=(e,t,o,n)=>se(e,(e=>{const s=e.sensor,r=((e,t,o,n,s,r)=>{const a=$I(e,s,r),i=$I(t,s,r);return Math.abs(a.left-i.left)<=o&&Math.abs(a.top-i.top)<=n})(t,s,e.range.left,e.range.top,o,n);return r?A.some({output:qI(e.output,t,o,n),extra:e.extra}):A.none()})),eR=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return ZI(r,o,n,s).orThunk((()=>{const e=W(r,((e,t)=>{const r=t.sensor,a=((e,t,o,n,s,r)=>{const a=$I(e,s,r),i=$I(t,s,r),l=Math.abs(a.left-i.left),c=Math.abs(a.top-i.top);return jt(l,c)})(o,r,t.range.left,t.range.top,n,s);return e.deltas.fold((()=>({deltas:A.some(a),snap:A.some(t)})),(o=>(a.left+a.top)/2<=(o.left+o.top)/2?{deltas:A.some(a),snap:A.some(t)}:e))}),{deltas:A.none(),snap:A.none()});return e.snap.map((e=>({output:qI(e.output,o,n,s),extra:e.extra})))}))},tR=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return ZI(r,o,n,s)};var oR=Object.freeze({__proto__:null,snapTo:(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const t=tt(e.element),o=Po(t),r=Ma(s),a=((e,t,o)=>({coord:qI(e.output,e.output,t,o),extra:e.extra}))(n,o,r),i=GI(a.coord,0,r);Bt(s,i)}}});const nR=\"data-initial-z-index\",sR=(e,t)=>{e.getSystem().addToGui(t),(e=>{rt(e.element).filter(je).each((t=>{Rt(t,\"z-index\").each((e=>{St(t,nR,e)})),Mt(t,\"z-index\",Ft(e.element,\"z-index\"))}))})(t)},rR=e=>{(e=>{rt(e.element).filter(je).each((e=>{Ot(e,nR).fold((()=>Vt(e,\"z-index\")),(t=>Mt(e,\"z-index\",t))),Tt(e,nR)}))})(e),e.getSystem().removeFromGui(e)},aR=(e,t,o)=>e.getSystem().build(QC.sketch({dom:{styles:{left:\"0px\",top:\"0px\",width:\"100%\",height:\"100%\",position:\"fixed\",\"z-index\":\"1000000000000000\"},classes:[t]},events:o}));var iR=ys(\"snaps\",[rs(\"getSnapPoints\"),bi(\"onSensor\"),rs(\"leftAttr\"),rs(\"topAttr\"),ws(\"lazyViewport\",Zo),ws(\"mustSnap\",!1)]);const lR=[ws(\"useFixed\",T),rs(\"blockerClass\"),ws(\"getTarget\",w),ws(\"onDrag\",b),ws(\"repositionTarget\",!0),ws(\"onDrop\",b),Ts(\"getBounds\",Zo),iR],cR=e=>{return(t=Rt(e,\"left\"),o=Rt(e,\"top\"),n=Rt(e,\"position\"),t.isSome()&&o.isSome()&&n.isSome()?A.some(((e,t,o)=>(\"fixed\"===o?KI:YI)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),o.getOrDie(),n.getOrDie())):A.none()).getOrThunk((()=>{const t=qt(e);return XI(t.left,t.top)}));var t,o,n},dR=(e,t)=>({bounds:e.getBounds(),height:Wt(t.element),width:Jt(t.element)}),uR=(e,t,o,n,s)=>{const r=o.update(n,s),a=o.getStartData().getOrThunk((()=>dR(t,e)));r.each((o=>{((e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=tt(e.element),a=Po(r),i=Ma(s),l=cR(s),c=((e,t,o,n,s,r,a)=>((e,t,o,n,s)=>{const r=s.bounds,a=$I(t,o,n),i=Ai(a.left,r.x,r.x+r.width-s.width),l=Ai(a.top,r.y,r.y+r.height-s.height),c=XI(i,l);return t.fold((()=>{const e=jI(c,o,n);return YI(e.left,e.top)}),y(c),(()=>{const e=WI(c,o,n);return KI(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=o,a=r.left,i=r.top,t.fold(((e,t)=>YI(e+a,t+i)),((e,t)=>XI(e+a,t+i)),((e,t)=>KI(e+a,t+i))));var t,a,i;const l=WI(e,n,s);return KI(l.left,l.top)}),(t=>{const a=QI(e,t,o,r,n,s);return a.extra.each((o=>{t.onSensor(e,o)})),a.coord})),n,s,a))(e,t.snaps,l,a,i,n,o),d=GI(c,0,i);Bt(s,d)}t.onDrag(e,s,n)})(e,t,a,o)}))},mR=(e,t,o,n)=>{t.each(rR),o.snaps.each((t=>{((e,t)=>{((e,t)=>{const o=e.element;Tt(o,t.leftAttr),Tt(o,t.topAttr)})(e,t)})(e,t)}));const s=o.getTarget(e.element);n.reset(),o.onDrop(e,s)},gR=e=>(t,o)=>{const n=e=>{o.setStartData(dR(t,e))};return Hr([Wr(wr(),(e=>{o.getStartData().each((()=>n(e)))})),...e(t,o,n)])};var pR=Object.freeze({__proto__:null,getData:e=>A.from(jt(e.x,e.y)),getDelta:(e,t)=>jt(t.left-e.left,t.top-e.top)});const hR=(e,t,o)=>[Wr($s(),((n,s)=>{if(0!==s.event.raw.button)return;s.stop();const r=()=>mR(n,A.some(l),e,t),a=WC(r,200),i={drop:r,delayDrop:a.schedule,forceDrop:r,move:o=>{a.cancel(),uR(n,e,t,pR,o)}},l=aR(n,e.blockerClass,(e=>Hr([Wr($s(),e.forceDrop),Wr(qs(),e.drop),Wr(js(),((t,o)=>{e.move(o.event)})),Wr(Gs(),e.delayDrop)]))(i));o(n),sR(n,l)}))],fR=[...lR,wi(\"dragger\",{handlers:gR(hR)})];var bR=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return A.some(jt(t.clientX,t.clientY))})(t):A.none()},getDelta:(e,t)=>jt(t.left-e.left,t.top-e.top)});const vR=(e,t,o)=>{const n=nn(),s=o=>{mR(o,n.get(),e,t),n.clear()};return[Wr(Hs(),((r,a)=>{a.stop();const i=()=>s(r),l={drop:i,delayDrop:b,forceDrop:i,move:o=>{uR(r,e,t,bR,o)}},c=aR(r,e.blockerClass,(e=>Hr([Wr(Hs(),e.forceDrop),Wr(Us(),e.drop),Wr(Ws(),e.drop),Wr(Ps(),((t,o)=>{e.move(o.event)}))]))(l));n.set(c),o(r),sR(r,c)})),Wr(Ps(),((o,n)=>{n.stop(),uR(o,e,t,bR,n.event)})),Wr(Us(),((e,t)=>{t.stop(),s(e)})),Wr(Ws(),s)]},xR=fR,yR=[...lR,wi(\"dragger\",{handlers:gR(vR)})],wR=[...lR,wi(\"dragger\",{handlers:gR(((e,t,o)=>[...hR(e,t,o),...vR(e,t,o)]))})];var SR=Object.freeze({__proto__:null,mouse:xR,touch:yR,mouseOrTouch:wR}),CR=Object.freeze({__proto__:null,init:()=>{let e=A.none(),t=A.none();const o=y({});return la({readState:o,reset:()=>{e=A.none(),t=A.none()},update:(t,o)=>t.getData(o).bind((o=>((t,o)=>{const n=e.map((e=>t.getDelta(e,o)));return e=A.some(o),n})(t,o))),getStartData:()=>t,setStartData:e=>{t=A.some(e)}})}});const kR=ga({branchKey:\"mode\",branches:SR,name:\"dragging\",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:A.from(e.extra)})},state:CR,apis:oR}),OR=(e,t,o,n,s,r)=>e.fold((()=>kR.snap({sensor:XI(o-20,n-20),range:jt(s,r),output:XI(A.some(o),A.some(n)),extra:{td:t}})),(e=>{const s=o-20,r=n-20,a=e.element.dom.getBoundingClientRect();return kR.snap({sensor:XI(s,r),range:jt(40,40),output:XI(A.some(o-a.width/2),A.some(n-a.height/2)),extra:{td:t}})})),_R=(e,t,o)=>({getSnapPoints:e,leftAttr:\"data-drag-left\",topAttr:\"data-drag-top\",onSensor:(e,n)=>{const s=n.td;((e,t)=>e.exists((e=>Ze(e,t))))(t.get(),s)||(t.set(s),o(s))},mustSnap:!0}),TR=e=>Lb(zb.sketch({dom:{tag:\"div\",classes:[\"tox-selector\"]},buttonBehaviours:ca([kR.config({mode:\"mouseOrTouch\",blockerClass:\"blocker\",snaps:e}),Ak.config({})]),eventOrder:{mousedown:[\"dragging\",\"alloy.base.behaviour\"],touchstart:[\"dragging\",\"alloy.base.behaviour\"]}})),ER=(e,t)=>{const o=en([]),n=en([]),s=en(!1),r=nn(),a=nn(),i=e=>{const o=Jo(e);return OR(u.getOpt(t),e,o.x,o.y,o.width,o.height)},l=e=>{const o=Jo(e);return OR(m.getOpt(t),e,o.right,o.bottom,o.width,o.height)},c=_R((()=>V(o.get(),(e=>i(e)))),r,(t=>{a.get().each((o=>{e.dispatch(\"TableSelectorChange\",{start:t,finish:o})}))})),d=_R((()=>V(n.get(),(e=>l(e)))),a,(t=>{r.get().each((o=>{e.dispatch(\"TableSelectorChange\",{start:o,finish:t})}))})),u=TR(c),m=TR(d),g=pl(u.asSpec()),p=pl(m.asSpec()),h=(t,o,n,s)=>{const r=n(o);kR.snapTo(t,r),((t,o)=>{const n=o.dom.getBoundingClientRect();Vt(t.element,\"display\");const r=st(ze(e.getBody())).dom.innerHeight,a=n[s]<0,i=((e,t)=>e[s]>t)(n,r);(a||i)&&Mt(t.element,\"display\",\"none\")})(t,o)},f=e=>h(g,e,i,\"top\"),b=e=>h(p,e,l,\"bottom\");if(Mo().deviceType.isTouch()){const i=e=>V(e,ze);e.on(\"TableSelectionChange\",(e=>{s.get()||(ru(t,g),ru(t,p),s.set(!0));const l=ze(e.start),c=ze(e.finish);r.set(l),a.set(c),A.from(e.otherCells).each((e=>{o.set(i(e.upOrLeftCells)),n.set(i(e.downOrRightCells)),f(l),b(c)}))})),e.on(\"ResizeEditor ResizeWindow ScrollContent\",(()=>{r.get().each(f),a.get().each(b)})),e.on(\"TableSelectionClear\",(()=>{s.get()&&(lu(g),lu(p),s.set(!1)),r.clear(),a.clear()}))}},AR=(e,t,o)=>{var n;const s=null!==(n=t.delimiter)&&void 0!==n?n:\"\\u203a\";return{dom:{tag:\"div\",classes:[\"tox-statusbar__path\"],attributes:{role:\"navigation\"}},behaviours:ca([bh.config({mode:\"flow\",selector:\"div[role=button]\"}),ug.config({disabled:o.isDisabled}),_w((()=>o.checkUiComponentContext(\"any\"))),Ub.config({}),_h.config({}),Th(\"elementPathEvents\",[Jr(((t,n)=>{e.shortcuts.add(\"alt+F11\",\"focus statusbar elementpath\",(()=>bh.focusIn(t))),e.on(\"NodeChange\",(n=>{const r=(t=>{const o=[];let n=t.length;for(;n-- >0;){const r=t[n];if(1===r.nodeType&&\"BR\"!==(s=r).nodeName&&!s.getAttribute(\"data-mce-bogus\")&&\"bookmark\"!==s.getAttribute(\"data-mce-type\")){const t=gS(e,r);if(t.isDefaultPrevented()||o.push({name:t.name,element:r}),t.isPropagationStopped())break}}var s;return o})(n.parents),a=r.length>0?W(r,((t,n,r)=>{const a=((t,n,s)=>zb.sketch({dom:{tag:\"div\",classes:[\"tox-statusbar__path-item\"],attributes:{\"data-index\":s}},components:[dl(t)],action:t=>{e.focus(),e.selection.select(n),e.nodeChanged()},buttonBehaviours:ca([Zb.config({...o.tooltips.getConfig({tooltipText:o.translate([\"Select the {0} element\",n.nodeName.toLowerCase()]),onShow:(e,t)=>{((e,t)=>{const o=A.from(kt(e,\"id\")).getOrThunk((()=>{const e=Di(\"aria\");return St(t,\"id\",e),e}));St(e,\"aria-describedby\",o)})(e.element,t.element)},onHide:e=>{var t;t=e.element,Tt(t,\"aria-describedby\")}})}),pw(o.isDisabled),_w((()=>o.checkUiComponentContext(\"any\")))])}))(n.name,n.element,r);return 0===r?t.concat([a]):t.concat([{dom:{tag:\"div\",classes:[\"tox-statusbar__path-divider\"],attributes:{\"aria-hidden\":!0}},components:[dl(` ${s} `)]},a])}),[]):[];_h.set(t,a)}))}))])]),components:[]}};var MR;!function(e){e[e.None=0]=\"None\",e[e.Both=1]=\"Both\",e[e.Vertical=2]=\"Vertical\"}(MR||(MR={}));const DR=(e,t,o)=>{const n=ze(e.getContainer()),s=((e,t,o,n,s)=>{const r={height:AF(n+t.top,If(e),Nf(e))};return o===MR.Both&&(r.width=AF(s+t.left,Ff(e),Rf(e))),r})(e,t,o,Ut(n),Kt(n));ie(s,((e,t)=>{h(e)&&Mt(n,t,EF(e))})),(e=>{e.dispatch(\"ResizeEditor\")})(e)},BR=(e,t,o,n)=>{const s=jt(20*o,20*n);return DR(e,s,t),A.some(!0)},FR=(e,t)=>{const o=()=>{const o=[],n=mb(e),s=ab(e),r=ib(e)||e.hasPlugin(\"wordcount\");return s&&o.push(AR(e,{},t)),n&&o.push((()=>{const e=Bw(\"Alt+0\");return{dom:{tag:\"div\",classes:[\"tox-statusbar__help-text\"]},components:[dl(Zv.translate([\"Press {0} for help\",e]))]}})()),r&&o.push((()=>{const o=[];return e.hasPlugin(\"wordcount\")&&o.push(((e,t)=>{const o=(e,o,n)=>_h.set(e,[dl(t.translate([\"{0} \"+n,o[n]]))]);return zb.sketch({dom:{tag:\"button\",classes:[\"tox-statusbar__wordcount\"]},components:[],buttonBehaviours:ca([pw(t.isDisabled),_w((()=>t.checkUiComponentContext(\"any\"))),Ub.config({}),_h.config({}),$u.config({store:{mode:\"memory\",initialValue:{mode:\"words\",count:{words:0,characters:0}}}}),Th(\"wordcount-events\",[ea((e=>{const t=$u.getValue(e),n=\"words\"===t.mode?\"characters\":\"words\";$u.setValue(e,{mode:n,count:t.count}),o(e,t.count,n)})),Jr((t=>{e.on(\"wordCountUpdate\",(e=>{const{mode:n}=$u.getValue(t);$u.setValue(t,{mode:n,count:e.wordCount}),o(t,e.wordCount,n)}))}))])]),eventOrder:{[mr()]:[\"disabling\",\"alloy.base.behaviour\",\"wordcount-events\"]}})})(e,t)),ib(e)&&o.push({dom:{tag:\"span\",classes:[\"tox-statusbar__branding\"]},components:[{dom:{tag:\"a\",attributes:{href:\"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7\",rel:\"noopener\",target:\"_blank\",\"aria-label\":e.translate([\"Build with {0}\",\"TinyMCE\"])},innerHtml:e.translate([\"Build with {0}\",'<svg height=\"16\" viewBox=\"0 0 80 16\" width=\"80\" xmlns=\"http://www.w3.org/2000/svg\"><g opacity=\".8\"><path d=\"m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z\"/><path clip-rule=\"evenodd\" d=\"m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z\" fill-rule=\"evenodd\"/><path d=\"m28.752 4.126h-2.346v8.794h2.346z\"/><path clip-rule=\"evenodd\" d=\"m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z\" fill-rule=\"evenodd\"/></g></svg>\\n'.trim()])},behaviours:ca([Bh.config({})])}]}),{dom:{tag:\"div\",classes:[\"tox-statusbar__right-container\"]},components:o}})()),o.length>0?[{dom:{tag:\"div\",classes:[\"tox-statusbar__text-container\",...(()=>{const e=\"tox-statusbar__text-container--flex-start\",t=\"tox-statusbar__text-container--flex-end\";if(n){const o=\"tox-statusbar__text-container-3-cols\";return r||s?r&&!s?[o,t]:[o,e]:[o,\"tox-statusbar__text-container--space-around\"]}return[r&&!s?t:e]})()]},components:o}]:[]};return{dom:{tag:\"div\",classes:[\"tox-statusbar\"]},components:(()=>{const n=o(),s=((e,t)=>{const o=(e=>{const t=lb(e);return!1===t?MR.None:\"both\"===t?MR.Both:MR.Vertical})(e);if(o===MR.None)return A.none();const n=o===MR.Both?\"Press the arrow keys to resize the editor.\":\"Press the Up and Down arrow keys to resize the editor.\";return A.some(lx(\"resize-handle\",{tag:\"div\",classes:[\"tox-statusbar__resize-handle\"],attributes:{\"aria-label\":t.translate(n),\"data-mce-name\":\"resize-handle\"},behaviours:[kR.config({mode:\"mouse\",repositionTarget:!1,onDrag:(t,n,s)=>DR(e,s,o),blockerClass:\"tox-blocker\"}),bh.config({mode:\"special\",onLeft:()=>BR(e,o,-1,0),onRight:()=>BR(e,o,1,0),onUp:()=>BR(e,o,0,-1),onDown:()=>BR(e,o,0,1)}),Ub.config({}),Bh.config({}),Zb.config(t.tooltips.getConfig({tooltipText:t.translate(\"Resize\")}))]},t.icons))})(e,t);return n.concat(s.toArray())})()}},IR=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),RR=(e,t)=>{const o=e.inline,n=o?RF:_F,s=Tb(e)?NM:_M,r=(()=>{const e=nn(),t=nn(),o=nn();return{dialogUi:e,popupUi:t,mainUi:o,getUiMotherships:()=>{const o=e.get().map((e=>e.mothership)),n=t.get().map((e=>e.mothership));return o.fold((()=>n.toArray()),(e=>n.fold((()=>[e]),(t=>Ze(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>o.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),a=nn(),i=nn(),l=nn(),c=Mo().deviceType.isTouch()?[\"tox-platform-touch\"]:[],d=Sb(e),u=Uf(e),m=Lb({dom:{tag:\"div\",classes:[\"tox-anchorbar\"]}}),g=Lb({dom:{tag:\"div\",classes:[\"tox-bottom-anchorbar\"]}}),p=()=>r.mainUi.get().map((e=>e.outerContainer)).bind(mB.getHeader),h=r.lazyGetInOuterOrDie(\"anchor bar\",m.getOpt),f=r.lazyGetInOuterOrDie(\"bottom anchor bar\",g.getOpt),b=r.lazyGetInOuterOrDie(\"toolbar\",mB.getToolbar),v=r.lazyGetInOuterOrDie(\"throbber\",mB.getThrobber),x=((e,t,o,n)=>{const s=en(!1),r=(e=>{const t=en(Sb(e)?\"bottom\":\"top\");return{isPositionedAtTop:()=>\"top\"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),a={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Zv.translate,isDisabled:()=>!t.ui.isEnabled(),getOption:t.options.get,tooltips:PA(e.dialog),checkUiComponentContext:e=>{if(Mf(t))return{contextType:\"disabled\",shouldDisable:!0};const[o,n=\"\"]=e.split(\":\"),s=t.ui.registry.getAll().contexts;return{contextType:o,shouldDisable:!fe(s,o).fold((()=>fe(s,\"mode\").map((e=>e(\"design\"))).getOr(!1)),(e=>\"!\"===n.charAt(0)?!e(n.slice(1)):e(n)))}}},i=mM(t),l=(e=>{const t=t=>()=>e.formatter.match(t),o=t=>()=>{const o=e.formatter.get(t);return void 0!==o?A.some({tag:o.length>0&&(o[0].inline||o[0].block)||\"div\",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},n=en([]),s=en([]),r=en(!1);return e.on(\"PreInit\",(s=>{const r=VA(e),a=HA(e,r,t,o);n.set(a)})),e.on(\"addStyleModifications\",(n=>{const a=HA(e,n.items,t,o);s.set(a),r.set(n.replace)})),{getData:()=>{const e=r.get()?[]:n.get(),t=s.get();return e.concat(t)}}})(t),c=(e=>({colorPicker:AA(e),hasCustomColors:MA(e),getColors:DA(e),getColorCols:BA(e)}))(t),d=(e=>({isDraggableModal:FA(e)}))(t),u={shared:{providers:a,anchors:EA(t,o,n,r.isPositionedAtTop),header:r},urlinput:i,styles:l,colorinput:c,dialog:d,isContextMenuOpen:()=>s.get(),setContextMenuState:e=>s.set(e)},m=e=>A.none(),g={...u,shared:{...u.shared,interpreter:e=>oA(e,{},g,m),getSink:e.popup}},p={...u,shared:{...u.shared,interpreter:e=>oA(e,{},p,m),getSink:e.dialog}};return{popup:g,dialog:p}})({popup:()=>ln.fromOption(r.popupUi.get().map((e=>e.sink)),\"(popup) UI has not been rendered\"),dialog:()=>ln.fromOption(r.dialogUi.get().map((e=>e.sink)),\"UI has not been rendered\")},e,h,f),y=()=>{const t=(()=>{const t={attributes:{[Xc]:d?Yc.BottomToTop:Yc.TopToBottom}},o=mB.parts.menubar({dom:{tag:\"div\",classes:[\"tox-menubar\"]},backstage:x.popup,onEscape:()=>{e.focus()}}),n=mB.parts.toolbar({dom:{tag:\"div\",classes:[\"tox-toolbar\"]},getSink:x.popup.shared.getSink,providers:x.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch(\"ToggleToolbarDrawer\",{state:t})})(e,t)},type:u,lazyToolbar:b,lazyHeader:()=>p().getOrDie(\"Could not find header element\"),...t}),s=mB.parts[\"multiple-toolbar\"]({dom:{tag:\"div\",classes:[\"tox-toolbar-overlord\"]},providers:x.popup.shared.providers,onEscape:()=>{e.focus()},type:u}),r=wb(e),a=xb(e),i=fb(e),l=ub(e),c=mB.parts.promotion({dom:{tag:\"div\",classes:[\"tox-promotion\"]}}),g=r||a||i,h=l?[c,o]:[o];return mB.parts.header({dom:{tag:\"div\",classes:[\"tox-editor-header\"].concat(g?[]:[\"tox-editor-header--empty\"]),...t},components:G([i?h:[],r?[s]:a?[n]:[],kb(e)?[]:[m.asSpec()]]),sticky:Tb(e),editor:e,sharedBackstage:x.popup.shared})})(),n={dom:{tag:\"div\",classes:[\"tox-sidebar-wrap\"]},components:[mB.parts.socket({dom:{tag:\"div\",classes:[\"tox-edit-area\"]}}),mB.parts.sidebar({dom:{tag:\"div\",classes:[\"tox-sidebar\"]}})]},s=mB.parts.throbber({dom:{tag:\"div\",classes:[\"tox-throbber\"]},backstage:x.popup}),r=mB.parts.viewWrapper({backstage:x.popup}),i=rb(e)&&!o?A.some(FR(e,x.popup.shared.providers)):A.none(),l=G([d?[]:[t],o?[]:[n],d?[t]:[]]),h=mB.parts.editorContainer({components:G([l,o?[]:[g.asSpec()]])}),f=_b(e),v={role:\"application\",...Zv.isRtl()?{dir:\"rtl\"}:{},...f?{\"aria-hidden\":\"true\"}:{}},y=pl(mB.sketch({dom:{tag:\"div\",classes:[\"tox\",\"tox-tinymce\"].concat(o?[\"tox-tinymce-inline\"]:[]).concat(d?[\"tox-tinymce--toolbar-bottom\"]:[]).concat(c),styles:{visibility:\"hidden\",...f?{opacity:\"0\",border:\"0\"}:{}},attributes:v},components:[h,...o?[]:[r,...i.toArray()],s],behaviours:ca([_w((()=>x.popup.shared.providers.checkUiComponentContext(\"any\"))),ug.config({disableClass:\"tox-tinymce--disabled\"}),bh.config({mode:\"cyclic\",selector:\".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle\"})])})),w=ZC(y);return a.set(w),{mothership:w,outerContainer:y}},w=t=>{const o=EF((e=>{const t=(e=>{const t=Df(e),o=If(e),n=Nf(e);return TF(t).map((e=>AF(e,o,n)))})(e);return t.getOr(Df(e))})(e)),n=EF((e=>MF(e).getOr(Bf(e)))(e));return e.inline||(zt(\"div\",\"width\",n)&&Mt(t.element,\"width\",n),zt(\"div\",\"height\",o)?Mt(t.element,\"height\",o):Mt(t.element,\"height\",\"400px\")),o};return{popups:{backstage:x.popup,getMothership:()=>IR(\"popups\",l)},dialogs:{backstage:x.dialog,getMothership:()=>IR(\"dialogs\",i)},renderUI:()=>{const o=y(),a=(()=>{const t=Ob(e),o=Ze(xt(),t)&&\"grid\"===Ft(t,\"display\"),n={dom:{tag:\"div\",classes:[\"tox\",\"tox-silver-sink\",\"tox-tinymce-aux\"].concat(c),attributes:{...Zv.isRtl()?{dir:\"rtl\"}:{}}},behaviours:ca([Qd.config({useFixed:()=>s.isDocked(p)})])},r={dom:{styles:{width:document.body.clientWidth+\"px\"}},events:Hr([Wr(Sr(),(e=>{Mt(e.element,\"width\",document.body.clientWidth+\"px\")}))])},a=pl(xn(n,o?r:{})),l=ZC(a);return i.set(l),{sink:a,mothership:l}})(),d=Eb(e)?(()=>{const e={dom:{tag:\"div\",classes:[\"tox\",\"tox-silver-sink\",\"tox-silver-popup-sink\",\"tox-tinymce-aux\"].concat(c),attributes:{...Zv.isRtl()?{dir:\"rtl\"}:{}}},behaviours:ca([Qd.config({useFixed:()=>s.isDocked(p),getBounds:()=>t.getPopupSinkBounds()})])},o=pl(e),n=ZC(o);return l.set(n),{sink:o,mothership:n}})():(e=>(l.set(e.mothership),e))(a);r.dialogUi.set(a),r.popupUi.set(d),r.mainUi.set(o);return(t=>{const{mainUi:o,popupUi:r,uiMotherships:a}=t;le(Wf(e),((t,o)=>{e.ui.registry.addGroupToolbarButton(o,t)}));const{buttons:i,menuItems:l,contextToolbars:c,sidebars:d,views:m}=e.ui.registry.getAll(),g=yb(e),h={menuItems:l,menus:Ab(e),menubar:Xf(e),toolbar:g.getOrThunk((()=>Kf(e))),allowToolbarGroups:u===yf.floating,buttons:i,sidebar:d,views:m};var f;f=o.outerContainer,e.addShortcut(\"alt+F9\",\"focus menubar\",(()=>{mB.focusMenubar(f)})),e.addShortcut(\"alt+F10\",\"focus toolbar\",(()=>{mB.focusToolbar(f)})),e.addCommand(\"ToggleToolbarDrawer\",((e,t)=>{(null==t?void 0:t.skipFocus)?mB.toggleToolbarDrawerWithoutFocusing(f):mB.toggleToolbarDrawer(f)})),e.addQueryStateHandler(\"ToggleToolbarDrawer\",(()=>mB.isToolbarDrawerToggled(f))),((e,t,o)=>{const n=(e,n)=>{L([t,...o],(t=>{t.broadcastEvent(e,n)}))},s=(e,n)=>{L([t,...o],(t=>{t.broadcastOn([e],n)}))},r=e=>s(Ou(),{target:e.target}),a=jo(),i=Dc(a,\"touchstart\",r),l=Dc(a,\"touchmove\",(e=>n(xr(),e))),c=Dc(a,\"touchend\",(e=>n(yr(),e))),d=Dc(a,\"mousedown\",r),u=Dc(a,\"mouseup\",(e=>{0===e.raw.button&&s(Tu(),{target:e.target})})),m=e=>s(Ou(),{target:ze(e.target)}),g=e=>{0===e.button&&s(Tu(),{target:ze(e.target)})},p=()=>{L(e.editorManager.get(),(t=>{e!==t&&t.dispatch(\"DismissPopups\",{relatedTarget:e})}))},h=e=>n(wr(),Fc(e)),f=e=>{s(_u(),{}),n(Sr(),Fc(e))},b=pt(ze(e.getElement())),v=Bc(b,\"scroll\",(o=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const s=Rb(e,t.element).map((e=>[e.element,...e.others])).getOr([]);R(s,(e=>Ze(e,o.target)))&&(e.dispatch(\"ElementScroll\",{target:o.target.dom}),n(Ar(),o))}}))})),x=()=>s(_u(),{}),y=t=>{t.state&&s(Ou(),{target:ze(e.getContainer())})},w=e=>{s(Ou(),{target:ze(e.relatedTarget.getContainer())})},S=t=>e.dispatch(\"focusin\",t),C=t=>e.dispatch(\"focusout\",t);e.on(\"PostRender\",(()=>{e.on(\"click\",m),e.on(\"tap\",m),e.on(\"mouseup\",g),e.on(\"mousedown\",p),e.on(\"ScrollWindow\",h),e.on(\"ResizeWindow\",f),e.on(\"ResizeEditor\",x),e.on(\"AfterProgressState\",y),e.on(\"DismissPopups\",w),L([t,...o],(e=>{e.element.dom.addEventListener(\"focusin\",S),e.element.dom.addEventListener(\"focusout\",C)}))})),e.on(\"remove\",(()=>{e.off(\"click\",m),e.off(\"tap\",m),e.off(\"mouseup\",g),e.off(\"mousedown\",p),e.off(\"ScrollWindow\",h),e.off(\"ResizeWindow\",f),e.off(\"ResizeEditor\",x),e.off(\"AfterProgressState\",y),e.off(\"DismissPopups\",w),L([t,...o],(e=>{e.element.dom.removeEventListener(\"focusin\",S),e.element.dom.removeEventListener(\"focusout\",C)})),d.unbind(),i.unbind(),l.unbind(),c.unbind(),u.unbind(),v.unbind()})),e.on(\"detach\",(()=>{L([t,...o],gu),L([t,...o],(e=>e.destroy()))}))})(e,o.mothership,a),s.setup(e,x.popup.shared,p),bI(e,x.popup),VI(e,x.popup.shared.getSink,x.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();L(re(t),(o=>{const n=t[o],s=()=>xe(A.from(e.queryCommandValue(\"ToggleSidebar\")),o);e.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand(\"ToggleSidebar\",!1,o),t.setActive(s())},onSetup:t=>{t.setActive(s());const o=()=>t.setActive(s());return e.on(\"ToggleSidebar\",o),()=>{e.off(\"ToggleSidebar\",o)}},context:\"any\"})}))})(e),aD(e,v,x.popup.shared),lI(e,c,r.sink,{backstage:x.popup}),ER(e,r.sink);const b={targetNode:e.getElement(),height:w(o.outerContainer)};return n.render(e,t,h,x.popup,b)})({popupUi:d,dialogUi:a,mainUi:o,uiMotherships:r.getUiMotherships()})}}},NR=y([rs(\"lazySink\"),gs(\"dragBlockClass\"),Ts(\"getBounds\",Zo),ws(\"useTabstopAt\",E),ws(\"firstTabstop\",0),ws(\"eventOrder\",{}),ju(\"modalBehaviours\",[bh]),vi(\"onExecute\"),yi(\"onEscape\")]),zR={sketch:w},VR=y([ym({name:\"draghandle\",overrides:(e,t)=>({behaviours:ca([kR.config({mode:\"mouse\",getTarget:e=>Sl(e,'[role=\"dialog\"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error(\"The drag blocker class was not specified for a dialog with a drag handle: \\n\"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),vm({schema:[rs(\"dom\")],name:\"title\"}),vm({factory:zR,schema:[rs(\"dom\")],name:\"close\"}),vm({factory:zR,schema:[rs(\"dom\")],name:\"body\"}),ym({factory:zR,schema:[rs(\"dom\")],name:\"footer\"}),xm({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[ws(\"dom\",{tag:\"div\",styles:{position:\"fixed\",left:\"0px\",top:\"0px\",right:\"0px\",bottom:\"0px\"}}),ws(\"components\",[])],name:\"blocker\"})]),LR=qm({name:\"ModalDialog\",configFields:NR(),partFields:VR(),factory:(e,t,o,n)=>{const s=nn(),r=Di(\"modal-events\"),a={...e.eventOrder,[Cr()]:[r].concat(e.eventOrder[\"alloy.system.attached\"]||[])},i=Mo();return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{s.set(t);const o=e.lazySink(t).getOrDie(),r=n.blocker(),a=o.getSystem().build({...r,components:r.components.concat([hl(t)]),behaviours:ca([Bh.config({}),Th(\"dialog-blocker-events\",[Kr(Xs(),(()=>{sD.isBlocked(t)||bh.focusIn(t)}))])])});ru(o,a),bh.focusIn(t)},hide:e=>{s.clear(),rt(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{lu(e)}))}))},getBody:t=>Fm(t,e,\"body\"),getFooter:t=>Bm(t,e,\"footer\"),setIdle:e=>{sD.unblock(e)},setBusy:(e,t)=>{sD.block(e,t)}},eventOrder:a,domModification:{attributes:{role:\"dialog\",\"aria-modal\":\"true\"}},behaviours:qu(e.modalBehaviours,[_h.config({}),bh.config({mode:\"cyclic\",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),sD.config({getRoot:s.get}),Th(r,[Jr((t=>{const o=Fm(t,e,\"title\").element,n=(e=>e.dom.textContent)(o);i.os.isMacOS()&&g(n)?St(t.element,\"aria-label\",n):((e,t)=>{const o=Ot(e,\"id\").fold((()=>{const e=Di(\"dialog-label\");return St(t,\"id\",e),e}),w);St(e,\"aria-labelledby\",o)})(t.element,o)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}}),HR=In([ey,ty].concat(tw)),PR=Wn,UR=[Ey(\"button\"),hy,Os(\"align\",\"end\",[\"start\",\"end\"]),Cy,Sy,bs(\"buttonType\",[\"primary\",\"secondary\"]),ks(\"context\",\"mode:design\")],WR=[...UR,ny],$R=[ls(\"type\",[\"submit\",\"cancel\",\"custom\"]),...WR],jR=[ls(\"type\",[\"menu\"]),gy,fy,hy,ms(\"items\",HR),...UR],GR=[...UR,ls(\"type\",[\"togglebutton\"]),fy,hy,gy,_s(\"active\",!1)],qR=es(\"type\",{submit:$R,cancel:$R,custom:$R,menu:jR,togglebutton:GR}),YR=[ey,ny,ls(\"level\",[\"info\",\"warn\",\"error\",\"success\"]),ry,ws(\"url\",\"\")],XR=In(YR),KR=[ey,ny,Sy,Ey(\"button\"),hy,wy,bs(\"buttonType\",[\"primary\",\"secondary\",\"toolbar\"]),Cy,ks(\"context\",\"mode:design\")],JR=In(KR),QR=[ey,ty],ZR=QR.concat([by]),eN=QR.concat([oy,Sy,ks(\"context\",\"mode:design\")]),tN=In(eN),oN=Wn,nN=ZR.concat([ky(\"auto\"),ks(\"context\",\"mode:design\")]),sN=In(nN),rN=Vn([ay,ny,ry]),aN=ZR.concat([ks(\"storageKey\",\"default\"),ks(\"context\",\"mode:design\")]),iN=In(aN),lN=Un,cN=In(ZR),dN=Un,uN=QR.concat([ks(\"tag\",\"textarea\"),is(\"scriptId\"),is(\"scriptUrl\"),vs(\"onFocus\"),Ss(\"settings\",void 0,Gn)]),mN=QR.concat([ks(\"tag\",\"textarea\"),cs(\"init\")]),gN=Yn((e=>Kn(\"customeditor.old\",Fn(mN),e).orThunk((()=>Kn(\"customeditor.new\",Fn(uN),e))))),pN=Un,hN=ZR.concat([ks(\"context\",\"mode:design\")]),fN=In(hN),bN=Rn(En),vN=e=>[ey,as(\"columns\",Pn),e],xN=[ey,is(\"html\"),Os(\"presets\",\"presentation\",[\"presentation\",\"document\"]),Ts(\"onInit\",b),_s(\"stretched\",!1)],yN=In(xN),wN=ZR.concat([_s(\"border\",!1),_s(\"sandboxed\",!0),_s(\"streamContent\",!1),_s(\"transparent\",!0)]),SN=In(wN),CN=Un,kN=In(QR.concat([fs(\"height\")])),ON=In([is(\"url\"),hs(\"zoom\"),hs(\"cachedWidth\"),hs(\"cachedHeight\")]),_N=ZR.concat([fs(\"inputMode\"),fs(\"placeholder\"),_s(\"maximized\",!1),Sy,ks(\"context\",\"mode:design\")]),TN=In(_N),EN=Un,AN=e=>[ey,oy,e,Os(\"align\",\"start\",[\"start\",\"center\",\"end\"]),fs(\"for\")],MN=[ny,ay],DN=[ny,ms(\"items\",ts(0,(()=>BN)))],BN=Nn([In(MN),In(DN)]),FN=ZR.concat([ms(\"items\",BN),Sy,ks(\"context\",\"mode:design\")]),IN=In(FN),RN=Un,NN=ZR.concat([us(\"items\",[ny,ay]),Cs(\"size\",1),Sy,ks(\"context\",\"mode:design\")]),zN=In(NN),VN=Un,LN=ZR.concat([_s(\"constrain\",!0),Sy,ks(\"context\",\"mode:design\")]),HN=In(LN),PN=In([is(\"width\"),is(\"height\")]),UN=QR.concat([oy,Cs(\"min\",0),Cs(\"max\",0)]),WN=In(UN),$N=Pn,jN=[ey,ms(\"header\",Un),ms(\"cells\",Rn(Un))],GN=In(jN),qN=ZR.concat([fs(\"placeholder\"),_s(\"maximized\",!1),Sy,ks(\"context\",\"mode:design\")]),YN=In(qN),XN=Un,KN=[ls(\"type\",[\"directory\",\"leaf\"]),sy,is(\"id\"),ps(\"menu\",LM),fs(\"customStateIcon\"),fs(\"customStateIconTooltip\")],JN=In(KN),QN=KN.concat([ms(\"children\",ts(0,(()=>qn(\"type\",{directory:ZN,leaf:JN}))))]),ZN=In(QN),ez=qn(\"type\",{directory:ZN,leaf:JN}),tz=[ey,ms(\"items\",ez),vs(\"onLeafAction\"),vs(\"onToggleExpand\"),Es(\"defaultExpandedIds\",[],Un),fs(\"defaultSelectedId\")],oz=In(tz),nz=ZR.concat([Os(\"filetype\",\"file\",[\"image\",\"media\",\"file\"]),Sy,fs(\"picker_text\"),ks(\"context\",\"mode:design\")]),sz=In(nz),rz=In([ay,Oy]),az=e=>os(\"items\",\"items\",{tag:\"required\",process:{}},Rn(Yn((t=>Kn(`Checking item of ${e}`,iz,t).fold((e=>ln.error(Zn(e))),(e=>ln.value(e))))))),iz=Dn((()=>{return qn(\"type\",{alertbanner:XR,bar:In((e=az(\"bar\"),[ey,e])),button:JR,checkbox:tN,colorinput:iN,colorpicker:cN,dropzone:fN,grid:In(vN(az(\"grid\"))),iframe:SN,input:TN,listbox:IN,selectbox:zN,sizeinput:HN,slider:WN,textarea:YN,urlinput:sz,customeditor:gN,htmlpanel:yN,imagepreview:kN,collection:sN,label:In(AN(az(\"label\"))),table:GN,tree:oz,panel:cz});var e})),lz=[ey,ws(\"classes\",[]),ms(\"items\",iz)],cz=In(lz),dz=[Ey(\"tab\"),sy,ms(\"items\",iz)],uz=[ey,us(\"tabs\",dz)],mz=In(uz),gz=WR,pz=qR,hz=In([is(\"title\"),as(\"body\",qn(\"type\",{panel:cz,tabpanel:mz})),ks(\"size\",\"normal\"),Es(\"buttons\",[],pz),ws(\"initialData\",{}),Ts(\"onAction\",b),Ts(\"onChange\",b),Ts(\"onSubmit\",b),Ts(\"onClose\",b),Ts(\"onCancel\",b),Ts(\"onTabChange\",b)]),fz=In([ls(\"type\",[\"cancel\",\"custom\"]),...gz]),bz=In([is(\"title\"),is(\"url\"),hs(\"height\"),hs(\"width\"),xs(\"buttons\",fz),Ts(\"onAction\",b),Ts(\"onCancel\",b),Ts(\"onClose\",b),Ts(\"onMessage\",b)]),vz=e=>a(e)?[e].concat(q(he(e),vz)):l(e)?q(e,vz):[],xz=e=>r(e.type)&&r(e.name),yz={checkbox:oN,colorinput:lN,colorpicker:dN,dropzone:bN,input:EN,iframe:CN,imagepreview:ON,selectbox:VN,sizeinput:PN,slider:$N,listbox:RN,size:PN,textarea:XN,urlinput:rz,customeditor:pN,collection:rN,togglemenuitem:PR},wz=e=>{const t=(e=>P(vz(e),xz))(e),o=q(t,(e=>(e=>A.from(yz[e.type]))(e).fold((()=>[]),(t=>[as(e.name,t)]))));return In(o)},Sz=e=>{var t;return{internalDialog:Jn(Kn(\"dialog\",hz,e)),dataValidator:wz(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},Cz={open:(e,t)=>{const o=Sz(t);return e(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(e,t)=>e(Jn(Kn(\"dialog\",bz,t))),redial:e=>Sz(e)};var kz=Object.freeze({__proto__:null,events:(e,t)=>{const o=(o,n)=>{e.updateState.each((e=>{const s=e(o,n);t.set(s)})),e.renderComponents.each((s=>{const r=s(n,t.get());(e.reuseDom?xh:vh)(o,r)}))};return Hr([Wr(ur(),((t,n)=>{const s=n;if(!s.universal){const n=e.channel;I(s.channels,n)&&o(t,s.data)}})),Jr(((t,n)=>{e.initialData.each((e=>{o(t,e)}))}))])}}),Oz=Object.freeze({__proto__:null,getState:(e,t,o)=>o}),_z=[rs(\"channel\"),gs(\"renderComponents\"),gs(\"updateState\"),gs(\"initialData\"),_s(\"reuseDom\",!0)];const Tz=ua({fields:_z,name:\"reflecting\",active:kz,apis:Oz,state:Object.freeze({__proto__:null,init:()=>{const e=en(A.none());return{readState:()=>e.get().getOr(\"none\"),get:e.get,set:e.set,clear:()=>e.set(A.none())}}})}),Ez=e=>{const t=[],o={};return ie(e,((e,n)=>{e.fold((()=>{t.push(n)}),(e=>{o[n]=e}))})),t.length>0?ln.error(t):ln.value(o)},Az=(e,t,o,n)=>{const s=Lb(S_.sketch((s=>({dom:{tag:\"div\",classes:[\"tox-form\"].concat(e.classes)},components:V(e.items,(e=>eA(s,e,t,o,n)))}))));return{dom:{tag:\"div\",classes:[\"tox-dialog__body\"]},components:[{dom:{tag:\"div\",classes:[\"tox-dialog__body-content\"]},components:[s.asSpec()]}],behaviours:ca([bh.config({mode:\"acyclic\",useTabstopAt:k(K_)}),(r=s,Jm.config({find:r.getOpt})),F_(s,{postprocess:e=>Ez(e).fold((e=>(console.error(e),{})),w)}),Th(\"dialog-body-panel\",[Wr(Xs(),((e,t)=>{e.getSystem().broadcastOn([oT],{newFocus:A.some(t.event.target)})}))])])};var r},Mz=Gm({name:\"TabButton\",configFields:[ws(\"uid\",void 0),rs(\"value\"),os(\"dom\",\"dom\",Cn((()=>({attributes:{role:\"tab\",id:Di(\"aria\"),\"aria-selected\":\"false\"}}))),Ln()),gs(\"action\"),ws(\"domModification\",{}),ju(\"tabButtonBehaviours\",[Bh,bh,$u]),rs(\"view\")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Wh(e.action),behaviours:qu(e.tabButtonBehaviours,[Bh.config({}),bh.config({mode:\"execution\",useSpace:!0,useEnter:!0}),$u.config({store:{mode:\"memory\",initialValue:e.value}})]),domModification:e.domModification})}),Dz=y([rs(\"tabs\"),rs(\"dom\"),ws(\"clickToDismiss\",!1),ju(\"tabbarBehaviours\",[wg,bh]),hi([\"tabClass\",\"selectedClass\"])]),Bz=wm({factory:Mz,name:\"tabs\",unit:\"tab\",overrides:e=>{const t=(e,t)=>{wg.dehighlight(e,t),Rr(e,Dr(),{tabbar:e,button:t})},o=(e,t)=>{wg.highlight(e,t),Rr(e,Mr(),{tabbar:e,button:t})};return{action:n=>{const s=n.getSystem().getByUid(e.uid).getOrDie(),r=wg.isHighlighted(s,n);(r&&e.clickToDismiss?t:r?b:o)(s,n)},domModification:{classes:[e.markers.tabClass]}}}}),Fz=y([Bz]),Iz=qm({name:\"Tabbar\",configFields:Dz(),partFields:Fz(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,\"debug.sketcher\":\"Tabbar\",domModification:{attributes:{role:\"tablist\"}},behaviours:qu(e.tabbarBehaviours,[wg.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{St(t.element,\"aria-selected\",\"true\")},onDehighlight:(e,t)=>{St(t.element,\"aria-selected\",\"false\")}}),bh.config({mode:\"flow\",getInitial:e=>wg.getHighlighted(e).map((e=>e.element)),selector:\".\"+e.markers.tabClass,executeOnMove:!0})])})}),Rz=Gm({name:\"Tabview\",configFields:[ju(\"tabviewBehaviours\",[_h])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:qu(e.tabviewBehaviours,[_h.config({})]),domModification:{attributes:{role:\"tabpanel\"}}})}),Nz=y([ws(\"selectFirst\",!0),bi(\"onChangeTab\"),bi(\"onDismissTab\"),ws(\"tabs\",[]),ju(\"tabSectionBehaviours\",[])]),zz=vm({factory:Iz,schema:[rs(\"dom\"),ds(\"markers\",[rs(\"tabClass\"),rs(\"selectedClass\")])],name:\"tabbar\",defaults:e=>({tabs:e.tabs})}),Vz=vm({factory:Rz,name:\"tabview\"}),Lz=y([zz,Vz]),Hz=qm({name:\"TabSection\",configFields:Nz(),partFields:Lz(),factory:(e,t,o,n)=>{const s=(t,o)=>{Bm(t,e,\"tabbar\").each((e=>{o(e).each(Nr)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.tabSectionBehaviours),events:Hr(G([e.selectFirst?[Jr(((e,t)=>{s(e,wg.getFirst)}))]:[],[Wr(Mr(),((t,o)=>{(t=>{const o=$u.getValue(t);Bm(t,e,\"tabview\").each((n=>{$(e.tabs,(e=>e.value===o)).each((o=>{const s=o.view();Ot(t.element,\"id\").each((e=>{St(n.element,\"aria-labelledby\",e)})),_h.set(n,s),e.onChangeTab(n,t,s)}))}))})(o.event.button)})),Wr(Dr(),((t,o)=>{const n=o.event.button;e.onDismissTab(t,n)}))]])),apis:{getViewItems:t=>Bm(t,e,\"tabview\").map((e=>_h.contents(e))).getOr([]),showTab:(e,t)=>{s(e,(e=>{const o=wg.getCandidates(e);return $(o,(e=>$u.getValue(e)===t)).filter((t=>!wg.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}}),Pz=(e,t)=>{Mt(e,\"height\",t+\"px\"),Mt(e,\"flex-basis\",t+\"px\")},Uz=(e,t,o)=>{Sl(e,'[role=\"dialog\"]').each((e=>{Ol(e,'[role=\"tablist\"]').each((n=>{o.get().map((o=>(Mt(t,\"height\",\"0\"),Mt(t,\"flex-basis\",\"0\"),Math.min(o,((e,t,o)=>{const n=nt(e).dom,s=Sl(e,\".tox-dialog-wrap\").getOr(e);let r;r=\"fixed\"===Ft(s,\"position\")?Math.max(n.clientHeight,window.innerHeight):Math.max(n.offsetHeight,n.scrollHeight);const a=Ut(t),i=t.dom.offsetLeft>=o.dom.offsetLeft+Kt(o)?Math.max(Ut(o),a):a,l=parseInt(Ft(e,\"margin-top\"),10)||0,c=parseInt(Ft(e,\"margin-bottom\"),10)||0;return r-(Ut(e)+l+c-i)})(e,t,n))))).each((e=>{Pz(t,e)}))}))}))},Wz=e=>Ol(e,'[role=\"tabpanel\"]'),$z=\"send-data-to-section\",jz=\"send-data-to-view\",Gz=(e,t,o,n)=>{const s=en({}),r=e=>{const t=$u.getValue(e),o=Ez(t).getOr({}),n=s.get(),r=xn(n,o);s.set(r)},a=e=>{const t=s.get();$u.setValue(e,t)},i=en(null),l=V(e.tabs,(e=>({value:e.name,dom:{tag:\"div\",classes:[\"tox-dialog__body-nav-item\"]},components:[dl(o.shared.providers.translate(e.title))],view:()=>[S_.sketch((s=>({dom:{tag:\"div\",classes:[\"tox-form\"]},components:V(e.items,(e=>eA(s,e,t,o,n))),formBehaviours:ca([bh.config({mode:\"acyclic\",useTabstopAt:k(K_)}),Th(\"TabView.form.events\",[Jr(a),Qr(r)]),dc.config({channels:Bs([{key:$z,value:{onReceive:r}},{key:jz,value:{onReceive:a}}])})])})))]}))),c=(e=>{const t=nn(),o=[Jr((o=>{const n=o.element;Wz(n).each((s=>{Mt(s,\"visibility\",\"hidden\"),o.getSystem().getByDom(s).toOptional().each((o=>{const n=((e,t,o)=>V(e,((n,s)=>{_h.set(o,e[s].view());const r=t.dom.getBoundingClientRect();return _h.set(o,[]),r.height})))(e,s,o),r=(e=>te(Z(e,((e,t)=>e>t?-1:e<t?1:0))))(n);r.fold(t.clear,t.set)})),Uz(n,s,t),Vt(s,\"visibility\"),((e,t)=>{te(e).each((e=>Hz.showTab(t,e.value)))})(e,o),requestAnimationFrame((()=>{Uz(n,s,t)}))}))})),Wr(Sr(),(e=>{const o=e.element;Wz(o).each((e=>{Uz(o,e,t)}))})),Wr(bk,((e,o)=>{const n=e.element;Wz(n).each((e=>{const o=hc(pt(e));Mt(e,\"visibility\",\"hidden\");const s=Rt(e,\"height\").map((e=>parseInt(e,10)));Vt(e,\"height\"),Vt(e,\"flex-basis\");const r=e.dom.getBoundingClientRect().height;s.forall((e=>r>e))?(t.set(r),Uz(n,e,t)):s.each((t=>{Pz(e,t)})),Vt(e,\"visibility\"),o.each(mc)}))}))];return{extraEvents:o,selectFirst:!1}})(l);return Hz.sketch({dom:{tag:\"div\",classes:[\"tox-dialog__body\"]},onChangeTab:(e,t,o)=>{const n=$u.getValue(t);Rr(e,fk,{name:n,oldName:i.get()}),i.set(n)},tabs:l,components:[Hz.parts.tabbar({dom:{tag:\"div\",classes:[\"tox-dialog__body-nav\"]},components:[Iz.parts.tabs({})],markers:{tabClass:\"tox-tab\",selectedClass:\"tox-dialog__body-nav-item--active\"},tabbarBehaviours:ca([Ub.config({})])}),Hz.parts.tabview({dom:{tag:\"div\",classes:[\"tox-dialog__body-content\"]}})],selectFirst:c.selectFirst,tabSectionBehaviours:ca([Th(\"tabpanel\",c.extraEvents),bh.config({mode:\"acyclic\"}),Jm.config({find:e=>te(Hz.getViewItems(e))}),I_(A.none(),(e=>(e.getSystem().broadcastOn([$z],{}),s.get())),((e,t)=>{s.set(t),e.getSystem().broadcastOn([jz],{})}))])})},qz=(e,t,o,n,s,r)=>({dom:{tag:\"div\",classes:[\"tox-dialog__content-js\"],attributes:{...o.map((e=>({id:e}))).getOr({}),...s?{\"aria-live\":\"polite\"}:{}}},components:[],behaviours:ca([D_(0),Tz.config({channel:`${Z_}-${t}`,updateState:(e,t)=>A.some({isTabPanel:()=>\"tabpanel\"===t.body.type}),renderComponents:e=>{const t=e.body;return\"tabpanel\"===t.type?[Gz(t,e.initialData,n,r)]:[Az(t,e.initialData,n,r)]},initialData:e})])}),Yz=Of.deviceType.isTouch(),Xz=(e,t)=>({dom:{tag:\"div\",styles:{display:\"none\"},classes:[\"tox-dialog__header\"]},components:[e,t]}),Kz=(e,t)=>LR.parts.close(zb.sketch({dom:{tag:\"button\",classes:[\"tox-button\",\"tox-button--icon\",\"tox-button--naked\"],attributes:{type:\"button\",\"aria-label\":t.translate(\"Close\")}},action:e,buttonBehaviours:ca([Ub.config({})])})),Jz=()=>LR.parts.title({dom:{tag:\"div\",classes:[\"tox-dialog__title\"],innerHtml:\"\",styles:{display:\"none\"}}}),Qz=(e,t)=>LR.parts.body({dom:{tag:\"div\",classes:[\"tox-dialog__body\"]},components:[{dom:{tag:\"div\",classes:[\"tox-dialog__body-content\"]},components:[{dom:Vb(`<p>${Qv(t.translate(e))}</p>`)}]}]}),Zz=e=>LR.parts.footer({dom:{tag:\"div\",classes:[\"tox-dialog__footer\"]},components:e}),eV=(e,t)=>[QC.sketch({dom:{tag:\"div\",classes:[\"tox-dialog__footer-start\"]},components:e}),QC.sketch({dom:{tag:\"div\",classes:[\"tox-dialog__footer-end\"]},components:t})],tV=e=>{const t=\"tox-dialog\",o=t+\"-wrap\",n=o+\"__backdrop\",s=t+\"__disable-scroll\";return LR.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),A.some(!0)),useTabstopAt:e=>!K_(e),firstTabstop:e.firstTabstop,dom:{tag:\"div\",classes:[t].concat(e.extraClasses),styles:{position:\"relative\",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Vb(`<div class=\"${o}\"></div>`),components:[{dom:{tag:\"div\",classes:Yz?[n,n+\"--opaque\"]:[n]}}]}},dragBlockClass:o,modalBehaviours:ca([Bh.config({}),Th(\"dialog-events\",e.dialogEvents.concat([Kr(Xs(),((e,t)=>{sD.isBlocked(e)||bh.focusIn(e)})),Wr(Tr(),((e,t)=>{e.getSystem().broadcastOn([oT],{newFocus:t.event.newFocus})}))])),Th(\"scroll-lock\",[Jr((()=>{ya(xt(),s)})),Qr((()=>{Sa(xt(),s)}))]),...e.extraBehaviours]),eventOrder:{[mr()]:[\"dialog-events\"],[Cr()]:[\"scroll-lock\",\"dialog-events\",\"alloy.base.behaviour\"],[kr()]:[\"alloy.base.behaviour\",\"dialog-events\",\"scroll-lock\"],...e.eventOrder}})},oV=e=>zb.sketch({dom:{tag:\"button\",classes:[\"tox-button\",\"tox-button--icon\",\"tox-button--naked\"],attributes:{type:\"button\",\"aria-label\":e.translate(\"Close\"),\"data-mce-name\":\"close\"}},buttonBehaviours:ca([Ub.config({}),Zb.config(e.tooltips.getConfig({tooltipText:e.translate(\"Close\")}))]),components:[lx(\"close\",{tag:\"span\",classes:[\"tox-icon\"]},e.icons)],action:e=>{Ir(e,uk)}}),nV=(e,t,o,n)=>({dom:{tag:\"h1\",classes:[\"tox-dialog__title\"],attributes:{...o.map((e=>({id:e}))).getOr({})}},components:[],behaviours:ca([Tz.config({channel:`${Q_}-${t}`,initialData:e,renderComponents:e=>[dl(n.translate(e.title))]})])}),sV=()=>({dom:Vb('<div class=\"tox-dialog__draghandle\"></div>')}),rV=(e,t,o)=>((e,t,o)=>{const n=LR.parts.title(nV(e,t,A.none(),o)),s=LR.parts.draghandle(sV()),r=LR.parts.close(oV(o)),a=[n].concat(e.draggable?[s]:[]).concat([r]);return QC.sketch({dom:Vb('<div class=\"tox-dialog__header\"></div>'),components:a})})({title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t,o.shared.providers),aV=(e,t,o,n)=>({dom:{tag:\"div\",classes:[\"tox-dialog__busy-spinner\"],attributes:{\"aria-label\":o.translate(e)},styles:{left:\"0px\",right:\"0px\",bottom:\"0px\",top:`${n.getOr(0)}px`,position:\"absolute\"}},behaviours:t,components:[{dom:Vb('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')}]}),iV=(e,t,o)=>({onClose:()=>o.closeWindow(),onBlock:o=>{const n=Ol(e().element,\".tox-dialog__header\").map((e=>Ut(e)));LR.setBusy(e(),((e,s)=>aV(o.message,s,t,n)))},onUnblock:()=>{LR.setIdle(e())}}),lV=\"tox-dialog--fullscreen\",cV=\"tox-dialog--width-lg\",dV=\"tox-dialog--width-md\",uV=e=>{switch(e){case\"large\":return A.some(cV);case\"medium\":return A.some(dV);default:return A.none()}},mV=(e,t)=>{const o=ze(t.element.dom);Ca(o,lV)||(Oa(o,[cV,dV]),uV(e).each((e=>ya(o,e))))},gV=(e,t)=>{const o=ze(e.element.dom),n=_a(o),s=$(n,(e=>e===cV||e===dV)).or(uV(t));((e,t)=>{L(t,(t=>{((e,t)=>{const o=fa(e)?e.dom.classList.toggle(t):((e,t)=>I(ba(e),t)?xa(e,t):va(e,t))(e,t);wa(e)})(e,t)}))})(o,[lV,...s.toArray()])},pV=(e,t,o)=>pl(tV({...e,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[N_({}),...e.extraBehaviours],onEscape:e=>{Ir(e,uk)},dialogEvents:t,eventOrder:{[ur()]:[Tz.name(),dc.name()],[Cr()]:[\"scroll-lock\",Tz.name(),\"messages\",\"dialog-events\",\"alloy.base.behaviour\"],[kr()]:[\"alloy.base.behaviour\",\"dialog-events\",\"messages\",Tz.name(),\"scroll-lock\"]}})),hV=(e,t={})=>V(e,(e=>\"menu\"===e.type?(e=>{const o=V(e.items,(e=>{const o=fe(t,e.name).getOr(en(!1));return{...e,storage:o}}));return{...e,items:o}})(e):e)),fV=e=>W(e,((e,t)=>\"menu\"===t.type?W(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),bV=(e,t)=>[qr(Xs(),X_),e(dk,((e,o,n,s)=>{pc(s.element)&&hc(pt(s.element)).each(gc),t.onClose(),o.onClose()})),e(uk,((e,t,o,n)=>{t.onCancel(e),Ir(n,dk)})),Wr(hk,((e,o)=>t.onUnblock())),Wr(pk,((e,o)=>t.onBlock(o.event)))],vV=(e,t,o)=>{const n=(t,o)=>Wr(t,((t,n)=>{s(t,((s,r)=>{o(e(),s,n.event,t)}))})),s=(e,t)=>{Tz.getState(e).get().each((o=>{t(o.internalDialog,e)}))};return[...bV(n,t),n(gk,((e,t)=>t.onSubmit(e))),n(lk,((e,t,o)=>{t.onChange(e,{name:o.name})})),n(mk,((e,t,n,s)=>{const r=()=>s.getSystem().isConnected()?bh.focusIn(s):void 0,a=e=>_t(e,\"disabled\")||Ot(e,\"aria-disabled\").exists((e=>\"true\"===e)),i=pt(s.element),l=hc(i);t.onAction(e,{name:n.name,value:n.value}),hc(i).fold(r,(e=>{a(e)||l.exists((t=>et(e,t)&&a(t)))?r():o().toOptional().filter((t=>!et(t.element,e))).each(r)}))})),n(fk,((e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})})),Qr((t=>{const o=e();$u.setValue(t,o.getData())}))]},xV=(e,t)=>{const o=t.map((e=>e.footerButtons)).getOr([]),n=H(o,(e=>\"start\"===e.align)),s=(e,t)=>QC.sketch({dom:{tag:\"div\",classes:[`tox-dialog__footer-${e}`]},components:V(t,(e=>e.memento.asSpec()))});return[s(\"start\",n.pass),s(\"end\",n.fail)]},yV=(e,t,o)=>({dom:Vb('<div class=\"tox-dialog__footer\"></div>'),components:[],behaviours:ca([Tz.config({channel:`${eT}-${t}`,initialData:e,updateState:(e,t)=>{const n=V(t.buttons,(e=>{const t=Lb(((e,t)=>VE(e,e.type,t))(e,o));return{name:e.name,align:e.align,memento:t}}));return A.some({lookupByName:t=>((e,t,o)=>$(t,(e=>e.name===o)).bind((t=>t.memento.getOpt(e))))(e,n,t),footerButtons:n})},renderComponents:xV})])}),wV=(e,t,o)=>LR.parts.footer(yV(e,t,o)),SV=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const o=Jm.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return S_.getField(o,t).orThunk((()=>{const o=e.getFooter().bind((e=>Tz.getState(e).get()));return o.bind((e=>e.lookupByName(t)))}))}return A.none()},CV=(e,t,o)=>{const n=t=>{const o=e.getRoot();o.getSystem().isConnected()&&t(o)},s={getData:()=>{const t=e.getRoot(),n=t.getSystem().isConnected()?e.getFormWrapper():t;return{...$u.getValue(n),...le(o,(e=>e.get()))}},setData:t=>{n((n=>{const r=s.getData(),a=xn(r,t),i=((e,t)=>{const o=e.getRoot();return Tz.getState(o).get().map((e=>Jn(Kn(\"data\",e.dataValidator,t)))).getOr(t)})(e,a),l=e.getFormWrapper();$u.setValue(l,i),ie(o,((e,t)=>{be(a,t)&&e.set(a[t])}))}))},setEnabled:(t,o)=>{SV(e,t).each(o?ug.enable:ug.disable)},focus:t=>{SV(e,t).each(Bh.focus)},block:e=>{if(!r(e))throw new Error(\"The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument\");n((t=>{Rr(t,pk,{message:e})}))},unblock:()=>{n((e=>{Ir(e,hk)}))},showTab:t=>{n((o=>{const n=e.getBody();Tz.getState(n).get().exists((e=>e.isTabPanel()))&&Jm.getCurrent(n).each((e=>{Hz.showTab(e,t)}))}))},redial:r=>{n((n=>{const a=e.getId(),i=t(r),l=hV(i.internalDialog.buttons,o);n.getSystem().broadcastOn([`${J_}-${a}`],i),n.getSystem().broadcastOn([`${Q_}-${a}`],i.internalDialog),n.getSystem().broadcastOn([`${Z_}-${a}`],i.internalDialog),n.getSystem().broadcastOn([`${eT}-${a}`],{...i.internalDialog,buttons:l}),s.setData(i.initialData)}))},close:()=>{n((e=>{Ir(e,dk)}))},toggleFullscreen:e.toggleFullscreen};return s},kV=(e,t,o,n=!1,s)=>{const r=Di(\"dialog\"),a=Di(\"dialog-label\"),i=Di(\"dialog-content\"),l=e.internalDialog,c=en(l.size),d=uV(c.get()).toArray(),u=Lb(((e,t,o,n)=>QC.sketch({dom:Vb('<div class=\"tox-dialog__header\"></div>'),components:[nV(e,t,A.some(o),n),sV(),oV(n)],containerBehaviours:ca([kR.config({mode:\"mouse\",blockerClass:\"blocker\",getTarget:e=>_l(e,'[role=\"dialog\"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:\"data-drag-left\",topAttr:\"data-drag-top\"}})])}))({title:l.title,draggable:!0},r,a,o.shared.providers)),m=Lb(((e,t,o,n,s,r)=>qz(e,t,A.some(o),n,s,r))({body:l.body,initialData:l.initialData},r,i,o,n,(e=>SV(x,e)))),g=hV(l.buttons),p=fV(g),h=Ce(0!==g.length,Lb(((e,t,o)=>yV(e,t,o))({buttons:g},r,o))),f=vV((()=>w),{onBlock:e=>{sD.block(v,((t,n)=>{const s=u.getOpt(v).map((e=>Ut(e.element)));return aV(e.message,n,o.shared.providers,s)}))},onUnblock:()=>{sD.unblock(v)},onClose:()=>t.closeWindow()},o.shared.getSink),b=Mo().os,v=pl({dom:{tag:\"div\",classes:[\"tox-dialog\",\"tox-dialog-inline\",...d],attributes:{role:\"dialog\",...b.isMacOS()?{\"aria-label\":l.title}:{\"aria-labelledby\":a}}},eventOrder:{[ur()]:[Tz.name(),dc.name()],[mr()]:[\"execute-on-form\"],[Cr()]:[\"reflecting\",\"execute-on-form\"]},behaviours:ca([bh.config({mode:\"cyclic\",onEscape:e=>(Ir(e,dk),A.some(!0)),useTabstopAt:e=>!K_(e)&&(\"button\"!==Ue(e)||\"disabled\"!==kt(e,\"disabled\")),firstTabstop:1}),Tz.config({channel:`${J_}-${r}`,updateState:(e,t)=>(c.set(t.internalDialog.size),mV(t.internalDialog.size,e),s(),A.some(t)),initialData:e}),Bh.config({}),Th(\"execute-on-form\",f.concat([Kr(Xs(),((e,t)=>{bh.focusIn(e)})),Wr(Tr(),((e,t)=>{e.getSystem().broadcastOn([oT],{newFocus:t.event.newFocus})}))])),sD.config({getRoot:()=>A.some(v)}),_h.config({}),N_({})]),components:[u.asSpec(),m.asSpec(),...h.map((e=>e.asSpec())).toArray()]}),x={getId:y(r),getRoot:y(v),getFooter:()=>h.map((e=>e.get(v))),getBody:()=>m.get(v),getFormWrapper:()=>{const e=m.get(v);return Jm.getCurrent(e).getOr(e)},toggleFullscreen:()=>{gV(v,c.get())}},w=CV(x,t.redial,p);return{dialog:v,instanceApi:w}};var OV=tinymce.util.Tools.resolve(\"tinymce.util.URI\");const _V=[\"insertContent\",\"setContent\",\"execCommand\",\"close\",\"block\",\"unblock\"],TV=e=>a(e)&&-1!==_V.indexOf(e.mceAction),EV=(e,t,o,n)=>{const s=Di(\"dialog\"),i=rV(e.title,s,n),l=(e=>{const t={dom:{tag:\"div\",classes:[\"tox-dialog__content-js\"]},components:[{dom:{tag:\"div\",classes:[\"tox-dialog__body-iframe\"]},components:[q_(A.none(),{dom:{tag:\"iframe\",attributes:{src:e.url}},behaviours:ca([Ub.config({}),Bh.config({})])})]}],behaviours:ca([bh.config({mode:\"acyclic\",useTabstopAt:k(K_)})])};return LR.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?A.none():A.some(wV({buttons:e},s,n)))),u=((e,t)=>{const o=(e,t)=>Wr(e,((e,o)=>{n(e,((n,s)=>{t(y,n,o.event,e)}))})),n=(e,t)=>{Tz.getState(e).get().each((o=>{t(o,e)}))};return[...bV(o,t),o(mk,((e,t,o)=>{t.onAction(e,{name:o.name})}))]})(0,iV((()=>x),n.shared.providers,t)),m={...e.height.fold((()=>({})),(e=>({height:e+\"px\",\"max-height\":e+\"px\"}))),...e.width.fold((()=>({})),(e=>({width:e+\"px\",\"max-width\":e+\"px\"})))},p=e.width.isNone()&&e.height.isNone()?[\"tox-dialog--width-lg\"]:[],h=new OV(e.url,{base_uri:new OV(window.location.href)}),f=`${h.protocol}://${h.host}${h.port?\":\"+h.port:\"\"}`,b=on(),v=[Tz.config({channel:`${J_}-${s}`,updateState:(e,t)=>A.some(t),initialData:e}),Th(\"messages\",[Jr((()=>{const t=Dc(ze(window),\"message\",(t=>{if(h.isSameOrigin(new OV(t.raw.origin))){const n=t.raw.data;TV(n)?((e,t,o)=>{switch(o.mceAction){case\"insertContent\":e.insertContent(o.content);break;case\"setContent\":e.setContent(o.content);break;case\"execCommand\":const n=!!d(o.ui)&&o.ui;e.execCommand(o.cmd,n,o.value);break;case\"close\":t.close();break;case\"block\":t.block(o.message);break;case\"unblock\":t.unblock()}})(o,y,n):(e=>!TV(e)&&a(e)&&be(e,\"mceAction\"))(n)&&e.onMessage(y,n)}}));b.set(t)})),Qr(b.clear)]),dc.config({channels:{[tT]:{onReceive:(e,t)=>{Ol(e.element,\"iframe\").each((e=>{const o=e.dom.contentWindow;g(o)&&o.postMessage(t,f)}))}}}})],x=pV({id:s,header:i,body:l,footer:c,extraClasses:p,extraBehaviours:v,extraStyles:m},u,n),y=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!r(e))throw new Error(\"The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument\");t((t=>{Rr(t,pk,{message:e})}))},unblock:()=>{t((e=>{Ir(e,hk)}))},close:()=>{t((e=>{Ir(e,dk)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([tT],e)}))}}})(x);return{dialog:x,instanceApi:y}},AV=(e,t)=>Jn(Kn(\"data\",t,e)),MV=e=>UC(e,\".tox-alert-dialog\")||UC(e,\".tox-confirm-dialog\"),DV=(e,t,o)=>t&&o?[]:[Oi.config({contextual:{lazyContext:()=>A.some(Ko(ze(e.getContentAreaContainer()))),fadeInClass:\"tox-dialog-dock-fadein\",fadeOutClass:\"tox-dialog-dock-fadeout\",transitionClass:\"tox-dialog-dock-transition\"},modes:[\"top\"],lazyViewport:t=>Rb(e,t.element).map((e=>({bounds:Nb(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:qt(e.element).top})}))).getOrThunk((()=>({bounds:Zo(),optScrollEnv:A.none()})))})],BV=e=>{const t=e.editor,o=Tb(t),n=(e=>{const t=e.shared;return{open:(o,n)=>{const s=()=>{LR.hide(l),n()},r=Lb(VE({context:\"any\",name:\"close-alert\",text:\"OK\",primary:!0,buttonType:A.some(\"primary\"),align:\"end\",enabled:!0,icon:A.none()},\"cancel\",e)),a=Jz(),i=Kz(s,t.providers),l=pl(tV({lazySink:()=>t.getSink(),header:Xz(a,i),body:Qz(o,t.providers),footer:A.some(Zz(eV([],[r.asSpec()]))),onEscape:s,extraClasses:[\"tox-alert-dialog\"],extraBehaviours:[],extraStyles:{},dialogEvents:[Wr(uk,s)],eventOrder:{}}));LR.show(l);const c=r.get(l);Bh.focus(c)}}})(e.backstages.dialog),s=(e=>{const t=e.shared;return{open:(o,n)=>{const s=e=>{LR.hide(c),n(e)},r=Lb(VE({context:\"any\",name:\"yes\",text:\"Yes\",primary:!0,buttonType:A.some(\"primary\"),align:\"end\",enabled:!0,icon:A.none()},\"submit\",e)),a=VE({context:\"any\",name:\"no\",text:\"No\",primary:!1,buttonType:A.some(\"secondary\"),align:\"end\",enabled:!0,icon:A.none()},\"cancel\",e),i=Jz(),l=Kz((()=>s(!1)),t.providers),c=pl(tV({lazySink:()=>t.getSink(),header:Xz(i,l),body:Qz(o,t.providers),footer:A.some(Zz(eV([],[a,r.asSpec()]))),onEscape:()=>s(!1),extraClasses:[\"tox-confirm-dialog\"],extraBehaviours:[],extraStyles:{},dialogEvents:[Wr(uk,(()=>s(!1))),Wr(gk,(()=>s(!0)))],eventOrder:{}}));LR.show(c);const d=r.get(c);Bh.focus(d)}}})(e.backstages.dialog),r=(t,o)=>Cz.open(((t,n,s)=>{const r=n,a=((e,t,o)=>{const n=Di(\"dialog\"),s=e.internalDialog,r=rV(s.title,n,o),a=en(s.size),i=uV(a.get()).toArray(),l=((e,t,o,n)=>{const s=qz(e,t,A.none(),o,!1,n);return LR.parts.body(s)})({body:s.body,initialData:s.initialData},n,o,(e=>SV(h,e))),c=hV(s.buttons),d=fV(c),u=Ce(0!==c.length,wV({buttons:c},n,o)),m=vV((()=>f),iV((()=>p),o.shared.providers,t),o.shared.getSink),g={id:n,header:r,body:l,footer:u,extraClasses:i,extraBehaviours:[Tz.config({channel:`${J_}-${n}`,updateState:(e,t)=>(a.set(t.internalDialog.size),mV(t.internalDialog.size,e),A.some(t)),initialData:e})],extraStyles:{}},p=pV(g,m,o),h={getId:y(n),getRoot:y(p),getBody:()=>LR.getBody(p),getFooter:()=>LR.getFooter(p),getFormWrapper:()=>{const e=LR.getBody(p);return Jm.getCurrent(e).getOr(e)},toggleFullscreen:()=>{gV(p,a.get())}},f=CV(h,t.redial,d);return{dialog:p,instanceApi:f}})({dataValidator:s,initialData:r,internalDialog:t},{redial:Cz.redial,closeWindow:()=>{LR.hide(a.dialog),o(a.instanceApi)}},e.backstages.dialog);return LR.show(a.dialog),a.instanceApi.setData(r),a.instanceApi}),t),a=(n,s,r,a)=>Cz.open(((n,i,l)=>{const c=AV(i,l),d=nn(),u=e.backstages.popup.shared.header.isPositionedAtTop(),m=()=>d.on((e=>{xf.reposition(e),o&&u||Oi.refresh(e)})),g=kV({dataValidator:l,initialData:c,internalDialog:n},{redial:Cz.redial,closeWindow:()=>{d.on(xf.hide),t.off(\"ResizeEditor\",m),d.clear(),r(g.instanceApi)}},e.backstages.popup,a.ariaAttrs,m),p=pl(xf.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:\"div\",classes:[]},fireDismissalEventInstead:a.persistent?{event:\"doNotDismissYet\"}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ca([Th(\"window-manager-inline-events\",[Wr(Or(),((e,t)=>{Ir(g.dialog,uk)}))]),...DV(t,o,u)]),isExtraPart:(e,t)=>MV(t)}));return d.set(p),xf.showWithinBounds(p,hl(g.dialog),{anchor:s},(()=>{const e=t.inline?xt():ze(t.getContainer()),o=Ko(e);return A.some(o)})),o&&u||(Oi.refresh(p),t.on(\"ResizeEditor\",m)),g.instanceApi.setData(c),bh.focusIn(g.dialog),g.instanceApi}),n),i=(o,n,s,r)=>Cz.open(((o,a,i)=>{const l=AV(a,i),c=nn(),d=e.backstages.popup.shared.header.isPositionedAtTop(),u=()=>c.on((e=>{xf.reposition(e),Oi.refresh(e)})),m=kV({dataValidator:i,initialData:l,internalDialog:o},{redial:Cz.redial,closeWindow:()=>{c.on(xf.hide),t.off(\"ResizeEditor ScrollWindow ElementScroll\",u),c.clear(),s(m.instanceApi)}},e.backstages.popup,r.ariaAttrs,u),g=pl(xf.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:\"div\",classes:[]},fireDismissalEventInstead:r.persistent?{event:\"doNotDismissYet\"}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ca([Th(\"window-manager-inline-events\",[Wr(Or(),((e,t)=>{Ir(m.dialog,uk)}))]),Oi.config({contextual:{lazyContext:()=>A.some(Ko(ze(t.getContentAreaContainer()))),fadeInClass:\"tox-dialog-dock-fadein\",fadeOutClass:\"tox-dialog-dock-fadeout\",transitionClass:\"tox-dialog-dock-transition\"},modes:[\"top\",\"bottom\"],lazyViewport:e=>Rb(t,e.element).map((e=>({bounds:Nb(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:qt(e.element).top})}))).getOrThunk((()=>({bounds:Zo(),optScrollEnv:A.none()})))})]),isExtraPart:(e,t)=>MV(t)}));return c.set(g),xf.showWithinBounds(g,hl(m.dialog),{anchor:n},(()=>e.backstages.popup.shared.getSink().toOptional().bind((e=>{const o=Rb(t,e.element).map((e=>Nb(e))).getOr(Zo()),n=Ko(ze(t.getContentAreaContainer())),s=Qo(n,o);return A.some(Xo(s.x,s.y,s.width,s.height-15))})))),Oi.refresh(g),t.on(\"ResizeEditor ScrollWindow ElementScroll ResizeWindow\",u),m.instanceApi.setData(l),bh.focusIn(m.dialog),m.instanceApi}),o);return{open:(t,o,n)=>{if(!u(o)){if(\"toolbar\"===o.inline)return a(t,e.backstages.popup.shared.anchors.inlineDialog(),n,o);if(\"bottom\"===o.inline)return i(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),n,o);if(\"cursor\"===o.inline)return a(t,e.backstages.popup.shared.anchors.cursor(),n,o)}return r(t,n)},openUrl:(o,n)=>((o,n)=>Cz.openUrl((o=>{const s=EV(o,{closeWindow:()=>{LR.hide(s.dialog),n(s.instanceApi)}},t,e.backstages.dialog);return LR.show(s.dialog),s.instanceApi}),o))(o,n),alert:(e,t)=>{n.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{s.open(e,t)}}},FV=e=>{Ef(e),(e=>{const t=e.options.register,o=e=>{return f(e,r)?{value:(t=e,MS(t.map(((e,t)=>t%2==0?\"#\"+(e=>{return(t=e,Yw(t)?A.some({value:Xw(t)}):A.none()).orThunk((()=>lS(e).map(Jw))).getOrThunk((()=>{const t=document.createElement(\"canvas\");t.height=1,t.width=1;const o=t.getContext(\"2d\");o.clearRect(0,0,t.width,t.height),o.fillStyle=\"#FFFFFF\",o.fillStyle=e,o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data,s=n[0],r=n[1],a=n[2],i=n[3];return Jw(nS(s,r,a,i))}));var t})(e).value:e)))),valid:!0}:{valid:!1,message:\"Must be an array of strings.\"};var t},n=e=>h(e)&&e>0?{value:e,valid:!0}:{valid:!1,message:\"Must be a positive number.\"};t(\"color_map\",{processor:o,default:[\"#BFEDD2\",\"Light Green\",\"#FBEEB8\",\"Light Yellow\",\"#F8CAC6\",\"Light Red\",\"#ECCAFA\",\"Light Purple\",\"#C2E0F4\",\"Light Blue\",\"#2DC26B\",\"Green\",\"#F1C40F\",\"Yellow\",\"#E03E2D\",\"Red\",\"#B96AD9\",\"Purple\",\"#3598DB\",\"Blue\",\"#169179\",\"Dark Turquoise\",\"#E67E23\",\"Orange\",\"#BA372A\",\"Dark Red\",\"#843FA1\",\"Dark Purple\",\"#236FA1\",\"Dark Blue\",\"#ECF0F1\",\"Light Gray\",\"#CED4D9\",\"Medium Gray\",\"#95A5A6\",\"Gray\",\"#7E8C8D\",\"Dark Gray\",\"#34495E\",\"Navy Blue\",\"#000000\",\"Black\",\"#ffffff\",\"White\"]}),t(\"color_map_raw\",{processor:e=>f(e,r)?{value:MS(e),valid:!0}:{valid:!1,message:\"Must be an array of strings.\"}}),t(\"color_map_background\",{processor:o}),t(\"color_map_foreground\",{processor:o}),t(\"color_cols\",{processor:n,default:IS(e)}),t(\"color_cols_foreground\",{processor:n,default:RS(e,ES)}),t(\"color_cols_background\",{processor:n,default:RS(e,AS)}),t(\"custom_colors\",{processor:\"boolean\",default:!0}),t(\"color_default_foreground\",{processor:\"string\",default:BS}),t(\"color_default_background\",{processor:\"string\",default:BS})})(e),(e=>{const t=e.options.register;t(\"contextmenu_avoid_overlap\",{processor:\"string\",default:\"\"}),t(\"contextmenu_never_use_native\",{processor:\"boolean\",default:!1}),t(\"contextmenu\",{processor:e=>!1===e?{value:[],valid:!0}:r(e)||f(e,r)?{value:vI(e),valid:!0}:{valid:!1,message:\"Must be false or a string.\"},default:\"link linkchecker image editimage table spellchecker configurepermanentpen\"})})(e)};sn.add(\"silver\",(e=>{FV(e);let t=()=>Zo();const{dialogs:o,popups:n,renderUI:s}=RR(e,{getPopupSinkBounds:()=>t()});PC(e,n.backstage.shared);const r=BV({editor:e,backstages:{popup:n.backstage,dialog:o.backstage}}),a=nn();return{renderUI:()=>{const o=s();return Rb(e,n.getMothership().element).each((e=>{t=()=>Nb(e)})),o},getWindowManagerImpl:y(r),getNotificationManagerImpl:()=>ux(e,{backstage:n.backstage},n.getMothership(),a)}}))}();","tinymce.IconManager.add(\"default\",{icons:{\"accessibility-check\":'<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z\" fill-rule=\"nonzero\"/></svg>',\"accordion-toggle\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z\"/><path opacity=\".2\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z\"/><path opacity=\".2\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z\"/></svg>',accordion:'<svg width=\"24\" height=\"24\"><rect x=\"12\" y=\"7\" width=\"10\" height=\"2\" rx=\"1\"/><rect x=\"12\" y=\"11\" width=\"10\" height=\"2\" rx=\"1\"/><rect x=\"12\" y=\"15\" width=\"6\" height=\"2\" rx=\"1\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z\"/></svg>',\"action-next\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z\"/></svg>',\"action-prev\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z\"/></svg>',addtag:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z\"/></svg>',\"ai-prompt\":'<svg width=\"24\" height=\"24\"><g clip-path=\"url(#a)\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z\"/><path d=\"m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z\"/></g><defs><clipPath id=\"a\"><path d=\"M0 0h24v24H0z\"/></clipPath></defs></svg>',ai:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z\"/></svg>',\"align-center\":'<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\"align-justify\":'<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\"align-left\":'<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\"align-none\":'<svg width=\"24\" height=\"24\"><path d=\"M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z\" fill-rule=\"evenodd\"/></svg>',\"align-right\":'<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\"arrow-left\":'<svg width=\"24\" height=\"24\"><path d=\"m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\"arrow-right\":'<svg width=\"24\" height=\"24\"><path d=\"m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',bold:'<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z\" fill-rule=\"evenodd\"/></svg>',bookmark:'<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z\" fill-rule=\"nonzero\"/></svg>',\"border-style\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\"border-width\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',brightness:'<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z\" fill-rule=\"evenodd\"/></svg>',browse:'<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z\" fill-rule=\"nonzero\"/></svg>',cancel:'<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z\" fill-rule=\"nonzero\"/></svg>',\"cell-background-color\":'<svg width=\"24\" height=\"24\"><path d=\"m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z\"/></svg>',\"cell-border-color\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"m13 11-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z\"/></g></svg>',\"change-case\":'<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\"character-count\":'<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z\" fill-rule=\"evenodd\"/></svg>',\"checklist-rtl\":'<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',checklist:'<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z\" fill-rule=\"evenodd\"/></svg>',checkmark:'<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z\" fill-rule=\"nonzero\"/></svg>',\"chevron-down\":'<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z\" fill-rule=\"nonzero\"/></svg>',\"chevron-left\":'<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z\" fill-rule=\"nonzero\"/></svg>',\"chevron-right\":'<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z\" fill-rule=\"nonzero\"/></svg>',\"chevron-up\":'<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z\" fill-rule=\"nonzero\"/></svg>',close:'<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z\" fill-rule=\"evenodd\"/></svg>',\"code-sample\":'<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z\" fill-rule=\"evenodd\"/></svg>',\"color-levels\":'<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z\" fill-rule=\"evenodd\"/></svg>',\"color-picker\":'<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\" fill-rule=\"nonzero\"/></svg>',\"color-swatch-remove-color\":'<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3 3 21\" fill-rule=\"evenodd\"/></svg>',\"color-swatch\":'<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\"comment-add\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z\"/></g></svg>',comment:'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/></svg>',contrast:'<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z\" fill-rule=\"evenodd\"/></svg>',copy:'<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z\" fill-rule=\"nonzero\"/></svg>',crop:'<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z\" fill-rule=\"evenodd\"/></svg>',\"cut-column\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z\"/></svg>',\"cut-row\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z\"/></svg>',cut:'<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z\" fill-rule=\"evenodd\"/></svg>',\"document-properties\":'<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',drag:'<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z\" fill-rule=\"evenodd\"/></svg>',\"duplicate-column\":'<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z\"/></svg>',\"duplicate-row\":'<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z\"/></svg>',duplicate:'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z\"/></g></svg>',\"edit-block\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z\"/></svg>',\"edit-image\":'<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z\" fill-rule=\"nonzero\"/></svg>',\"embed-page\":'<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z\" fill-rule=\"nonzero\"/></svg>',embed:'<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z\" fill-rule=\"nonzero\"/></svg>',emoji:'<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z\" fill-rule=\"nonzero\"/></svg>',export:'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z\"/><path d=\"M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z\"/></g></svg>',fill:'<svg width=\"24\" height=\"26\"><path d=\"m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z\" fill-rule=\"nonzero\"/></svg>',\"flip-horizontally\":'<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z\" fill-rule=\"nonzero\"/></svg>',\"flip-vertically\":'<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z\" fill-rule=\"nonzero\"/></svg>',footnote:'<svg width=\"24\" height=\"24\"><path d=\"M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 4v6h-1V5h-1.5V4h2.6Z\"/><path d=\"M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z\"/></svg>',\"format-code\":'<svg width=\"24\" height=\"24\"><path d=\"m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z\"/></svg>',\"format-painter\":'<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z\" fill-rule=\"nonzero\"/></svg>',format:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z\"/></svg>',fullscreen:'<svg width=\"24\" height=\"24\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\" fill-rule=\"nonzero\"/></svg>',gallery:'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z\"/></svg>',gamma:'<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z\" fill-rule=\"nonzero\"/></svg>',help:'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\"highlight-bg-color\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path class=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',home:'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\"horizontal-rule\":'<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\"image-options\":'<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',image:'<svg width=\"24\" height=\"24\"><path d=\"m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill-rule=\"nonzero\"/></svg>',indent:'<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',info:'<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z\" fill-rule=\"evenodd\"/></svg>',\"insert-character\":'<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z\" fill-rule=\"evenodd\"/></svg>',\"insert-time\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z\"/></g></svg>',invert:'<svg width=\"24\" height=\"24\"><path d=\"M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z\" fill-rule=\"evenodd\"/></svg>',italic:'<svg width=\"24\" height=\"24\"><path d=\"m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z\" fill-rule=\"evenodd\"/></svg>',language:'<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z\"/></svg>',\"line-height\":'<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z\"/></svg>',line:'<svg width=\"24\" height=\"24\"><path d=\"m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z\" fill-rule=\"evenodd\"/></svg>',link:'<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z\" fill-rule=\"nonzero\"/></svg>',\"list-bull-circle\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\"list-bull-default\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\"list-bull-square\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\"list-num-default-rtl\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\"list-num-default\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z\"/></g></svg>',\"list-num-lower-alpha-rtl\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\"list-num-lower-alpha\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\"list-num-lower-greek-rtl\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\"list-num-lower-greek\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\"list-num-lower-roman-rtl\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\"list-num-lower-roman\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\"list-num-upper-alpha-rtl\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\"list-num-upper-alpha\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\"list-num-upper-roman-rtl\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\"list-num-upper-roman\":'<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',lock:'<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z\" fill-rule=\"evenodd\"/></svg>',ltr:'<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\"math-equation\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z\"/></svg>',mentions:'<svg height=\"24\" width=\"24\"><path d=\"M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z\"/></svg>',minus:'<svg width=\"24\" height=\"24\"><path d=\"M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z\"/></svg>',\"more-drawer\":'<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\"new-document\":'<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\"new-tab\":'<svg width=\"24\" height=\"24\"><path d=\"m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z\" fill-rule=\"evenodd\"/></svg>',\"non-breaking\":'<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',notice:'<svg width=\"24\" height=\"24\"><path d=\"M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></svg>',\"ordered-list-rtl\":'<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\"ordered-list\":'<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',orientation:'<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z\" fill-rule=\"nonzero\"/></svg>',outdent:'<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\"export-pdf\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z\"/><path d=\"M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z\"/></svg>',\"export-word\":'<svg width=\"24\" height=\"24\"><path d=\"M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z\"/></svg>',\"import-word\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z\"/><path d=\"M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z\"/></svg>',\"page-break\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z\"/></g></svg>',paragraph:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\"/></svg>',\"paste-column-after\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\"paste-column-before\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\"paste-row-after\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\"paste-row-before\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\"paste-text\":'<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z\" fill-rule=\"nonzero\"/></svg>',paste:'<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z\" fill-rule=\"nonzero\"/></svg>',\"permanent-pen\":'<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z\" fill-rule=\"nonzero\"/></svg>',plus:'<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z\"/></svg>',preferences:'<svg width=\"24\" height=\"24\"><path d=\"m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" fill-rule=\"evenodd\"/></svg>',preview:'<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z\" fill-rule=\"nonzero\"/></svg>',print:'<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z\" fill-rule=\"nonzero\"/></svg>',quote:'<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z\" fill-rule=\"nonzero\"/></svg>',redo:'<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z\" fill-rule=\"nonzero\"/></svg>',reload:'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z\"/></g></svg>',\"remove-formatting\":'<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z\" fill-rule=\"evenodd\"/></svg>',remove:'<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z\" fill-rule=\"nonzero\"/></svg>',\"resize-handle\":'<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z\"/></g></svg>',resize:'<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z\" fill-rule=\"evenodd\"/></svg>',\"restore-draft\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\"revision-history\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\"rotate-left\":'<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></svg>',\"rotate-right\":'<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z\" fill-rule=\"nonzero\"/></svg>',rtl:'<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',save:'<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z\" fill-rule=\"nonzero\"/></svg>',search:'<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z\" fill-rule=\"nonzero\"/></svg>',\"select-all\":'<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z\" fill-rule=\"nonzero\"/></svg>',selected:'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z\"/></svg>',send:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z\"/></svg>',settings:'<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z\" fill-rule=\"evenodd\"/></svg>',sharpen:'<svg width=\"24\" height=\"24\"><path d=\"m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z\" fill-rule=\"evenodd\"/></svg>',sourcecode:'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z\"/></g></svg>',\"spell-check\":'<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z\" fill-rule=\"evenodd\"/></svg>',\"strike-through\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z\" fill-rule=\"nonzero\"/></g></svg>',subscript:'<svg width=\"24\" height=\"24\"><path d=\"m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z\" fill-rule=\"nonzero\"/></svg>',superscript:'<svg width=\"24\" height=\"24\"><path d=\"M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z\" fill-rule=\"nonzero\"/></svg>',\"table-caption\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></g></svg>',\"table-cell-classes\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z\" opacity=\".2\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z\" opacity=\".2\"/></g></svg>',\"table-cell-properties\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z\"/></svg>',\"table-cell-select-all\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\" opacity=\".2\"/></g></svg>',\"table-cell-select-inner\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\"/></g></svg>',\"table-classes\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/></g></svg>',\"table-delete-column\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z\"/></svg>',\"table-delete-row\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z\"/></svg>',\"table-delete-table\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z\"/><path d=\"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\"table-insert-column-after\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z\"/></svg>',\"table-insert-column-before\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z\"/></svg>',\"table-insert-row-above\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z\"/></svg>',\"table-insert-row-after\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z\"/></svg>',\"table-left-header\":'<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z\"/></svg>',\"table-merge-cells\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z\"/></svg>',\"table-row-numbering-rtl\":'<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z\"/></svg>',\"table-row-numbering\":'<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z\"/></svg>',\"table-row-properties\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z\"/></svg>',\"table-split-cells\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z\"/></svg>',\"table-top-header\":'<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></svg>',table:'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z\"/></svg>',\"template-add\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z\"/><path d=\"M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z\"/></svg>',template:'<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z\" fill-rule=\"nonzero\"/></svg>',\"temporary-placeholder\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\"text-color\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path class=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z\"/></g></svg>',\"text-size-decrease\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z\"/></svg>',\"text-size-increase\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z\"/></svg>',toc:'<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',translate:'<svg width=\"24\" height=\"24\"><path d=\"m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z\" fill-rule=\"evenodd\"/></svg>',typography:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z\"/><path d=\"m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z\"/></svg>',underline:'<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',undo:'<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z\" fill-rule=\"nonzero\"/></svg>',unlink:'<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z\" fill-rule=\"nonzero\"/></svg>',unlock:'<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z\" fill-rule=\"evenodd\"/></svg>',\"unordered-list\":'<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z\" fill-rule=\"evenodd\"/></svg>',unselected:'<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z\"/></svg>',upload:'<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z\" fill-rule=\"nonzero\"/></svg>',\"add-file\":'<svg height=\"24\" width=\"24\"><path d=\"M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/></svg>',adjustments:'<svg width=\"24\" height=\"24\"><path d=\"M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z\"/></svg>',\"alt-text\":'<svg width=\"24\" height=\"24\"><path d=\"M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z\"/><path d=\"M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z\"/></svg>',blur:'<svg width=\"24\" height=\"24\"><path d=\"M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z\"/></svg>',box:'<svg width=\"24\" height=\"24\"><path d=\"M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z\"/></svg>',camera:'<svg height=\"24\" width=\"24\"><g clip-rule=\"evenodd\" fill-rule=\"evenodd\"><path d=\"M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z\"/><path d=\"M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z\"/></g></svg>',caption:'<svg height=\"24\" width=\"24\"><path d=\"M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z\"/></svg>',dropbox:'<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z\" fill-rule=\"evenodd\"/></svg>',evernote:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z\" clip-rule=\"evenodd\"/></svg>',exposure:'<svg width=\"24\" height=\"24\"><path d=\"M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z\"/></svg>',fb:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z\" clip-rule=\"evenodd\"/></svg>',flickr:'<svg width=\"24\" height=\"24\"><path d=\"M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z\"/></svg>',folder:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z\" clip-rule=\"evenodd\"/></svg>',\"google-drive\":'<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z\" fill-rule=\"evenodd\"/></svg>',\"google-photos\":'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z\" clip-rule=\"evenodd\"/></svg>',grayscale:'<svg height=\"24\" width=\"24\"><g clip-rule=\"evenodd\" fill-rule=\"evenodd\"><path d=\"M12 15v2a5 5 0 0 0 0-10v2a3 3 0 1 0 0 6zm0 0a3 3 0 1 0 0-6z\"/><path d=\"M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm7-2h7V5h-7v2a5 5 0 0 0 0 10z\"/></g></svg>',huddle:'<svg height=\"24\" width=\"24\"><path d=\"M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z\"/></svg>',\"image-decorative\":'<svg width=\"24\" height=\"24\"><path d=\"M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z\"/></svg>',\"image-enhancements\":'<svg height=\"24\" width=\"24\"><path d=\"M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z\"/><path d=\"M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z\"/></svg>',instagram:'<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\" fill-rule=\"evenodd\"/><path d=\"M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z\"/><path clip-rule=\"evenodd\" d=\"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z\" fill-rule=\"evenodd\"/></svg>',onedrive:'<svg height=\"24\" width=\"24\"><path d=\"M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z\"/></svg>',\"revert-changes\":'<svg height=\"24\" width=\"24\"><path d=\"m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z\"/><path d=\"m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/></svg>',saturation:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z\" clip-rule=\"evenodd\"/></svg>',\"transform-image\":'<svg height=\"24\" width=\"24\"><path d=\"M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z\"/></svg>',vibrance:'<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z\" fill-rule=\"evenodd\"/></svg>',vk:'<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z\" clip-rule=\"evenodd\"/></svg>',warmth:'<svg height=\"24\" width=\"24\"><path d=\"M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z\"/></svg>',user:'<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z\" fill-rule=\"nonzero\"/></svg>',\"vertical-align\":'<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z\"/></g></svg>',visualblocks:'<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z\" fill-rule=\"evenodd\"/></svg>',visualchars:'<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\" fill-rule=\"evenodd\"/></svg>',warning:'<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z\" fill-rule=\"evenodd\"/></svg>',\"zoom-in\":'<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\"zoom-out\":'<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>'}});","/**\n * TinyMCE version 7.7.0 (TBD)\n */\n!function(){\"use strict\";var e=tinymce.util.Tools.resolve(\"tinymce.ModelManager\");const t=e=>t=>(e=>{const t=typeof e;return null===e?\"null\":\"object\"===t&&Array.isArray(e)?\"array\":\"object\"===t&&(o=n=e,(r=String).prototype.isPrototypeOf(o)||(null===(s=n.constructor)||void 0===s?void 0:s.name)===r.name)?\"string\":t;var o,n,r,s})(t)===e,o=e=>t=>typeof t===e,n=e=>t=>e===t,r=t(\"string\"),s=t(\"object\"),l=t(\"array\"),a=n(null),c=o(\"boolean\"),i=n(void 0),m=e=>!(e=>null==e)(e),d=o(\"function\"),u=o(\"number\"),f=()=>{},g=e=>()=>e,h=e=>e,p=(e,t)=>e===t;function b(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const w=e=>t=>!e(t),v=e=>e(),y=g(!1),x=g(!0);class C{constructor(e,t){this.tag=e,this.value=t}static some(e){return new C(!0,e)}static none(){return C.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?C.some(e(this.value)):C.none()}bind(e){return this.tag?e(this.value):C.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:C.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:\"Called getOrDie on None\")}static from(e){return m(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:\"none()\"}}C.singletonNone=new C(!1);const S=Array.prototype.slice,T=Array.prototype.indexOf,R=Array.prototype.push,D=(e,t)=>{return o=e,n=t,T.call(o,n)>-1;var o,n},O=(e,t)=>{for(let o=0,n=e.length;o<n;o++)if(t(e[o],o))return!0;return!1},k=(e,t)=>{const o=[];for(let n=0;n<e;n++)o.push(t(n));return o},E=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},N=(e,t)=>{for(let o=0,n=e.length;o<n;o++)t(e[o],o)},_=(e,t)=>{const o=[],n=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];(t(s,r)?o:n).push(s)}return{pass:o,fail:n}},B=(e,t)=>{const o=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t(r,n)&&o.push(r)}return o},z=(e,t,o)=>(((e,t)=>{for(let o=e.length-1;o>=0;o--)t(e[o],o)})(e,((e,n)=>{o=t(o,e,n)})),o),A=(e,t,o)=>(N(e,((e,n)=>{o=t(o,e,n)})),o),L=(e,t)=>((e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return C.some(r);if(o(r,n))break}return C.none()})(e,t,y),W=(e,t)=>{for(let o=0,n=e.length;o<n;o++)if(t(e[o],o))return C.some(o);return C.none()},M=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!l(e[o]))throw new Error(\"Arr.flatten item \"+o+\" was not an array, input: \"+e);R.apply(t,e[o])}return t},j=(e,t)=>M(E(e,t)),P=(e,t)=>{for(let o=0,n=e.length;o<n;++o)if(!0!==t(e[o],o))return!1;return!0},I=(e,t)=>{const o={};for(let n=0,r=e.length;n<r;n++){const r=e[n];o[String(r)]=t(r,n)}return o},F=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),H=e=>F(e,0),$=e=>F(e,e.length-1),V=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return C.none()},q=Object.keys,U=Object.hasOwnProperty,G=(e,t)=>{const o=q(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},K=(e,t)=>Y(e,((e,o)=>({k:o,v:t(e,o)}))),Y=(e,t)=>{const o={};return G(e,((e,n)=>{const r=t(e,n);o[r.k]=r.v})),o},J=(e,t)=>{const o=[];return G(e,((e,n)=>{o.push(t(e,n))})),o},Q=e=>J(e,h),X=(e,t)=>U.call(e,t),Z=\"undefined\"!=typeof window?window:Function(\"return this;\")(),ee=(e,t)=>((e,t)=>{let o=null!=t?t:Z;for(let t=0;t<e.length&&null!=o;++t)o=o[e[t]];return o})(e.split(\".\"),t),te=Object.getPrototypeOf,oe=e=>{const t=ee(\"ownerDocument.defaultView\",e);return s(e)&&((e=>((e,t)=>{const o=((e,t)=>ee(e,t))(e,t);if(null==o)throw new Error(e+\" not available on this browser\");return o})(\"HTMLElement\",e))(t).prototype.isPrototypeOf(e)||/^HTML\\w*Element$/.test(te(e).constructor.name))},ne=e=>e.dom.nodeName.toLowerCase(),re=e=>e.dom.nodeType,se=e=>t=>re(t)===e,le=e=>8===re(e)||\"#comment\"===ne(e),ae=e=>ce(e)&&oe(e.dom),ce=se(1),ie=se(3),me=se(9),de=se(11),ue=e=>t=>ce(t)&&ne(t)===e,fe=(e,t,o)=>{if(!(r(o)||c(o)||u(o)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",o,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,o+\"\")},ge=(e,t,o)=>{fe(e.dom,t,o)},he=(e,t)=>{const o=e.dom;G(t,((e,t)=>{fe(o,t,e)}))},pe=(e,t)=>{const o=e.dom.getAttribute(t);return null===o?void 0:o},be=(e,t)=>C.from(pe(e,t)),we=(e,t)=>{e.dom.removeAttribute(t)},ve=e=>A(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ye=e=>{if(null==e)throw new Error(\"Node cannot be null or undefined\");return{dom:e}},xe={fromHtml:(e,t)=>{const o=(t||document).createElement(\"div\");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t=\"HTML does not have a single root node\";throw console.error(t,e),new Error(t)}return ye(o.childNodes[0])},fromTag:(e,t)=>{const o=(t||document).createElement(e);return ye(o)},fromText:(e,t)=>{const o=(t||document).createTextNode(e);return ye(o)},fromDom:ye,fromPoint:(e,t,o)=>C.from(e.dom.elementFromPoint(t,o)).map(ye)},Ce=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error(\"Browser lacks native selectors\")}},Se=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Te=(e,t)=>{const o=void 0===t?document:t.dom;return Se(o)?C.none():C.from(o.querySelector(e)).map(xe.fromDom)},Re=(e,t)=>e.dom===t.dom,De=(e,t)=>{const o=e.dom,n=t.dom;return o!==n&&o.contains(n)},Oe=Ce,ke=e=>xe.fromDom(e.dom.ownerDocument),Ee=e=>me(e)?e:ke(e),Ne=e=>C.from(e.dom.parentNode).map(xe.fromDom),_e=e=>C.from(e.dom.parentElement).map(xe.fromDom),Be=(e,t)=>{const o=d(t)?t:y;let n=e.dom;const r=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=xe.fromDom(e);if(r.push(t),!0===o(t))break;n=e}return r},ze=e=>C.from(e.dom.previousSibling).map(xe.fromDom),Ae=e=>C.from(e.dom.nextSibling).map(xe.fromDom),Le=e=>E(e.dom.childNodes,xe.fromDom),We=(e,t)=>{const o=e.dom.childNodes;return C.from(o[t]).map(xe.fromDom)},Me=(e,t)=>{Ne(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},je=(e,t)=>{Ae(e).fold((()=>{Ne(e).each((e=>{Ie(e,t)}))}),(e=>{Me(e,t)}))},Pe=(e,t)=>{const o=(e=>We(e,0))(e);o.fold((()=>{Ie(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))},Ie=(e,t)=>{e.dom.appendChild(t.dom)},Fe=(e,t)=>{Me(e,t),Ie(t,e)},He=(e,t)=>{N(t,((o,n)=>{const r=0===n?e:t[n-1];je(r,o)}))},$e=(e,t)=>{N(t,(t=>{Ie(e,t)}))},Ve=e=>{e.dom.textContent=\"\",N(Le(e),(e=>{qe(e)}))},qe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ue=e=>{const t=Le(e);t.length>0&&He(e,t),qe(e)},Ge=(e,t)=>xe.fromDom(e.dom.cloneNode(t)),Ke=e=>Ge(e,!1),Ye=e=>Ge(e,!0),Je=(e,t)=>{const o=xe.fromTag(t),n=ve(e);return he(o,n),o},Qe=[\"tfoot\",\"thead\",\"tbody\",\"colgroup\"],Xe=(e,t,o)=>({element:e,rowspan:t,colspan:o}),Ze=(e,t,o)=>({element:e,cells:t,section:o}),et=(e,t,o)=>({element:e,isNew:t,isLocked:o}),tt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n}),ot=e=>de(e)&&m(e.dom.host),nt=e=>xe.fromDom(e.dom.getRootNode()),rt=e=>xe.fromDom(e.dom.host),st=e=>{const t=ie(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return(e=>{const t=nt(e);return ot(t)?C.some(t):C.none()})(xe.fromDom(t)).fold((()=>o.body.contains(t)),(n=st,r=rt,e=>n(r(e))));var n,r},lt=()=>at(xe.fromDom(document)),at=e=>{const t=e.dom.body;if(null==t)throw new Error(\"Body is not available yet\");return xe.fromDom(t)},ct=(e,t)=>{let o=[];return N(Le(e),(e=>{t(e)&&(o=o.concat([e])),o=o.concat(ct(e,t))})),o},it=(e,t,o)=>((e,o,n)=>B(Be(e,n),(e=>Ce(e,t))))(e,0,o),mt=(e,t)=>(e=>B(Le(e),(e=>Ce(e,t))))(e),dt=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return Se(o)?[]:E(o.querySelectorAll(e),xe.fromDom)})(t,e);var ut=(e,t,o,n,r)=>e(o,n)?C.some(o):d(r)&&r(o)?C.none():t(o,n,r);const ft=(e,t,o)=>{let n=e.dom;const r=d(o)?o:y;for(;n.parentNode;){n=n.parentNode;const e=xe.fromDom(n);if(t(e))return C.some(e);if(r(e))break}return C.none()},gt=(e,t,o)=>ut(((e,t)=>t(e)),ft,e,t,o),ht=(e,t,o)=>ft(e,(e=>Ce(e,t)),o),pt=(e,t)=>(e=>L(e.dom.childNodes,(e=>{return o=xe.fromDom(e),Ce(o,t);var o})).map(xe.fromDom))(e),bt=(e,t)=>Te(t,e),wt=(e,t,o)=>ut(((e,t)=>Ce(e,t)),ht,e,t,o),vt=(e,t,o=p)=>e.exists((e=>o(e,t))),yt=e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t},xt=(e,t)=>e?C.some(t):C.none(),Ct=(e,t,o)=>\"\"===t||e.length>=t.length&&e.substr(o,o+t.length)===t,St=(e,t,o=0,n)=>{const r=e.indexOf(t,o);return-1!==r&&(!!i(n)||r+t.length<=n)},Tt=(e,t)=>Ct(e,t,0),Rt=(e,t)=>Ct(e,t,e.length-t.length),Dt=(e=>t=>t.replace(e,\"\"))(/^\\s+|\\s+$/g),Ot=e=>e.length>0,kt=e=>void 0!==e.style&&d(e.style.getPropertyValue),Et=(e,t,o)=>{if(!r(o))throw console.error(\"Invalid call to CSS.set. Property \",t,\":: Value \",o,\":: Element \",e),new Error(\"CSS value must be a string: \"+o);kt(e)&&e.style.setProperty(t,o)},Nt=(e,t,o)=>{const n=e.dom;Et(n,t,o)},_t=(e,t)=>{const o=e.dom;G(t,((e,t)=>{Et(o,t,e)}))},Bt=(e,t)=>{const o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return\"\"!==n||st(e)?n:zt(o,t)},zt=(e,t)=>kt(e)?e.style.getPropertyValue(t):\"\",At=(e,t)=>{const o=e.dom,n=zt(o,t);return C.from(n).filter((e=>e.length>0))},Lt=(e,t)=>{((e,t)=>{kt(e)&&e.style.removeProperty(t)})(e.dom,t),vt(be(e,\"style\").map(Dt),\"\")&&we(e,\"style\")},Wt=(e,t,o=0)=>be(e,t).map((e=>parseInt(e,10))).getOr(o),Mt=(e,t)=>Wt(e,t,1),jt=e=>ue(\"col\")(e)?Wt(e,\"span\",1)>1:Mt(e,\"colspan\")>1,Pt=(e,t)=>parseInt(Bt(e,t),10),It=g(10),Ft=g(10),Ht=(e,t)=>$t(e,t,x),$t=(e,t,o)=>j(Le(e),(e=>Ce(e,t)?o(e)?[e]:[]:$t(e,t,o))),Vt=(e,t)=>((e,t,o=y)=>o(t)?C.none():D(e,ne(t))?C.some(t):ht(t,e.join(\",\"),(e=>Ce(e,\"table\")||o(e))))([\"td\",\"th\"],e,t),qt=e=>Ht(e,\"th,td\"),Ut=e=>Ce(e,\"colgroup\")?mt(e,\"col\"):j(Yt(e),(e=>mt(e,\"col\"))),Gt=(e,t)=>wt(e,\"table\",t),Kt=e=>Ht(e,\"tr\"),Yt=e=>Gt(e).fold(g([]),(e=>mt(e,\"colgroup\"))),Jt=(e,t)=>E(e,(e=>{if(\"colgroup\"===ne(e)){const t=E(Ut(e),(e=>{const t=Wt(e,\"span\",1);return Xe(e,1,t)}));return Ze(e,t,\"colgroup\")}{const o=E(qt(e),(e=>{const t=Wt(e,\"rowspan\",1),o=Wt(e,\"colspan\",1);return Xe(e,t,o)}));return Ze(e,o,t(e))}})),Qt=e=>Ne(e).map((e=>{const t=ne(e);return(e=>D(Qe,e))(t)?t:\"tbody\"})).getOr(\"tbody\"),Xt=e=>{const t=Kt(e),o=[...Yt(e),...t];return Jt(o,Qt)},Zt=e=>{let t,o=!1;return(...n)=>(o||(o=!0,t=e.apply(null,n)),t)},eo=()=>to(0,0),to=(e,t)=>({major:e,minor:t}),oo={nu:to,detect:(e,t)=>{const o=String(t).toLowerCase();return 0===e.length?eo():((e,t)=>{const o=((e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t))return n}})(e,t);if(!o)return{major:0,minor:0};const n=e=>Number(t.replace(o,\"$\"+e));return to(n(1),n(2))})(e,o)},unknown:eo},no=(e,t)=>{const o=String(t).toLowerCase();return L(e,(e=>e.search(o)))},ro=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,so=e=>t=>St(t,e),lo=[{name:\"Edge\",versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:e=>St(e,\"edge/\")&&St(e,\"chrome\")&&St(e,\"safari\")&&St(e,\"applewebkit\")},{name:\"Chromium\",brand:\"Chromium\",versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,ro],search:e=>St(e,\"chrome\")&&!St(e,\"chromeframe\")},{name:\"IE\",versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:e=>St(e,\"msie\")||St(e,\"trident\")},{name:\"Opera\",versionRegexes:[ro,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:so(\"opera\")},{name:\"Firefox\",versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:so(\"firefox\")},{name:\"Safari\",versionRegexes:[ro,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(St(e,\"safari\")||St(e,\"mobile/\"))&&St(e,\"applewebkit\")}],ao=[{name:\"Windows\",search:so(\"win\"),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"iOS\",search:e=>St(e,\"iphone\")||St(e,\"ipad\"),versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:\"Android\",search:so(\"android\"),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"macOS\",search:so(\"mac os x\"),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:\"Linux\",search:so(\"linux\"),versionRegexes:[]},{name:\"Solaris\",search:so(\"sunos\"),versionRegexes:[]},{name:\"FreeBSD\",search:so(\"freebsd\"),versionRegexes:[]},{name:\"ChromeOS\",search:so(\"cros\"),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}],co={browsers:g(lo),oses:g(ao)},io=\"Edge\",mo=\"Chromium\",uo=\"Opera\",fo=\"Firefox\",go=\"Safari\",ho=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isEdge:n(io),isChromium:n(mo),isIE:n(\"IE\"),isOpera:n(uo),isFirefox:n(fo),isSafari:n(go)}},po=()=>ho({current:void 0,version:oo.unknown()}),bo=ho,wo=(g(io),g(mo),g(\"IE\"),g(uo),g(fo),g(go),\"Windows\"),vo=\"Android\",yo=\"Linux\",xo=\"macOS\",Co=\"Solaris\",So=\"FreeBSD\",To=\"ChromeOS\",Ro=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isWindows:n(wo),isiOS:n(\"iOS\"),isAndroid:n(vo),isMacOS:n(xo),isLinux:n(yo),isSolaris:n(Co),isFreeBSD:n(So),isChromeOS:n(To)}},Do=()=>Ro({current:void 0,version:oo.unknown()}),Oo=Ro,ko=(g(wo),g(\"iOS\"),g(vo),g(yo),g(xo),g(Co),g(So),g(To),e=>window.matchMedia(e).matches);let Eo=Zt((()=>((e,t,o)=>{const n=co.browsers(),r=co.oses(),s=t.bind((e=>((e,t)=>V(t.brands,(t=>{const o=t.brand.toLowerCase();return L(e,(e=>{var t;return o===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:oo.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>no(e,t).map((e=>{const o=oo.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(n,e))).fold(po,bo),l=((e,t)=>no(e,t).map((e=>{const o=oo.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(r,e).fold(Do,Oo),a=((e,t,o,n)=>{const r=e.isiOS()&&!0===/ipad/i.test(o),s=e.isiOS()&&!r,l=e.isiOS()||e.isAndroid(),a=l||n(\"(pointer:coarse)\"),c=r||!s&&l&&n(\"(min-device-width:768px)\"),i=s||l&&!c,m=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),d=!i&&!c&&!m;return{isiPad:g(r),isiPhone:g(s),isTablet:g(c),isPhone:g(i),isTouch:g(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(m),isDesktop:g(d)}})(l,s,e,o);return{browser:s,os:l,deviceType:a}})(window.navigator.userAgent,C.from(window.navigator.userAgentData),ko)));const No=()=>Eo(),_o=(e,t)=>{const o=o=>{const n=t(o);if(n<=0||null===n){const t=Bt(o,e);return parseFloat(t)||0}return n},n=(e,t)=>A(t,((t,o)=>{const n=Bt(e,o),r=void 0===n?0:parseInt(n,10);return isNaN(r)?t:t+r}),0);return{set:(t,o)=>{if(!u(o)&&!o.match(/^[0-9]+$/))throw new Error(e+\".set accepts only positive integer values. Value was \"+o);const n=t.dom;kt(n)&&(n.style[e]=o+\"px\")},get:o,getOuter:o,aggregate:n,max:(e,t,o)=>{const r=n(e,o);return t>r?t-r:0}}},Bo=(e,t,o)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?C.none():C.some(t)})(e).getOr(t))(Bt(e,t),o),zo=_o(\"width\",(e=>e.dom.offsetWidth)),Ao=e=>zo.get(e),Lo=e=>zo.getOuter(e),Wo=e=>((e,t)=>{const o=e.dom,n=o.getBoundingClientRect().width||o.offsetWidth;return\"border-box\"===t?n:((e,t,o,n)=>t-Bo(e,`padding-${o}`,0)-Bo(e,`padding-${n}`,0)-Bo(e,`border-${o}-width`,0)-Bo(e,`border-${n}-width`,0))(e,n,\"left\",\"right\")})(e,\"content-box\"),Mo=(e,t,o)=>{const n=e.cells,r=n.slice(0,t),s=n.slice(t),l=r.concat(o).concat(s);return Io(e,l)},jo=(e,t,o)=>Mo(e,t,[o]),Po=(e,t,o)=>{e.cells[t]=o},Io=(e,t)=>tt(e.element,t,e.section,e.isNew),Fo=(e,t)=>e.cells[t],Ho=(e,t)=>Fo(e,t).element,$o=e=>e.cells.length,Vo=e=>{const t=_(e,(e=>\"colgroup\"===e.section));return{rows:t.fail,cols:t.pass}},qo=(e,t,o)=>{const n=E(e.cells,o);return tt(t(e.element),n,e.section,!0)},Uo=\"data-snooker-locked-cols\",Go=e=>be(e,Uo).bind((e=>C.from(e.match(/\\d+/g)))).map((e=>I(e,x))),Ko=e=>{const t=A(Vo(e).rows,((e,t)=>(N(t.cells,((t,o)=>{t.isLocked&&(e[o]=!0)})),e)),{}),o=J(t,((e,t)=>parseInt(t,10)));return(e=>{const t=S.call(e,0);return t.sort(void 0),t})(o)},Yo=(e,t)=>e+\",\"+t,Jo=(e,t)=>{const o=j(e.all,(e=>e.cells));return B(o,t)},Qo=e=>{const t={},o=[],n=H(e).map((e=>e.element)).bind(Gt).bind(Go).getOr({});let r=0,s=0,l=0;const{pass:a,fail:c}=_(e,(e=>\"colgroup\"===e.section));N(c,(e=>{const a=[];N(e.cells,(e=>{let o=0;for(;void 0!==t[Yo(l,o)];)o++;const r=((e,t)=>X(e,t)&&void 0!==e[t]&&null!==e[t])(n,o.toString()),c=((e,t,o,n,r,s)=>({element:e,rowspan:t,colspan:o,row:n,column:r,isLocked:s}))(e.element,e.rowspan,e.colspan,l,o,r);for(let n=0;n<e.colspan;n++)for(let r=0;r<e.rowspan;r++){const e=o+n,a=Yo(l+r,e);t[a]=c,s=Math.max(s,e+1)}a.push(c)})),r++,o.push(Ze(e.element,a,e.section)),l++}));const{columns:i,colgroups:m}=$(a).map((e=>{const t=(e=>{const t={};let o=0;return N(e.cells,(e=>{const n=e.colspan;k(n,(r=>{const s=o+r;t[s]=((e,t,o)=>({element:e,colspan:t,column:o}))(e.element,n,s)})),o+=n})),t})(e),o=((e,t)=>({element:e,columns:t}))(e.element,Q(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=((e,t)=>({rows:e,columns:t}))(r,s);return{grid:d,access:t,all:o,columns:i,colgroups:m}},Xo=e=>{const t=Xt(e);return Qo(t)},Zo=Qo,en=(e,t,o)=>C.from(e.access[Yo(t,o)]),tn=(e,t,o)=>{const n=Jo(e,(e=>o(t,e.element)));return n.length>0?C.some(n[0]):C.none()},on=Jo,nn=e=>j(e.all,(e=>e.cells)),rn=e=>Q(e.columns),sn=e=>q(e.columns).length>0,ln=(e,t)=>C.from(e.columns[t]),an=(e,t=x)=>{const o=e.grid,n=k(o.columns,h),r=k(o.rows,h);return E(n,(o=>cn((()=>j(r,(t=>en(e,t,o).filter((e=>e.column===o)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>en(e,0,o)))))},cn=(e,t,o)=>{const n=e();return L(n,t).orThunk((()=>C.from(n[0]).orThunk(o))).map((e=>e.element))},mn=e=>{const t=e.grid,o=k(t.rows,h),n=k(t.columns,h);return E(o,(t=>cn((()=>j(n,(o=>en(e,t,o).filter((e=>e.row===t)).fold(g([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>en(e,t,0)))))},dn=(e,t)=>o=>\"rtl\"===un(o)?t:e,un=e=>\"rtl\"===Bt(e,\"direction\")?\"rtl\":\"ltr\",fn=_o(\"height\",(e=>{const t=e.dom;return st(e)?t.getBoundingClientRect().height:t.offsetHeight})),gn=e=>fn.get(e),hn=e=>fn.getOuter(e),pn=(e,t)=>({left:e,top:t,translate:(o,n)=>pn(e+o,t+n)}),bn=pn,wn=(e,t)=>void 0!==e?e:void 0!==t?t:0,vn=e=>{const t=e.dom.ownerDocument,o=t.body,n=t.defaultView,r=t.documentElement;if(o===e.dom)return bn(o.offsetLeft,o.offsetTop);const s=wn(null==n?void 0:n.pageYOffset,r.scrollTop),l=wn(null==n?void 0:n.pageXOffset,r.scrollLeft),a=wn(r.clientTop,o.clientTop),c=wn(r.clientLeft,o.clientLeft);return yn(e).translate(l-c,s-a)},yn=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?bn(o.offsetLeft,o.offsetTop):st(e)?(e=>{const t=e.getBoundingClientRect();return bn(t.left,t.top)})(t):bn(0,0)},xn=(e,t)=>({row:e,y:t}),Cn=(e,t)=>({col:e,x:t}),Sn=e=>vn(e).left+Lo(e),Tn=e=>vn(e).left,Rn=(e,t)=>Cn(e,Tn(t)),Dn=(e,t)=>Cn(e,Sn(t)),On=e=>vn(e).top,kn=(e,t)=>xn(e,On(t)),En=(e,t)=>xn(e,On(t)+hn(t)),Nn=(e,t,o)=>{if(0===o.length)return[];const n=E(o.slice(1),((t,o)=>t.map((t=>e(o,t))))),r=o[o.length-1].map((e=>t(o.length-1,e)));return n.concat([r])},_n={delta:h,positions:e=>Nn(kn,En,e),edge:On},Bn=dn({delta:h,edge:Tn,positions:e=>Nn(Rn,Dn,e)},{delta:e=>-e,edge:Sn,positions:e=>Nn(Dn,Rn,e)}),zn={delta:(e,t)=>Bn(t).delta(e,t),positions:(e,t)=>Bn(t).positions(e,t),edge:e=>Bn(e).edge(e)},An={unsupportedLength:[\"em\",\"ex\",\"cap\",\"ch\",\"ic\",\"rem\",\"lh\",\"rlh\",\"vw\",\"vh\",\"vi\",\"vb\",\"vmin\",\"vmax\",\"cm\",\"mm\",\"Q\",\"in\",\"pc\",\"pt\",\"px\"],fixed:[\"px\",\"pt\"],relative:[\"%\"],empty:[\"\"]},Ln=(()=>{const e=\"[0-9]+\",t=\"[eE][+-]?\"+e,o=e=>`(?:${e})?`,n=[\"Infinity\",e+\"\\\\.\"+o(e)+o(t),\"\\\\.\"+e+o(t),e+o(t)].join(\"|\");return new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),Wn=/(\\d+(\\.\\d+)?)%/,Mn=/(\\d+(\\.\\d+)?)px|em/,jn=ue(\"col\"),Pn=ue(\"tr\"),In=(e,t,o)=>{const n=_e(e).getOrThunk((()=>at(ke(e))));return t(e)/o(n)*100},Fn=(e,t)=>{Nt(e,\"width\",t+\"px\")},Hn=(e,t)=>{Nt(e,\"width\",t+\"%\")},$n=(e,t)=>{Nt(e,\"height\",t+\"px\")},Vn=e=>{const t=(e=>{return Bo(t=e,\"height\",t.dom.offsetHeight)+\"px\";var t})(e);return t?((e,t,o,n)=>{const r=parseFloat(e);return Rt(e,\"%\")&&\"table\"!==ne(t)?((e,t,o,n)=>{const r=Gt(e).map((e=>{const n=o(e);return Math.floor(t/100*n)})).getOr(t);return n(e,r),r})(t,r,o,n):r})(t,e,gn,$n):gn(e)},qn=(e,t)=>At(e,t).orThunk((()=>be(e,t).map((e=>e+\"px\")))),Un=e=>qn(e,\"width\"),Gn=e=>In(e,Ao,Wo),Kn=e=>{return jn(e)?Ao(e):Bo(t=e,\"width\",t.dom.offsetWidth);var t},Yn=e=>Pn(e)?gn(e):((e,t,o)=>o(e)/Mt(e,\"rowspan\"))(e,0,Vn),Jn=(e,t,o)=>{Nt(e,\"width\",t+o)},Qn=e=>In(e,Ao,Wo)+\"%\",Xn=g(Wn),Zn=ue(\"col\"),er=e=>Un(e).getOrThunk((()=>Kn(e)+\"px\")),tr=e=>{return(t=e,qn(t,\"height\")).getOrThunk((()=>Yn(e)+\"px\"));var t},or=(e,t,o,n,r,s)=>e.filter(n).fold((()=>s(((e,t)=>{if(t<0||t>=e.length-1)return C.none();const o=e[t].fold((()=>{const o=(e=>{const t=S.call(e,0);return t.reverse(),t})(e.slice(0,t));return V(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>C.some({value:e,delta:0}))),n=e[t+1].fold((()=>{const o=e.slice(t+1);return V(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>C.some({value:e,delta:1})));return o.bind((e=>n.map((t=>{const o=t.delta+e.delta;return Math.abs(t.value-e.value)/o}))))})(o,t))),(e=>r(e))),nr=(e,t,o,n)=>{const r=an(e),s=sn(e)?(e=>E(rn(e),(e=>C.from(e.element))))(e):r,l=[C.some(zn.edge(t))].concat(E(zn.positions(r,t),(e=>e.map((e=>e.x))))),a=w(jt);return E(s,((e,t)=>or(e,t,l,a,(e=>{if((e=>{const t=No().browser,o=t.isChromium()||t.isFirefox();return!Zn(e)||o})(e))return o(e);{const e=null!=(s=r[t])?h(s):C.none();return or(e,t,l,a,(e=>n(C.some(Ao(e)))),n)}var s}),n)))},rr=e=>e.map((e=>e+\"px\")).getOr(\"\"),sr=(e,t,o)=>nr(e,t,Kn,(e=>e.getOrThunk(o.minCellWidth))),lr=(e,t,o,n)=>{const r=mn(e),s=E(e.all,(e=>C.some(e.element))),l=[C.some(_n.edge(t))].concat(E(_n.positions(r,t),(e=>e.map((e=>e.y)))));return E(s,((e,t)=>or(e,t,l,x,o,n)))},ar=(e,t)=>()=>st(e)?t(e):parseFloat(At(e,\"width\").getOr(\"0\")),cr=e=>{const t=ar(e,(e=>parseFloat(Qn(e)))),o=ar(e,Ao);return{width:t,pixelWidth:o,getWidths:(t,o)=>((e,t,o)=>nr(e,t,Gn,(e=>e.fold((()=>o.minCellWidth()),(e=>e/o.pixelWidth()*100)))))(t,e,o),getCellDelta:e=>e/o()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>It()/o()*100,setElementWidth:Hn,adjustTableWidth:o=>{const n=t();Hn(e,n+o/100*n)},isRelative:!0,label:\"percent\"}},ir=e=>{const t=ar(e,Ao);return{width:t,pixelWidth:t,getWidths:(t,o)=>sr(t,e,o),getCellDelta:h,singleColumnWidth:(e,t)=>[Math.max(It(),e+t)-e],minCellWidth:It,setElementWidth:Fn,adjustTableWidth:o=>{const n=t()+o;Fn(e,n)},isRelative:!1,label:\"pixel\"}},mr=e=>Un(e).fold((()=>(e=>{const t=ar(e,Ao),o=g(0);return{width:t,pixelWidth:t,getWidths:(t,o)=>sr(t,e,o),getCellDelta:o,singleColumnWidth:g([0]),minCellWidth:o,setElementWidth:f,adjustTableWidth:f,isRelative:!0,label:\"none\"}})(e)),(t=>((e,t)=>null!==Xn().exec(t)?cr(e):ir(e))(e,t))),dr=ir,ur=cr,fr=(e,t,o)=>{const n=e[o].element,r=xe.fromTag(\"td\");Ie(r,xe.fromTag(\"br\")),(t?Ie:Pe)(n,r)},gr=(e=>{const t=t=>e(t)?C.from(t.dom.nodeValue):C.none();return{get:o=>{if(!e(o))throw new Error(\"Can only get text value of a text node\");return t(o).getOr(\"\")},getOption:t,set:(t,o)=>{if(!e(t))throw new Error(\"Can only set raw text value of a text node\");t.dom.nodeValue=o}}})(ie),hr=e=>gr.get(e),pr=e=>gr.getOption(e),br=(e,t)=>gr.set(e,t),wr=e=>\"img\"===ne(e)?1:pr(e).fold((()=>Le(e).length),(e=>e.length)),vr=[\"img\",\"br\"],yr=e=>pr(e).filter((e=>0!==e.trim().length||e.indexOf(\"\\xa0\")>-1)).isSome()||D(vr,ne(e))||(e=>ae(e)&&\"false\"===pe(e,\"contenteditable\"))(e),xr=e=>((e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const r=xe.fromDom(e.childNodes[n]);if(t(r))return C.some(r);const s=o(e.childNodes[n]);if(s.isSome())return s}return C.none()};return o(e.dom)})(e,yr),Cr=e=>Sr(e,yr),Sr=(e,t)=>{const o=e=>{const n=Le(e);for(let e=n.length-1;e>=0;e--){const r=n[e];if(t(r))return C.some(r);const s=o(r);if(s.isSome())return s}return C.none()};return o(e)},Tr={scope:[\"row\",\"col\"]},Rr=e=>()=>{const t=xe.fromTag(\"td\",e.dom);return Ie(t,xe.fromTag(\"br\",e.dom)),t},Dr=e=>()=>xe.fromTag(\"col\",e.dom),Or=e=>()=>xe.fromTag(\"colgroup\",e.dom),kr=e=>()=>xe.fromTag(\"tr\",e.dom),Er=(e,t,o)=>{const n=((e,t)=>{const o=Je(e,t),n=Le(Ye(e));return $e(o,n),o})(e,t);return G(o,((e,t)=>{null===e?we(n,t):ge(n,t,e)})),n},Nr=e=>e,_r=(e,t,o)=>{const n=(e,t)=>{((e,t)=>{const o=e.dom,n=t.dom;kt(o)&&kt(n)&&(n.style.cssText=o.style.cssText)})(e.element,t),Lt(t,\"height\"),1!==e.colspan&&Lt(t,\"width\")};return{col:o=>{const r=xe.fromTag(ne(o.element),t.dom);return n(o,r),e(o.element,r),r},colgroup:Or(t),row:kr(t),cell:r=>{const s=xe.fromTag(ne(r.element),t.dom),l=o.getOr([\"strong\",\"em\",\"b\",\"i\",\"span\",\"font\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"div\"]),a=l.length>0?((e,t,o)=>xr(e).map((n=>{const r=o.join(\",\"),s=it(n,r,(t=>Re(t,e)));return z(s,((e,t)=>{const o=Ke(t);return Ie(e,o),o}),t)})).getOr(t))(r.element,s,l):s;return Ie(a,xe.fromTag(\"br\")),n(r,s),((e,t)=>{G(Tr,((o,n)=>be(e,n).filter((e=>D(o,e))).each((e=>ge(t,n,e)))))})(r.element,s),e(r.element,s),s},replace:Er,colGap:Dr(t),gap:Rr(t)}},Br=e=>({col:Dr(e),colgroup:Or(e),row:kr(e),cell:Rr(e),replace:Nr,colGap:Dr(e),gap:Rr(e)}),zr=e=>t=>t.options.get(e),Ar=\"100%\",Lr=e=>{var t;const o=e.dom,n=null!==(t=o.getParent(e.selection.getStart(),o.isBlock))&&void 0!==t?t:e.getBody();return Wo(xe.fromDom(n))+\"px\"},Wr=e=>C.from(e.options.get(\"table_clone_elements\")),Mr=zr(\"table_header_type\"),jr=zr(\"table_column_resizing\"),Pr=e=>\"preservetable\"===jr(e),Ir=e=>\"resizetable\"===jr(e),Fr=zr(\"table_sizing_mode\"),Hr=e=>\"relative\"===Fr(e),$r=e=>\"fixed\"===Fr(e),Vr=e=>\"responsive\"===Fr(e),qr=zr(\"table_resize_bars\"),Ur=zr(\"table_style_by_css\"),Gr=zr(\"table_merge_content_on_paste\"),Kr=e=>{const t=e.options,o=t.get(\"table_default_attributes\");return t.isSet(\"table_default_attributes\")?o:((e,t)=>Vr(e)||Ur(e)?t:$r(e)?{...t,width:Lr(e)}:{...t,width:Ar})(e,o)},Yr=zr(\"table_use_colgroups\"),Jr=zr(\"fixed_toolbar_container\"),Qr=zr(\"fixed_toolbar_container_target\"),Xr=zr(\"ui_mode\"),Zr=e=>wt(e,\"[contenteditable]\"),es=(e,t=!1)=>st(e)?e.dom.isContentEditable:Zr(e).fold(g(t),(e=>\"true\"===ts(e))),ts=e=>e.dom.contentEditable,os=e=>xe.fromDom(e.getBody()),ns=e=>t=>Re(t,os(e)),rs=e=>{we(e,\"data-mce-style\");const t=e=>we(e,\"data-mce-style\");N(qt(e),t),N(Ut(e),t),N(Kt(e),t)},ss=e=>xe.fromDom(e.selection.getStart()),ls=e=>e.getBoundingClientRect().width,as=e=>e.getBoundingClientRect().height,cs=e=>(t,o)=>{const n=t.dom.getStyle(o,e)||t.dom.getAttrib(o,e);return C.from(n).filter(Ot)},is=cs(\"width\"),ms=cs(\"height\"),ds=e=>gt(e,ue(\"table\")).exists(es),us=(e,t)=>{const o=t.column,n=t.column+t.colspan-1,r=t.row,s=t.row+t.rowspan-1;return o<=e.finishCol&&n>=e.startCol&&r<=e.finishRow&&s>=e.startRow},fs=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,gs=(e,t,o)=>{const n=tn(e,t,Re),r=tn(e,o,Re);return n.bind((e=>r.map((t=>{return o=e,n=t,{startRow:Math.min(o.row,n.row),startCol:Math.min(o.column,n.column),finishRow:Math.max(o.row+o.rowspan-1,n.row+n.rowspan-1),finishCol:Math.max(o.column+o.colspan-1,n.column+n.colspan-1)};var o,n}))))},hs=(e,t,o)=>gs(e,t,o).map((t=>{const o=on(e,b(us,t));return E(o,(e=>e.element))})),ps=(e,t)=>tn(e,t,((e,t)=>De(t,e))).map((e=>e.element)),bs=(e,t,o)=>{const n=vs(e);return hs(n,t,o)},ws=(e,t,o,n,r)=>{const s=vs(e),l=Re(e,o)?C.some(t):ps(s,t),a=Re(e,r)?C.some(n):ps(s,n);return l.bind((e=>a.bind((t=>hs(s,e,t)))))},vs=Xo;var ys=[\"body\",\"p\",\"div\",\"article\",\"aside\",\"figcaption\",\"figure\",\"footer\",\"header\",\"nav\",\"section\",\"ol\",\"ul\",\"li\",\"table\",\"thead\",\"tbody\",\"tfoot\",\"caption\",\"tr\",\"td\",\"th\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"blockquote\",\"pre\",\"address\"],xs=()=>({up:g({selector:ht,closest:wt,predicate:ft,all:Be}),down:g({selector:dt,predicate:ct}),styles:g({get:Bt,getRaw:At,set:Nt,remove:Lt}),attrs:g({get:pe,set:ge,remove:we,copyTo:(e,t)=>{const o=ve(e);he(t,o)}}),insert:g({before:Me,after:je,afterAll:He,append:Ie,appendAll:$e,prepend:Pe,wrap:Fe}),remove:g({unwrap:Ue,remove:qe}),create:g({nu:xe.fromTag,clone:e=>xe.fromDom(e.dom.cloneNode(!1)),text:xe.fromText}),query:g({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:ze,nextSibling:Ae}),property:g({children:Le,name:ne,parent:Ne,document:e=>Ee(e).dom,isText:ie,isComment:le,isElement:ce,isSpecial:e=>{const t=ne(e);return D([\"script\",\"noscript\",\"iframe\",\"noframes\",\"noembed\",\"title\",\"style\",\"textarea\",\"xmp\"],t)},getLanguage:e=>ce(e)?be(e,\"lang\"):C.none(),getText:hr,setText:br,isBoundary:e=>!!ce(e)&&(\"body\"===ne(e)||D(ys,ne(e))),isEmptyTag:e=>!!ce(e)&&D([\"br\",\"img\",\"hr\",\"input\"],ne(e)),isNonEditable:e=>ce(e)&&\"false\"===pe(e,\"contenteditable\")}),eq:Re,is:Oe});const Cs=(e,t,o,n)=>{const r=t(e,o);return z(n,((o,n)=>{const r=t(e,n);return Ss(e,o,r)}),r)},Ss=(e,t,o)=>t.bind((t=>o.filter(b(e.eq,t)))),Ts=xs(),Rs=(e,t)=>((e,t,o)=>o.length>0?((e,t,o,n)=>n(e,t,o[0],o.slice(1)))(e,t,o,Cs):C.none())(Ts,((t,o)=>e(o)),t),Ds=e=>ht(e,\"table\"),Os=(e,t,o)=>{const n=e=>t=>void 0!==o&&o(t)||Re(t,e);return Re(e,t)?C.some({boxes:C.some([e]),start:e,finish:t}):Ds(e).bind((r=>Ds(t).bind((s=>{if(Re(r,s))return C.some({boxes:bs(r,e,t),start:e,finish:t});if(De(r,s)){const o=it(t,\"td,th\",n(r)),l=o.length>0?o[o.length-1]:t;return C.some({boxes:ws(r,e,r,t,s),start:e,finish:l})}if(De(s,r)){const o=it(e,\"td,th\",n(s)),l=o.length>0?o[o.length-1]:e;return C.some({boxes:ws(s,e,r,t,s),start:e,finish:l})}return((e,t)=>((e,t,o,n=y)=>{const r=[t].concat(e.up().all(t)),s=[o].concat(e.up().all(o)),l=e=>W(e,n).fold((()=>e),(t=>e.slice(0,t+1))),a=l(r),c=l(s),i=L(a,(t=>O(c,((e,t)=>b(e.eq,t))(e,t))));return{firstpath:a,secondpath:c,shared:i}})(Ts,e,t,void 0))(e,t).shared.bind((l=>wt(l,\"table\",o).bind((o=>{const l=it(t,\"td,th\",n(o)),a=l.length>0?l[l.length-1]:t,c=it(e,\"td,th\",n(o)),i=c.length>0?c[c.length-1]:e;return C.some({boxes:ws(o,e,r,t,s),start:i,finish:a})}))))}))))},ks=(e,t)=>{const o=dt(e,t);return o.length>0?C.some(o):C.none()},Es=(e,t,o)=>bt(e,t).bind((t=>bt(e,o).bind((e=>Rs(Ds,[t,e]).map((o=>({first:t,last:e,table:o}))))))),Ns=(e,t,o,n,r)=>((e,t)=>L(e,(e=>Ce(e,t))))(e,r).bind((e=>((e,t,o)=>Gt(e).bind((n=>((e,t,o,n)=>tn(e,t,Re).bind((t=>{const r=o>0?t.row+t.rowspan-1:t.row,s=n>0?t.column+t.colspan-1:t.column;return en(e,r+o,s+n).map((e=>e.element))})))(vs(n),e,t,o))))(e,t,o).bind((e=>((e,t)=>ht(e,\"table\").bind((o=>bt(o,t).bind((t=>Os(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,n))))),_s=(e,t)=>ks(e,t),Bs=(e,t,o)=>Es(e,t,o).bind((t=>{const o=t=>Re(e,t),n=\"thead,tfoot,tbody,table\",r=ht(t.first,n,o),s=ht(t.last,n,o);return r.bind((e=>s.bind((o=>Re(e,o)?((e,t,o)=>((e,t,o)=>gs(e,t,o).bind((t=>((e,t)=>{let o=!0;const n=b(fs,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let s=t.startCol;s<=t.finishCol;s++)o=o&&en(e,r,s).exists(n);return o?C.some(t):C.none()})(e,t))))(vs(e),t,o))(t.table,t.first,t.last):C.none()))))})),zs=h,As=e=>{const t=(e,t)=>be(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&P(e,(e=>t(e,\"rowspan\")||t(e,\"colspan\")))?C.some(e):C.none()},Ls=(e,t,o)=>t.length<=1?C.none():Bs(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Ws=\"data-mce-selected\",Ms=\"data-mce-first-selected\",js=\"data-mce-last-selected\",Ps=\"[\"+Ws+\"]\",Is={selected:Ws,selectedSelector:\"td[\"+Ws+\"],th[\"+Ws+\"]\",firstSelected:Ms,firstSelectedSelector:\"td[\"+Ms+\"],th[\"+Ms+\"]\",lastSelected:js,lastSelectedSelector:\"td[\"+js+\"],th[\"+js+\"]\"},Fs=(e,t,o)=>({element:o,mergable:Ls(t,e,Is),unmergable:As(e),selection:zs(e)}),Hs=e=>(t,o)=>{const n=ne(t),r=\"col\"===n||\"colgroup\"===n?Gt(s=t).bind((e=>_s(e,Is.firstSelectedSelector))).fold(g(s),(e=>e[0])):t;var s;return wt(r,e,o)},$s=Hs(\"th,td,caption\"),Vs=Hs(\"th,td\"),qs=e=>{return t=e.model.table.getSelectedCells(),E(t,xe.fromDom);var t},Us=(e,t)=>{e.on(\"BeforeGetContent\",(t=>{const o=o=>{t.preventDefault(),(e=>Gt(e[0]).map((e=>{const t=((e,t)=>{const o=e=>Ce(e.element,t),n=Ye(e),r=Xt(n),s=mr(e),l=Zo(r),a=((e,t)=>{const o=e.grid.columns;let n=e.grid.rows,r=o,s=0,l=0;const a=[],c=[];return G(e.access,(e=>{if(a.push(e),t(e)){c.push(e);const t=e.row,o=t+e.rowspan-1,a=e.column,i=a+e.colspan-1;t<n?n=t:o>s&&(s=o),a<r?r=a:i>l&&(l=i)}})),((e,t,o,n,r,s)=>({minRow:e,minCol:t,maxRow:o,maxCol:n,allCells:r,selectedCells:s}))(n,r,s,l,a,c)})(l,o),c=\"th:not(\"+t+\"),td:not(\"+t+\")\",i=$t(n,\"th,td\",(e=>Ce(e,c)));N(i,qe),((e,t,o,n)=>{const r=B(e,(e=>\"colgroup\"!==e.section)),s=t.grid.columns,l=t.grid.rows;for(let e=0;e<l;e++){let l=!1;for(let a=0;a<s;a++)e<o.minRow||e>o.maxRow||a<o.minCol||a>o.maxCol||(en(t,e,a).filter(n).isNone()?fr(r,l,e):l=!0)}})(r,l,a,o);const m=((e,t,o,n)=>{if(0===n.minCol&&t.grid.columns===n.maxCol+1)return 0;const r=sr(t,e,o),s=A(r,((e,t)=>e+t),0),l=A(r.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0),a=l/s*o.pixelWidth()-o.pixelWidth();return o.getCellDelta(a)})(e,Xo(e),s,a);return((e,t,o,n)=>{G(o.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&qe(e.element)}));const r=B(Ht(e,\"tr\"),(e=>0===e.dom.childElementCount));N(r,qe),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||N(Ht(e,\"th,td\"),(e=>{we(e,\"rowspan\"),we(e,\"colspan\")})),we(e,Uo),we(e,\"data-snooker-col-series\"),mr(e).adjustTableWidth(n)})(n,a,l,m),n})(e,Ps);return rs(t),[t]})))(o).each((o=>{const n=\"text\"===t.format?((e,t)=>{const o=e.getDoc(),n=nt(xe.fromDom(e.getBody())),r=xe.fromTag(\"div\",o);ge(r,\"data-mce-bogus\",\"all\"),_t(r,{position:\"fixed\",left:\"-9999999px\",top:\"0\",overflow:\"hidden\",opacity:\"0\"});const s=(e=>ot(e)?e:xe.fromDom(Ee(e).dom.body))(n);$e(r,t),Ie(s,r);const l=r.dom.innerText;return qe(r),l})(e,o):((e,t)=>E(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(\"\"))(e,o);t.content=n}))};if(!0===t.selection){const t=(e=>B(qs(e),(e=>Ce(e,Is.selectedSelector))))(e);t.length>=1&&o(t)}})),e.on(\"BeforeSetContent\",(o=>{if(!0===o.selection&&!0===o.paste){const n=qs(e);H(n).each((n=>{Gt(n).each((r=>{const s=B((e=>{const t=document.createElement(\"div\");return t.innerHTML=e,Le(xe.fromDom(t))})(o.content),(e=>\"meta\"!==ne(e))),l=ue(\"table\");if(Gr(e)&&1===s.length&&l(s[0])){o.preventDefault();const l=xe.fromDom(e.getDoc()),a=Br(l),c=((e,t,o)=>({element:e,clipboard:t,generators:o}))(n,s[0],a);t.pasteCells(r,c).each((()=>{e.focus()}))}}))}))}}))},Gs=(e,t)=>({element:e,offset:t}),Ks=(e,t,o)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?o(t).bind((t=>Ks(e,t,o).orThunk((()=>C.some(t))))):C.none(),Ys=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,Js=(e,t)=>{const o=Ks(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(o))return Gs(o,Ys(e,o));const n=e.property().children(o);return n.length>0?Js(e,n[n.length-1]):Gs(o,Ys(e,o))},Qs=Js,Xs=xs(),Zs=(e,t)=>{if(!jt(e)){const o=(e=>Un(e).bind((e=>{return t=e,o=[\"fixed\",\"relative\",\"empty\"],C.from(Ln.exec(t)).bind((e=>{const t=Number(e[1]),n=e[2];return((e,t)=>O(t,(t=>O(An[t],(t=>e===t)))))(n,o)?C.some({value:t,unit:n}):C.none()}));var t,o})))(e);o.each((o=>{const n=o.value/2;Jn(e,n,o.unit),Jn(t,n,o.unit)}))}},el=e=>E(e,g(0)),tl=(e,t,o,n,r)=>r(e.slice(0,t)).concat(n).concat(r(e.slice(o))),ol=e=>(t,o,n,r)=>{if(e(n)){const e=Math.max(r,t[o]-Math.abs(n)),s=Math.abs(e-t[o]);return n>=0?s:-s}return n},nl=ol((e=>e<0)),rl=ol(x),sl=()=>{const e=(e,t,o,n)=>{const r=(100+o)/100,s=Math.max(n,(e[t]+o)/r);return E(e,((e,o)=>(o===t?s:e/r)-e))},t=(t,o,n,r,s,l)=>l?e(t,o,r,s):((e,t,o,n,r)=>{const s=nl(e,t,n,r);return tl(e,t,o+1,[s,0],el)})(t,o,n,r,s);return{resizeTable:(e,t)=>e(t),clampTableDelta:nl,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,o,n,r,s,l,a)=>t(e,n,r,s,l,a),calcRightEdgeDeltas:(t,o,n,r,s,l)=>{if(l)return e(t,n,r,s);{const e=nl(t,n,r,s);return el(t.slice(0,n)).concat([e])}},calcRedestributedWidths:(e,t,o,n)=>{if(n){const n=(t+o)/t,r=E(e,(e=>e/n));return{delta:100*n-100,newSizes:r}}return{delta:o,newSizes:e}}}},ll=()=>{const e=(e,t,o,n,r)=>{const s=rl(e,n>=0?o:t,n,r);return tl(e,t,o+1,[s,-s],el)};return{resizeTable:(e,t,o)=>{o&&e(t)},clampTableDelta:(e,t,o,n,r)=>{if(r){if(o>=0)return o;{const t=A(e,((e,t)=>e+t-n),0);return Math.max(-t,o)}}return nl(e,t,o,n)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,o,n,r,s,l)=>e(t,n,r,s,l),calcRightEdgeDeltas:(e,t,o,n,r,s)=>{if(s)return el(e);{const t=n/e.length;return E(e,g(t))}},calcRedestributedWidths:(e,t,o,n)=>({delta:0,newSizes:e})}},al=e=>Xo(e).grid,cl=ue(\"th\"),il=e=>P(e,(e=>cl(e.element))),ml=(e,t)=>e&&t?\"sectionCells\":e?\"section\":\"cells\",dl=e=>{const t=\"thead\"===e.section,o=vt(ul(e.cells),\"th\");return\"tfoot\"===e.section?{type:\"footer\"}:t||o?{type:\"header\",subType:ml(t,o)}:{type:\"body\"}},ul=e=>{const t=B(e,(e=>cl(e.element)));return 0===t.length?C.some(\"td\"):t.length===e.length?C.some(\"th\"):C.none()},fl=(e,t,o)=>et(o(e.element,t),!0,e.isLocked),gl=(e,t)=>e.section!==t?tt(e.element,e.cells,t,e.isNew):e,hl=()=>({transformRow:gl,transformCell:(e,t,o)=>{const n=o(e.element,t),r=\"td\"!==ne(n)?(e=>{const t=Je(e,\"td\");je(e,t);const o=Le(e);return $e(t,o),qe(e),t})(n):n;return et(r,e.isNew,e.isLocked)}}),pl=()=>({transformRow:gl,transformCell:fl}),bl=()=>({transformRow:(e,t)=>gl(e,\"thead\"===t?\"tbody\":t),transformCell:fl}),wl=hl,vl=pl,yl=bl,xl=()=>({transformRow:h,transformCell:fl}),Cl=(e,t,o,n)=>{o===n?we(e,t):ge(e,t,o)},Sl=(e,t,o)=>{$(mt(e,t)).fold((()=>Pe(e,o)),(e=>je(e,o)))},Tl=(e,t)=>{const o=[],n=[],r=e=>E(e,(e=>{e.isNew&&o.push(e.element);const t=e.element;return Ve(t),N(e.cells,(e=>{e.isNew&&n.push(e.element),Cl(e.element,\"colspan\",e.colspan,1),Cl(e.element,\"rowspan\",e.rowspan,1),Ie(t,e.element)})),t})),s=e=>j(e,(e=>E(e.cells,(e=>(Cl(e.element,\"span\",e.colspan,1),e.element))))),l=(t,o)=>{const n=((e,t)=>{const o=pt(e,t).getOrThunk((()=>{const o=xe.fromTag(t,ke(e).dom);return\"thead\"===t?Sl(e,\"caption,colgroup\",o):\"colgroup\"===t?Sl(e,\"caption\",o):Ie(e,o),o}));return Ve(o),o})(e,o),l=(\"colgroup\"===o?s:r)(t);$e(n,l)},a=(t,o)=>{t.length>0?l(t,o):(t=>{pt(e,t).each(qe)})(o)},c=[],i=[],m=[],d=[];return N(t,(e=>{switch(e.section){case\"thead\":c.push(e);break;case\"tbody\":i.push(e);break;case\"tfoot\":m.push(e);break;case\"colgroup\":d.push(e)}})),a(d,\"colgroup\"),a(c,\"thead\"),a(i,\"tbody\"),a(m,\"tfoot\"),{newRows:o,newCells:n}},Rl=(e,t)=>{if(0===e.length)return 0;const o=e[0];return W(e,(e=>!t(o.element,e.element))).getOr(e.length)},Dl=(e,t)=>{const o=E(e,(e=>E(e.cells,y)));return E(e,((n,r)=>{const s=j(n.cells,((n,s)=>{if(!1===o[r][s]){const m=((e,t,o,n)=>{const r=((e,t)=>e[t])(e,t),s=\"colgroup\"===r.section,l=Rl(r.cells.slice(o),n),a=s?1:Rl(((e,t)=>E(e,(e=>Fo(e,t))))(e.slice(t),o),n);return{colspan:l,rowspan:a}})(e,r,s,t);return((e,t,n,r)=>{for(let s=e;s<e+n;s++)for(let e=t;e<t+r;e++)o[s][e]=!0})(r,s,m.rowspan,m.colspan),[(l=n.element,a=m.rowspan,c=m.colspan,i=n.isNew,{element:l,rowspan:a,colspan:c,isNew:i})]}return[];var l,a,c,i}));return((e,t,o,n)=>({element:e,cells:t,section:o,isNew:n}))(n.element,s,n.section,n.isNew)}))},Ol=(e,t,o)=>{const n=[];N(e.colgroups,(r=>{const s=[];for(let n=0;n<e.grid.columns;n++){const r=ln(e,n).map((e=>et(e.element,o,!1))).getOrThunk((()=>et(t.colGap(),!0,!1)));s.push(r)}n.push(tt(r.element,s,\"colgroup\",o))}));for(let r=0;r<e.grid.rows;r++){const s=[];for(let n=0;n<e.grid.columns;n++){const l=en(e,r,n).map((e=>et(e.element,o,e.isLocked))).getOrThunk((()=>et(t.gap(),!0,!1)));s.push(l)}const l=e.all[r],a=tt(l.element,s,l.section,o);n.push(a)}return n},kl=e=>Dl(e,Re),El=(e,t)=>V(e.all,(e=>L(e.cells,(e=>Re(t,e.element))))),Nl=(e,t,o)=>{const n=E(t.selection,(t=>Vt(t).bind((t=>El(e,t))).filter(o))),r=yt(n);return xt(r.length>0,r)},_l=(e,t,o,n,r)=>(s,l,a,c)=>{const i=Xo(s),m=C.from(null==c?void 0:c.section).getOrThunk(xl);return t(i,l).map((t=>{const o=((e,t)=>Ol(e,t,!1))(i,a),n=e(o,t,Re,r(a),m),s=Ko(n.grid);return{info:t,grid:kl(n.grid),cursor:n.cursor,lockedColumns:s}})).bind((e=>{const t=Tl(s,e.grid),r=C.from(null==c?void 0:c.sizing).getOrThunk((()=>mr(s))),l=C.from(null==c?void 0:c.resize).getOrThunk(ll);return o(s,e.grid,e.info,{sizing:r,resize:l,section:m}),n(s),we(s,Uo),e.lockedColumns.length>0&&ge(s,Uo,e.lockedColumns.join(\",\")),C.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Bl=(e,t)=>Nl(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),zl=(e,t)=>Nl(e,t,x),Al=(e,t)=>Nl(e,t,(e=>!e.isLocked)),Ll=(e,t)=>P(t,(t=>((e,t)=>El(e,t).exists((e=>!e.isLocked)))(e,t))),Wl=(e,t,o,n)=>{const r=Vo(e).rows;let s=!0;for(let e=0;e<r.length;e++)for(let l=0;l<$o(r[0]);l++){const a=r[e],c=Fo(a,l),i=o(c.element,t);i&&!s?Po(a,l,et(n(),!0,c.isLocked)):i&&(s=!1)}return e},Ml=e=>{const t=t=>t(e),o=g(e),n=()=>r,r={tag:!0,inner:e,fold:(t,o)=>o(e),isValue:x,isError:y,map:t=>Pl.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>C.some(e)};return r},jl=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(t,o)=>t(e),isValue:y,isError:x,map:t,mapError:t=>Pl.error(t(e)),bind:t,exists:y,forall:x,getOr:h,or:h,getOrThunk:v,orThunk:v,getOrDie:(n=String(e),()=>{throw new Error(n)}),each:f,toOptional:C.none};var n;return o},Pl={value:Ml,error:jl,fromOption:(e,t)=>e.fold((()=>jl(t)),Ml)},Il=(e,t)=>({rowDelta:0,colDelta:$o(e[0])-$o(t[0])}),Fl=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),Hl=(e,t,o,n)=>{const r=\"colgroup\"===t.section?o.col:o.cell;return k(e,(e=>et(r(),!0,n(e))))},$l=(e,t,o,n)=>{const r=e[e.length-1];return e.concat(k(t,(()=>{const e=\"colgroup\"===r.section?o.colgroup:o.row,t=qo(r,e,h),s=Hl(t.cells.length,t,o,(e=>X(n,e.toString())));return Io(t,s)})))},Vl=(e,t,o,n)=>E(e,(e=>{const r=Hl(t,e,o,y);return Mo(e,n,r)})),ql=(e,t,o)=>{const n=t.colDelta<0?Vl:h,r=t.rowDelta<0?$l:h,s=Ko(e),l=$o(e[0]),a=O(s,(e=>e===l-1)),c=n(e,Math.abs(t.colDelta),o,a?l-1:l),i=Ko(c);return r(c,Math.abs(t.rowDelta),o,I(i,x))},Ul=(e,t,o,n)=>{const r=b(n,Fo(e[t],o).element),s=e[t];return e.length>1&&$o(s)>1&&(o>0&&r(Ho(s,o-1))||o<s.cells.length-1&&r(Ho(s,o+1))||t>0&&r(Ho(e[t-1],o))||t<e.length-1&&r(Ho(e[t+1],o)))},Gl=(e,t,o)=>B(o,(o=>o>=e.column&&o<=$o(t[0])+e.column)),Kl=(e,t,o,n,r)=>{((e,t,o,n)=>{t>0&&t<e[0].cells.length&&N(e,(e=>{const r=e.cells[t-1];let s=0;const l=n();for(;e.cells.length>t+s&&o(r.element,e.cells[t+s].element);)Po(e,t+s,et(l,!0,e.cells[t+s].isLocked)),s++}))})(t,e,r,n.cell);const s=Fl(o,t),l=ql(o,s,n),a=Fl(t,l),c=ql(t,a,n);return E(c,((t,o)=>Mo(t,e,l[o].cells)))},Yl=(e,t,o,n,r)=>{((e,t,o,n)=>{const r=Vo(e).rows;if(t>0&&t<r.length){const e=((e,t)=>A(e,((e,o)=>O(e,(e=>t(e.element,o.element)))?e:e.concat([o])),[]))(r[t-1].cells,o);N(e,(e=>{let s=C.none();for(let l=t;l<r.length;l++)for(let t=0;t<$o(r[0]);t++){const a=r[l],c=Fo(a,t);o(c.element,e.element)&&(s.isNone()&&(s=C.some(n())),s.each((e=>{Po(a,t,et(e,!0,c.isLocked))})))}}))}})(t,e,r,n.cell);const s=Ko(t),l=Il(t,o),a={...l,colDelta:l.colDelta-s.length},c=ql(t,a,n),{cols:i,rows:m}=Vo(c),d=Ko(c),u=Il(o,t),f={...u,colDelta:u.colDelta+d.length},g=(p=n,b=d,E(o,(e=>A(b,((t,o)=>{const n=Hl(1,e,p,x)[0];return jo(t,o,n)}),e)))),h=ql(g,f,n);var p,b;return[...i,...m.slice(0,e),...h,...m.slice(e,m.length)]},Jl=(e,t,o,n,r)=>{const{rows:s,cols:l}=Vo(e),a=s.slice(0,t),c=s.slice(t);return[...l,...a,((e,t,o,n)=>qo(e,(e=>n(e,o)),t))(s[o],((e,o)=>t>0&&t<s.length&&n(Ho(s[t-1],o),Ho(s[t],o))?Fo(s[t],o):et(r(e.element,n),!0,e.isLocked)),n,r),...c]},Ql=(e,t,o,n,r)=>E(e,(e=>{const s=t>0&&t<$o(e)&&n(Ho(e,t-1),Ho(e,t)),l=((e,t,o,n,r,s,l)=>{if(\"colgroup\"!==o&&n)return Fo(e,t);{const t=Fo(e,r);return et(l(t.element,s),!0,!1)}})(e,t,e.section,s,o,n,r);return jo(e,t,l)})),Xl=(e,t,o,n)=>((e,t,o,n)=>void 0!==Ho(e[t],o)&&t>0&&n(Ho(e[t-1],o),Ho(e[t],o)))(e,t,o,n)||((e,t,o)=>t>0&&o(Ho(e,t-1),Ho(e,t)))(e[t],o,n),Zl=(e,t,o,n)=>{const r=e=>(e=>\"row\"===e?(e=>Mt(e,\"rowspan\")>1)(t):jt(t))(e)?`${e}group`:e;return e?cl(t)?r(o):null:n&&cl(t)?r(\"row\"===o?\"col\":\"row\"):null},ea=(e,t,o)=>et(o(e.element,t),!0,e.isLocked),ta=(e,t,o,n,r,s,l)=>E(e,((e,a)=>(e=>{const c=e.cells,i=E(c,((e,c)=>{if((e=>O(t,(t=>o(e.element,t.element))))(e)){const t=l(e,a,c)?r(e,o,n):e;return s(t,a,c).each((e=>{var o,n;o=t.element,n={scope:C.from(e)},G(n,((e,t)=>{e.fold((()=>{we(o,t)}),(e=>{fe(o.dom,t,e)}))}))})),t}return e}));return tt(e.element,i,e.section,e.isNew)})(e))),oa=(e,t,o)=>j(e,((n,r)=>Xl(e,r,t,o)?[]:[Fo(n,t)])),na=(e,t,o,n,r)=>{const s=Vo(e).rows,l=j(t,(e=>oa(s,e,n))),a=E(s,(e=>il(e.cells))),c=((e,t)=>P(t,h)&&il(e)?x:(e,o,n)=>!(\"th\"===ne(e.element)&&t[o]))(l,a),i=((e,t)=>(o,n)=>C.some(Zl(e,o.element,\"row\",t[n])))(o,a);return ta(e,l,n,r,ea,i,c)},ra=(e,t,o,n)=>{const r=Vo(e).rows,s=E(t,(e=>Fo(r[e.row],e.column)));return ta(e,s,o,n,ea,C.none,x)},sa=e=>{if(!l(e))throw new Error(\"cases must be an array\");if(0===e.length)throw new Error(\"there must be at least one case\");const t=[],o={};return N(e,((n,r)=>{const s=q(n);if(1!==s.length)throw new Error(\"one and only one name per case\");const a=s[0],c=n[a];if(void 0!==o[a])throw new Error(\"duplicate key detected:\"+a);if(\"cata\"===a)throw new Error(\"cannot have a case named cata (sorry)\");if(!l(c))throw new Error(\"case arguments must be an array\");t.push(a),o[a]=(...o)=>{const n=o.length;if(n!==c.length)throw new Error(\"Wrong number of arguments to case \"+a+\". Expected \"+c.length+\" (\"+c+\"), got \"+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+e.length+\", got \"+t.length);return t[r].apply(null,o)},match:e=>{const n=q(e);if(t.length!==n.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+t.join(\",\")+\"\\nActual: \"+n.join(\",\"));if(!P(t,(e=>D(n,e))))throw new Error(\"Not all branches were specified when using match. Specified: \"+n.join(\", \")+\"\\nRequired: \"+t.join(\", \"));return e[a].apply(null,o)},log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}})),o},la={...sa([{none:[]},{only:[\"index\"]},{left:[\"index\",\"next\"]},{middle:[\"prev\",\"index\",\"next\"]},{right:[\"prev\",\"index\"]}])},aa=(e,t,o)=>{const n=((e,t)=>sn(e)?((e,t)=>{const o=rn(e);return E(o,((e,o)=>({element:e.element,width:t[o],colspan:e.colspan})))})(e,t):((e,t)=>{const o=nn(e);return E(o,(e=>{const o=((e,t,o)=>{let n=0;for(let r=e;r<t;r++)n+=void 0!==o[r]?o[r]:0;return n})(e.column,e.column+e.colspan,t);return{element:e.element,width:o,colspan:e.colspan}}))})(e,t))(e,t);N(n,(e=>{o.setElementWidth(e.element,e.width)}))},ca=(e,t,o,n,r)=>{const s=Xo(e),l=r.getCellDelta(t),a=r.getWidths(s,r),c=o===s.grid.columns-1,i=n.clampTableDelta(a,o,l,r.minCellWidth(),c),m=((e,t,o,n,r)=>{const s=e.slice(0),l=((e,t)=>0===e.length?la.none():1===e.length?la.only(0):0===t?la.left(0,1):t===e.length-1?la.right(t-1,t):t>0&&t<e.length-1?la.middle(t-1,t,t+1):la.none())(e,t),a=g(E(s,g(0)));return l.fold(a,(e=>n.singleColumnWidth(s[e],o)),((e,t)=>r.calcLeftEdgeDeltas(s,e,t,o,n.minCellWidth(),n.isRelative)),((e,t,l)=>r.calcMiddleDeltas(s,e,t,l,o,n.minCellWidth(),n.isRelative)),((e,t)=>r.calcRightEdgeDeltas(s,e,t,o,n.minCellWidth(),n.isRelative)))})(a,o,i,r,n),d=E(m,((e,t)=>e+a[t]));aa(s,d,r),n.resizeTable(r.adjustTableWidth,i,c)},ia=(e,t,o)=>{const n=Xo(e),r=((e,t)=>lr(e,t,Yn,(e=>e.getOrThunk(Ft))))(n,e),s=E(r,((e,n)=>o===n?Math.max(t+e,Ft()):e)),l=((e,t)=>E(e.all,((e,o)=>({element:e.element,height:t[o]}))))(n,s);N(l,(e=>{$n(e.element,e.height)})),N(nn(n),(e=>{(e=>{Lt(e,\"height\")})(e.element)}));const a=z(s,((e,t)=>e+t),0);$n(e,a)},ma=e=>A(e,((e,t)=>O(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),da=ue(\"col\"),ua=ue(\"colgroup\"),fa=e=>\"tr\"===ne(e)||ua(e),ga=e=>({element:e,colspan:Wt(e,\"colspan\",1),rowspan:Wt(e,\"rowspan\",1)}),ha=e=>be(e,\"scope\").map((e=>e.substr(0,3))),pa=(e,t=ga)=>{const o=o=>{if(fa(o))return ua((r={element:o}).element)?e.colgroup(r):e.row(r);{const r=o,s=(t=>da(t.element)?e.col(t):e.cell(t))(t(r));return n=C.some({item:r,replacement:s}),s}var r};let n=C.none();return{getOrInit:(e,t)=>n.fold((()=>o(e)),(n=>t(e,n.item)?n.replacement:o(e)))}},ba=e=>t=>{const o=[],n=n=>{const r=\"td\"===e?{scope:null}:{},s=t.replace(n,e,r);return o.push({item:n,sub:s}),s};return{replaceOrInit:(e,t)=>{if(fa(e)||da(e))return e;{const r=e;return((e,t)=>L(o,(o=>t(o.item,e))))(r,t).fold((()=>n(r)),(o=>t(e,o.item)?o.sub:n(r)))}}}},wa=e=>({unmerge:t=>{const o=ha(t);return o.each((e=>ge(t,\"scope\",e))),()=>{const n=e.cell({element:t,colspan:1,rowspan:1});return Lt(n,\"width\"),Lt(t,\"width\"),o.each((e=>ge(n,\"scope\",e))),n}},merge:e=>(Lt(e[0],\"width\"),(()=>{const t=yt(E(e,ha));if(0===t.length)return C.none();{const e=t[0],o=[\"row\",\"col\"];return O(t,(t=>t!==e&&D(o,t)))?C.none():C.from(e)}})().fold((()=>we(e[0],\"scope\")),(t=>ge(e[0],\"scope\",t+\"group\"))),g(e[0]))}),va=[\"body\",\"p\",\"div\",\"article\",\"aside\",\"figcaption\",\"figure\",\"footer\",\"header\",\"nav\",\"section\",\"ol\",\"ul\",\"table\",\"thead\",\"tfoot\",\"tbody\",\"caption\",\"tr\",\"td\",\"th\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"blockquote\",\"pre\",\"address\"],ya=xs(),xa=e=>((e,t)=>{const o=e.property().name(t);return D(va,o)})(ya,e),Ca=e=>((e,t)=>{const o=e.property().name(t);return D([\"ol\",\"ul\"],o)})(ya,e),Sa=e=>{const t=ue(\"br\"),o=e=>Cr(e).bind((o=>{const n=Ae(o).map((e=>!!xa(e)||!!((e,t)=>D([\"br\",\"img\",\"hr\",\"input\"],e.property().name(t)))(ya,e)&&\"img\"!==ne(e))).getOr(!1);return Ne(o).map((r=>{return!0===n||(\"li\"===ne(s=r)||ft(s,Ca).isSome())||t(o)||xa(r)&&!Re(e,r)?[]:[xe.fromTag(\"br\")];var s}))})).getOr([]),n=(()=>{const n=j(e,(e=>{const n=Le(e);return(e=>P(e,(e=>t(e)||ie(e)&&0===hr(e).trim().length)))(n)?[]:n.concat(o(e))}));return 0===n.length?[xe.fromTag(\"br\")]:n})();Ve(e[0]),$e(e[0],n)},Ta=e=>es(e,!0),Ra=e=>{0===qt(e).length&&qe(e)},Da=(e,t)=>({grid:e,cursor:t}),Oa=(e,t,o)=>{const n=((e,t,o)=>{var n,r;const s=Vo(e).rows;return C.from(null===(r=null===(n=s[t])||void 0===n?void 0:n.cells[o])||void 0===r?void 0:r.element).filter(Ta).orThunk((()=>(e=>V(e,(e=>V(e.cells,(e=>{const t=e.element;return xt(Ta(t),t)})))))(s)))})(e,t,o);return Da(e,n)},ka=e=>A(e,((e,t)=>O(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),Ea=(e,t)=>(o,n,r,s,l)=>{const a=ka(n),c=E(a,(e=>e.row)),i=((e,t,o,n,r,s,l)=>{const{cols:a,rows:c}=Vo(e),i=c[t[0]],m=j(t,(e=>((e,t,o)=>{const n=e[t];return j(n.cells,((n,r)=>Xl(e,t,r,o)?[]:[n]))})(c,e,r))),d=E(i.cells,((e,t)=>il(oa(c,t,r)))),u=[...c];N(t,(e=>{u[e]=l.transformRow(c[e],o)}));const f=[...a,...u],g=((e,t)=>P(t,h)&&il(e.cells)?x:(e,o,n)=>!(\"th\"===ne(e.element)&&t[n]))(i,d),p=((e,t)=>(o,n,r)=>C.some(Zl(e,o.element,\"col\",t[r])))(n,d);return ta(f,m,r,s,l.transformCell,p,g)})(o,c,e,t,r,s.replaceOrInit,l);return Oa(i,n[0].row,n[0].column)},Na=Ea(\"thead\",!0),_a=Ea(\"tbody\",!1),Ba=Ea(\"tfoot\",!1),za=(e,t,o)=>{const n=((e,t)=>Jt(e,(()=>t)))(e,o.section),r=Zo(n);return Ol(r,t,!0)},Aa=(e,t,o,n)=>((e,t,o,n)=>{const r=Zo(t),s=n.getWidths(r,n);aa(r,s,n)})(0,t,0,n.sizing),La=(e,t,o,n)=>((e,t,o,n,r)=>{const s=Zo(t),l=n.getWidths(s,n),a=n.pixelWidth(),{newSizes:c,delta:i}=r.calcRedestributedWidths(l,a,o.pixelDelta,n.isRelative);aa(s,c,n),n.adjustTableWidth(i)})(0,t,o,n.sizing,n.resize),Wa=(e,t)=>O(t,(e=>0===e.column&&e.isLocked)),Ma=(e,t)=>O(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),ja=(e,t)=>{const o=an(e),n=ma(t);return A(n,((e,t)=>e+o[t.column].map(Lo).getOr(0)),0)},Pa=e=>(t,o)=>zl(t,o).filter((o=>!(e?Wa:Ma)(t,o))).map((e=>({details:e,pixelDelta:ja(t,e)}))),Ia=e=>(t,o)=>Bl(t,o).filter((o=>!(e?Wa:Ma)(t,o.cells))),Fa=ba(\"th\"),Ha=ba(\"td\"),$a=_l(((e,t,o,n)=>{const r=t[0].row,s=ka(t),l=z(s,((e,t)=>({grid:Jl(e.grid,r,t.row+e.delta,o,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Oa(l,r,t[0].column)}),zl,f,f,pa),Va=_l(((e,t,o,n)=>{const r=ka(t),s=r[r.length-1],l=s.row+s.rowspan,a=z(r,((e,t)=>Jl(e,l,t.row,o,n.getOrInit)),e);return Oa(a,l,t[0].column)}),zl,f,f,pa),qa=_l(((e,t,o,n)=>{const r=t.details,s=ma(r),l=s[0].column,a=z(s,((e,t)=>({grid:Ql(e.grid,l,t.column+e.delta,o,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Oa(a,r[0].row,l)}),Pa(!0),La,f,pa),Ua=_l(((e,t,o,n)=>{const r=t.details,s=r[r.length-1],l=s.column+s.colspan,a=ma(r),c=z(a,((e,t)=>Ql(e,l,t.column,o,n.getOrInit)),e);return Oa(c,r[0].row,l)}),Pa(!1),La,f,pa),Ga=_l(((e,t,o,n)=>{const r=ma(t.details),s=((e,t)=>j(e,(e=>{const o=e.cells,n=z(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),o);return n.length>0?[tt(e.element,n,e.section,e.isNew)]:[]})))(e,E(r,(e=>e.column))),l=s.length>0?s[0].cells.length-1:0;return Oa(s,r[0].row,Math.min(r[0].column,l))}),((e,t)=>Al(e,t).map((t=>({details:t,pixelDelta:-ja(e,t)})))),La,Ra,pa),Ka=_l(((e,t,o,n)=>{const r=ka(t),s=((e,t,o)=>{const{rows:n,cols:r}=Vo(e);return[...r,...n.slice(0,t),...n.slice(o+1)]})(e,r[0].row,r[r.length-1].row),l=Math.max(Vo(s).rows.length-1,0);return Oa(s,Math.min(t[0].row,l),t[0].column)}),zl,f,Ra,pa),Ya=_l(((e,t,o,n)=>{const r=ma(t),s=E(r,(e=>e.column)),l=na(e,s,!0,o,n.replaceOrInit);return Oa(l,t[0].row,t[0].column)}),Al,f,f,Fa),Ja=_l(((e,t,o,n)=>{const r=ma(t),s=E(r,(e=>e.column)),l=na(e,s,!1,o,n.replaceOrInit);return Oa(l,t[0].row,t[0].column)}),Al,f,f,Ha),Qa=_l(Na,zl,f,f,Fa),Xa=_l(_a,zl,f,f,Ha),Za=_l(Ba,zl,f,f,Ha),ec=_l(((e,t,o,n)=>{const r=ra(e,t,o,n.replaceOrInit);return Oa(r,t[0].row,t[0].column)}),Al,f,f,Fa),tc=_l(((e,t,o,n)=>{const r=ra(e,t,o,n.replaceOrInit);return Oa(r,t[0].row,t[0].column)}),Al,f,f,Ha),oc=_l(((e,t,o,n)=>{const r=t.cells;Sa(r);const s=((e,t,o,n)=>{const r=Vo(e).rows;if(0===r.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let o=t.startCol;o<=t.finishCol;o++){const t=r[e],s=Fo(t,o).isLocked;Po(t,o,et(n(),!1,s))}return e})(e,t.bounds,0,n.merge(r));return Da(s,C.from(r[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>Ll(e,t.cells)))),Aa,f,wa),nc=_l(((e,t,o,n)=>{const r=z(t,((e,t)=>Wl(e,t,o,n.unmerge(t))),e);return Da(r,C.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>Ll(e,t)))),Aa,f,wa),rc=_l(((e,t,o,n)=>{const r=((e,t)=>{const o=Xo(e);return Ol(o,t,!0)})(t.clipboard,t.generators);var s,l;return((e,t,o,n,r)=>{const s=Ko(t),l=((e,t,o)=>{const n=$o(t[0]),r=Vo(t).cols.length+e.row,s=k(n-e.column,(t=>t+e.column));return{row:r,column:L(s,(e=>P(o,(t=>t!==e)))).getOr(n-1)}})(e,t,s),a=Vo(o).rows,c=Gl(l,a,s),i=((e,t,o)=>{if(e.row>=t.length||e.column>$o(t[0]))return Pl.error(\"invalid start address out of table bounds, row: \"+e.row+\", column: \"+e.column);const n=t.slice(e.row),r=n[0].cells.slice(e.column),s=$o(o[0]),l=o.length;return Pl.value({rowDelta:n.length-l,colDelta:r.length-s})})(l,t,a);return i.map((e=>{const o={...e,colDelta:e.colDelta-c.length},s=ql(t,o,n),i=Ko(s),m=Gl(l,a,i);return((e,t,o,n,r,s)=>{const l=e.row,a=e.column,c=l+o.length,i=a+$o(o[0])+s.length,m=I(s,x);for(let e=l;e<c;e++){let s=0;for(let c=a;c<i;c++){if(m[c]){s++;continue}Ul(t,e,c,r)&&Wl(t,Ho(t[e],c),r,n.cell);const i=c-a-s,d=Fo(o[e-l],i),u=d.element,f=n.replace(u);Po(t[e],c,et(f,!0,d.isLocked))}}return t})(l,s,a,n,r,m)}))})((s=t.row,l=t.column,{row:s,column:l}),e,r,t.generators,o).fold((()=>Da(e,C.some(t.element))),(e=>Oa(e,t.row,t.column)))}),((e,t)=>Vt(t.element).bind((o=>El(e,o).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),Aa,f,pa),sc=_l(((e,t,o,n)=>{const r=Vo(e).rows,s=t.cells[0].column,l=r[t.cells[0].row],a=za(t.clipboard,t.generators,l),c=Kl(s,e,a,t.generators,o);return Oa(c,t.cells[0].row,t.cells[0].column)}),Ia(!0),f,f,pa),lc=_l(((e,t,o,n)=>{const r=Vo(e).rows,s=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,l=r[t.cells[0].row],a=za(t.clipboard,t.generators,l),c=Kl(s,e,a,t.generators,o);return Oa(c,t.cells[0].row,s)}),Ia(!1),f,f,pa),ac=_l(((e,t,o,n)=>{const r=Vo(e).rows,s=t.cells[0].row,l=r[s],a=za(t.clipboard,t.generators,l),c=Yl(s,e,a,t.generators,o);return Oa(c,t.cells[0].row,t.cells[0].column)}),Bl,f,f,pa),cc=_l(((e,t,o,n)=>{const r=Vo(e).rows,s=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,l=r[t.cells[0].row],a=za(t.clipboard,t.generators,l),c=Yl(s,e,a,t.generators,o);return Oa(c,s,t.cells[0].column)}),Bl,f,f,pa),ic=(e,t)=>{const o=Xo(e);return zl(o,t).bind((e=>{const t=e[e.length-1],n=e[0].column,r=t.column+t.colspan,s=M(E(o.all,(e=>B(e.cells,(e=>e.column>=n&&e.column<r)))));return ul(s)})).getOr(\"\")},mc=(e,t)=>{const o=Xo(e);return zl(o,t).bind(ul).getOr(\"\")},dc=(e,t)=>{const o=Xo(e);return zl(o,t).bind((e=>{const t=e[e.length-1],n=e[0].row,r=t.row+t.rowspan;return(e=>{const t=E(e,(e=>dl(e).type)),o=D(t,\"header\"),n=D(t,\"footer\");if(o||n){const e=D(t,\"body\");return!o||e||n?o||e||!n?C.none():C.some(\"footer\"):C.some(\"header\")}return C.some(\"body\")})(o.all.slice(n,r))})).getOr(\"\")},uc=(e,t)=>e.dispatch(\"NewRow\",{node:t}),fc=(e,t)=>e.dispatch(\"NewCell\",{node:t}),gc=(e,t,o)=>{e.dispatch(\"TableModified\",{...o,table:t})},hc={structure:!1,style:!0},pc={structure:!0,style:!1},bc={structure:!0,style:!0},wc=(e,t)=>Hr(e)?ur(t):$r(e)?dr(t):mr(t),vc=(e,t,o)=>{const n=e=>\"table\"===ne(os(e)),r=Wr(e),s=Ir(e)?f:Zs,l=t=>{switch(Mr(e)){case\"section\":return wl();case\"sectionCells\":return vl();case\"cells\":return yl();default:return((e,t)=>{var o;switch((o=Xo(e),V(o.all,(e=>{const t=dl(e);return\"header\"===t.type?C.from(t.subType):C.none()}))).getOr(t)){case\"section\":return hl();case\"sectionCells\":return pl();case\"cells\":return bl()}})(t,\"section\")}},a=(n,s,a,c)=>(i,m,d=!1)=>{rs(i);const u=xe.fromDom(e.getDoc()),f=_r(a,u,r),g={sizing:wc(e,i),resize:Ir(e)?sl():ll(),section:l(i)};return s(i)?n(i,m,f,g).bind((n=>{t.refresh(i.dom),N(n.newRows,(t=>{uc(e,t.dom)})),N(n.newCells,(t=>{fc(e,t.dom)}));const r=((t,n)=>n.cursor.fold((()=>{const n=qt(t);return H(n).filter(st).map((n=>{o.clearSelectedCells(t.dom);const r=e.dom.createRng();return r.selectNode(n.dom),e.selection.setRng(r),ge(n,\"data-mce-selected\",\"1\"),r}))}),(n=>{const r=Qs(Xs,n),s=e.dom.createRng();return s.setStart(r.element.dom,r.offset),s.setEnd(r.element.dom,r.offset),e.selection.setRng(s),o.clearSelectedCells(t.dom),C.some(s)})))(i,n);return st(i)&&(rs(i),d||gc(e,i.dom,c)),r.map((e=>({rng:e,effect:c})))})):C.none()},c=a(Ka,(t=>!n(e)||al(t).rows>1),f,pc),i=a(Ga,(t=>!n(e)||al(t).columns>1),f,pc);return{deleteRow:c,deleteColumn:i,insertRowsBefore:a($a,x,f,pc),insertRowsAfter:a(Va,x,f,pc),insertColumnsBefore:a(qa,x,s,pc),insertColumnsAfter:a(Ua,x,s,pc),mergeCells:a(oc,x,f,pc),unmergeCells:a(nc,x,f,pc),pasteColsBefore:a(sc,x,f,pc),pasteColsAfter:a(lc,x,f,pc),pasteRowsBefore:a(ac,x,f,pc),pasteRowsAfter:a(cc,x,f,pc),pasteCells:a(rc,x,f,bc),makeCellsHeader:a(ec,x,f,pc),unmakeCellsHeader:a(tc,x,f,pc),makeColumnsHeader:a(Ya,x,f,pc),unmakeColumnsHeader:a(Ja,x,f,pc),makeRowsHeader:a(Qa,x,f,pc),makeRowsBody:a(Xa,x,f,pc),makeRowsFooter:a(Za,x,f,pc),getTableRowType:dc,getTableCellType:mc,getTableColType:ic}},yc=(e,t,o)=>{const n=Wt(e,t,1);1===o||n<=1?we(e,t):ge(e,t,Math.min(o,n))},xc=(e,t)=>o=>{const n=o.column+o.colspan-1,r=o.column;return n>=e&&r<t},Cc=sa([{invalid:[\"raw\"]},{pixels:[\"value\"]},{percent:[\"value\"]}]),Sc=(e,t,o)=>{const n=o.substring(0,o.length-e.length),r=parseFloat(n);return n===r.toString()?t(r):Cc.invalid(o)},Tc={...Cc,from:e=>Rt(e,\"%\")?Sc(\"%\",Cc.percent,e):Rt(e,\"px\")?Sc(\"px\",Cc.pixels,e):Cc.invalid(e)},Rc=(e,t,o)=>{const n=Tc.from(o),r=P(e,(e=>\"0px\"===e))?((e,t)=>{const o=e.fold((()=>g(\"\")),(e=>g(e/t+\"px\")),(()=>g(100/t+\"%\")));return k(t,o)})(n,e.length):((e,t,o)=>e.fold((()=>t),(e=>((e,t,o)=>{const n=o/t;return E(e,(e=>Tc.from(e).fold((()=>e),(e=>e*n+\"px\"),(e=>e/100*o+\"px\"))))})(t,o,e)),(e=>((e,t)=>E(e,(e=>Tc.from(e).fold((()=>e),(e=>e/t*100+\"%\"),(e=>e+\"%\")))))(t,o))))(n,e,t);return kc(r)},Dc=(e,t)=>0===e.length?t:z(e,((e,t)=>Tc.from(t).fold(g(0),h,h)+e),0),Oc=(e,t)=>Tc.from(e).fold(g(e),(e=>e+t+\"px\"),(e=>e+t+\"%\")),kc=e=>{if(0===e.length)return e;const t=z(e,((e,t)=>{const o=Tc.from(t).fold((()=>({value:t,remainder:0})),(e=>(e=>{const t=Math.floor(e);return{value:t+\"px\",remainder:e-t}})(e)),(e=>({value:e+\"%\",remainder:0})));return{output:[o.value].concat(e.output),remainder:e.remainder+o.remainder}}),{output:[],remainder:0}),o=t.output;return o.slice(0,o.length-1).concat([Oc(o[o.length-1],Math.round(t.remainder))])},Ec=Tc.from,Nc=(e,t,o)=>{const n=Xo(e),r=n.all,s=nn(n),l=rn(n);t.each((t=>{const o=Ec(t).fold(g(\"px\"),g(\"px\"),g(\"%\")),r=Ao(e),a=((e,t)=>nr(e,t,er,rr))(n,e),c=Rc(a,r,t);sn(n)?((e,t,o)=>{N(t,((t,n)=>{const r=Dc([e[n]],It());Nt(t.element,\"width\",r+o)}))})(c,l,o):((e,t,o)=>{N(t,(t=>{const n=e.slice(t.column,t.colspan+t.column),r=Dc(n,It());Nt(t.element,\"width\",r+o)}))})(c,s,o),Nt(e,\"width\",t)})),o.each((t=>{const o=gn(e),l=((e,t)=>lr(e,t,tr,rr))(n,e);((e,t,o)=>{N(o,(e=>{Lt(e.element,\"height\")})),N(t,((t,o)=>{Nt(t.element,\"height\",e[o])}))})(Rc(l,o,t),r,s),Nt(e,\"height\",t)}))},_c=e=>Un(e).exists((e=>Wn.test(e))),Bc=e=>Un(e).exists((e=>Mn.test(e))),zc=e=>Un(e).isNone(),Ac=e=>{we(e,\"width\"),we(e,\"height\")},Lc=e=>{const t=Qn(e);Nc(e,C.some(t),C.none()),Ac(e)},Wc=e=>{const t=(e=>Ao(e)+\"px\")(e);Nc(e,C.some(t),C.none()),Ac(e)},Mc=e=>{Lt(e,\"width\");const t=Ut(e),o=t.length>0?t:qt(e);N(o,(e=>{Lt(e,\"width\"),Ac(e)})),Ac(e)},jc={styles:{\"border-collapse\":\"collapse\",width:\"100%\"},attributes:{border:\"1\"},colGroups:!1},Pc=(e,t,o,n)=>k(e,(e=>((e,t,o,n)=>{const r=xe.fromTag(\"tr\");for(let s=0;s<e;s++){const e=xe.fromTag(n<t||s<o?\"th\":\"td\");s<o&&ge(e,\"scope\",\"row\"),n<t&&ge(e,\"scope\",\"col\"),Ie(e,xe.fromTag(\"br\")),Ie(r,e)}return r})(t,o,n,e))),Ic=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Fc=(e,t,o,n,s)=>{const l=(e=>{const t=e.options,o=t.get(\"table_default_styles\");return t.isSet(\"table_default_styles\")?o:((e,t)=>Vr(e)||!Ur(e)?t:$r(e)?{...t,width:Lr(e)}:{...t,width:Ar})(e,o)})(e),a={styles:l,attributes:Kr(e),colGroups:Yr(e)};return e.undoManager.ignore((()=>{const r=((e,t,o,n,r,s=jc)=>{const l=xe.fromTag(\"table\"),a=\"cells\"!==r;_t(l,s.styles),he(l,s.attributes),s.colGroups&&Ie(l,(e=>{const t=xe.fromTag(\"colgroup\");return k(e,(()=>Ie(t,xe.fromTag(\"col\")))),t})(t));const c=Math.min(e,o);if(a&&o>0){const e=xe.fromTag(\"thead\");Ie(l,e);const s=Pc(o,t,\"sectionCells\"===r?c:0,n);$e(e,s)}const i=xe.fromTag(\"tbody\");Ie(l,i);const m=Pc(a?e-c:e,t,a?0:o,n);return $e(i,m),l})(o,t,s,n,Mr(e),a);ge(r,\"data-mce-id\",\"__mce\");const l=(e=>{const t=xe.fromTag(\"div\"),o=xe.fromDom(e.dom.cloneNode(!0));return Ie(t,o),(e=>e.dom.innerHTML)(t)})(r);e.insertContent(l),e.addVisual()})),bt(os(e),'table[data-mce-id=\"__mce\"]').map((t=>($r(e)?Wc(t):Vr(e)?Mc(t):(Hr(e)||(e=>r(e)&&-1!==e.indexOf(\"%\"))(l.width))&&Lc(t),rs(t),we(t,\"data-mce-id\"),((e,t)=>{N(dt(t,\"tr\"),(t=>{uc(e,t.dom),N(dt(t,\"th,td\"),(t=>{fc(e,t.dom)}))}))})(e,t),((e,t)=>{bt(t,\"td,th\").each(b(Ic,e))})(e,t),t.dom))).getOrNull()};var Hc=tinymce.util.Tools.resolve(\"tinymce.FakeClipboard\");const $c=\"x-tinymce/dom-table-\",Vc=$c+\"rows\",qc=$c+\"columns\",Uc=e=>{const t=Hc.FakeClipboardItem(e);Hc.write([t])},Gc=e=>{var t;const o=null!==(t=Hc.read())&&void 0!==t?t:[];return V(o,(t=>C.from(t.getType(e))))},Kc=e=>{Gc(e).isSome()&&Hc.clear()},Yc=e=>{e.fold(Qc,(e=>Uc({[Vc]:e})))},Jc=()=>Gc(Vc),Qc=()=>Kc(Vc),Xc=e=>{e.fold(ei,(e=>Uc({[qc]:e})))},Zc=()=>Gc(qc),ei=()=>Kc(qc),ti=e=>$s(ss(e),ns(e)).filter(ds),oi=(e,t)=>{const o=ns(e),n=e=>Gt(e,o),l=t=>(e=>Vs(ss(e),ns(e)).filter(ds))(e).bind((e=>n(e).map((o=>t(o,e))))),a=t=>{e.focus()},c=(t,o=!1)=>l(((n,r)=>{const s=Fs(qs(e),n,r);t(n,s,o).each(a)})),i=()=>l(((t,o)=>((e,t,o)=>{const n=Xo(e);return zl(n,t).bind((e=>{const t=Ol(n,o,!1),r=Vo(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),s=j(r,(e=>{const t=B(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),l=kl(s);return xt(l.length>0,l)})).map((e=>E(e,(e=>{const t=Ke(e.element);return N(e.cells,(e=>{const o=Ye(e.element);Cl(o,\"colspan\",e.colspan,1),Cl(o,\"rowspan\",e.rowspan,1),Ie(t,o)})),t}))))})(t,Fs(qs(e),t,o),_r(f,xe.fromDom(e.getDoc()),C.none())))),m=()=>l(((t,o)=>((e,t)=>{const o=Xo(e);return Al(o,t).map((e=>{const t=e[e.length-1],n=e[0].column,r=t.column+t.colspan,s=((e,t,o)=>{if(sn(e)){const n=B(rn(e),xc(t,o)),r=E(n,(e=>{const n=Ye(e.element);return yc(n,\"span\",o-t),n})),s=xe.fromTag(\"colgroup\");return $e(s,r),[s]}return[]})(o,n,r),l=((e,t,o)=>E(e.all,(e=>{const n=B(e.cells,xc(t,o)),r=E(n,(e=>{const n=Ye(e.element);return yc(n,\"colspan\",o-t),n})),s=xe.fromTag(\"tr\");return $e(s,r),s})))(o,n,r);return[...s,...l]}))})(t,Fs(qs(e),t,o)))),d=(t,o)=>o().each((o=>{const n=E(o,(e=>Ye(e)));l(((o,r)=>{const s=Br(xe.fromDom(e.getDoc())),l=((e,t,o,n)=>({selection:zs(e),clipboard:o,generators:n}))(qs(e),0,n,s);t(o,l).each(a)}))})),g=e=>(t,o)=>((e,t)=>X(e,t)?C.from(e[t]):C.none())(o,\"type\").each((t=>{c(e(t),o.no_events)}));G({mceTableSplitCells:()=>c(t.unmergeCells),mceTableMergeCells:()=>c(t.mergeCells),mceTableInsertRowBefore:()=>c(t.insertRowsBefore),mceTableInsertRowAfter:()=>c(t.insertRowsAfter),mceTableInsertColBefore:()=>c(t.insertColumnsBefore),mceTableInsertColAfter:()=>c(t.insertColumnsAfter),mceTableDeleteCol:()=>c(t.deleteColumn),mceTableDeleteRow:()=>c(t.deleteRow),mceTableCutCol:()=>m().each((e=>{Xc(e),c(t.deleteColumn)})),mceTableCutRow:()=>i().each((e=>{Yc(e),c(t.deleteRow)})),mceTableCopyCol:()=>m().each((e=>Xc(e))),mceTableCopyRow:()=>i().each((e=>Yc(e))),mceTablePasteColBefore:()=>d(t.pasteColsBefore,Zc),mceTablePasteColAfter:()=>d(t.pasteColsAfter,Zc),mceTablePasteRowBefore:()=>d(t.pasteRowsBefore,Jc),mceTablePasteRowAfter:()=>d(t.pasteRowsAfter,Jc),mceTableDelete:()=>ti(e).each((t=>{Gt(t,o).filter(w(o)).each((t=>{const o=xe.fromText(\"\");if(je(t,o),qe(t),e.dom.isEmpty(e.getBody()))e.setContent(\"\"),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(o.dom,0),t.setEnd(o.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,o)=>{l((t=>{const n=qs(e),r=P(n,(t=>e.formatter.match(\"tablecellclass\",{value:o},t.dom))),s=r?e.formatter.remove:e.formatter.apply;N(n,(e=>s(\"tablecellclass\",{value:o},e.dom))),gc(e,t.dom,hc)}))},mceTableToggleClass:(t,o)=>{l((t=>{e.formatter.toggle(\"tableclass\",{value:o},t.dom),gc(e,t.dom,hc)}))},mceTableToggleCaption:()=>{ti(e).each((t=>{Gt(t,o).each((o=>{pt(o,\"caption\").fold((()=>{const t=xe.fromTag(\"caption\");Ie(t,xe.fromText(\"Caption\")),((e,t)=>{We(e,0).fold((()=>{Ie(e,t)}),(e=>{Me(e,t)}))})(o,t),e.selection.setCursorLocation(t.dom,0)}),(n=>{ue(\"caption\")(t)&&Te(\"td\",o).each((t=>e.selection.setCursorLocation(t.dom,0))),qe(n)})),gc(e,o.dom,pc)}))}))},mceTableSizingMode:(t,n)=>(t=>ti(e).each((n=>{Vr(e)||$r(e)||Hr(e)||Gt(n,o).each((o=>{\"relative\"!==t||_c(o)?\"fixed\"!==t||Bc(o)?\"responsive\"!==t||zc(o)||Mc(o):Wc(o):Lc(o),rs(o),gc(e,o.dom,pc)}))})))(n),mceTableCellType:g((e=>\"th\"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:g((e=>\"th\"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:g((e=>{switch(e){case\"header\":return t.makeRowsHeader;case\"footer\":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,o)=>e.addCommand(o,t))),e.addCommand(\"mceInsertTable\",((t,o)=>{((e,t,o,n={})=>{const r=e=>u(e)&&e>0;if(r(t)&&r(o)){const r=n.headerRows||0,s=n.headerColumns||0;return Fc(e,o,t,s,r)}console.error(\"Invalid values for mceInsertTable - rows and columns values are required to insert a table.\")})(e,o.rows,o.columns,o.options)})),e.addCommand(\"mceTableApplyCellStyle\",((t,o)=>{const l=e=>\"tablecell\"+e.toLowerCase().replace(\"-\",\"\");if(!s(o))return;const a=B(qs(e),ds);if(0===a.length)return;const c=((e,t)=>{const o={};return((e,t,o,n)=>{G(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))})(e,t,(e=>(t,o)=>{e[o]=t})(o),f),o})(o,((t,o)=>e.formatter.has(l(o))&&r(t)));(e=>{for(const t in e)if(U.call(e,t))return!1;return!0})(c)||(G(c,((t,o)=>{const n=l(o);N(a,(o=>{\"\"===t?e.formatter.remove(n,{value:null},o.dom,!0):e.formatter.apply(n,{value:t},o.dom)}))})),n(a[0]).each((t=>gc(e,t.dom,hc))))}))},ni=sa([{before:[\"element\"]},{on:[\"element\",\"offset\"]},{after:[\"element\"]}]),ri={before:ni.before,on:ni.on,after:ni.after,cata:(e,t,o,n)=>e.fold(t,o,n),getStart:e=>e.fold(h,h,h)},si=(e,t)=>({selection:e,kill:t}),li=(e,t)=>{const o=e.document.createRange();return o.selectNode(t.dom),o},ai=(e,t)=>{const o=e.document.createRange();return ci(o,t),o},ci=(e,t)=>e.selectNodeContents(t.dom),ii=(e,t,o)=>{const n=e.document.createRange();var r;return r=n,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))})(n,o),n},mi=(e,t,o,n,r)=>{const s=e.document.createRange();return s.setStart(t.dom,o),s.setEnd(n.dom,r),s},di=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),ui=sa([{ltr:[\"start\",\"soffset\",\"finish\",\"foffset\"]},{rtl:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),fi=(e,t,o)=>t(xe.fromDom(o.startContainer),o.startOffset,xe.fromDom(o.endContainer),o.endOffset),gi=(e,t)=>{const o=((e,t)=>t.match({domRange:e=>({ltr:g(e),rtl:C.none}),relative:(t,o)=>({ltr:Zt((()=>ii(e,t,o))),rtl:Zt((()=>C.some(ii(e,o,t))))}),exact:(t,o,n,r)=>({ltr:Zt((()=>mi(e,t,o,n,r))),rtl:Zt((()=>C.some(mi(e,n,r,t,o))))})}))(e,t);return((e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>ui.rtl(xe.fromDom(e.endContainer),e.endOffset,xe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>fi(0,ui.ltr,o))):fi(0,ui.ltr,o)})(0,o)},hi=(e,t)=>gi(e,t).match({ltr:(t,o,n,r)=>{const s=e.document.createRange();return s.setStart(t.dom,o),s.setEnd(n.dom,r),s},rtl:(t,o,n,r)=>{const s=e.document.createRange();return s.setStart(n.dom,r),s.setEnd(t.dom,o),s}});ui.ltr,ui.rtl;const pi=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n}),bi=(e,t,o,n)=>({start:ri.on(e,t),finish:ri.on(o,n)}),wi=(e,t)=>{const o=hi(e,t);return pi(xe.fromDom(o.startContainer),o.startOffset,xe.fromDom(o.endContainer),o.endOffset)},vi=bi,yi=(e,t,o,n,r)=>Re(o,n)?C.none():Os(o,n,t).bind((t=>{const n=t.boxes.getOr([]);return n.length>1?(r(e,n,t.start,t.finish),C.some(si(C.some(vi(o,0,o,wr(o))),!0))):C.none()})),xi=(e,t)=>({item:e,mode:t}),Ci=(e,t,o,n=Si)=>e.property().parent(t).map((e=>xi(e,n))),Si=(e,t,o,n=Ti)=>o.sibling(e,t).map((e=>xi(e,n))),Ti=(e,t,o,n=Ti)=>{const r=e.property().children(t);return o.first(r).map((e=>xi(e,n)))},Ri=[{current:Ci,next:Si,fallback:C.none()},{current:Si,next:Ti,fallback:C.some(Ci)},{current:Ti,next:Ti,fallback:C.some(Si)}],Di=(e,t,o,n,r=Ri)=>L(r,(e=>e.current===o)).bind((o=>o.current(e,t,n,o.next).orThunk((()=>o.fallback.bind((o=>Di(e,t,o,n))))))),Oi=(e,t,o,n,r,s)=>Di(e,t,n,r).bind((t=>s(t.item)?C.none():o(t.item)?C.some(t.item):Oi(e,t.item,o,t.mode,r,s))),ki=e=>t=>0===e.property().children(t).length,Ei=(e,t,o,n)=>Oi(e,t,o,Si,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?C.some(e[e.length-1]):C.none()},n),Ni=(e,t,o,n)=>Oi(e,t,o,Si,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?C.some(e[0]):C.none()},n),_i=xs(),Bi=(e,t)=>((e,t,o)=>Ei(e,t,ki(e),o))(_i,e,t),zi=(e,t)=>((e,t,o)=>Ni(e,t,ki(e),o))(_i,e,t),Ai=sa([{none:[\"message\"]},{success:[]},{failedUp:[\"cell\"]},{failedDown:[\"cell\"]}]),Li=e=>wt(e,\"tr\"),Wi={...Ai,verify:(e,t,o,n,r,s,l)=>wt(n,\"td,th\",l).bind((o=>wt(t,\"td,th\",l).map((t=>Re(o,t)?Re(n,o)&&wr(o)===r?s(t):Ai.none(\"in same cell\"):Rs(Li,[o,t]).fold((()=>((e,t,o)=>{const n=e.getRect(t),r=e.getRect(o);return r.right>n.left&&r.left<n.right})(e,t,o)?Ai.success():s(t)),(e=>s(t))))))).getOr(Ai.none(\"default\")),cata:(e,t,o,n,r)=>e.fold(t,o,n,r)},Mi=ue(\"br\"),ji=(e,t,o)=>t(e,o).bind((e=>ie(e)&&0===hr(e).trim().length?ji(e,t,o):C.some(e))),Pi=(e,t,o,n)=>((e,t)=>We(e,t).filter(Mi).orThunk((()=>We(e,t-1).filter(Mi))))(t,o).bind((t=>n.traverse(t).fold((()=>ji(t,n.gather,e).map(n.relative)),(e=>(e=>Ne(e).bind((t=>{const o=Le(t);return((e,t)=>W(e,b(Re,t)))(o,e).map((n=>((e,t,o,n)=>({parent:e,children:t,element:o,index:n}))(t,o,e,n)))})))(e).map((e=>ri.on(e.parent,e.index))))))),Ii=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Fi=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Hi=(e,t,o)=>({left:e.left+t,top:e.top+o,right:e.right+t,bottom:e.bottom+o}),$i=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Vi=(e,t)=>C.some(e.getRect(t)),qi=(e,t,o)=>ce(t)?Vi(e,t).map($i):ie(t)?((e,t,o)=>o>=0&&o<wr(t)?e.getRangedRect(t,o,t,o+1):o>0?e.getRangedRect(t,o-1,t,o):C.none())(e,t,o).map($i):C.none(),Ui=(e,t)=>ce(t)?Vi(e,t).map($i):ie(t)?e.getRangedRect(t,0,t,wr(t)).map($i):C.none(),Gi=sa([{none:[]},{retry:[\"caret\"]}]),Ki=(e,t,o)=>gt(t,xa).fold(y,(t=>Ui(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(o,e))))),Yi={point:e=>e.bottom,adjuster:(e,t,o,n,r)=>{const s=Ii(r,5);return Math.abs(o.bottom-n.bottom)<1||o.top>r.bottom?Gi.retry(s):o.top===r.bottom?Gi.retry(Ii(r,1)):Ki(e,t,r)?Gi.retry(Hi(s,5,0)):Gi.none()},move:Ii,gather:zi},Ji=(e,t,o,n,r)=>0===r?C.some(n):((e,t,o)=>e.elementFromPoint(t,o).filter((e=>\"table\"===ne(e))).isSome())(e,n.left,t.point(n))?((e,t,o,n,r)=>Ji(e,t,o,t.move(n,5),r))(e,t,o,n,r-1):e.situsFromPoint(n.left,t.point(n)).bind((s=>s.start.fold(C.none,(s=>Ui(e,s).bind((l=>t.adjuster(e,s,l,o,n).fold(C.none,(n=>Ji(e,t,o,n,r-1))))).orThunk((()=>C.some(n)))),C.none))),Qi=(e,t,o)=>{const n=e.move(o,5),r=Ji(t,e,o,n,100).getOr(n);return((e,t,o)=>e.point(t)>o.getInnerHeight()?C.some(e.point(t)-o.getInnerHeight()):e.point(t)<0?C.some(-e.point(t)):C.none())(e,r,t).fold((()=>t.situsFromPoint(r.left,e.point(r))),(o=>(t.scrollBy(0,o),t.situsFromPoint(r.left,e.point(r)-o))))},Xi={tryUp:b(Qi,{point:e=>e.top,adjuster:(e,t,o,n,r)=>{const s=Fi(r,5);return Math.abs(o.top-n.top)<1||o.bottom<r.top?Gi.retry(s):o.bottom===r.top?Gi.retry(Fi(r,1)):Ki(e,t,r)?Gi.retry(Hi(s,5,0)):Gi.none()},move:Fi,gather:Bi}),tryDown:b(Qi,Yi),getJumpSize:g(5)},Zi=(e,t,o)=>e.getSelection().bind((n=>((e,t,o,n)=>{const r=Mi(t)?((e,t,o)=>o.traverse(t).orThunk((()=>ji(t,o.gather,e))).map(o.relative))(e,t,n):Pi(e,t,o,n);return r.map((e=>({start:e,finish:e})))})(t,n.finish,n.foffset,o).fold((()=>C.some(Gs(n.finish,n.foffset))),(r=>{const s=e.fromSitus(r);return l=Wi.verify(e,n.finish,n.foffset,s.finish,s.foffset,o.failure,t),Wi.cata(l,(e=>C.none()),(()=>C.none()),(e=>C.some(Gs(e,0))),(e=>C.some(Gs(e,wr(e)))));var l})))),em=(e,t,o,n,r,s)=>0===s?C.none():nm(e,t,o,n,r).bind((l=>{const a=e.fromSitus(l),c=Wi.verify(e,o,n,a.finish,a.foffset,r.failure,t);return Wi.cata(c,(()=>C.none()),(()=>C.some(l)),(l=>Re(o,l)&&0===n?tm(e,o,n,Fi,r):em(e,t,l,0,r,s-1)),(l=>Re(o,l)&&n===wr(l)?tm(e,o,n,Ii,r):em(e,t,l,wr(l),r,s-1)))})),tm=(e,t,o,n,r)=>qi(e,t,o).bind((t=>om(e,r,n(t,Xi.getJumpSize())))),om=(e,t,o)=>{const n=No().browser;return n.isChromium()||n.isSafari()||n.isFirefox()?t.retry(e,o):C.none()},nm=(e,t,o,n,r)=>qi(e,o,n).bind((t=>om(e,r,t))),rm=(e,t,o,n,r)=>wt(n,\"td,th\",t).bind((n=>wt(n,\"table\",t).bind((s=>((e,t)=>ft(e,(e=>Ne(e).exists((e=>Re(e,t)))),void 0).isSome())(r,s)?((e,t,o)=>Zi(e,t,o).bind((n=>em(e,t,n.element,n.offset,o,20).map(e.fromSitus))))(e,t,o).bind((e=>wt(e.finish,\"td,th\",t).map((t=>({start:n,finish:t,range:e}))))):C.none())))),sm=(e,t,o,n,r,s)=>s(n,t).orThunk((()=>rm(e,t,o,n,r).map((e=>{const t=e.range;return si(C.some(vi(t.start,t.soffset,t.finish,t.foffset)),!0)})))),lm=(e,t)=>wt(e,\"tr\",t).bind((e=>wt(e,\"table\",t).bind((o=>{const n=dt(o,\"tr\");return Re(e,n[0])?((e,t,o)=>Ei(_i,e,(e=>Cr(e).isSome()),o))(o,0,t).map((e=>{const t=wr(e);return si(C.some(vi(e,t,e,t)),!0)})):C.none()})))),am=(e,t)=>wt(e,\"tr\",t).bind((e=>wt(e,\"table\",t).bind((o=>{const n=dt(o,\"tr\");return Re(e,n[n.length-1])?((e,t,o)=>Ni(_i,e,(e=>xr(e).isSome()),o))(o,0,t).map((e=>si(C.some(vi(e,0,e,0)),!0))):C.none()})))),cm=(e,t,o,n,r,s,l)=>rm(e,o,n,r,s).bind((e=>yi(t,o,e.start,e.finish,l))),im=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},mm=()=>{const e=(e=>{const t=im(C.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(C.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(C.some(e))}}})(f);return{...e,on:t=>e.get().each(t)}},dm=(e,t)=>wt(e,\"td,th\",t),um=e=>_e(e).exists(es),fm={traverse:Ae,gather:zi,relative:ri.before,retry:Xi.tryDown,failure:Wi.failedDown},gm={traverse:ze,gather:Bi,relative:ri.before,retry:Xi.tryUp,failure:Wi.failedUp},hm=e=>t=>t===e,pm=hm(38),bm=hm(40),wm=e=>e>=37&&e<=40,vm={isBackward:hm(37),isForward:hm(39)},ym={isBackward:hm(39),isForward:hm(37)},xm=sa([{domRange:[\"rng\"]},{relative:[\"startSitu\",\"finishSitu\"]},{exact:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),Cm={domRange:xm.domRange,relative:xm.relative,exact:xm.exact,exactFromRange:e=>xm.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>xe.fromDom(e.startContainer),relative:(e,t)=>ri.getStart(e),exact:(e,t,o,n)=>e}))(e);return xe.fromDom(Ee(t).dom.defaultView)},range:pi},Sm=(e,t)=>{const o=ne(e);return\"input\"===o?ri.after(e):D([\"br\",\"img\"],o)?0===t?ri.before(e):ri.after(e):ri.on(e,t)},Tm=e=>C.from(e.getSelection()),Rm=(e,t)=>{Tm(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},Dm=(e,t,o,n,r)=>{const s=mi(e,t,o,n,r);Rm(e,s)},Om=(e,t)=>gi(e,t).match({ltr:(t,o,n,r)=>{Dm(e,t,o,n,r)},rtl:(t,o,n,r)=>{Tm(e).each((s=>{if(s.setBaseAndExtent)s.setBaseAndExtent(t.dom,o,n.dom,r);else if(s.extend)try{((e,t,o,n,r,s)=>{t.collapse(o.dom,n),t.extend(r.dom,s)})(0,s,t,o,n,r)}catch(s){Dm(e,n,r,t,o)}else Dm(e,n,r,t,o)}))}}),km=(e,t,o,n,r)=>{const s=((e,t,o,n)=>{const r=Sm(e,t),s=Sm(o,n);return Cm.relative(r,s)})(t,o,n,r);Om(e,s)},Em=(e,t,o)=>{const n=((e,t)=>{const o=e.fold(ri.before,Sm,ri.after),n=t.fold(ri.before,Sm,ri.after);return Cm.relative(o,n)})(t,o);Om(e,n)},Nm=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),o=e.getRangeAt(e.rangeCount-1);return C.some(pi(xe.fromDom(t.startContainer),t.startOffset,xe.fromDom(o.endContainer),o.endOffset))}return C.none()},_m=e=>{if(null===e.anchorNode||null===e.focusNode)return Nm(e);{const t=xe.fromDom(e.anchorNode),o=xe.fromDom(e.focusNode);return((e,t,o,n)=>{const r=((e,t,o,n)=>{const r=ke(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(o.dom,n),r})(e,t,o,n),s=Re(e,o)&&t===n;return r.collapsed&&!s})(t,e.anchorOffset,o,e.focusOffset)?C.some(pi(t,e.anchorOffset,o,e.focusOffset)):Nm(e)}},Bm=(e,t,o=!0)=>{const n=(o?ai:li)(e,t);Rm(e,n)},zm=e=>(e=>Tm(e).filter((e=>e.rangeCount>0)).bind(_m))(e).map((e=>Cm.exact(e.start,e.soffset,e.finish,e.foffset))),Am=(e,t,o)=>((e,t,o)=>((e,t,o)=>e.caretPositionFromPoint?((e,t,o)=>{var n;return C.from(null===(n=e.caretPositionFromPoint)||void 0===n?void 0:n.call(e,t,o)).bind((t=>{if(null===t.offsetNode)return C.none();const o=e.createRange();return o.setStart(t.offsetNode,t.offset),o.collapse(),C.some(o)}))})(e,t,o):e.caretRangeFromPoint?((e,t,o)=>{var n;return C.from(null===(n=e.caretRangeFromPoint)||void 0===n?void 0:n.call(e,t,o))})(e,t,o):C.none())(e.document,t,o).map((e=>pi(xe.fromDom(e.startContainer),e.startOffset,xe.fromDom(e.endContainer),e.endOffset))))(e,t,o),Lm=e=>({elementFromPoint:(t,o)=>xe.fromPoint(xe.fromDom(e.document),t,o),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,o,n,r)=>{const s=Cm.exact(t,o,n,r);return((e,t)=>(e=>{const t=e.getClientRects(),o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?C.some(o).map(di):C.none()})(hi(e,t)))(e,s)},getSelection:()=>zm(e).map((t=>wi(e,t))),fromSitus:t=>{const o=Cm.relative(t.start,t.finish);return wi(e,o)},situsFromPoint:(t,o)=>Am(e,t,o).map((e=>bi(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{Tm(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{zm(e).each((o=>o.fold((e=>e.collapse(t)),((o,n)=>{const r=t?o:n;Em(e,r,r)}),((o,n,r,s)=>{const l=t?o:r,a=t?n:s;km(e,l,a,l,a)}))))},setSelection:t=>{km(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,o)=>{Em(e,t,o)},selectNode:t=>{Bm(e,t,!1)},selectContents:t=>{Bm(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return bn(o,n)})(xe.fromDom(e.document)).top,scrollBy:(t,o)=>{((e,t,o)=>{const n=(void 0!==o?o.dom:document).defaultView;n&&n.scrollBy(e,t)})(t,o,xe.fromDom(e.document))}}),Wm=(e,t)=>({rows:e,cols:t}),Mm=e=>gt(e,ae).exists(es),jm=(e,t)=>Mm(e)||Mm(t),Pm=e=>void 0!==e.dom.classList,Im=(e,t)=>((e,t,o)=>{const n=((e,t)=>{const o=pe(e,t);return void 0===o||\"\"===o?[]:o.split(\" \")})(e,t).concat([o]);return ge(e,t,n.join(\" \")),!0})(e,\"class\",t),Fm=(e,t)=>{Pm(e)?e.dom.classList.add(t):Im(e,t)},Hm=(e,t)=>Pm(e)&&e.dom.classList.contains(t),$m=()=>({tag:\"none\"}),Vm=e=>({tag:\"multiple\",elements:e}),qm=e=>({tag:\"single\",element:e}),Um=e=>{const t=xe.fromDom((e=>{if(m(e.target)){const t=xe.fromDom(e.target);if(ce(t)&&m(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return H(t)}}return C.from(e.target)})(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),r=(s=n,l=o,(...e)=>s(l.apply(null,e)));var s,l;return((e,t,o,n,r,s,l)=>({target:e,x:t,y:o,stop:n,prevent:r,kill:s,raw:l}))(t,e.clientX,e.clientY,o,n,r,e)},Gm=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},Km=x,Ym=(e,t,o)=>((e,t,o,n)=>((e,t,o,n,r)=>{const s=((e,t)=>o=>{e(o)&&t(Um(o))})(o,n);return e.dom.addEventListener(t,s,r),{unbind:b(Gm,e,t,s,r)}})(e,t,o,n,!1))(e,t,Km,o),Jm=Um,Qm=e=>!Hm(xe.fromDom(e.target),\"ephox-snooker-resizer-bar\"),Xm=(e,t)=>{const o=(r=Is.selectedSelector,{get:()=>_s(xe.fromDom(e.getBody()),r).fold((()=>Vs(ss(e),ns(e)).fold($m,qm)),Vm)}),n=((e,t,o)=>{const n=t=>{we(t,e.selected),we(t,e.firstSelected),we(t,e.lastSelected)},r=t=>{ge(t,e.selected,\"1\")},s=e=>{l(e),o()},l=t=>{const o=dt(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);N(o,n)};return{clearBeforeUpdate:l,clear:s,selectRange:(o,n,l,a)=>{s(o),N(n,r),ge(l,e.firstSelected,\"1\"),ge(a,e.lastSelected,\"1\"),t(n,l,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(Is,((t,o,n)=>{Gt(o).each((r=>{const s=E(t,(e=>e.dom)),l=Wr(e),a=_r(f,xe.fromDom(e.getDoc()),l),c=((e,t,o)=>{const n=Xo(e);return zl(n,t).map((e=>{const t=Ol(n,o,!1),{rows:r}=Vo(t),s=((e,t)=>{const o=e.slice(0,t[t.length-1].row+1),n=kl(o);return j(n,(e=>{const o=e.cells.slice(0,t[t.length-1].column+1);return E(o,(e=>e.element))}))})(r,e),l=((e,t)=>{const o=e.slice(t[0].row+t[0].rowspan-1,e.length),n=kl(o);return j(n,(e=>{const o=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return E(o,(e=>e.element))}))})(r,e);return{upOrLeftCells:s,downOrRightCells:l}}))})(r,{selection:qs(e)},a).map((e=>K(e,(e=>E(e,(e=>e.dom)))))).getOrUndefined();((e,t,o,n,r)=>{e.dispatch(\"TableSelectionChange\",{cells:t,start:o,finish:n,otherCells:r})})(e,s,o.dom,n.dom,c)}))}),(()=>(e=>{e.dispatch(\"TableSelectionClear\")})(e)));var r;return e.on(\"init\",(o=>{const r=e.getWin(),s=os(e),l=ns(e),a=((e,t,o,n)=>{const r=((e,t,o,n)=>{const r=mm(),s=r.clear,l=s=>{r.on((r=>{n.clearBeforeUpdate(t),dm(s.target,o).each((l=>{Os(r,l,o).each((o=>{const r=o.boxes.getOr([]);if(1===r.length){const e=r[0],o=\"false\"===ts(e),l=vt(Zr(s.target),e,Re);o&&l&&n.selectRange(t,r,e,e)}else r.length>1&&(n.selectRange(t,r,o.start,o.finish),e.selectContents(l))}))}))}))};return{clearstate:s,mousedown:e=>{n.clear(t),dm(e.target,o).filter(um).each(r.set)},mouseover:e=>{l(e)},mouseup:e=>{l(e),s()}}})(Lm(e),t,o,n);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}})(r,s,l,n),c=((e,t,o,n)=>{const r=Lm(e),s=()=>(n.clear(t),C.none());return{keydown:(e,l,a,c,i,m)=>{const d=e.raw,u=d.which,f=!0===d.shiftKey,g=ks(t,n.selectedSelector).fold((()=>(wm(u)&&!f&&n.clearBeforeUpdate(t),wm(u)&&f&&!jm(l,c)?C.none:bm(u)&&f?b(cm,r,t,o,fm,c,l,n.selectRange):pm(u)&&f?b(cm,r,t,o,gm,c,l,n.selectRange):bm(u)?b(sm,r,o,fm,c,l,am):pm(u)?b(sm,r,o,gm,c,l,lm):C.none)),(e=>{const o=o=>()=>{const s=V(o,(o=>((e,t,o,n,r)=>Ns(n,e,t,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>(r.clearBeforeUpdate(o),r.selectRange(o,e.boxes,e.start,e.finish),e.boxes))))(o.rows,o.cols,t,e,n)));return s.fold((()=>Es(t,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>{const o=bm(u)||m.isForward(u)?ri.after:ri.before;return r.setRelativeSelection(ri.on(e.first,0),o(e.table)),n.clear(t),si(C.none(),!0)}))),(e=>C.some(si(C.none(),!0))))};return wm(u)&&f&&!jm(l,c)?C.none:bm(u)&&f?o([Wm(1,0)]):pm(u)&&f?o([Wm(-1,0)]):m.isBackward(u)&&f?o([Wm(0,-1),Wm(-1,0)]):m.isForward(u)&&f?o([Wm(0,1),Wm(1,0)]):wm(u)&&!f?s:C.none}));return g()},keyup:(e,r,s,l,a)=>ks(t,n.selectedSelector).fold((()=>{const c=e.raw,i=c.which;return!0===c.shiftKey&&wm(i)&&jm(r,l)?((e,t,o,n,r,s,l)=>Re(o,r)&&n===s?C.none():wt(o,\"td,th\",t).bind((o=>wt(r,\"td,th\",t).bind((n=>yi(e,t,o,n,l))))))(t,o,r,s,l,a,n.selectRange):C.none()}),C.none)}})(r,s,l,n),i=((e,t,o,n)=>{const r=Lm(e);return(e,s)=>{n.clearBeforeUpdate(t),Os(e,s,o).each((e=>{const o=e.boxes.getOr([]);n.selectRange(t,o,e.start,e.finish),r.selectContents(s),r.collapseSelection()}))}})(r,s,l,n);e.on(\"TableSelectorChange\",(e=>i(e.start,e.finish)));const m=(t,o)=>{(e=>!0===e.raw.shiftKey)(t)&&(o.kill&&t.kill(),o.selection.each((t=>{const o=Cm.relative(t.start,t.finish),n=hi(r,o);e.selection.setRng(n)})))},d=e=>0===e.button,u=(()=>{const e=im(xe.fromDom(s)),t=im(0);return{touchEnd:o=>{const n=xe.fromDom(o.target);if(ue(\"td\")(n)||ue(\"th\")(n)){const r=e.get(),s=t.get();Re(r,n)&&o.timeStamp-s<300&&(o.preventDefault(),i(n,n))}e.set(n),t.set(o.timeStamp)}}})();e.on(\"dragstart\",(e=>{a.clearstate()})),e.on(\"mousedown\",(e=>{d(e)&&Qm(e)&&a.mousedown(Jm(e))})),e.on(\"mouseover\",(e=>{var t;(void 0===(t=e).buttons||1&t.buttons)&&Qm(e)&&a.mouseover(Jm(e))})),e.on(\"mouseup\",(e=>{d(e)&&Qm(e)&&a.mouseup(Jm(e))})),e.on(\"touchend\",u.touchEnd),e.on(\"keyup\",(t=>{const o=Jm(t);if(o.raw.shiftKey&&wm(o.raw.which)){const t=e.selection.getRng(),n=xe.fromDom(t.startContainer),r=xe.fromDom(t.endContainer);c.keyup(o,n,t.startOffset,r,t.endOffset).each((e=>{m(o,e)}))}})),e.on(\"keydown\",(o=>{const n=Jm(o);t.hide();const r=e.selection.getRng(),s=xe.fromDom(r.startContainer),l=xe.fromDom(r.endContainer),a=dn(vm,ym)(xe.fromDom(e.selection.getStart()));c.keydown(n,s,r.startOffset,l,r.endOffset,a).each((e=>{m(n,e)})),t.show()})),e.on(\"NodeChange\",(()=>{const t=e.selection,o=xe.fromDom(t.getStart()),r=xe.fromDom(t.getEnd());Rs(Gt,[o,r]).fold((()=>n.clear(s)),f)}))})),e.on(\"PreInit\",(()=>{e.serializer.addTempAttr(Is.firstSelected),e.serializer.addTempAttr(Is.lastSelected)})),{getSelectedCells:()=>((e,t)=>{switch(e.tag){case\"none\":return t();case\"single\":return(e=>[e.dom])(e.element);case\"multiple\":return(e=>E(e,(e=>e.dom)))(e.elements)}})(o.get(),g([])),clearSelectedCells:e=>n.clear(xe.fromDom(e))}},Zm=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error(\"Event bind error: undefined handler\");t.push(e)},unbind:e=>{t=B(t,(t=>t!==e))},trigger:(...o)=>{const n={};N(e,((e,t)=>{n[e]=o[t]})),N(t,(e=>{e(n)}))}}},ed=e=>({registry:K(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:K(e,(e=>e.trigger))}),td=e=>e.slice(0).sort(),od=(e,t)=>{const o=B(t,(t=>!D(e,t)));o.length>0&&(e=>{throw new Error(\"Unsupported keys for object: \"+td(e).join(\", \"))})(o)},nd=e=>((e,t)=>((e,t,o)=>{if(0===t.length)throw new Error(\"You must specify at least one required field.\");return((e,t)=>{if(!l(t))throw new Error(\"The \"+e+\" fields must be an array. Was: \"+t+\".\");N(t,(t=>{if(!r(t))throw new Error(\"The value \"+t+\" in the \"+e+\" fields was not a string.\")}))})(\"required\",t),(e=>{const t=td(e);L(t,((e,o)=>o<t.length-1&&e===t[o+1])).each((e=>{throw new Error(\"The field: \"+e+\" occurs more than once in the combined fields: [\"+t.join(\", \")+\"].\")}))})(t),n=>{const r=q(n);P(t,(e=>D(r,e)))||((e,t)=>{throw new Error(\"All required keys (\"+td(e).join(\", \")+\") were not specified. Specified keys were: \"+td(t).join(\", \")+\".\")})(t,r),e(t,r);const s=B(t,(e=>!o.validate(n[e],e)));return s.length>0&&((e,t)=>{throw new Error(\"All values need to be of type: \"+t+\". Keys (\"+td(e).join(\", \")+\") were not.\")})(s,o.label),n}})(e,t,{validate:d,label:\"function\"}))(od,e),rd=nd([\"compare\",\"extract\",\"mutate\",\"sink\"]),sd=nd([\"element\",\"start\",\"stop\",\"destroy\"]),ld=nd([\"forceDrop\",\"drop\",\"move\",\"delayDrop\"]),ad=()=>{const e=(()=>{const e=ed({move:Zm([\"info\"])});return{onEvent:f,reset:f,events:e.registry}})(),t=(()=>{let e=C.none();const t=ed({move:Zm([\"info\"])});return{onEvent:(o,n)=>{n.extract(o).each((o=>{const r=((t,o)=>{const n=e.map((e=>t.compare(e,o)));return e=C.some(o),n})(n,o);r.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=C.none()},events:t.registry}})();let o=e;return{on:()=>{o.reset(),o=t},off:()=>{o.reset(),o=e},isOn:()=>o===t,onEvent:(e,t)=>{o.onEvent(e,t)},events:t.events}},cd=e=>{const t=e.replace(/\\./g,\"-\");return{resolve:e=>t+\"-\"+e}},id=cd(\"ephox-dragster\").resolve;var md=rd({compare:(e,t)=>bn(t.left-e.left,t.top-e.top),extract:e=>C.some(bn(e.x,e.y)),sink:(e,t)=>{const o=(e=>{const t={layerClass:id(\"blocker\"),...e},o=xe.fromTag(\"div\");return ge(o,\"role\",\"presentation\"),_t(o,{position:\"fixed\",left:\"0px\",top:\"0px\",width:\"100%\",height:\"100%\"}),Fm(o,id(\"blocker\")),Fm(o,t.layerClass),{element:g(o),destroy:()=>{qe(o)}}})(t),n=Ym(o.element(),\"mousedown\",e.forceDrop),r=Ym(o.element(),\"mouseup\",e.drop),s=Ym(o.element(),\"mousemove\",e.move),l=Ym(o.element(),\"mouseout\",e.delayDrop);return sd({element:o.element,start:e=>{Ie(e,o.element())},stop:()=>{qe(o.element())},destroy:()=>{o.destroy(),r.unbind(),s.unbind(),l.unbind(),n.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const dd=cd(\"ephox-snooker\").resolve,ud=dd(\"resizer-bar\"),fd=dd(\"resizer-rows\"),gd=dd(\"resizer-cols\"),hd=e=>{const t=dt(e.parent(),\".\"+ud);N(t,qe)},pd=(e,t,o)=>{const n=e.origin();N(t,(t=>{t.each((t=>{const r=o(n,t);Fm(r,ud),Ie(e.parent(),r)}))}))},bd=(e,t,o,n,r)=>{const s=vn(o),l=t.isResizable,a=n.length>0?_n.positions(n,o):[],c=a.length>0?((e,t)=>j(e.all,((e,o)=>t(e.element)?[o]:[])))(e,l):[];((e,t,o,n)=>{pd(e,t,((e,t)=>{const r=((e,t,o,n)=>{const r=xe.fromTag(\"div\");return _t(r,{position:\"absolute\",left:t+\"px\",top:o-3.5+\"px\",height:\"7px\",width:n+\"px\"}),he(r,{\"data-row\":e,role:\"presentation\"}),r})(t.row,o.left-e.left,t.y-e.top,n);return Fm(r,fd),r}))})(t,B(a,((e,t)=>O(c,(e=>t===e)))),s,Lo(o));const i=r.length>0?zn.positions(r,o):[],m=i.length>0?((e,t)=>{const o=[];return k(e.grid.columns,(n=>{ln(e,n).map((e=>e.element)).forall(t)&&o.push(n)})),B(o,(o=>{const n=on(e,(e=>e.column===o));return P(n,(e=>t(e.element)))}))})(e,l):[];((e,t,o,n)=>{pd(e,t,((e,t)=>{const r=((e,t,o,n,r)=>{const s=xe.fromTag(\"div\");return _t(s,{position:\"absolute\",left:t-3.5+\"px\",top:o+\"px\",height:r+\"px\",width:\"7px\"}),he(s,{\"data-column\":e,role:\"presentation\"}),s})(t.col,t.x-e.left,o.top-e.top,0,n);return Fm(r,gd),r}))})(t,B(i,((e,t)=>O(m,(e=>t===e)))),s,hn(o))},wd=(e,t)=>{if(hd(e),e.isResizable(t)){const o=Xo(t),n=mn(o),r=an(o);bd(o,e,t,n,r)}},vd=(e,t)=>{const o=dt(e.parent(),\".\"+ud);N(o,t)},yd=e=>{vd(e,(e=>{Nt(e,\"display\",\"none\")}))},xd=e=>{vd(e,(e=>{Nt(e,\"display\",\"block\")}))},Cd=dd(\"resizer-bar-dragging\"),Sd=e=>{const t=(()=>{const e=ed({drag:Zm([\"xDelta\",\"yDelta\",\"target\"])});let t=C.none();const o=(()=>{const e=ed({drag:Zm([\"xDelta\",\"yDelta\"])});return{mutate:(t,o)=>{e.trigger.drag(t,o)},events:e.registry}})();return o.events.drag.bind((o=>{t.each((t=>{e.trigger.drag(o.xDelta,o.yDelta,t)}))})),{assign:e=>{t=C.some(e)},get:()=>t,mutate:o.mutate,events:e.registry}})(),o=((e,t={})=>{var o;return((e,t,o)=>{let n=!1;const r=ed({start:Zm([]),stop:Zm([])}),s=ad(),l=()=>{m.stop(),s.isOn()&&(s.off(),r.trigger.stop())},c=(e=>{let t=null;const o=()=>{a(t)||(clearTimeout(t),t=null)};return{cancel:o,throttle:(...n)=>{o(),t=setTimeout((()=>{t=null,e.apply(null,n)}),200)}}})(l);s.events.move.bind((o=>{t.mutate(e,o.info)}));const i=e=>(...t)=>{n&&e.apply(null,t)},m=t.sink(ld({forceDrop:l,drop:i(l),move:i((e=>{c.cancel(),s.onEvent(e,t)})),delayDrop:i(c.throttle)}),o);return{element:m.element,go:e=>{m.start(e),s.on(),r.trigger.start()},on:()=>{n=!0},off:()=>{n=!1},isActive:()=>n,destroy:()=>{m.destroy()},events:r.registry}})(e,null!==(o=t.mode)&&void 0!==o?o:md,t)})(t,{});let n=C.none();const r=(e,t)=>C.from(pe(e,t));t.events.drag.bind((e=>{r(e.target,\"data-row\").each((t=>{const o=Pt(e.target,\"top\");Nt(e.target,\"top\",o+e.yDelta+\"px\")})),r(e.target,\"data-column\").each((t=>{const o=Pt(e.target,\"left\");Nt(e.target,\"left\",o+e.xDelta+\"px\")}))}));const s=(e,t)=>Pt(e,t)-Wt(e,\"data-initial-\"+t,0);o.events.stop.bind((()=>{t.get().each((t=>{n.each((o=>{r(t,\"data-row\").each((e=>{const n=s(t,\"top\");we(t,\"data-initial-top\"),d.trigger.adjustHeight(o,n,parseInt(e,10))})),r(t,\"data-column\").each((e=>{const n=s(t,\"left\");we(t,\"data-initial-left\"),d.trigger.adjustWidth(o,n,parseInt(e,10))})),wd(e,o)}))}))}));const l=(n,r)=>{d.trigger.startAdjust(),t.assign(n),ge(n,\"data-initial-\"+r,Pt(n,r)),Fm(n,Cd),Nt(n,\"opacity\",\"0.2\"),o.go(e.dragContainer())},c=Ym(e.parent(),\"mousedown\",(e=>{var t;t=e.target,Hm(t,fd)&&l(e.target,\"top\"),(e=>Hm(e,gd))(e.target)&&l(e.target,\"left\")})),i=t=>Re(t,e.view()),m=Ym(e.view(),\"mouseover\",(t=>{var r;(r=t.target,wt(r,\"table\",i).filter(es)).fold((()=>{st(t.target)&&hd(e)}),(t=>{o.isActive()&&(n=C.some(t),wd(e,t))}))})),d=ed({adjustHeight:Zm([\"table\",\"delta\",\"row\"]),adjustWidth:Zm([\"table\",\"delta\",\"column\"]),startAdjust:Zm([])});return{destroy:()=>{c.unbind(),m.unbind(),o.destroy(),hd(e)},refresh:t=>{wd(e,t)},on:o.on,off:o.off,hideBars:b(yd,e),showBars:b(xd,e),events:d.registry}};let Td=0;const Rd=(e,t)=>{const o=(e=>!(e=>e.inline&&(e=>{var t;if(!e.inline)return C.none();const o=null!==(t=Jr(e))&&void 0!==t?t:\"\";if(o.length>0)return bt(lt(),o);const n=Qr(e);return m(n)?C.some(xe.fromDom(n)):C.none()})(e).isSome())(e)&&\"split\"===Xr(e))(e),n=xe.fromDom(e.getBody()),r=(e=>{const t=(e=>{const t=(new Date).getTime(),o=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Td++,e+\"_\"+o+Td+String(t)})(\"resizer-container\"),o=xe.fromTag(\"div\");return ge(o,\"id\",t),_t(o,{position:e,height:\"0\",width:\"0\",padding:\"0\",margin:\"0\",border:\"0\"}),o})(o?\"relative\":\"static\"),s=lt();return o?(je(n,r),((e,t,o,n)=>({parent:g(t),view:g(e),dragContainer:g(o),origin:()=>vn(t),isResizable:n}))(n,r,s,t)):(Ie(s,r),((e,t,o)=>({parent:g(t),view:g(e),dragContainer:g(t),origin:g(bn(0,0)),isResizable:o}))(n,r,t))},Dd=e=>m(e)&&\"TABLE\"===e.nodeName,Od=\"bar-\",kd=e=>\"false\"!==pe(e,\"data-mce-resize\"),Ed=e=>{const t=mm(),o=mm(),n=mm();let r,s,l,a;const c=t=>wc(e,t),i=()=>Pr(e)?ll():sl(),m=(t,o,n,m)=>{const d=(e=>{return Tt(t=e,\"corner-\")?(e=>e.substring(7))(t):t;var t})(o),u=Rt(d,\"e\"),f=Tt(d,\"n\");if(\"\"===s&&Lc(t),\"\"===a&&(e=>{const t=(e=>gn(e)+\"px\")(e);Nc(e,C.none(),C.some(t)),Ac(e)})(t),n!==r&&\"\"!==s){Nt(t,\"width\",s);const o=i(),l=c(t),a=Pr(e)||u?(e=>al(e).columns)(t)-1:0;ca(t,n-r,a,o,l)}else if((e=>/^(\\d+(\\.\\d+)?)%$/.test(e))(s)){const e=parseFloat(s.replace(\"%\",\"\"));Nt(t,\"width\",n*e/r+\"%\")}if((e=>/^(\\d+(\\.\\d+)?)px$/.test(e))(s)&&(e=>{const t=Xo(e);sn(t)||N(qt(e),(e=>{const t=Bt(e,\"width\");Nt(e,\"width\",t),we(e,\"width\")}))})(t),m!==l&&\"\"!==a){Nt(t,\"height\",a);const e=f?0:(e=>al(e).rows)(t)-1;ia(t,m-l,e)}};e.on(\"init\",(()=>{const r=((e,t)=>e.inline?Rd(e,t):((e,t)=>{const o=me(e)?(e=>xe.fromDom(Ee(e).dom.documentElement))(e):e;return{parent:g(o),view:g(e),dragContainer:g(o),origin:g(bn(0,0)),isResizable:t}})(xe.fromDom(e.getDoc()),t))(e,kd);if(n.set(r),(e=>{const t=e.options.get(\"object_resizing\");return D(t.split(\",\"),\"table\")})(e)&&qr(e)){const n=((e,t,o)=>{const n=_n,r=zn,s=Sd(e),l=ed({beforeResize:Zm([\"table\",\"type\"]),afterResize:Zm([\"table\",\"type\"]),startDrag:Zm([])});return s.events.adjustHeight.bind((e=>{const t=e.table;l.trigger.beforeResize(t,\"row\");const o=n.delta(e.delta,t);ia(t,o,e.row),l.trigger.afterResize(t,\"row\")})),s.events.startAdjust.bind((e=>{l.trigger.startDrag()})),s.events.adjustWidth.bind((e=>{const n=e.table;l.trigger.beforeResize(n,\"col\");const s=r.delta(e.delta,n),a=o(n);ca(n,s,e.column,t,a),l.trigger.afterResize(n,\"col\")})),{on:s.on,off:s.off,refreshBars:s.refresh,hideBars:s.hideBars,showBars:s.showBars,destroy:s.destroy,events:l.registry}})(r,i(),c);e.mode.isReadOnly()||n.on(),n.events.startDrag.bind((o=>{t.set(e.selection.getRng())})),n.events.beforeResize.bind((t=>{const o=t.table.dom;((e,t,o,n,r)=>{e.dispatch(\"ObjectResizeStart\",{target:t,width:o,height:n,origin:r})})(e,o,ls(o),as(o),Od+t.type)})),n.events.afterResize.bind((o=>{const n=o.table,r=n.dom;rs(n),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,o,n,r)=>{e.dispatch(\"ObjectResized\",{target:t,width:o,height:n,origin:r})})(e,r,ls(r),as(r),Od+o.type),e.undoManager.add()})),o.set(n)}})),e.on(\"ObjectResizeStart\",(t=>{const o=t.target;if(Dd(o)&&!e.mode.isReadOnly()){const n=xe.fromDom(o);N(e.dom.select(\".mce-clonedresizable\"),(t=>{e.dom.addClass(t,\"mce-\"+jr(e)+\"-columns\")})),!Bc(n)&&$r(e)?Wc(n):!_c(n)&&Hr(e)&&Lc(n),zc(n)&&Tt(t.origin,Od)&&Lc(n),r=t.width,s=Vr(e)?\"\":is(e,o).getOr(\"\"),l=t.height,a=ms(e,o).getOr(\"\")}})),e.on(\"ObjectResized\",(t=>{const o=t.target;if(Dd(o)){const n=xe.fromDom(o),r=t.origin;(e=>Tt(e,\"corner-\"))(r)&&m(n,r,t.width,t.height),rs(n),gc(e,n.dom,hc)}}));const d=()=>{o.on((e=>{e.on(),e.showBars()}))},u=()=>{o.on((e=>{e.off(),e.hideBars()}))};return e.on(\"DisabledStateChange\",(e=>{e.state?u():d()})),e.on(\"SwitchMode\",(()=>{e.mode.isReadOnly()?u():d()})),e.on(\"dragstart dragend\",(e=>{\"dragstart\"===e.type?u():d()})),e.on(\"remove\",(()=>{o.on((e=>{e.destroy()})),n.on((t=>{((e,t)=>{e.inline&&qe(t.parent())})(e,t)}))})),{refresh:e=>{o.on((t=>t.refreshBars(xe.fromDom(e))))},hide:()=>{o.on((e=>e.hideBars()))},show:()=>{o.on((e=>e.showBars()))}}},Nd=e=>{(e=>{const t=e.options.register;t(\"table_clone_elements\",{processor:\"string[]\"}),t(\"table_use_colgroups\",{processor:\"boolean\",default:!0}),t(\"table_header_type\",{processor:e=>{const t=D([\"section\",\"cells\",\"sectionCells\",\"auto\"],e);return t?{value:e,valid:t}:{valid:!1,message:\"Must be one of: section, cells, sectionCells or auto.\"}},default:\"section\"}),t(\"table_sizing_mode\",{processor:\"string\",default:\"auto\"}),t(\"table_default_attributes\",{processor:\"object\",default:{border:\"1\"}}),t(\"table_default_styles\",{processor:\"object\",default:{\"border-collapse\":\"collapse\"}}),t(\"table_column_resizing\",{processor:e=>{const t=D([\"preservetable\",\"resizetable\"],e);return t?{value:e,valid:t}:{valid:!1,message:\"Must be preservetable, or resizetable.\"}},default:\"preservetable\"}),t(\"table_resize_bars\",{processor:\"boolean\",default:!0}),t(\"table_style_by_css\",{processor:\"boolean\",default:!0}),t(\"table_merge_content_on_paste\",{processor:\"boolean\",default:!0})})(e);const t=Ed(e),o=Xm(e,t),n=vc(e,t,o);return oi(e,n),((e,t)=>{const o=ns(e),n=t=>Vs(ss(e)).bind((n=>Gt(n,o).map((o=>{const r=Fs(qs(e),o,n);return t(o,r)})))).getOr(\"\");G({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},((t,o)=>e.addQueryValueHandler(o,t)))})(e,n),Us(e,n),{getSelectedCells:o.getSelectedCells,clearSelectedCells:o.clearSelectedCells}};e.add(\"dom\",(e=>({table:Nd(e)})))}();","/**\n * TinyMCE version 7.7.0 (TBD)\n */\n!function(){\"use strict\";var e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\");const t=e=>t=>(e=>{const t=typeof e;return null===e?\"null\":\"object\"===t&&Array.isArray(e)?\"array\":\"object\"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(l=o.constructor)||void 0===l?void 0:l.name)===r.name)?\"string\":t;var n,o,r,l})(t)===e,n=e=>t=>typeof t===e,o=t(\"string\"),r=t(\"object\"),l=t(\"array\"),s=e=>null===e;const i=n(\"boolean\"),a=e=>!(e=>null==e)(e),c=n(\"function\"),u=(e,t)=>{if(l(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},g=()=>{},d=(e,t)=>e===t;class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:\"Called getOrDie on None\")}static from(e){return a(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:\"none()\"}}m.singletonNone=new m(!1);const h=Array.prototype.indexOf,p=Array.prototype.push,f=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);p.apply(t,e[n])}return t},k=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return m.none()},v=(e,t,n=d)=>e.exists((e=>n(e,t))),b=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},x=(e,t)=>e?m.some(t):m.none(),y=e=>t=>t.options.get(e),_=y(\"link_assume_external_targets\"),w=y(\"link_context_toolbar\"),C=y(\"link_list\"),O=y(\"link_default_target\"),S=y(\"link_default_protocol\"),A=y(\"link_target_list\"),N=y(\"link_rel_list\"),E=y(\"link_class_list\"),R=y(\"link_title\"),T=y(\"allow_unsafe_link_target\"),L=y(\"link_quicklink\"),P=y(\"link_attributes_postprocess\"),M=Object.keys,D=Object.hasOwnProperty,B=(e,t)=>D.call(e,t);var I=tinymce.util.Tools.resolve(\"tinymce.util.URI\"),K=tinymce.util.Tools.resolve(\"tinymce.dom.TreeWalker\"),j=tinymce.util.Tools.resolve(\"tinymce.util.Tools\");const U=e=>a(e)&&\"a\"===e.nodeName.toLowerCase(),q=e=>U(e)&&!!$(e),F=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),o=n.firstChild,r=new K(o,n),l=[];let s=o;do{t(s)&&l.push(s)}while(s=r.next());return l}},V=e=>/^\\w+:/i.test(e),$=e=>{var t,n;return null!==(n=null!==(t=e.getAttribute(\"data-mce-href\"))&&void 0!==t?t:e.getAttribute(\"href\"))&&void 0!==n?n:\"\"},z=(e,t)=>{const n=[\"noopener\"],o=e?e.split(/\\s+/):[],r=e=>e.filter((e=>-1===j.inArray(n,e))),l=t?(e=>(e=r(e)).length>0?e.concat(n):n)(o):r(o);return l.length>0?(e=>j.trim(e.sort().join(\" \")))(l):\"\"},G=(e,t)=>(t=t||W(e.selection.getRng())[0]||e.selection.getNode(),Z(t)?m.from(e.dom.select(\"a[href]\",t)[0]):m.from(e.dom.getParent(t,\"a[href]\"))),H=(e,t)=>G(e,t).isSome(),J=(e,t)=>t.fold((()=>e.getContent({format:\"text\"})),(e=>e.innerText||e.textContent||\"\")).replace(/\\uFEFF/g,\"\"),W=e=>F(e,q),Q=e=>j.grep(e,q),X=e=>Q(e).length>0,Y=e=>{const t=e.schema.getTextInlineElements();if(G(e).exists((e=>e.hasAttribute(\"data-mce-block\"))))return!1;const n=e.selection.getRng();return!!n.collapsed||0===F(n,(e=>1===e.nodeType&&!U(e)&&!B(t,e.nodeName.toLowerCase()))).length},Z=e=>a(e)&&\"FIGURE\"===e.nodeName&&/\\bimage\\b/i.test(e.className),ee=(e,t,n)=>{const o=e.selection.getNode(),r=G(e,o),l=((e,t)=>{const n={...t};if(0===N(e).length&&!T(e)){const e=z(n.rel,\"_blank\"===n.target);n.rel=e||null}return m.from(n.target).isNone()&&!1===A(e)&&(n.target=O(e)),n.href=((e,t)=>\"http\"!==t&&\"https\"!==t||V(e)?e:t+\"://\"+e)(n.href,_(e)),n})(e,(e=>{return t=[\"title\",\"rel\",\"class\",\"target\"],n=(t,n)=>(e[n].each((e=>{t[n]=e.length>0?e:null})),t),o={href:e.href},((e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)})(t,((e,t)=>{o=n(o,e)})),o;var t,n,o})(n)),s=P(e);a(s)&&s(l),e.undoManager.transact((()=>{n.href===t.href&&t.attach(),r.fold((()=>{((e,t,n,o)=>{const r=e.dom;Z(t)?le(r,t,o):n.fold((()=>{e.execCommand(\"mceInsertLink\",!1,o);const t=e.selection.getEnd(),n=r.createRng();n.setStartAfter(t),n.setEndAfter(t),e.selection.setRng(n)}),(t=>{e.insertContent(r.createHTML(\"a\",o,r.encode(t)))}))})(e,o,n.text,l)}),(t=>{e.focus(),((e,t,n,o)=>{n.each((e=>{B(t,\"innerText\")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,o);const r=e.dom.createRng();r.setStartAfter(t),r.setEndAfter(t),e.selection.setRng(r)})(e,t,n.text,l)}))}))},te=e=>{const{class:t,href:n,rel:o,target:r,text:l,title:i}=e;return(e=>{const t={};var n;return((e,t,n,o)=>{((e,t)=>{const n=M(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,((e,t)=>!1===s(e)),(n=t,(e,t)=>{n[t]=e}),g),t})({class:t.getOrNull(),href:n,rel:o.getOrNull(),target:r.getOrNull(),text:l.getOrNull(),title:i.getOrNull()})},ne=(e,t,n)=>{const o=((e,t)=>{const n=e.options.get,o={allow_html_data_urls:n(\"allow_html_data_urls\"),allow_script_urls:n(\"allow_script_urls\"),allow_svg_data_urls:n(\"allow_svg_data_urls\")},r=t.href;return{...t,href:I.isDomSafe(r,\"a\",o)?r:\"\"}})(e,n);e.hasPlugin(\"rtc\",!0)?e.execCommand(\"createlink\",!1,te(o)):ee(e,t,o)},oe=e=>{e.hasPlugin(\"rtc\",!0)?e.execCommand(\"unlink\"):(e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();Z(t)?re(e,t):(e=>{const t=e.dom,n=e.selection,o=n.getBookmark(),r=n.getRng().cloneRange(),l=t.getParent(r.startContainer,\"a[href]\",e.getBody()),s=t.getParent(r.endContainer,\"a[href]\",e.getBody());l&&r.setStartBefore(l),s&&r.setEndAfter(s),n.setRng(r),e.execCommand(\"unlink\"),n.moveToBookmark(o)})(e),e.focus()}))})(e)},re=(e,t)=>{var n;const o=e.dom.select(\"img\",t)[0];if(o){const r=e.dom.getParents(o,\"a[href]\",t)[0];r&&(null===(n=r.parentNode)||void 0===n||n.insertBefore(o,r),e.dom.remove(r))}},le=(e,t,n)=>{var o;const r=e.select(\"img\",t)[0];if(r){const t=e.create(\"a\",n);null===(o=r.parentNode)||void 0===o||o.insertBefore(t,r),t.appendChild(r)}},se=e=>o(e.value)?e.value:\"\",ie=(e,t)=>{const n=[];return j.each(e,(e=>{const r=(e=>o(e.text)?e.text:o(e.title)?e.title:\"\")(e);if(void 0!==e.menu){const o=ie(e.menu,t);n.push({text:r,items:o})}else{const o=t(e);n.push({text:r,value:o})}})),n},ae=(e=se)=>t=>m.from(t).map((t=>ie(t,e))),ce=e=>ae(se)(e),ue=ae,ge=(e,t)=>n=>({name:e,type:\"listbox\",label:t,items:n}),de=se,me=(e,t)=>k(t,(t=>(e=>{return B(t=e,n=\"items\")&&void 0!==t[n]&&null!==t[n];var t,n})(t)?me(e,t.items):x(t.value===e,t))),he=(e,t)=>{const n={text:e.text,title:e.title},o=(e,o)=>{const r=(l=t,s=o,\"link\"===s?l.link:\"anchor\"===s?l.anchor:m.none()).getOr([]);var l,s;return((e,t,n,o)=>{const r=o[t],l=e.length>0;return void 0!==r?me(r,n).map((t=>({url:{value:t.value,meta:{text:l?e:t.text,attach:g}},text:l?e:t.text}))):m.none()})(n.text,o,r,e)};return{onChange:(e,t)=>{const r=t.name;return\"url\"===r?(e=>{const t=(o=e.url,x(n.text.length<=0,m.from(null===(r=o.meta)||void 0===r?void 0:r.text).getOr(o.value)));var o,r;const l=(e=>{var t;return x(n.title.length<=0,m.from(null===(t=e.meta)||void 0===t?void 0:t.title).getOr(\"\"))})(e.url);return t.isSome()||l.isSome()?m.some({...t.map((e=>({text:e}))).getOr({}),...l.map((e=>({title:e}))).getOr({})}):m.none()})(e()):((e,t)=>h.call(e,t))([\"anchor\",\"link\"],r)>-1?o(e(),r):\"text\"===r||\"title\"===r?(n[r]=e()[r],m.none()):m.none()}}};var pe=tinymce.util.Tools.resolve(\"tinymce.util.Delay\");const fe=e=>{const t=e.href;return t.indexOf(\"@\")>0&&-1===t.indexOf(\"/\")&&-1===t.indexOf(\"mailto:\")?m.some({message:\"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\",preprocess:e=>({...e,href:\"mailto:\"+t})}):m.none()},ke=(e,t)=>n=>{const o=n.href;return 1===e&&!V(o)||0===e&&/^\\s*www(\\.|\\d\\.)/i.test(o)?m.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+\"://\"+o})}):m.none()},ve=e=>{const t=e.dom.select(\"a:not([href])\"),n=f(((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:\"#\"+t}]:[]})));return n.length>0?m.some([{text:\"None\",value:\"\"}].concat(n)):m.none()},be=e=>{const t=E(e);return t.length>0?ce(t):m.none()},xe=e=>{try{return m.some(JSON.parse(e))}catch(e){return m.none()}},ye=(e,t)=>{const n=N(e);if(n.length>0){const o=v(t,\"_blank\"),r=e=>z(de(e),o);return(!1===T(e)?ue(r):ce)(n)}return m.none()},_e=[{text:\"Current window\",value:\"\"},{text:\"New window\",value:\"_blank\"}],we=e=>{const t=A(e);return l(t)?ce(t).orThunk((()=>m.some(_e))):!1===t?m.none():m.some(_e)},Ce=(e,t,n)=>{const o=e.getAttrib(t,n);return null!==o&&o.length>0?m.some(o):m.none()},Oe=(e,t)=>(e=>{const t=t=>e.convertURL(t.value||t.url||\"\",\"href\"),n=C(e);return new Promise((e=>{o(n)?fetch(n).then((e=>e.ok?e.text().then(xe):Promise.reject())).then(e,(()=>e(m.none()))):c(n)?n((t=>e(m.some(t)))):e(m.from(n))})).then((e=>e.bind(ue(t)).map((e=>e.length>0?[{text:\"None\",value:\"\"}].concat(e):e))))})(e).then((n=>{const o=((e,t)=>{const n=e.dom,o=Y(e)?m.some(J(e.selection,t)):m.none(),r=t.bind((e=>m.from(n.getAttrib(e,\"href\")))),l=t.bind((e=>m.from(n.getAttrib(e,\"target\")))),s=t.bind((e=>Ce(n,e,\"rel\"))),i=t.bind((e=>Ce(n,e,\"class\")));return{url:r,text:o,title:t.bind((e=>Ce(n,e,\"title\"))),target:l,rel:s,linkClass:i}})(e,t);return{anchor:o,catalogs:{targets:we(e),rels:ye(e,o.target),classes:be(e),anchor:ve(e),link:n},optNode:t,flags:{titleEnabled:R(e)}}})),Se=e=>{const t=(e=>{const t=G(e);return Oe(e,t)})(e);t.then((t=>{const n=((e,t)=>n=>{const o=n.getData();if(!o.url.value)return oe(e),void n.close();const r=e=>m.from(o[e]).filter((n=>!v(t.anchor[e],n))),l={href:o.url.value,text:r(\"text\"),target:r(\"target\"),rel:r(\"rel\"),class:r(\"linkClass\"),title:r(\"title\")},s={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:g};((e,t)=>k([fe,ke(_(e),S(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(n=>new Promise((o=>{((e,t,n)=>{const o=e.selection.getRng();pe.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(o),n(t)}))}))})(e,n.message,(e=>{o(e?n.preprocess(t):t)}))})))))(e,l).then((t=>{ne(e,s,t)})),n.close()})(e,t);return((e,t,n)=>{const o=e.anchor.text.map((()=>({name:\"text\",type:\"input\",label:\"Text to display\"}))).toArray(),r=e.flags.titleEnabled?[{name:\"title\",type:\"input\",label:\"Title\"}]:[],l=((e,t)=>{const n=e.anchor,o=n.url.getOr(\"\");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(\"\"),title:n.title.getOr(\"\"),anchor:o,link:o,rel:n.rel.getOr(\"\"),target:n.target.or(t).getOr(\"\"),linkClass:n.linkClass.getOr(\"\")}})(e,m.from(O(n))),s=e.catalogs,i=he(l,s);return{title:\"Insert/Edit Link\",size:\"normal\",body:{type:\"panel\",items:f([[{name:\"url\",type:\"urlinput\",filetype:\"file\",label:\"URL\",picker_text:\"Browse links\"}],o,r,b([s.anchor.map(ge(\"anchor\",\"Anchors\")),s.rels.map(ge(\"rel\",\"Rel\")),s.targets.map(ge(\"target\",\"Open link in...\")),s.link.map(ge(\"link\",\"Link list\")),s.classes.map(ge(\"linkClass\",\"Class\"))])])},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:l,onChange:(e,{name:t})=>{i.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}})(t,n,e)})).then((t=>{e.windowManager.open(t)}))};var Ae=tinymce.util.Tools.resolve(\"tinymce.util.VK\");const Ne=(e,t)=>{if(t){const o=$(t);if(/^#/.test(o)){const t=e.dom.select(`${o},[name=\"${n=o,((e,t)=>((e,t)=>\"\"===t||e.length>=t.length&&e.substr(0,0+t.length)===t)(e,t))(n,\"#\")?(e=>e.substring(1))(n):n}\"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else(e=>{const t=document.createElement(\"a\");t.target=\"_blank\",t.href=e,t.rel=\"noreferrer noopener\";const n=new MouseEvent(\"click\",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(n),((e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)})(t,n)})(t.href)}var n},Ee=(e,t)=>{const n=Q(e.dom.getParents(t));return x(1===n.length,n[0])},Re=e=>e.selection.isCollapsed()||(e=>{const t=e.selection.getRng(),n=t.startContainer;return q(n)&&t.startContainer===t.endContainer&&1===e.dom.select(\"img\",n).length})(e)?Ee(e,e.selection.getStart()):(e=>{const t=W(e.selection.getRng());return x(t.length>0,t[0]).or(Ee(e,e.selection.getNode()))})(e),Te=e=>()=>{e.execCommand(\"mceLink\",!1,{dialog:!0})},Le=(e,t)=>(e.on(\"NodeChange\",t),()=>e.off(\"NodeChange\",t)),Pe=e=>t=>{const n=()=>{t.setActive(!e.mode.isReadOnly()&&H(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),Le(e,n)},Me=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return n(),Le(e,n)},De=e=>t=>{const n=e.dom.getParents(e.selection.getStart()),o=n=>{t.setEnabled((t=>{return X(t)||(n=e.selection.getRng(),W(n).length>0);var n})(n)&&e.selection.isEditable())};return o(n),Le(e,(e=>o(e.parents)))},Be=e=>{const t=(e=>{const t=(()=>{const e=(e=>{const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(m.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(m.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(m.some(e))}}})(g);return{...e,on:t=>e.get().each(t)}})(),n=()=>t.get().or(Re(e));return e.on(\"contextmenu\",(n=>{Ee(e,n.target).each(t.set)})),e.on(\"SelectionChange\",(()=>{t.isSet()||Re(e).each(t.set)})),e.on(\"click\",(n=>{t.clear();const o=Q(e.dom.getParents(n.target));1===o.length&&Ae.metaKeyPressed(n)&&(n.preventDefault(),Ne(e,o[0]))})),e.on(\"keydown\",(o=>{t.clear(),!o.isDefaultPrevented()&&13===o.keyCode&&(e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey)(o)&&n().each((t=>{o.preventDefault(),Ne(e,t)}))})),{gotoSelectedLink:()=>n().each((t=>Ne(e,t)))}})(e);((e,t)=>{e.ui.registry.addToggleButton(\"link\",{icon:\"link\",tooltip:\"Insert/edit link\",shortcut:\"Meta+K\",onAction:Te(e),onSetup:Pe(e)}),e.ui.registry.addButton(\"openlink\",{icon:\"new-tab\",tooltip:\"Open link\",onAction:t.gotoSelectedLink,onSetup:De(e)}),e.ui.registry.addButton(\"unlink\",{icon:\"unlink\",tooltip:\"Remove link\",onAction:()=>oe(e),onSetup:De(e)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem(\"openlink\",{text:\"Open link\",icon:\"new-tab\",onAction:t.gotoSelectedLink,onSetup:De(e)}),e.ui.registry.addMenuItem(\"link\",{icon:\"link\",text:\"Link...\",shortcut:\"Meta+K\",onAction:Te(e),onSetup:Me(e)}),e.ui.registry.addMenuItem(\"unlink\",{icon:\"unlink\",text:\"Remove link\",onAction:()=>oe(e),onSetup:De(e)})})(e,t),(e=>{e.ui.registry.addContextMenu(\"link\",{update:t=>e.dom.isEditable(t)?X(e.dom.getParents(t,\"a\"))?\"link unlink openlink\":\"link\":\"\"})})(e),((e,t)=>{const n=t=>{const n=e.selection.getNode();return t.setEnabled(H(e,n)&&e.selection.isEditable()),g};e.ui.registry.addContextForm(\"quicklink\",{launch:{type:\"contextformtogglebutton\",icon:\"link\",tooltip:\"Link\",onSetup:Pe(e)},label:\"Link\",predicate:t=>w(e)&&H(e,t),initValue:()=>G(e).fold((()=>\"\"),$),commands:[{type:\"contextformtogglebutton\",icon:\"link\",tooltip:\"Link\",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(H(e,n)),Pe(e)(t)},onAction:t=>{const n=t.getValue(),o=(t=>{const n=G(e),o=Y(e);if(n.isNone()&&o){const o=J(e.selection,n);return x(0===o.length,t)}return m.none()})(n);ne(e,{href:n,attach:g},{href:n,text:o,title:m.none(),rel:m.none(),target:m.from(O(e)),class:m.none()}),(e=>{e.selection.collapse(!1)})(e),t.hide()}},{type:\"contextformbutton\",icon:\"unlink\",tooltip:\"Remove link\",onSetup:n,onAction:t=>{oe(e),t.hide()}},{type:\"contextformbutton\",icon:\"new-tab\",tooltip:\"Open link\",onSetup:n,onAction:e=>{t.gotoSelectedLink(),e.hide()}}]})})(e,t)};e.add(\"link\",(e=>{(e=>{const t=e.options.register;t(\"link_assume_external_targets\",{processor:e=>{const t=o(e)||i(e);return t?!0===e?{value:1,valid:t}:\"http\"===e||\"https\"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:\"Must be a string or a boolean.\"}},default:!1}),t(\"link_context_toolbar\",{processor:\"boolean\",default:!1}),t(\"link_list\",{processor:e=>o(e)||c(e)||u(e,r)}),t(\"link_default_target\",{processor:\"string\"}),t(\"link_default_protocol\",{processor:\"string\",default:\"https\"}),t(\"link_target_list\",{processor:e=>i(e)||u(e,r),default:!0}),t(\"link_rel_list\",{processor:\"object[]\",default:[]}),t(\"link_class_list\",{processor:\"object[]\",default:[]}),t(\"link_title\",{processor:\"boolean\",default:!0}),t(\"allow_unsafe_link_target\",{processor:\"boolean\",default:!1}),t(\"link_quicklink\",{processor:\"boolean\",default:!1}),t(\"link_attributes_postprocess\",{processor:\"function\"})})(e),(e=>{e.addCommand(\"mceLink\",((t,n)=>{!0!==(null==n?void 0:n.dialog)&&L(e)?e.dispatch(\"contexttoolbar-show\",{toolbarKey:\"quicklink\"}):Se(e)}))})(e),Be(e),(e=>{e.addShortcut(\"Meta+K\",\"\",(()=>{e.execCommand(\"mceLink\")}))})(e)}))}();","/***\n * MooRainbow\n *\n * @version\t\t1.2b2\n * @license\t\tMIT-style license\n * @author\t\tDjamil Legato - < djamil [at] djamil.it >\n * @infos\t\thttp://moorainbow.woolly-sheep.net\n * @copyright\tAuthor\n * \n *\n */\n\nvar Rainbows = [];\n\nvar MooRainbow = new Class({\n\toptions: {\n\t\tid: 'mooRainbow',\n\t\tprefix: 'moor-',\n\t\timgPath: 'images/',\n\t\tstartColor: [255, 0, 0],\n\t\twheel: false,\n\t\tonComplete: $empty,\n\t\tonChange: $empty,\n\t\tonAbort: $empty\n\t},\n\t\n\tinitialize: function(el, options) {\n\t\t//this.element = $(el); if (!this.element) return;\n\t\tthis.setOptions(options);\n\t\t\n\t\tthis.sliderPos = 0;\n\t\tthis.pickerPos = {x: 0, y: 0};\n\t\tthis.backupColor = this.options.startColor;\n\t\tthis.currentColor = this.options.startColor;\n\t\tthis.sets = {\n\t\t\trgb: [],\n\t\t\thsb: [],\n\t\t\thex: []\t\n\t\t};\n\t\tthis.pickerClick = this.sliderClick  = false;\n\t\t\n\t\tif (!this.layout) this.doLayout();\n\n\t\tthis.OverlayEvents();\n\t\tthis.sliderEvents();\n\t\tthis.backupEvent();\n\t\tif (this.options.wheel) this.wheelEvents();\n\t\t//this.element.addEvent('click', function(e) { this.closeAll().toggle(e); }.bind(this));\n\t\t\t\t\n\t\tthis.layout.overlay.setStyle('background-color', this.options.startColor.rgbToHex());\n\t\tthis.layout.backup.setStyle('background-color', this.backupColor.rgbToHex());\n\n\t\tthis.pickerPos.x = this.snippet('curPos').l + this.snippet('curSize', 'int').w;\n\t\tthis.pickerPos.y = this.snippet('curPos').t + this.snippet('curSize', 'int').h;\n\t\t\n\t\tthis.manualSet(this.options.startColor);\n\t\t\n\t\tthis.pickerPos.x = this.snippet('curPos').l + this.snippet('curSize', 'int').w;\n\t\tthis.pickerPos.y = this.snippet('curPos').t + this.snippet('curSize', 'int').h;\n\t\tthis.sliderPos = this.snippet('arrPos') - this.snippet('arrSize', 'int');\n\n\t\tif (window.khtml) this.hide();\n\t},\n\t\n\ttoggle: function() {\n\t\tthis[this.visible ? 'hide' : 'show']();\n\t},\n\t\n\tshow: function() {\n\t\tthis.rePosition();\n\t\tthis.layout.setStyle('display', 'block');\n\t\tthis.visible = true;\n\t},\n\t\n\thide: function() {\n\t\tthis.layout.setStyles({'display': 'none'});\n\t\tthis.visible = false;\n\t},\n\t\n\tcloseAll: function() {\n\t\tRainbows.each(function(obj) { obj.hide(); });\n\t\t\n\t\treturn this;\n\t},\n\t\n\tmanualSet: function(color, type) {\n\t\tif (!type || (type != 'hsb' && type != 'hex')) type = 'rgb';\n\t\tvar rgb, hsb, hex;\n\n\t\tif (type == 'rgb') { rgb = color; hsb = color.rgbToHsb(); hex = color.rgbToHex(); } \n\t\telse if (type == 'hsb') { hsb = color; rgb = color.hsbToRgb(); hex = rgb.rgbToHex(); }\n\t\telse { hex = color; rgb = color.hexToRgb(true); hsb = rgb.rgbToHsb(); }\n\t\t\n\t\tthis.setMooRainbow(rgb);\n\t\tthis.autoSet(hsb);\n\t},\n\t\n\tautoSet: function(hsb) {\n\t\tvar curH = this.snippet('curSize', 'int').h;\n\t\tvar curW = this.snippet('curSize', 'int').w;\n\t\tvar oveH = this.layout.overlay.height;\n\t\tvar oveW = this.layout.overlay.width;\n\t\tvar sliH = this.layout.slider.height;\n\t\tvar arwH = this.snippet('arrSize', 'int');\n\t\tvar hue;\n\t\t\n\t\tvar posx = Math.round(((oveW * hsb[1]) / 100) - curW);\n\t\tvar posy = Math.round(- ((oveH * hsb[2]) / 100) + oveH - curH);\n\n\t\tvar c = Math.round(((sliH * hsb[0]) / 360)); c = (c == 360) ? 0 : c;\n\t\tvar position = sliH - c + this.snippet('slider') - arwH;\n\t\thue = [this.sets.hsb[0], 100, 100].hsbToRgb().rgbToHex();\n\t\t\n\t\tthis.layout.cursor.setStyles({'top': posy, 'left': posx});\n\t\tthis.layout.arrows.setStyle('top', position);\n\t\tthis.layout.overlay.setStyle('background-color', hue);\n\t\tthis.sliderPos = this.snippet('arrPos') - arwH;\n\t\tthis.pickerPos.x = this.snippet('curPos').l + curW;\n\t\tthis.pickerPos.y = this.snippet('curPos').t + curH;\n\t},\n\t\n\tsetMooRainbow: function(color, type) {\n\t\tif (!type || (type != 'hsb' && type != 'hex')) type = 'rgb';\n\t\tvar rgb, hsb, hex;\n\n\t\tif (type == 'rgb') { rgb = color; hsb = color.rgbToHsb(); hex = color.rgbToHex(); } \n\t\telse if (type == 'hsb') { hsb = color; rgb = color.hsbToRgb(); hex = rgb.rgbToHex(); }\n\t\telse { hex = color; rgb = color.hexToRgb(); hsb = rgb.rgbToHsb(); }\n\n\t\tthis.sets = {\n\t\t\trgb: rgb,\n\t\t\thsb: hsb,\n\t\t\thex: hex\n\t\t};\n\n\t\tif (!$chk(this.pickerPos.x))\n\t\t\tthis.autoSet(hsb);\t\t\n\n\t\tthis.RedInput.value = rgb[0];\n\t\tthis.GreenInput.value = rgb[1];\n\t\tthis.BlueInput.value = rgb[2];\n\t\tthis.HueInput.value = hsb[0];\n\t\tthis.SatuInput.value =  hsb[1];\n\t\tthis.BrighInput.value = hsb[2];\n\t\tthis.hexInput.value = hex;\n\t\t\n\t\tthis.currentColor = rgb;\n\n\t\tthis.chooseColor.setStyle('background-color', rgb.rgbToHex());\n\t},\n\t\n\tparseColors: function(x, y, z) {\n\t\tvar s = Math.round((x * 100) / this.layout.overlay.width);\n\t\tvar b = 100 - Math.round((y * 100) / this.layout.overlay.height);\n\t\tvar h = 360 - Math.round((z * 360) / this.layout.slider.height) + this.snippet('slider') - this.snippet('arrSize', 'int');\n\t\th -= this.snippet('arrSize', 'int');\n\t\th = (h >= 360) ? 0 : (h < 0) ? 0 : h;\n\t\ts = (s > 100) ? 100 : (s < 0) ? 0 : s;\n\t\tb = (b > 100) ? 100 : (b < 0) ? 0 : b;\n\n\t\treturn [h, s, b];\n\t},\n\t\n\tOverlayEvents: function() {\n\t\tvar lim, curH, curW, inputs;\n\t\tcurH = this.snippet('curSize', 'int').h;\n\t\tcurW = this.snippet('curSize', 'int').w;\n\t\tinputs = $A(this.arrRGB).concat(this.arrHSB, this.hexInput);\n\n\t\tdocument.addEvent('click', function() { \n\t\t\tif(this.visible) {\n\t\t\t\tthis.hide(this.layout); \n\t\t\t\tthis.fireEvent('onAbort', [this.sets, this]);\n\t\t\t}\n\t\t}.bind(this));\n\n\t\tinputs.each(function(el) {\n\t\t\tel.addEvent('keydown', this.eventKeydown.bindWithEvent(this, el));\n\t\t\tel.addEvent('keyup', this.eventKeyup.bindWithEvent(this, el));\n\t\t}, this);\n\t\t[/*this.element,*/ this.layout].each(function(el) {\n\t\t\tel.addEvents({\n\t\t\t\t'click': function(e) { new Event(e).stop(); },\n\t\t\t\t'keyup': function(e) {\n\t\t\t\t\te = new Event(e);\n\t\t\t\t\tif(e.key == 'esc' && this.visible) this.hide(this.layout);\n\t\t\t\t\tthis.fireEvent('onAbort', [this.sets, this]);\n\t\t\t\t}.bind(this)\n\t\t\t}, this);\n\t\t}, this);\n\t\t\n\t\t//var lDims = $(this.layout.overlay).getSize();\n\t\t//console.debug(lDims);\n\t\n\t\tlim = {\n\t\t\tx: [0 - curW, (256 - curW)],\n\t\t\ty: [0 - curH, (256 - curH)]\n\t\t};\n\n\t\tthis.layout.drag = new Drag(this.layout.cursor, {\n\t\t\tlimit: lim,\n\t\t\tonBeforeStart: this.overlayDrag.bind(this),\n\t\t\tonStart: this.overlayDrag.bind(this),\n\t\t\tonDrag: this.overlayDrag.bind(this),\n\t\t\tsnap: 0\n\t\t});\t\n\t\t\n\t\tthis.layout.overlay2.addEvent('mousedown', function(e){\n\t\t\te = new Event(e);\n\t\t\tthis.layout.cursor.setStyles({\n\t\t\t\t'top': e.page.y - this.layout.overlay.getTop() - curH,\n\t\t\t\t'left': e.page.x - this.layout.overlay.getLeft() - curW\n\t\t\t});\n\t\t\tthis.layout.drag.start(e);\n\t\t}.bind(this));\n\t\t\n\t\tthis.okButton.addEvent('click', function() {\n\t\t\tif (this.currentColor == this.options.startColor) {\n\t\t\t\tthis.hide();\n\t\t\t\tthis.fireEvent('onComplete', [this.sets, this]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.backupColor = this.currentColor;\n\t\t\t\tthis.layout.backup.setStyle('background-color', this.backupColor.rgbToHex());\n\t\t\t\tthis.hide();\n\t\t\t\tthis.fireEvent('onComplete', [this.sets, this]);\n\t\t\t}\n\t\t}.bind(this));\n\t\t\n\t\tthis.transp.addEvent('click', function () {\n\t\t\tthis.hide();\n\t\t\tthis.fireEvent('onComplete', ['transparent', this]);\n\t\t}.bind(this));\n\t},\n\t\n\toverlayDrag: function() {\n\t\tvar curH = this.snippet('curSize', 'int').h;\n\t\tvar curW = this.snippet('curSize', 'int').w;\n\t\tthis.pickerPos.x = this.snippet('curPos').l + curW;\n\t\tthis.pickerPos.y = this.snippet('curPos').t + curH;\n\t\t\n\t\tthis.setMooRainbow(this.parseColors(this.pickerPos.x, this.pickerPos.y, this.sliderPos), 'hsb');\n\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t},\n\t\n\tsliderEvents: function() {\n\t\tvar arwH = this.snippet('arrSize', 'int'), lim;\n\n\t\tlim = [0 + this.snippet('slider') - arwH, this.layout.slider.height - arwH + this.snippet('slider')];\n\t\tthis.layout.sliderDrag = new Drag(this.layout.arrows, {\n\t\t\tlimit: {y: lim},\n\t\t\tmodifiers: {x: false},\n\t\t\tonBeforeStart: this.sliderDrag.bind(this),\n\t\t\tonStart: this.sliderDrag.bind(this),\n\t\t\tonDrag: this.sliderDrag.bind(this),\n\t\t\tsnap: 0\n\t\t});\t\n\t\n\t\tthis.layout.slider.addEvent('mousedown', function(e){\n\t\t\te = new Event(e);\n\n\t\t\tthis.layout.arrows.setStyle(\n\t\t\t\t'top', e.page.y - this.layout.slider.getTop() + this.snippet('slider') - arwH\n\t\t\t);\n\t\t\tthis.layout.sliderDrag.start(e);\n\t\t}.bind(this));\n\t},\n\n\tsliderDrag: function() {\n\t\tvar arwH = this.snippet('arrSize', 'int'), hue;\n\t\t\n\t\tthis.sliderPos = this.snippet('arrPos') - arwH;\n\t\tthis.setMooRainbow(this.parseColors(this.pickerPos.x, this.pickerPos.y, this.sliderPos), 'hsb');\n\t\thue = [this.sets.hsb[0], 100, 100].hsbToRgb().rgbToHex();\n\t\tthis.layout.overlay.setStyle('background-color', hue);\n\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t},\n\t\n\tbackupEvent: function() {\n\t\tthis.layout.backup.addEvent('click', function() {\n\t\t\tthis.manualSet(this.backupColor);\n\t\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t\t}.bind(this));\n\t},\n\t\n\twheelEvents: function() {\n\t\tvar arrColors = $A(this.arrRGB).extend(this.arrHSB);\n\n\t\tarrColors.each(function(el) {\n\t\t\tel.addEvents({\n\t\t\t\t'mousewheel': this.eventKeys.bindWithEvent(this, el),\n\t\t\t\t'keydown': this.eventKeys.bindWithEvent(this, el)\n\t\t\t});\n\t\t}, this);\n\t\t\n\t\t[this.layout.arrows, this.layout.slider].each(function(el) {\n\t\t\tel.addEvents({\n\t\t\t\t'mousewheel': this.eventKeys.bindWithEvent(this, [this.arrHSB[0], 'slider']),\n\t\t\t\t'keydown': this.eventKeys.bindWithEvent(this, [this.arrHSB[0], 'slider'])\n\t\t\t});\n\t\t}, this);\n\t},\n\t\n\teventKeys: function(e, el, id) {\n\t\tvar wheel, type;\n\t\tid = (!id) ? el.id : this.arrHSB[0];\n\n\t\tif (e.type == 'keydown') {\n\t\t\tif (e.key == 'up') wheel = 1;\n\t\t\telse if (e.key == 'down') wheel = -1;\n\t\t\telse return;\n\t\t} else if (e.type == Element.Events.mousewheel.base) wheel = (e.wheel > 0) ? 1 : -1;\n\t\t\n\t\tif (this.arrRGB.contains(el)) type = 'rgb';\n\t\telse if (this.arrHSB.contains(el)) type = 'hsb';\n\t\telse type = 'hsb';\n\n\t\tif (type == 'rgb') {\n\t\t\tvar rgb = this.sets.rgb, hsb = this.sets.hsb, prefix = this.options.prefix, pass;\n\t\t\tvar value = (el.value.toInt() || 0) + wheel;\n\t\t\tvalue = (value > 255) ? 255 : (value < 0) ? 0 : value;\n\n\t\t\tswitch(el.className) {\n\t\t\t\tcase prefix + 'rInput': pass = [value, rgb[1], rgb[2]];\tbreak;\n\t\t\t\tcase prefix + 'gInput': pass = [rgb[0], value, rgb[2]];\tbreak;\n\t\t\t\tcase prefix + 'bInput':\tpass = [rgb[0], rgb[1], value];\tbreak;\n\t\t\t\tdefault : pass = rgb;\n\t\t\t}\n\t\t\tthis.manualSet(pass);\n\t\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t\t} else {\n\t\t\tvar rgb = this.sets.rgb, hsb = this.sets.hsb, prefix = this.options.prefix, pass;\n\t\t\tvar value = (el.value.toInt() || 0) + wheel;\n\n\t\t\tif (el.className.test(/(HueInput)/)) value = (value > 359) ? 0 : (value < 0) ? 0 : value;\n\t\t\telse value = (value > 100) ? 100 : (value < 0) ? 0 : value;\n\t\t\t\n\t\t\tswitch(el.className) {\n\t\t\t\tcase prefix + 'HueInput': pass = [value, hsb[1], hsb[2]]; break;\n\t\t\t\tcase prefix + 'SatuInput': pass = [hsb[0], value, hsb[2]]; break;\n\t\t\t\tcase prefix + 'BrighInput':\tpass = [hsb[0], hsb[1], value]; break;\n\t\t\t\tdefault : pass = hsb;\n\t\t\t}\n\t\t\t\n\t\t\tthis.manualSet(pass, 'hsb');\n\t\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t\t}\n\t\te.stop();\n\t},\n\t\n\teventKeydown: function(e, el) {\n\t\tvar n = e.code, k = e.key;\n\n\t\tif \t((!el.className.test(/hexInput/) && !(n >= 48 && n <= 57)) &&\n\t\t\t(k!='backspace' && k!='tab' && k !='delete' && k!='left' && k!='right'))\n\t\te.stop();\n\t},\n\t\n\teventKeyup: function(e, el) {\n\t\tvar n = e.code, k = e.key, pass, prefix, chr = el.value.charAt(0);\n\n\t\tif (!$chk(el.value)) return;\n\t\tif (el.className.test(/hexInput/)) {\n\t\t\tif (chr != \"#\" && el.value.length != 6) return;\n\t\t\tif (chr == '#' && el.value.length != 7) return;\n\t\t} else {\n\t\t\tif (!(n >= 48 && n <= 57) && (!['backspace', 'tab', 'delete', 'left', 'right'].contains(k)) && el.value.length > 3) return;\n\t\t}\n\t\t\n\t\tprefix = this.options.prefix;\n\n\t\tif (el.className.test(/(rInput|gInput|bInput)/)) {\n\t\t\tif (el.value  < 0 || el.value > 255) return;\n\t\t\tswitch(el.className){\n\t\t\t\tcase prefix + 'rInput': pass = [el.value, this.sets.rgb[1], this.sets.rgb[2]]; break;\n\t\t\t\tcase prefix + 'gInput': pass = [this.sets.rgb[0], el.value, this.sets.rgb[2]]; break;\n\t\t\t\tcase prefix + 'bInput': pass = [this.sets.rgb[0], this.sets.rgb[1], el.value]; break;\n\t\t\t\tdefault : pass = this.sets.rgb;\n\t\t\t}\n\t\t\tthis.manualSet(pass);\n\t\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t\t}\n\t\telse if (!el.className.test(/hexInput/)) {\n\t\t\tif (el.className.test(/HueInput/) && el.value  < 0 || el.value > 360) return;\n\t\t\telse if (el.className.test(/HueInput/) && el.value == 360) el.value = 0;\n\t\t\telse if (el.className.test(/(SatuInput|BrighInput)/) && el.value  < 0 || el.value > 100) return;\n\t\t\tswitch(el.className){\n\t\t\t\tcase prefix + 'HueInput': pass = [el.value, this.sets.hsb[1], this.sets.hsb[2]]; break;\n\t\t\t\tcase prefix + 'SatuInput': pass = [this.sets.hsb[0], el.value, this.sets.hsb[2]]; break;\n\t\t\t\tcase prefix + 'BrighInput': pass = [this.sets.hsb[0], this.sets.hsb[1], el.value]; break;\n\t\t\t\tdefault : pass = this.sets.hsb;\n\t\t\t}\n\t\t\tthis.manualSet(pass, 'hsb');\n\t\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t\t} else {\n\t\t\tpass = el.value.hexToRgb(true);\n\t\t\tif (isNaN(pass[0])||isNaN(pass[1])||isNaN(pass[2])) return;\n\n\t\t\tif ($chk(pass)) {\n\t\t\t\tthis.manualSet(pass);\n\t\t\t\tthis.fireEvent('onChange', [this.sets, this]);\n\t\t\t}\n\t\t}\n\t\t\t\n\t},\n\t\t\t\n\tdoLayout: function() {\n\t\tvar id = this.options.id, prefix = this.options.prefix;\n\t\tvar idPrefix = id + ' .' + prefix;\n\n\t\tthis.layout = new Element('div', {\n\t\t\t'styles': {'display': 'block', 'position': 'absolute'},\n\t\t\t'id': id\n\t\t}).inject(document.body);\n\t\t\n\t\tRainbows.push(this);\n\n\t\tvar box = new Element('div', {\n\t\t\t'styles':  {'position': 'relative'},\n\t\t\t'class': prefix + 'box'\n\t\t}).inject(this.layout);\n\t\t\t\n\t\tvar div = new Element('div', {\n\t\t\t'styles': {'position': 'absolute', 'overflow': 'hidden'},\n\t\t\t'class': prefix + 'overlayBox'\n\t\t}).inject(box);\n\t\t\n\t\tvar ar = new Element('div', {\n\t\t\t'styles': {'position': 'absolute', 'zIndex': 1},\n\t\t\t'class': prefix + 'arrows'\n\t\t}).inject(box);\n\t\tar.width = ar.getStyle('width').toInt();\n\t\tar.height = ar.getStyle('height').toInt();\n\t\t\n\t\tvar ov = new Element('img', {\n\t\t\t'styles': {'background-color': '#fff', 'position': 'relative', 'zIndex': 2},\n\t\t\t'src': this.options.imgPath + 'moor_woverlay.png',\n\t\t\t'class': prefix + 'overlay'\n\t\t}).inject(div);\n\t\t\n\t\tvar ov2 = new Element('img', {\n\t\t\t'styles': {'position': 'absolute', 'top': 0, 'left': 0, 'zIndex': 2},\n\t\t\t'src': this.options.imgPath + 'moor_boverlay.png',\n\t\t\t'class': prefix + 'overlay'\n\t\t}).inject(div);\n\t\t\n\t\tif (window.ie6) {\n\t\t\tdiv.setStyle('overflow', '');\n\t\t\tvar src = ov.src;\n\t\t\tov.src = this.options.imgPath + 'blank.gif';\n\t\t\tov.style.filter = \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='\" + src + \"', sizingMethod='scale')\";\n\t\t\tsrc = ov2.src;\n\t\t\tov2.src = this.options.imgPath + 'blank.gif';\n\t\t\tov2.style.filter = \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='\" + src + \"', sizingMethod='scale')\";\n\t\t}\n\t\tov.width = ov2.width = div.getStyle('width').toInt();\n\t\tov.height = ov2.height = div.getStyle('height').toInt();\n\n\t\tvar cr = new Element('div', {\n\t\t\t'styles': {'overflow': 'hidden', 'position': 'absolute', 'zIndex': 2},\n\t\t\t'class': prefix + 'cursor'\t\n\t\t}).inject(div);\n\t\tcr.width = cr.getStyle('width').toInt();\n\t\tcr.height = cr.getStyle('height').toInt();\n\t\t\n\t\tvar sl = new Element('img', {\n\t\t\t'styles': {'position': 'absolute', 'z-index': 2},\n\t\t\t'src': this.options.imgPath + 'moor_slider.png',\n\t\t\t'class': prefix + 'slider'\n\t\t}).inject(box);\n\t\tthis.layout.slider = document.getElement('#' + idPrefix + 'slider');\n\t\tsl.width = sl.getStyle('width').toInt();\n\t\tsl.height = sl.getStyle('height').toInt();\n\n\t\tnew Element('div', {\n\t\t\t'styles': {'position': 'absolute'},\n\t\t\t'class': prefix + 'colorBox'\n\t\t}).inject(box);\n\n\t\tnew Element('div', {\n\t\t\t'styles': {'zIndex': 2, 'position': 'absolute'},\n\t\t\t'class': prefix + 'chooseColor'\n\t\t}).inject(box);\n\t\t\t\n\t\tthis.layout.backup = new Element('div', {\n\t\t\t'styles': {'zIndex': 2, 'position': 'absolute', 'cursor': 'pointer'},\n\t\t\t'class': prefix + 'currentColor'\n\t\t}).inject(box);\n\t\t\n\t\tvar R = new Element('label').inject(box).setStyle('position', 'absolute');\n\t\tvar G = R.clone().inject(box).addClass(prefix + 'gLabel').appendText('G: ');\n\t\tvar B = R.clone().inject(box).addClass(prefix + 'bLabel').appendText('B: ');\n\t\tR.appendText('R: ').addClass(prefix + 'rLabel');\n\t\t\n\t\tvar inputR = new Element('input');\n\t\tvar inputG = inputR.clone().inject(G).addClass(prefix + 'gInput');\n\t\tvar inputB = inputR.clone().inject(B).addClass(prefix + 'bInput');\n\t\tinputR.inject(R).addClass(prefix + 'rInput');\n\t\t\n\t\tvar HU = new Element('label').inject(box).setStyle('position', 'absolute');\n\t\tvar SA = HU.clone().inject(box).addClass(prefix + 'SatuLabel').appendText('S: ');\n\t\tvar BR = HU.clone().inject(box).addClass(prefix + 'BrighLabel').appendText('B: ');\n\t\tHU.appendText('H: ').addClass(prefix + 'HueLabel');\n\n\t\tvar inputHU = new Element('input');\n\t\tvar inputSA = inputHU.clone().inject(SA).addClass(prefix + 'SatuInput');\n\t\tvar inputBR = inputHU.clone().inject(BR).addClass(prefix + 'BrighInput');\n\t\tinputHU.inject(HU).addClass(prefix + 'HueInput');\n\t\tSA.appendText(' %'); BR.appendText(' %');\n\t\tnew Element('span', {'styles': {'position': 'absolute'}, 'class': prefix + 'ballino'}).set('html', \" &deg;\").injectAfter(HU);\n\n\t\tvar hex = new Element('label').inject(box).setStyle('position', 'absolute').addClass(prefix + 'hexLabel').appendText('#hex: ').adopt(new Element('input').addClass(prefix + 'hexInput'));\n\t\t\n\t\tvar ok = new Element('input', {\n\t\t\t'styles': {'position': 'absolute'},\n\t\t\t'type': 'button',\n\t\t\t'value': 'Select',\n\t\t\t'class': prefix + 'okButton'\n\t\t}).inject(box);\n\t\t\n\t\tvar transp = new Element('a', {'style': {'position': 'absolute'}, 'href': '#', 'class': prefix + 'transp'}).inject(box);\n\t\t\n\t\t//this.rePosition();\n\n\t\tvar overlays = $$('#' + idPrefix + 'overlay');\n\t\tthis.layout.overlay = overlays[0];\n\t\tthis.layout.overlay2 = overlays[1];\n\t\tthis.layout.cursor = document.getElement('#' + idPrefix + 'cursor');\n\t\tthis.layout.arrows = document.getElement('#' + idPrefix + 'arrows');\n\t\tthis.chooseColor = document.getElement('#' + idPrefix + 'chooseColor');\n\t\tthis.layout.backup = document.getElement('#' + idPrefix + 'currentColor');\n\t\tthis.RedInput = document.getElement('#' + idPrefix + 'rInput');\n\t\tthis.GreenInput = document.getElement('#' + idPrefix + 'gInput');\n\t\tthis.BlueInput = document.getElement('#' + idPrefix + 'bInput');\n\t\tthis.HueInput = document.getElement('#' + idPrefix + 'HueInput');\n\t\tthis.SatuInput = document.getElement('#' + idPrefix + 'SatuInput');\n\t\tthis.BrighInput = document.getElement('#' + idPrefix + 'BrighInput');\n\t\tthis.hexInput = document.getElement('#' + idPrefix + 'hexInput');\n\n\t\tthis.arrRGB = [this.RedInput, this.GreenInput, this.BlueInput];\n\t\tthis.arrHSB = [this.HueInput, this.SatuInput, this.BrighInput];\n\t\tthis.okButton = document.getElement('#' + idPrefix + 'okButton');\n\t\tthis.transp = box.getElement('.' + prefix + 'transp');\n\t\t\n\t\tif (!window.khtml) this.hide();\n\t},\n\trePosition: function() {\n\t\tvar coords = this.element.getCoordinates();\n\t\tif($('xBgEditorPanel')) {\n\t\t\tthis.layout.setStyles({\n\t\t\t\t'left': coords.left-168,\n\t\t\t\t'top': coords.top + coords.height + 1\n\t\t\t});\n\t\t} else {\n\t\t\tthis.layout.setStyles({\n\t\t\t\t'left': coords.left,\n\t\t\t\t'top': coords.top + coords.height + 1\n\t\t\t});\n\t\t}\n\t},\n\t\n\tsnippet: function(mode, type) {\n\t\tvar size; type = (type) ? type : 'none';\n\n\t\tswitch(mode) {\n\t\t\tcase 'arrPos':\n\t\t\t\tvar t = this.layout.arrows.getStyle('top').toInt();\n\t\t\t\tsize = t;\n\t\t\t\tbreak;\n\t\t\tcase 'arrSize': \n\t\t\t\tvar h = this.layout.arrows.height;\n\t\t\t\th = (type == 'int') ? (h/2).toInt() : h;\n\t\t\t\tsize = h;\n\t\t\t\tbreak;\t\t\n\t\t\tcase 'curPos':\n\t\t\t\tvar l = this.layout.cursor.getStyle('left').toInt();\n\t\t\t\tvar t = this.layout.cursor.getStyle('top').toInt();\n\t\t\t\tsize = {'l': l, 't': t};\n\t\t\t\tbreak;\n\t\t\tcase 'slider':\n\t\t\t\tvar t = this.layout.slider.getStyle('marginTop').toInt();\n\t\t\t\tsize = t;\n\t\t\t\tbreak;\n\t\t\tdefault :\n\t\t\t\tvar h = this.layout.cursor.height;\n\t\t\t\tvar w = this.layout.cursor.width;\n\t\t\t\th = (type == 'int') ? (h/2).toInt() : h;\n\t\t\t\tw = (type == 'int') ? (w/2).toInt() : w;\n\t\t\t\tsize = {w: w, h: h};\n\t\t};\n\t\treturn size;\n\t}\n});\n\nMooRainbow.implement(new Options);\nMooRainbow.implement(new Events);\n","var Lasso = new Class({\n\n\tImplements : [Options, Events],\n\n\tactive : false,\n\n\toptions : {\n\t\tautoHide: true,\n\t\tcropMode : false,\n\t\tglobalTrigger : false,\n\t\tmin : false,\n\t\tmax : false,\n\t\tratio : false,\n\t\tcontain : false,\n\t\ttrigger : null,\n\t\tborder : '#999',\n\t\tcolor : '#7389AE',\n\t\topacity : .3,\n\t\tzindex : 10000\n\t},\n\n\tbinds : {},\n\n\tinitialize : function(options){\n\t\tthis.setOptions(options);\n\n\t\tthis.box = new Element('div', {\n\t\t\t'styles' : { 'display' : 'none', 'position' : 'absolute',  'z-index' : this.options.zindex }\n\t\t}).inject((this.container) ? this.container : document.body);\n\n\t\tthis.overlay = new Element('div',{\n\t\t\t'styles' : { 'position' : 'relative', 'background' : 'url(/engine/layout/blank.gif)', 'height' : '100%', 'width' : '100%', 'z-index' : this.options.zindex+1, 'cursor': 'move' }\n\t\t}).inject(this.box);\n\n\t\tthis.mask = new Element('div',{\n\t\t\t'styles' : { 'position' : 'absolute', 'background-color' : this.options.color, 'opacity' : this.options.opacity, 'height' : '100%', 'width' : '100%', 'z-index' : this.options.zindex-1 }\n\t\t});\n\n\t\tif(this.options.cropMode){\n\t\t\tthis.mask.setStyle('z-index',this.options.zindex-2).inject(this.container);\n\t\t\tthis.options.trigger = this.mask; // override trigger since we are a crop\n\t\t} else {\n\t\t\tthis.mask.inject(this.overlay);\n\t\t}\n\n\t\tthis.trigger = $(this.options.trigger);\n\n\t\t// Marching Ants\n\t\tvar antStyles = { 'position' : 'absolute', 'width' : 1, 'height' : 1, 'overflow' : 'hidden', 'z-index' : this.options.zindex+1 };\n\n\t\tif( this.options.border.test(/\\.(jpe?g|gif|png)/) ) antStyles.backgroundImage = 'url('+this.options.border+')';\n\t\telse var antBorder = '1px dashed '+this.options.border;\n\n\t\tthis.marchingAnts = {};\n\t\t['left','right','top','bottom'].each(function(side,idx){\n\t\t\tswitch(side){\n\t\t\t\tcase 'left' : style = $merge(antStyles,{top : 0, left : -1, height : '100%'}); break;\n\t\t\t\tcase 'right' : style = $merge(antStyles,{top : 0, right : -1, height : '100%'}); break;\n\t\t\t\tcase 'top' : style = $merge(antStyles,{top : -1, left : 0, width : '100%'}); break;\n\t\t\t\tcase 'bottom' : style = $merge(antStyles,{bottom : -1, left : 0, width : '100%'}); break;\n\t\t\t}\n\t\t\tif(antBorder) style['border-'+side] = antBorder;\n\t\t\tthis.marchingAnts[side] = new Element('div',{ 'styles' : style}).inject(this.overlay);\n\t\t},this);\n\n\t\tthis.binds.start = this.start.bindWithEvent(this);\n\t\tthis.binds.move = this.move.bindWithEvent(this);\n\t\tthis.binds.end = this.end.bindWithEvent(this);\n\n\t\tthis.attach();\n\n\t\tdocument.body.onselectstart = function(e){ e = new Event(e).stop(); return false; };\n\n\t\t// better alternative?\n\t\tthis.removeDOMSelection = (document.selection && document.selection.empty) ? function(){ document.selection.empty(); } :\n\t\t\t(window.getSelection) ? function(){ var s=window.getSelection();if(s && s.removeAllRanges) s.removeAllRanges();} : $lambda(false);\n\n\t\tthis.resetCoords();\n\t},\n\n\tattach : function(){\n\t\tthis.trigger.addEvent('mousedown', this.binds.start);\n\t},\n\n\tdetach : function(){\n\t\tif(this.active) this.end();\n\t\tthis.trigger.removeEvent('mousedown', this.binds.start);\n\t},\n\n\tstart : function(event){\n\t\tif((!this.options.autoHide && event.target == this.box) || (!this.options.globalTrigger && (this.trigger != event.target))) return false;\n\t\tthis.active = true;\n\t\tdocument.addEvents({ 'mousemove' : this.binds.move, 'mouseup' : this.binds.end });\n\t\tthis.resetCoords();\n\t\tif(this.options.contain) this.getContainCoords();\n\t\tif(this.container) this.getRelativeOffset();\n\t\tthis.setStartCoords(event.page);\n\t\tthis.fireEvent('start');\n\t\treturn true;\n\t},\n\n\tmove : function(event){\n\t\tif(!this.active) return false;\n\n\t\t// this.removeDOMSelection(); // clear as fast as possible!\n\n\t\t// saving bytes s = start, m = move, c = container\n\t\tvar s = this.coords.start, m = event.page, box = this.coords.box = {}, c = this.coords.container;\n\n\t\tif(this.container){ m.y -= this.offset.top; m.x -= this.offset.left; }\n\n\t\tvar f = this.flip = { y : (s.y > m.y), x : (s.x > m.x) }; // flipping orgin? compare start to move\n\t\tbox.y = (f.y) ? [m.y,s.y] : [s.y, m.y]; // order y\n\t\tbox.x = (f.x) ? [m.x,s.x] : [s.x, m.x]; // order x\n\n\t\tif(this.options.contain){\n\t\t\tif(box.y[0] < c.y[0] ) box.y[0] = c.y[0]; // constrain top\n\t\t\tif(box.y[1] > c.y[1] ) box.y[1] = c.y[1]; // constrain bottom\n\t\t\tif(box.x[0] < c.x[0] ) box.x[0] = c.x[0]; // constrain left\n\t\t\tif(box.x[1] > c.x[1] ) box.x[1] = c.x[1]; // constrain right\n\t\t}\n\n\t\tif(this.options.max){ // max width & height\n\t\t\tif( box.x[1] - box.x[0] > this.options.max[0]){ // width is larger then max, fix\n\t\t\t\tif(f.x) box.x[0] = box.x[1] - this.options.max[0]; // if flipped\n\t\t\t\telse box.x[1] = box.x[0] + this.options.max[0]; // if normal\n\t\t\t}\n\t\t\tif( box.y[1] - box.y[0] > this.options.max[1]){ // height is larger then max, fix\n\t\t\t\tif(f.y) box.y[0] = box.y[1] - this.options.max[1]; // if flipped\n\t\t\t\telse box.y[1] = box.y[0] + this.options.max[1];  // if normal\n\t\t\t}\n\t\t}\n\n\t\t// ratio constraints\n\t\tif(this.options.ratio){\n\t\t\tvar ratio = this.options.ratio;\n\t\t\t// get width/height divide by ratio\n\t\t\tvar r = { x  : (box.x[1] - box.x[0]) / ratio[0],  y  : (box.y[1] - box.y[0]) / ratio[1] };\n\t\t\tif(r.x > r.y){ // if width ratio is bigger fix width\n\t\t\t\tif(f.x) box.x[0] =  box.x[1] - (r.y * ratio[0]); // if flipped width fix\n\t\t\t\telse  \tbox.x[1] =  box.x[0] + (r.y * ratio[0]); // normal width fix\n\t\t\t} else if( r.x < r.y){ // if height ratio is bigger fix height\n\t\t\t\tif(f.y) box.y[0] =  box.y[1] - (r.x * ratio[1]); // if flipped height fix\n\t\t\t\telse \tbox.y[1] =  box.y[0] + (r.x * ratio[1]); // normal height fix\n\t\t\t}\n\t\t}\n\n\t\tthis.refresh();\n\t\treturn true;\n\t},\n\n\trefresh : function(){\n\t\tvar c = this.coords, box = this.coords.box, cc = this.coords.container;\n\t\tc.w = box.x[1] - box.x[0];\n\t\tc.h = box.y[1] - box.y[0];\n\t\tc.top = box.y[0];\n\t\tc.left = box.x[0];\n\t\tthis.box.setStyles({'display' : 'block',  'top' : c.top, 'left' : c.left, 'width' : c.w, 'height' : c.h });\n\t\tthis.fireEvent('resize',this.getRelativeCoords());\n\t},\n\n\tend : function(event){\n\t\tif(!this.active) return false;\n\t\tthis.active = false;\n\t\tdocument.removeEvents({ 'mousemove' : this.binds.move, 'mouseup' : this.binds.end });\n\t\tif(this.options.autoHide) this.resetCoords();\n\t\telse if(this.options.min){\n\t\t\tif(this.coords.w < this.options.min[0] || this.coords.h < this.options.min[1]) this.resetCoords();\n\t\t}\n\t\tvar ret = (this.options.autoHide) ? null : this.getRelativeCoords();\n\t\tthis.fireEvent('complete',ret);\n\t\treturn true;\n\t},\n\n\tsetStartCoords : function(coords){\n\t\tif(this.container){ coords.y -= this.offset.top; coords.x -= this.offset.left; }\n\t\tthis.coords.start = coords;  this.coords.w = 0; this.coords.h = 0;\n\t\tthis.box.setStyles({ 'display' : 'block', 'top' : this.coords.start.y, 'left' : this.coords.start.x });\n\t},\n\n\tresetCoords : function(){\n\t\tthis.coords = { start : {x : 0, y : 0}, move : {x : 0, y : 0}, end : {x: 0, y: 0}, w: 0, h: 0};\n\t\tthis.box.setStyles({'display' : 'none', 'top' : 0, 'left' : 0, 'width' : 0, 'height' : 0});\n\t\tthis.getContainCoords();\n\t},\n\n\tgetRelativeCoords : function(){\n\t\tvar box = this.coords.box, cc = $merge(this.coords.container), c = this.coords;\n\t\tif(!this.options.contain) cc = { x : [0,0], y : [0,0]};\n\t\treturn { x : (box.x[0] - cc.x[0]).toInt(), y : (box.y[0] - cc.y[0]).toInt(), w : (c.w).toInt(), h : (c.h).toInt() };\n\t},\n\n\tgetContainCoords : function(){\n\t\tvar tc = this.trigger.getCoordinates(this.container);\n\t\tthis.coords.container = { y : [tc.top,tc.top+tc.height], x : [tc.left,tc.left+tc.width] }; // FIXME\n\t},\n\n\tgetRelativeOffset : function(){\n\t\tthis.offset = this.container.getCoordinates();\n\t},\n\n\treset : function(){\n\t\tthis.detach();\n\t}\n\n});\n\nLasso.Crop = new Class({\n\n\tExtends : Lasso,\n\n\toptions : {\n\t\tautoHide : false,\n\t\tcropMode : true,\n\t\tcontain : true,\n\t\thandleSize : 8,\n\t\tpreset : false,\n\t\thandleStyle : { 'border' : '1px solid #000', 'background-color' : '#ccc' , opacity : .75  }\n\t},\n\n\tinitialize : function(img,options){\n\n\t\tthis.img = $(img);\n\t\tif(this.img.get('tag') != 'img') return false;\n\n\t\tvar coords = this.img.getCoordinates();\n\t\tthis.container = new Element('div',{\n\t\t\t'styles' : { 'position' : 'relative', 'width' : coords.width, 'height' : coords.height, 'background' : 'url('+this.img.get('src')+') no-repeat', 'background-size': '100%' }\n\t\t}).inject(this.img,'after');\n\n\t\tthis.img.setStyle('display','none');\n\n\t\toptions.p = this.container;\n\t\tthis.crop = new Element('img',{\n\t\t\t'src' : this.img.get('src'),\n\t\t\tstyles : { 'position' : 'absolute', 'top' : 0, 'left' : 0, 'width' : coords.width, 'height' : coords.height, 'padding' : 0, 'margin' : 0, 'z-index' : this.options.zindex-1 }\n\t\t}).inject(this.container /*document.body*/);\n\n\t\tthis.parent(options);\n\n\t\tthis.binds.handleMove = this.handleMove.bind(this);\n\t\tthis.binds.handleEnd = this.handleEnd.bind(this);\n\t\tthis.binds.handles = {};\n\n\t\tthis.handles = {}; // stores resize handler elements\n\t\t// important! this setup a matrix for each handler, patterns emerge when broken into 3x3 grid. Faster/easier processing.\n\t\tthis.handlesGrid = { 'NW':[0,0], 'N':[0,1], 'NE':[0,2], 'W':[1,0], 'E':[1,2], 'SW':[2,0], 'S':[2,1], 'SE':[2,2] };\n\t\t// this could be more elegant!\n\t\t['NW','N','NE','W','E','SW','S','SE'].each(function(handle){\n\t\t\tvar grid = this.handlesGrid[handle]; // grab location in matrix\n\t\t\tthis.binds.handles[handle] = this.handleStart.bindWithEvent(this,[handle,grid[0],grid[1]]); // bind\n\t\t\tthis.handles[handle] = new Element(\"div\", {\n\t\t\t'styles' : $merge({ 'position' : 'absolute',\n\t\t\t\t\t\t 'display' : 'block',\n\t\t\t\t\t\t 'visibility' : 'hidden',\n\t\t\t\t\t\t 'width' : this.options.handleSize,\n\t\t\t\t\t\t 'height' : this.options.handleSize,\n\t\t\t\t\t\t 'overflow' : 'hidden',\n\t\t\t\t\t\t 'cursor' : (handle.toLowerCase()+'-resize'),\n\t\t\t\t\t\t 'z-index' : this.options.zindex+2\n\t\t\t\t\t  },this.options.handleStyle),\n\t\t\t'events' : { 'mousedown' : this.binds.handles[handle] }\n\t\t\t}).inject(this.box,'bottom');\n\t\t},this);\n\n\t\tthis.binds.drag = this.handleStart.bindWithEvent(this,['DRAG',1,1]);\n\t\tthis.overlay.addEvent('mousedown', this.binds.drag);\n\n\t\tthis.setDefault();\n\t},\n\n\tsetDefault : function(){\n\t\tif(!this.options.preset) return this.resetCoords();\n\t\tthis.getContainCoords();\n\t\tthis.getRelativeOffset();\n\t\tvar c = this.coords.container, d = this.options.preset;\n\t\tthis.coords.start = { x : d[0], y : d[1]};\n\t\tthis.active = true;\n\t\tthis.move({ page : { x: d[2]+this.offset.left, y: d[3]+this.offset.top}});\n\t\tthis.active = false;\n\t},\n\n\thandleStart : function(event,handle,row,col){\n\t\tthis.currentHandle = { 'handle' : handle, 'row' : row, 'col' : col}; // important! used for easy matrix transforms.\n\t\tdocument.addEvents({'mousemove' : this.binds.handleMove, 'mouseup' : this.binds.handleEnd});\n\t\t// had to merge because we don't want to effect the class instance of box. we want to record it\n\t\tevent.page.y -= this.offset.top; event.page.x -= this.offset.left;\n\t\tthis.coords.hs = { 's' : event.page, 'b' : $merge(this.coords.box) }; // handler start (used for 'DRAG')\n\t\tthis.active = true;\n\t},\n\n\thandleMove : function(event){\n\t\tvar box = this.coords.box, c = this.coords.container, m = event.page, cur = this.currentHandle, s = this.coords.start;\n\t\tm.y -= this.offset.top; m.x -= this.offset.left;\n\t\tif(cur.handle == 'DRAG'){ // messy? could probably be optimized.\n\t\t\tvar hs = this.coords.hs, xm = m.x - hs.s.x, ym = m.y - hs.s.y, diff;\n\t\t\tbox.y[0] = hs.b.y[0] + ym; box.y[1] = hs.b.y[1] + ym;\n\t\t\tbox.x[0] = hs.b.x[0] + xm; box.x[1] = hs.b.x[1] + xm;\n\t\t\tif((diff = box.y[0] - c.y[0]) < 0) { box.y[0] -= diff; box.y[1] -= diff; } // constrains drag North\n\t\t\tif((diff = box.y[1] - c.y[1]) > 0) { box.y[0] -= diff; box.y[1] -= diff; } // constrains drag South\n\t\t\tif((diff = box.x[0] - c.x[0]) < 0) { box.x[0] -= diff; box.x[1] -= diff; } // constrains drag West\n\t\t\tif((diff = box.x[1] - c.x[1]) > 0) { box.x[0] -= diff; box.x[1] -= diff; } // constrains drag East\n \t\t\treturn this.refresh();\n\t\t}\n\n\t\t// handles flipping ( nw handle behaves like a se when past the orgin )\n\t\tif(cur.row == 0 && box.y[1] < m.y){ cur.row = 2; } \t\t// fixes North passing South\n\t\tif(cur.row == 2 && box.y[0] > m.y){ cur.row = 0; } \t\t// fixes South passing North\n\t\tif(cur.col == 0 && box.x[1] < m.x){ cur.col = 2; } \t\t// fixes West passing East\n\t\tif(cur.col == 2 && box.x[0] > m.x){ cur.col = 0; } \t\t// fixes East passing West\n\n\t\tif(cur.row == 0 || cur.row == 2){ // if top or bottom row ( center e,w are special case)\n\t\t\ts.y = (cur.row) ? box.y[0] : box.y[1]; \t\t\t\t// set start.y opposite of current direction ( anchor )\n\t\t\tif(cur.col == 0){ s.x = box.x[1]; } \t\t\t\t// if West side anchor East\n\t\t\tif(cur.col == 1){ s.x = box.x[0]; m.x = box.x[1]; } // if center lock width\n\t\t\tif(cur.col == 2){ s.x = box.x[0]; } \t\t\t\t// if East side anchor West\n\t\t}\n\n\t\tif(!this.options.ratio){ // these handles only apply when ratios are not in effect. center handles don't makes sense on ratio\n\t\t\tif(cur.row == 1){ // sanity check make sure we are dealing with the right handler\n\t\t\t\tif(cur.col == 0){ s.y = box.y[0]; m.y = box.y[1]; s.x = box.x[1]; }\t\t// if West lock height anchor East\n\t\t\t\telse if(cur.col == 2){ s.y = box.y[0]; m.y = box.y[1]; s.x = box.x[0]; }// if East lock height anchor West\n\t\t\t}\n\t\t}\n\t\tm.y += this.offset.top; m.x += this.offset.left;\n\t\tthis.move(event); // now that we manipulated event pass it to move to manage.\n\t},\n\n\thandleEnd : function(event){\n\t\tdocument.removeEvents({'mousemove' : this.binds.handleMove, 'mouseup' : this.binds.handleEnd});\n\t\tthis.active = false;\n\t\tthis.currentHandle = false;\n\t\tif(this.options.min && (this.coords.w < this.options.min[0] || this.coords.h < this.options.min[1])){\n\t\t\tif(this.options.preset) this.setDefault();\n\t\t\telse this.resetCoords();\n\t\t}\n\t},\n\n\tend : function(event){\n\t\tif(!this.parent(event)) return false;\n\t\tif(this.options.min && (this.coords.w < this.options.min[0] || this.coords.h < this.options.min[1])){\n\t\t\tthis.setDefault();\n\t\t}\n\t},\n\n\tresetCoords : function(){\n\t\tthis.parent();\n\t\tthis.coords.box = { x : [0,0], y : [0,0]};\n\t\tthis.hideHandlers();\n\t\tthis.crop.setStyle('clip', 'rect(0px 0px 0px 0px)');\n\t},\n\n\tshowHandlers : function(){\n\t\tvar box = this.coords.box;\n\n\t\tif(this.options.min && (this.coords.w < this.options.min[0] || this.coords.h < this.options.min[1])) this.hideHandlers();\n\n\t\telse {\n\t\t\tvar tops = [], lefts = [], pxdiff = (this.options.handleSize / 2)+1; // used to store location of handlers\n\t\t\tfor(var cell = 0, cells = 2; cell <= cells; cell++ ){  // using matrix again\n\t\t\t\ttops[cell] = ( (cell == 0) ? 0 : ((cell == 2) ? box.y[1] - box.y[0] : (box.y[1] - box.y[0])/2  ) ) - pxdiff;\n\t\t\t\tlefts[cell] = ( (cell == 0) ? 0 : ((cell == 2) ? box.x[1] - box.x[0] : (box.x[1] - box.x[0])/2 ) ) - pxdiff;\n\t\t\t}\n\n\t\t\tfor(var handleID in this.handlesGrid){ // get each handler's matrix location\n\t\t\t\tvar grid = this.handlesGrid[handleID], handle = this.handles[handleID];\n\t\t\t\tif(!this.options.ratio || (grid[0] != 1 && grid[1] != 1)){ // if no ratio or not N,E,S,W show\n\t\t\t\t\tif(this.options.min && this.options.max){\n\t\t\t\t\t\tif((this.options.min[0] == this.options.max[0]) && (grid[1] % 2) == 0) continue; // turns off W&E since width is set\n\t\t\t\t\t\tif(this.options.min[1] == this.options.max[1] && (grid[0] % 2) == 0) continue;  // turns off N&S since height is set\n\t\t\t\t\t}\n\t\t\t\t\thandle.setStyles({'visibility' : 'visible', 'top' : tops[grid[0]], 'left' : lefts[grid[1]] }); // just grab from grid\n\t\t\t\t}\n\t\t\t}\n\t   }\n\t},\n\n\thideHandlers : function(){\n\t\tfor(handle in this.handles){ this.handles[handle].setStyle('visibility','hidden'); }\n\t},\n\n\trefresh : function(){\n\t\tthis.parent();\n\t\tvar box = this.coords.box, cc = this.coords.container;\n\n\t\tif(Browser.Engine.trident && Browser.Engine.version < 5 && this.currentHandle && this.currentHandle.col === 1)\n\t\t\t\tthis.overlay.setStyle('width' , '100.1%').setStyle('width','100%');\n\n\t\tthis.crop.setStyle('clip' , 'rect('+(box.y[0])+'px '+(box.x[1])+'px '+(box.y[1])+'px '+(box.x[0])+'px )' );\n\t\tthis.showHandlers();\n\t}\n\n});\n","!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n():\"function\"==typeof define&&define.amd?define(n):n()}(0,function(){\"use strict\";function e(){}function n(e){if(!(this instanceof n))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if(\"function\"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=setTimeout;n.prototype[\"catch\"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype[\"finally\"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&(\"object\"==typeof f||\"function\"==typeof f)){var u=f.then;if(\"function\"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||\"undefined\"==typeof e.length)throw new TypeError(\"Promise.all accepts an array\");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn=\"function\"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var c=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(\"undefined\"!=typeof global)return global;throw Error(\"unable to locate global object\")}();c.Promise||(c.Promise=n)});\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.Immutable=e()}(this,function(){\"use strict\";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:O(t)}function r(t){return u(t)?t:x(t)}function n(t){return s(t)?t:k(t)}function i(t){return o(t)&&!a(t)?t:A(t)}function o(t){return!(!t||!t[ar])}function u(t){return!(!t||!t[hr])}function s(t){return!(!t||!t[fr])}function a(t){return u(t)||s(t)}function h(t){return!(!t||!t[cr])}function f(t){return t.value=!1,t}function c(t){t&&(t.value=!0)}function _(){}function p(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=Array(r),i=0;r>i;i++)n[i]=t[i+e];return n}function v(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function l(t,e){if(\"number\"!=typeof e){var r=e>>>0;if(\"\"+r!==e||4294967295===r)return NaN;e=r}return 0>e?v(t)+e:e}function y(){return!0}function d(t,e,r){return(0===t||void 0!==r&&-r>=t)&&(void 0===e||void 0!==r&&e>=r)}function m(t,e){return w(t,e,0)}function g(t,e){return w(t,e,e)}function w(t,e,r){return void 0===t?r:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function S(t){this.next=t}function z(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function I(){return{value:void 0,done:!0}}function b(t){return!!M(t)}function q(t){return t&&\"function\"==typeof t.next}function D(t){var e=M(t);return e&&e.call(t)}function M(t){var e=t&&(zr&&t[zr]||t[Ir]);return\"function\"==typeof e?e:void 0}function E(t){return t&&\"number\"==typeof t.length}function O(t){return null===t||void 0===t?T():o(t)?t.toSeq():C(t)}function x(t){return null===t||void 0===t?T().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():B(t)}function k(t){return null===t||void 0===t?T():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():W(t)}function A(t){return(null===t||void 0===t?T():o(t)?u(t)?t.entrySeq():t:W(t)).toSetSeq()}function j(t){this._array=t,this.size=t.length}function R(t){var e=Object.keys(t);this._object=t,this._keys=e,\nthis.size=e.length}function U(t){this._iterable=t,this.size=t.length||t.size}function K(t){this._iterator=t,this._iteratorCache=[]}function L(t){return!(!t||!t[qr])}function T(){return Dr||(Dr=new j([]))}function B(t){var e=Array.isArray(t)?new j(t).fromEntrySeq():q(t)?new K(t).fromEntrySeq():b(t)?new U(t).fromEntrySeq():\"object\"==typeof t?new R(t):void 0;if(!e)throw new TypeError(\"Expected Array or iterable object of [k, v] entries, or keyed object: \"+t);return e}function W(t){var e=J(t);if(!e)throw new TypeError(\"Expected Array or iterable object of values: \"+t);return e}function C(t){var e=J(t)||\"object\"==typeof t&&new R(t);if(!e)throw new TypeError(\"Expected Array or iterable object of values, or keyed object: \"+t);return e}function J(t){return E(t)?new j(t):q(t)?new K(t):b(t)?new U(t):void 0}function N(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;o>=u;u++){var s=i[r?o-u:u];if(e(s[1],n?s[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,r)}function P(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new S(function(){var t=i[r?o-u:u];return u++>o?I():z(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function H(t,e){return e?V(e,t,\"\",{\"\":t}):Y(t)}function V(t,e,r,n){return Array.isArray(e)?t.call(n,r,k(e).map(function(r,n){return V(t,r,n,e)})):Q(e)?t.call(n,r,x(e).map(function(r,n){return V(t,r,n,e)})):e}function Y(t){return Array.isArray(t)?k(t).map(Y).toList():Q(t)?x(t).map(Y).toMap():t}function Q(t){return t&&(t.constructor===Object||void 0===t.constructor)}function X(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(\"function\"==typeof t.valueOf&&\"function\"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return\"function\"==typeof t.equals&&\"function\"==typeof e.equals&&t.equals(e)?!0:!1}function F(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||s(t)!==s(e)||h(t)!==h(e))return!1;if(0===t.size&&0===e.size)return!0;\nvar r=!a(t);if(h(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&X(i[1],t)&&(r||X(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)\"function\"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var c=!0,_=e.__iterate(function(e,n){return(r?t.has(e):i?X(e,t.get(n,yr)):X(t.get(n,yr),e))?void 0:(c=!1,!1)});return c&&t.size===_}function G(t,e){if(!(this instanceof G))return new G(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Mr)return Mr;Mr=this}}function Z(t,e){if(!t)throw Error(e)}function $(t,e,r){if(!(this instanceof $))return new $(t,e,r);if(Z(0!==r,\"Cannot step a Range by 0\"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),t>e&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Er)return Er;Er=this}}function tt(){throw TypeError(\"Abstract\")}function et(){}function rt(){}function nt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if(\"function\"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if(\"number\"===e){if(t!==t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)t/=4294967295,r^=t;return it(r)}if(\"string\"===e)return t.length>Kr?ut(t):st(t);if(\"function\"==typeof t.hashCode)return t.hashCode();if(\"object\"===e)return at(t);if(\"function\"==typeof t.toString)return st(\"\"+t);throw Error(\"Value type \"+e+\" cannot be hashed.\")}function ut(t){var e=Br[t];return void 0===e&&(e=st(t),Tr===Lr&&(Tr=0,Br={}),Tr++,Br[t]=e),e}function st(t){for(var e=0,r=0;t.length>r;r++)e=31*e+t.charCodeAt(r)|0;return it(e)}function at(t){var e;if(jr&&(e=Or.get(t),void 0!==e))return e;if(e=t[Ur],void 0!==e)return e;if(!Ar){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ur],void 0!==e)return e;if(e=ht(t),void 0!==e)return e}if(e=++Rr,1073741824&Rr&&(Rr=0),jr)Or.set(t,e);else{if(void 0!==kr&&kr(t)===!1)throw Error(\"Non-extensible objects are not allowed as keys.\");\nif(Ar)Object.defineProperty(t,Ur,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ur]=e;else{if(void 0===t.nodeType)throw Error(\"Unable to set a non-enumerable property on object.\");t[Ur]=e}}return e}function ht(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Z(t!==1/0,\"Cannot perform this action with an infinite size.\")}function ct(t){return null===t||void 0===t?zt():_t(t)&&!h(t)?t:zt().withMutations(function(e){var n=r(t);ft(n.size),n.forEach(function(t,r){return e.set(r,t)})})}function _t(t){return!(!t||!t[Wr])}function pt(t,e){this.ownerID=t,this.entries=e}function vt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function lt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function yt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function dt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function mt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&wt(t._root)}function gt(t,e){return z(t,e[0],e[1])}function wt(t,e){return{node:t,index:0,__prev:e}}function St(t,e,r,n){var i=Object.create(Cr);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function zt(){return Jr||(Jr=St(0))}function It(t,e,r){var n,i;if(t._root){var o=f(dr),u=f(mr);if(n=bt(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===yr?-1:1:0)}else{if(r===yr)return t;i=1,n=new pt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?St(i,n):zt()}function bt(t,e,r,n,i,o,u,s){return t?t.update(e,r,n,i,o,u,s):o===yr?t:(c(s),c(u),new dt(e,n,[i,o]))}function qt(t){return t.constructor===dt||t.constructor===yt}function Dt(t,e,r,n,i){if(t.keyHash===n)return new yt(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&lr,s=(0===r?n:n>>>r)&lr,a=u===s?[Dt(t,e,r+pr,n,i)]:(o=new dt(e,n,i),\ns>u?[t,o]:[o,t]);return new vt(e,1<<u|1<<s,a)}function Mt(t,e,r,n){t||(t=new _);for(var i=new dt(t,ot(r),[r,n]),o=0;e.length>o;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function Et(t,e,r,n){for(var i=0,o=0,u=Array(r),s=0,a=1,h=e.length;h>s;s++,a<<=1){var f=e[s];void 0!==f&&s!==n&&(i|=a,u[o++]=f)}return new vt(t,i,u)}function Ot(t,e,r,n,i){for(var o=0,u=Array(vr),s=0;0!==r;s++,r>>>=1)u[s]=1&r?e[o++]:void 0;return u[n]=i,new lt(t,o+1,u)}function xt(t,e,n){for(var i=[],u=0;n.length>u;u++){var s=n[u],a=r(s);o(s)||(a=a.map(function(t){return H(t)})),i.push(a)}return jt(t,e,i)}function kt(t,e,r){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):X(t,e)?t:e}function At(t){return function(e,r,n){if(e&&e.mergeDeepWith&&o(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return X(e,i)?e:i}}function jt(t,e,r){return r=r.filter(function(t){return 0!==t.size}),0===r.length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,yr,function(t){return t===yr?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;r.length>i;i++)r[i].forEach(n)}):t.constructor(r[0])}function Rt(t,e,r,n){var i=t===yr,o=e.next();if(o.done){var u=i?r:t,s=n(u);return s===u?t:s}Z(i||t&&t.set,\"invalid keyPath\");var a=o.value,h=i?yr:t.get(a,yr),f=Rt(h,e,r,n);return f===h?t:f===yr?t.remove(a):(i?zt():t).set(a,f)}function Ut(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Kt(t,e,r,n){var i=n?t:p(t);return i[e]=r,i}function Lt(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=Array(i),u=0,s=0;i>s;s++)s===e?(o[s]=r,u=-1):o[s]=t[s+u];return o}function Tt(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=Array(n),o=0,u=0;n>u;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Bt(t){var e=Pt();if(null===t||void 0===t)return e;if(Wt(t))return t;var r=n(t),i=r.size;return 0===i?e:(ft(i),i>0&&vr>i?Nt(0,i,pr,null,new Ct(r.toArray())):e.withMutations(function(t){t.setSize(i),r.forEach(function(e,r){return t.set(r,e)})}))}function Wt(t){\nreturn!(!t||!t[Vr])}function Ct(t,e){this.array=t,this.ownerID=e}function Jt(t,e){function r(t,e,r){return 0===e?n(t,r):i(t,e,r)}function n(t,r){var n=r===s?a&&a.array:t&&t.array,i=r>o?0:o-r,h=u-r;return h>vr&&(h=vr),function(){if(i===h)return Xr;var t=e?--h:i++;return n&&n[t]}}function i(t,n,i){var s,a=t&&t.array,h=i>o?0:o-i>>n,f=(u-i>>n)+1;return f>vr&&(f=vr),function(){for(;;){if(s){var t=s();if(t!==Xr)return t;s=null}if(h===f)return Xr;var o=e?--f:h++;s=r(a&&a[o],n-pr,i+(o<<n))}}}var o=t._origin,u=t._capacity,s=Gt(u),a=t._tail;return r(t._root,t._level,0)}function Nt(t,e,r,n,i,o,u){var s=Object.create(Yr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function Pt(){return Qr||(Qr=Nt(0,0,pr))}function Ht(t,e,r){if(e=l(t,e),e!==e)return t;if(e>=t.size||0>e)return t.withMutations(function(t){0>e?Xt(t,e).set(0,r):Xt(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=f(mr);return e>=Gt(t._capacity)?n=Vt(n,t.__ownerID,0,e,r,o):i=Vt(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Nt(t._origin,t._capacity,t._level,i,n):t}function Vt(t,e,r,n,i,o){var u=n>>>r&lr,s=t&&t.array.length>u;if(!s&&void 0===i)return t;var a;if(r>0){var h=t&&t.array[u],f=Vt(h,e,r-pr,n,i,o);return f===h?t:(a=Yt(t,e),a.array[u]=f,a)}return s&&t.array[u]===i?t:(c(o),a=Yt(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Yt(t,e){return e&&t&&e===t.ownerID?t:new Ct(t?t.array.slice():[],e)}function Qt(t,e){if(e>=Gt(t._capacity))return t._tail;if(1<<t._level+pr>e){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&lr],n-=pr;return r}}function Xt(t,e,r){void 0!==e&&(e=0|e),void 0!==r&&(r=0|r);var n=t.__ownerID||new _,i=t._origin,o=t._capacity,u=i+e,s=void 0===r?o:0>r?o+r:i+r;if(u===i&&s===o)return t;if(u>=s)return t.clear();for(var a=t._level,h=t._root,f=0;0>u+f;)h=new Ct(h&&h.array.length?[void 0,h]:[],n),a+=pr,f+=1<<a;f&&(u+=f,i+=f,s+=f,o+=f);for(var c=Gt(o),p=Gt(s);p>=1<<a+pr;)h=new Ct(h&&h.array.length?[h]:[],n),\na+=pr;var v=t._tail,l=c>p?Qt(t,s-1):p>c?new Ct([],n):v;if(v&&p>c&&o>u&&v.array.length){h=Yt(h,n);for(var y=h,d=a;d>pr;d-=pr){var m=c>>>d&lr;y=y.array[m]=Yt(y.array[m],n)}y.array[c>>>pr&lr]=v}if(o>s&&(l=l&&l.removeAfter(n,0,s)),u>=p)u-=p,s-=p,a=pr,h=null,l=l&&l.removeBefore(n,0,u);else if(u>i||c>p){for(f=0;h;){var g=u>>>a&lr;if(g!==p>>>a&lr)break;g&&(f+=(1<<a)*g),a-=pr,h=h.array[g]}h&&u>i&&(h=h.removeBefore(n,a,u-f)),h&&c>p&&(h=h.removeAfter(n,a,p-f)),f&&(u-=f,s-=f)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=h,t._tail=l,t.__hash=void 0,t.__altered=!0,t):Nt(u,s,a,h,l)}function Ft(t,e,r){for(var i=[],u=0,s=0;r.length>s;s++){var a=r[s],h=n(a);h.size>u&&(u=h.size),o(a)||(h=h.map(function(t){return H(t)})),i.push(h)}return u>t.size&&(t=t.setSize(u)),jt(t,e,i)}function Gt(t){return vr>t?0:t-1>>>pr<<pr}function Zt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var n=r(t);ft(n.size),n.forEach(function(t,r){return e.set(r,t)})})}function $t(t){return _t(t)&&h(t)}function te(t,e,r,n){var i=Object.create(Zt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function ee(){return Fr||(Fr=te(zt(),Pt()))}function re(t,e,r){var n,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(r===yr){if(!a)return t;u.size>=vr&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&s!==e}),n=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(r===u.get(s)[1])return t;n=o,i=u.set(s,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):te(n,i)}function ne(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function se(t){var e=Ee(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);\nreturn e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Oe,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return e(r,t,n)!==!1},r)},e.__iteratorUncached=function(e,r){if(e===Sr){var n=t.__iterator(e,r);return new S(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wr?gr:wr,r)},e}function ae(t,e,r){var n=Ee(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,yr);return o===yr?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,u){return n(e.call(r,t,i,u),i,o)!==!1},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(Sr,i);return new S(function(){var i=o.next();if(i.done)return i;var u=i.value,s=u[0];return z(n,s,e.call(r,u[1],s,t),i)})},n}function he(t,e){var r=Ee(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=Oe,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function fe(t,e,r,n){var i=Ee(t);return n&&(i.has=function(n){var i=t.get(n,yr);return i!==yr&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,yr);return o!==yr&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,s=0;return t.__iterate(function(t,o,a){return e.call(r,t,o,a)?(s++,i(t,n?o:s-1,u)):void 0},o),s},i.__iteratorUncached=function(i,o){var u=t.__iterator(Sr,o),s=0;return new S(function(){for(;;){var o=u.next();if(o.done)return o;var a=o.value,h=a[0],f=a[1];if(e.call(r,f,h,t))return z(i,n?h:s++,f,o)}})},i}function ce(t,e,r){var n=ct().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){\nreturn t+1})}),n.asImmutable()}function _e(t,e,r){var n=u(t),i=(h(t)?Zt():ct()).asMutable();t.__iterate(function(o,u){i.update(e.call(r,o,u,t),function(t){return t=t||[],t.push(n?[u,o]:o),t})});var o=Me(t);return i.map(function(e){return be(t,o(e))})}function pe(t,e,r,n){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==r&&(r=r===1/0?i:0|r),d(e,r,i))return t;var o=m(e,i),u=g(r,i);if(o!==o||u!==u)return pe(t.toSeq().cacheResult(),e,r,n);var s,a=u-o;a===a&&(s=0>a?0:a);var h=Ee(t);return h.size=0===s?s:t.size&&s||void 0,!n&&L(t)&&s>=0&&(h.get=function(e,r){return e=l(this,e),e>=0&&s>e?t.get(e+o,r):r}),h.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var u=0,a=!0,h=0;return t.__iterate(function(t,r){return a&&(a=u++<o)?void 0:(h++,e(t,n?r:h-1,i)!==!1&&h!==s)}),h},h.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),u=0,a=0;return new S(function(){for(;u++<o;)i.next();if(++a>s)return I();var t=i.next();return n||e===wr?t:e===gr?z(e,a-1,void 0,t):z(e,a-1,t.value[1],t)})},h}function ve(t,e,r){var n=Ee(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,s){return e.call(r,t,i,s)&&++u&&n(t,i,o)}),u},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(Sr,i),s=!0;return new S(function(){if(!s)return I();var t=u.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,o)?n===Sr?t:z(n,a,h,t):(s=!1,I())})},n}function le(t,e,r,n){var i=Ee(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,a=0;return t.__iterate(function(t,o,h){return s&&(s=e.call(r,t,o,h))?void 0:(a++,i(t,n?o:a-1,u))}),a},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(Sr,o),a=!0,h=0;return new S(function(){var t,o,f;do{if(t=s.next(),t.done)return n||i===wr?t:i===gr?z(i,h++,void 0,t):z(i,h++,t.value[1],t);\nvar c=t.value;o=c[0],f=c[1],a&&(a=e.call(r,f,o,u))}while(a);return i===Sr?t:z(i,o,f,t)})},i}function ye(t,e){var n=u(t),i=[t].concat(e).map(function(t){return o(t)?n&&(t=r(t)):t=n?B(t):W(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var a=i[0];if(a===t||n&&u(a)||s(t)&&s(a))return a}var h=new j(i);return n?h=h.toKeyedSeq():s(t)||(h=h.toSetSeq()),h=h.flatten(!0),h.size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),h}function de(t,e,r){var n=Ee(t);return n.__iterateUncached=function(n,i){function u(t,h){var f=this;t.__iterate(function(t,i){return(!e||e>h)&&o(t)?u(t,h+1):n(t,r?i:s++,f)===!1&&(a=!0),!a},i)}var s=0,a=!1;return u(t,0),s},n.__iteratorUncached=function(n,i){var u=t.__iterator(n,i),s=[],a=0;return new S(function(){for(;u;){var t=u.next();if(t.done===!1){var h=t.value;if(n===Sr&&(h=h[1]),e&&!(e>s.length)||!o(h))return r?t:z(n,a++,h,t);s.push(u),u=h.__iterator(n,i)}else u=s.pop()}return I()})},n}function me(t,e,r){var n=Me(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}function ge(t,e){var r=Ee(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||r(e,o++,i)!==!1)&&r(t,o++,i)!==!1},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(wr,n),u=0;return new S(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?z(r,u++,e):z(r,u++,i.value,i)})},r}function we(t,e,r){e||(e=xe);var n=u(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?x(o):s(t)?k(o):A(o)}function Se(t,e,r){if(e||(e=xe),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return ze(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return ze(e,t,r)?r:t})}function ze(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(void 0===r||null===r||r!==r)||n>0}function Ie(t,r,n){\nvar i=Ee(t);return i.size=new j(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(wr,e),i=0;!(r=n.next()).done&&t(r.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=e(t),D(i?t.reverse():t)}),u=0,s=!1;return new S(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?I():z(t,u++,r.apply(null,e.map(function(t){return t.value})))})},i}function be(t,e){return L(t)?e:t.constructor(e)}function qe(t){if(t!==Object(t))throw new TypeError(\"Expected [K, V] tuple: \"+t)}function De(t){return ft(t.size),v(t)}function Me(t){return u(t)?r:s(t)?n:i}function Ee(t){return Object.create((u(t)?x:s(t)?k:A).prototype)}function Oe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):O.prototype.cacheResult.call(this)}function xe(t,e){return t>e?1:e>t?-1:0}function ke(t){var r=D(t);if(!r){if(!E(t))throw new TypeError(\"Expected iterable or array-like: \"+t);r=D(e(t))}return r}function Ae(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var u=Object.keys(t);Ue(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=ct(o)},i=n.prototype=Object.create(Gr);return i.constructor=n,n}function je(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function Re(t){return t._name||t.constructor.name||\"Record\"}function Ue(t,e){try{e.forEach(Ke.bind(void 0,t))}catch(r){}}function Ke(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,\"Cannot set on an immutable record.\"),this.set(e,t)}})}function Le(t){return null===t||void 0===t?Ce():Te(t)&&!h(t)?t:Ce().withMutations(function(e){var r=i(t);ft(r.size),r.forEach(function(t){return e.add(t)})})}function Te(t){return!(!t||!t[Zr])}function Be(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function We(t,e){var r=Object.create($r);\nreturn r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Ce(){return tn||(tn=We(zt()))}function Je(t){return null===t||void 0===t?He():Ne(t)?t:He().withMutations(function(e){var r=i(t);ft(r.size),r.forEach(function(t){return e.add(t)})})}function Ne(t){return Te(t)&&h(t)}function Pe(t,e){var r=Object.create(en);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function He(){return rn||(rn=Pe(ee()))}function Ve(t){return null===t||void 0===t?Xe():Ye(t)?t:Xe().unshiftAll(t)}function Ye(t){return!(!t||!t[nn])}function Qe(t,e,r,n){var i=Object.create(on);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Xe(){return un||(un=Qe(0))}function Fe(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Ge(t,e){return e}function Ze(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tr(t){return function(){return-t.apply(this,arguments)}}function er(t){return\"string\"==typeof t?JSON.stringify(t):t+\"\"}function rr(){return p(arguments)}function nr(t,e){return e>t?1:t>e?-1:0}function ir(t){if(t.size===1/0)return 0;var e=h(t),r=u(t),n=e?1:0,i=t.__iterate(r?e?function(t,e){n=31*n+ur(ot(t),ot(e))|0}:function(t,e){n=n+ur(ot(t),ot(e))|0}:e?function(t){n=31*n+ot(t)|0}:function(t){n=n+ot(t)|0});return or(i,n)}function or(t,e){return e=xr(e,3432918353),e=xr(e<<15|e>>>-15,461845907),e=xr(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=xr(e^e>>>16,2246822507),e=xr(e^e>>>13,3266489909),e=it(e^e>>>16)}function ur(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sr=Array.prototype.slice;t(r,e),t(n,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=s,e.isAssociative=a,e.isOrdered=h,e.Keyed=r,e.Indexed=n,e.Set=i;var ar=\"@@__IMMUTABLE_ITERABLE__@@\",hr=\"@@__IMMUTABLE_KEYED__@@\",fr=\"@@__IMMUTABLE_INDEXED__@@\",cr=\"@@__IMMUTABLE_ORDERED__@@\",_r=\"delete\",pr=5,vr=1<<pr,lr=vr-1,yr={},dr={value:!1},mr={value:!1},gr=0,wr=1,Sr=2,zr=\"function\"==typeof Symbol&&Symbol.iterator,Ir=\"@@iterator\",br=zr||Ir;\nS.prototype.toString=function(){return\"[Iterator]\"},S.KEYS=gr,S.VALUES=wr,S.ENTRIES=Sr,S.prototype.inspect=S.prototype.toSource=function(){return\"\"+this},S.prototype[br]=function(){return this},t(O,e),O.of=function(){return O(arguments)},O.prototype.toSeq=function(){return this},O.prototype.toString=function(){return this.__toString(\"Seq {\",\"}\")},O.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},O.prototype.__iterate=function(t,e){return N(this,t,e,!0)},O.prototype.__iterator=function(t,e){return P(this,t,e,!0)},t(x,O),x.prototype.toKeyedSeq=function(){return this},t(k,O),k.of=function(){return k(arguments)},k.prototype.toIndexedSeq=function(){return this},k.prototype.toString=function(){return this.__toString(\"Seq [\",\"]\")},k.prototype.__iterate=function(t,e){return N(this,t,e,!1)},k.prototype.__iterator=function(t,e){return P(this,t,e,!1)},t(A,O),A.of=function(){return A(arguments)},A.prototype.toSetSeq=function(){return this},O.isSeq=L,O.Keyed=x,O.Set=A,O.Indexed=k;var qr=\"@@__IMMUTABLE_SEQ__@@\";O.prototype[qr]=!0,t(j,k),j.prototype.get=function(t,e){return this.has(t)?this._array[l(this,t)]:e},j.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;n>=i;i++)if(t(r[e?n-i:i],i,this)===!1)return i+1;return i},j.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new S(function(){return i>n?I():z(t,i,r[e?n-i++:i++])})},t(R,x),R.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},R.prototype.has=function(t){return this._object.hasOwnProperty(t)},R.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;i>=o;o++){var u=n[e?i-o:o];if(t(r[u],u,this)===!1)return o+1}return o},R.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new S(function(){var u=n[e?i-o:o];return o++>i?I():z(t,u,r[u])})},R.prototype[cr]=!0,t(U,k),U.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);\nvar r=this._iterable,n=D(r),i=0;if(q(n))for(var o;!(o=n.next()).done&&t(o.value,i++,this)!==!1;);return i},U.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=D(r);if(!q(n))return new S(I);var i=0;return new S(function(){var e=n.next();return e.done?e:z(t,i++,e.value)})},t(K,k),K.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,i=0;n.length>i;)if(t(n[i],i++,this)===!1)return i;for(var o;!(o=r.next()).done;){var u=o.value;if(n[i]=u,t(u,i++,this)===!1)break}return i},K.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new S(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return z(t,i,n[i++])})};var Dr;t(G,k),G.prototype.toString=function(){return 0===this.size?\"Repeat []\":\"Repeat [ \"+this._value+\" \"+this.size+\" times ]\"},G.prototype.get=function(t,e){return this.has(t)?this._value:e},G.prototype.includes=function(t){return X(this._value,t)},G.prototype.slice=function(t,e){var r=this.size;return d(t,e,r)?this:new G(this._value,g(e,r)-m(t,r))},G.prototype.reverse=function(){return this},G.prototype.indexOf=function(t){return X(this._value,t)?0:-1},G.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},G.prototype.__iterate=function(t,e){for(var r=0;this.size>r;r++)if(t(this._value,r,this)===!1)return r+1;return r},G.prototype.__iterator=function(t,e){var r=this,n=0;return new S(function(){return r.size>n?z(t,n++,r._value):I()})},G.prototype.equals=function(t){return t instanceof G?X(this._value,t._value):F(t)};var Mr;t($,k),$.prototype.toString=function(){return 0===this.size?\"Range []\":\"Range [ \"+this._start+\"...\"+this._end+(1!==this._step?\" by \"+this._step:\"\")+\" ]\"},$.prototype.get=function(t,e){return this.has(t)?this._start+l(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&this.size>e&&e===Math.floor(e);\n},$.prototype.slice=function(t,e){return d(t,e,this.size)?this:(t=m(t,this.size),e=g(e,this.size),t>=e?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var r=e/this._step;if(r>=0&&this.size>r)return r}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;r>=o;o++){if(t(i,o,this)===!1)return o+1;i+=e?-n:n}return o},$.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new S(function(){var u=i;return i+=e?-n:n,o>r?I():z(t,o++,u)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:F(this,t)};var Er;t(tt,e),t(et,tt),t(rt,tt),t(nt,tt),tt.Keyed=et,tt.Indexed=rt,tt.Set=nt;var Or,xr=\"function\"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var r=65535&t,n=65535&e;return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0},kr=Object.isExtensible,Ar=function(){try{return Object.defineProperty({},\"@\",{}),!0}catch(t){return!1}}(),jr=\"function\"==typeof WeakMap;jr&&(Or=new WeakMap);var Rr=0,Ur=\"__immutablehash__\";\"function\"==typeof Symbol&&(Ur=Symbol(Ur));var Kr=16,Lr=255,Tr=0,Br={};t(ct,et),ct.of=function(){var t=sr.call(arguments,0);return zt().withMutations(function(e){for(var r=0;t.length>r;r+=2){if(r+1>=t.length)throw Error(\"Missing value for key: \"+t[r]);e.set(t[r],t[r+1])}})},ct.prototype.toString=function(){return this.__toString(\"Map {\",\"}\")},ct.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ct.prototype.set=function(t,e){return It(this,t,e)},ct.prototype.setIn=function(t,e){return this.updateIn(t,yr,function(){return e})},ct.prototype.remove=function(t){return It(this,t,yr)},ct.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yr})},ct.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r);\n},ct.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=Rt(this,ke(t),e,r);return n===yr?void 0:n},ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):zt()},ct.prototype.merge=function(){return xt(this,void 0,arguments)},ct.prototype.mergeWith=function(t){var e=sr.call(arguments,1);return xt(this,t,e)},ct.prototype.mergeIn=function(t){var e=sr.call(arguments,1);return this.updateIn(t,zt(),function(t){return\"function\"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ct.prototype.mergeDeep=function(){return xt(this,kt,arguments)},ct.prototype.mergeDeepWith=function(t){var e=sr.call(arguments,1);return xt(this,At(t),e)},ct.prototype.mergeDeepIn=function(t){var e=sr.call(arguments,1);return this.updateIn(t,zt(),function(t){return\"function\"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ct.prototype.sort=function(t){return Zt(we(this,t))},ct.prototype.sortBy=function(t,e){return Zt(we(this,e,t))},ct.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ct.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new _)},ct.prototype.asImmutable=function(){return this.__ensureOwner()},ct.prototype.wasAltered=function(){return this.__altered},ct.prototype.__iterator=function(t,e){return new mt(this,t,e)},ct.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},ct.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?St(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ct.isMap=_t;var Wr=\"@@__IMMUTABLE_MAP__@@\",Cr=ct.prototype;Cr[Wr]=!0,Cr[_r]=Cr.remove,Cr.removeIn=Cr.deleteIn,pt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;u>o;o++)if(X(r,i[o][0]))return i[o][1];return n},pt.prototype.update=function(t,e,r,n,i,o,u){for(var s=i===yr,a=this.entries,h=0,f=a.length;f>h&&!X(n,a[h][0]);h++);\nvar _=f>h;if(_?a[h][1]===i:s)return this;if(c(u),(s||!_)&&c(o),!s||1!==a.length){if(!_&&!s&&a.length>=Nr)return Mt(t,a,n,i);var v=t&&t===this.ownerID,l=v?a:p(a);return _?s?h===f-1?l.pop():l[h]=l.pop():l[h]=[n,i]:l.push([n,i]),v?(this.entries=l,this):new pt(t,l)}},vt.prototype.get=function(t,e,r,n){void 0===e&&(e=ot(r));var i=1<<((0===t?e:e>>>t)&lr),o=this.bitmap;return 0===(o&i)?n:this.nodes[Ut(o&i-1)].get(t+pr,e,r,n)},vt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var s=(0===e?r:r>>>e)&lr,a=1<<s,h=this.bitmap,f=0!==(h&a);if(!f&&i===yr)return this;var c=Ut(h&a-1),_=this.nodes,p=f?_[c]:void 0,v=bt(p,t,e+pr,r,n,i,o,u);if(v===p)return this;if(!f&&v&&_.length>=Pr)return Ot(t,_,h,s,v);if(f&&!v&&2===_.length&&qt(_[1^c]))return _[1^c];if(f&&v&&1===_.length&&qt(v))return v;var l=t&&t===this.ownerID,y=f?v?h:h^a:h|a,d=f?v?Kt(_,c,v,l):Tt(_,c,l):Lt(_,c,v,l);return l?(this.bitmap=y,this.nodes=d,this):new vt(t,y,d)},lt.prototype.get=function(t,e,r,n){void 0===e&&(e=ot(r));var i=(0===t?e:e>>>t)&lr,o=this.nodes[i];return o?o.get(t+pr,e,r,n):n},lt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var s=(0===e?r:r>>>e)&lr,a=i===yr,h=this.nodes,f=h[s];if(a&&!f)return this;var c=bt(f,t,e+pr,r,n,i,o,u);if(c===f)return this;var _=this.count;if(f){if(!c&&(_--,Hr>_))return Et(t,h,_,s)}else _++;var p=t&&t===this.ownerID,v=Kt(h,s,c,p);return p?(this.count=_,this.nodes=v,this):new lt(t,_,v)},yt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;u>o;o++)if(X(r,i[o][0]))return i[o][1];return n},yt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var s=i===yr;if(r!==this.keyHash)return s?this:(c(u),c(o),Dt(this,t,e,r,[n,i]));for(var a=this.entries,h=0,f=a.length;f>h&&!X(n,a[h][0]);h++);var _=f>h;if(_?a[h][1]===i:s)return this;if(c(u),(s||!_)&&c(o),s&&2===f)return new dt(t,this.keyHash,a[1^h]);var v=t&&t===this.ownerID,l=v?a:p(a);return _?s?h===f-1?l.pop():l[h]=l.pop():l[h]=[n,i]:l.push([n,i]),v?(this.entries=l,this):new yt(t,this.keyHash,l)},dt.prototype.get=function(t,e,r,n){return X(r,this.entry[0])?this.entry[1]:n;\n},dt.prototype.update=function(t,e,r,n,i,o,u){var s=i===yr,a=X(n,this.entry[0]);return(a?i===this.entry[1]:s)?this:(c(u),s?void c(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new dt(t,this.keyHash,[n,i]):(c(o),Dt(this,t,e,ot(n),[n,i])))},pt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;i>=n;n++)if(t(r[e?i-n:n])===!1)return!1},vt.prototype.iterate=lt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;i>=n;n++){var o=r[e?i-n:n];if(o&&o.iterate(t,e)===!1)return!1}},dt.prototype.iterate=function(t,e){return t(this.entry)},t(mt,S),mt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return gt(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,r>=i)return gt(t,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,r>=i){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=wt(o,e)}continue}e=this._stack=this._stack.__prev}return I()};var Jr,Nr=vr/4,Pr=vr/2,Hr=vr/4;t(Bt,rt),Bt.of=function(){return this(arguments)},Bt.prototype.toString=function(){return this.__toString(\"List [\",\"]\")},Bt.prototype.get=function(t,e){if(t=l(this,t),t>=0&&this.size>t){t+=this._origin;var r=Qt(this,t);return r&&r.array[t&lr]}return e},Bt.prototype.set=function(t,e){return Ht(this,t,e)},Bt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Bt.prototype.insert=function(t,e){return this.splice(t,0,e)},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pr,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Pt()},Bt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){Xt(r,0,e+t.length);for(var n=0;t.length>n;n++)r.set(e+n,t[n])})},Bt.prototype.pop=function(){return Xt(this,0,-1)},Bt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var r=0;t.length>r;r++)e.set(r,t[r]);\n})},Bt.prototype.shift=function(){return Xt(this,1)},Bt.prototype.merge=function(){return Ft(this,void 0,arguments)},Bt.prototype.mergeWith=function(t){var e=sr.call(arguments,1);return Ft(this,t,e)},Bt.prototype.mergeDeep=function(){return Ft(this,kt,arguments)},Bt.prototype.mergeDeepWith=function(t){var e=sr.call(arguments,1);return Ft(this,At(t),e)},Bt.prototype.setSize=function(t){return Xt(this,0,t)},Bt.prototype.slice=function(t,e){var r=this.size;return d(t,e,r)?this:Xt(this,m(t,r),g(e,r))},Bt.prototype.__iterator=function(t,e){var r=0,n=Jt(this,e);return new S(function(){var e=n();return e===Xr?I():z(t,r++,e)})},Bt.prototype.__iterate=function(t,e){for(var r,n=0,i=Jt(this,e);(r=i())!==Xr&&t(r,n++,this)!==!1;);return n},Bt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Nt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Bt.isList=Wt;var Vr=\"@@__IMMUTABLE_LIST__@@\",Yr=Bt.prototype;Yr[Vr]=!0,Yr[_r]=Yr.remove,Yr.setIn=Cr.setIn,Yr.deleteIn=Yr.removeIn=Cr.removeIn,Yr.update=Cr.update,Yr.updateIn=Cr.updateIn,Yr.mergeIn=Cr.mergeIn,Yr.mergeDeepIn=Cr.mergeDeepIn,Yr.withMutations=Cr.withMutations,Yr.asMutable=Cr.asMutable,Yr.asImmutable=Cr.asImmutable,Yr.wasAltered=Cr.wasAltered,Ct.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&lr;if(n>=this.array.length)return new Ct([],t);var i,o=0===n;if(e>0){var u=this.array[n];if(i=u&&u.removeBefore(t,e-pr,r),i===u&&o)return this}if(o&&!i)return this;var s=Yt(this,t);if(!o)for(var a=0;n>a;a++)s.array[a]=void 0;return i&&(s.array[n]=i),s},Ct.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n=r-1>>>e&lr;if(n>=this.array.length)return this;var i;if(e>0){var o=this.array[n];if(i=o&&o.removeAfter(t,e-pr,r),i===o&&n===this.array.length-1)return this}var u=Yt(this,t);return u.array.splice(n+1),i&&(u.array[n]=i),u};var Qr,Xr={};t(Zt,ct),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString(\"OrderedMap {\",\"}\");\n},Zt.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return re(this,t,e)},Zt.prototype.remove=function(t){return re(this,t,yr)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?te(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Zt.isOrderedMap=$t,Zt.prototype[cr]=!0,Zt.prototype[_r]=Zt.prototype.remove;var Fr;t(ne,x),ne.prototype.get=function(t,e){return this._iter.get(t,e)},ne.prototype.has=function(t){return this._iter.has(t)},ne.prototype.valueSeq=function(){return this._iter.valueSeq()},ne.prototype.reverse=function(){var t=this,e=he(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ne.prototype.map=function(t,e){var r=this,n=ae(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},ne.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?De(this):0,function(i){return t(i,e?--r:r++,n)}),e)},ne.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(wr,e),n=e?De(this):0;return new S(function(){var i=r.next();return i.done?i:z(t,e?--n:n++,i.value,i)})},ne.prototype[cr]=!0,t(ie,k),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},ie.prototype.__iterator=function(t,e){var r=this._iter.__iterator(wr,e),n=0;\nreturn new S(function(){var e=r.next();return e.done?e:z(t,n++,e.value,e)})},t(oe,A),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},oe.prototype.__iterator=function(t,e){var r=this._iter.__iterator(wr,e);return new S(function(){var e=r.next();return e.done?e:z(t,e.value,e.value,e)})},t(ue,x),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){qe(e);var n=o(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},ue.prototype.__iterator=function(t,e){var r=this._iter.__iterator(wr,e);return new S(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){qe(n);var i=o(n);return z(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},ie.prototype.cacheResult=ne.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Oe,t(Ae,et),Ae.prototype.toString=function(){return this.__toString(Re(this)+\" {\",\"}\")},Ae.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ae.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},Ae.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=je(this,zt()))},Ae.prototype.set=function(t,e){if(!this.has(t))throw Error('Cannot set unknown key \"'+t+'\" on '+Re(this));if(this._map&&!this._map.has(t)){var r=this._defaultValues[t];if(e===r)return this}var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:je(this,n)},Ae.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:je(this,e)},Ae.prototype.wasAltered=function(){return this._map.wasAltered()},Ae.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},Ae.prototype.__iterate=function(t,e){\nvar n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},Ae.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?je(this,e,t):(this.__ownerID=t,this._map=e,this)};var Gr=Ae.prototype;Gr[_r]=Gr.remove,Gr.deleteIn=Gr.removeIn=Cr.removeIn,Gr.merge=Cr.merge,Gr.mergeWith=Cr.mergeWith,Gr.mergeIn=Cr.mergeIn,Gr.mergeDeep=Cr.mergeDeep,Gr.mergeDeepWith=Cr.mergeDeepWith,Gr.mergeDeepIn=Cr.mergeDeepIn,Gr.setIn=Cr.setIn,Gr.update=Cr.update,Gr.updateIn=Cr.updateIn,Gr.withMutations=Cr.withMutations,Gr.asMutable=Cr.asMutable,Gr.asImmutable=Cr.asImmutable,t(Le,nt),Le.of=function(){return this(arguments)},Le.fromKeys=function(t){return this(r(t).keySeq())},Le.prototype.toString=function(){return this.__toString(\"Set {\",\"}\")},Le.prototype.has=function(t){return this._map.has(t)},Le.prototype.add=function(t){return Be(this,this._map.set(t,!0))},Le.prototype.remove=function(t){return Be(this,this._map.remove(t))},Le.prototype.clear=function(){return Be(this,this._map.clear())},Le.prototype.union=function(){var t=sr.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var r=0;t.length>r;r++)i(t[r]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Le.prototype.intersect=function(){var t=sr.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(r){e.forEach(function(e){t.every(function(t){return t.includes(e)})||r.remove(e)})})},Le.prototype.subtract=function(){var t=sr.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(r){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.remove(e)})})},Le.prototype.merge=function(){return this.union.apply(this,arguments)},Le.prototype.mergeWith=function(t){var e=sr.call(arguments,1);return this.union.apply(this,e)},\nLe.prototype.sort=function(t){return Je(we(this,t))},Le.prototype.sortBy=function(t,e){return Je(we(this,e,t))},Le.prototype.wasAltered=function(){return this._map.wasAltered()},Le.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},Le.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Le.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Le.isSet=Te;var Zr=\"@@__IMMUTABLE_SET__@@\",$r=Le.prototype;$r[Zr]=!0,$r[_r]=$r.remove,$r.mergeDeep=$r.merge,$r.mergeDeepWith=$r.mergeWith,$r.withMutations=Cr.withMutations,$r.asMutable=Cr.asMutable,$r.asImmutable=Cr.asImmutable,$r.__empty=Ce,$r.__make=We;var tn;t(Je,Le),Je.of=function(){return this(arguments)},Je.fromKeys=function(t){return this(r(t).keySeq())},Je.prototype.toString=function(){return this.__toString(\"OrderedSet {\",\"}\")},Je.isOrderedSet=Ne;var en=Je.prototype;en[cr]=!0,en.__empty=He,en.__make=Pe;var rn;t(Ve,rt),Ve.of=function(){return this(arguments)},Ve.prototype.toString=function(){return this.__toString(\"Stack [\",\"]\")},Ve.prototype.get=function(t,e){var r=this._head;for(t=l(this,t);r&&t--;)r=r.next;return r?r.value:e},Ve.prototype.peek=function(){return this._head&&this._head.value},Ve.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Qe(t,e)},Ve.prototype.pushAll=function(t){if(t=n(t),0===t.size)return this;ft(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Qe(e,r)},Ve.prototype.pop=function(){return this.slice(1)},Ve.prototype.unshift=function(){return this.push.apply(this,arguments)},Ve.prototype.unshiftAll=function(t){\nreturn this.pushAll(t)},Ve.prototype.shift=function(){return this.pop.apply(this,arguments)},Ve.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xe()},Ve.prototype.slice=function(t,e){if(d(t,e,this.size))return this;var r=m(t,this.size),n=g(e,this.size);if(n!==this.size)return rt.prototype.slice.call(this,t,e);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qe(i,o)},Ve.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ve.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&t(n.value,r++,this)!==!1;)n=n.next;return r},Ve.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new S(function(){if(n){var e=n.value;return n=n.next,z(t,r++,e)}return I()})},Ve.isStack=Ye;var nn=\"@@__IMMUTABLE_STACK__@@\",on=Ve.prototype;on[nn]=!0,on.withMutations=Cr.withMutations,on.asMutable=Cr.asMutable,on.asImmutable=Cr.asImmutable,on.wasAltered=Cr.wasAltered;var un;e.Iterator=S,Fe(e,{toArray:function(){ft(this.size);var t=Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&\"function\"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&\"function\"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new ne(this,!0)},toMap:function(){return ct(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return Je(u(this)?this.valueSeq():this)},toSet:function(){return Le(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this);\n},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ve(u(this)?this.valueSeq():this)},toList:function(){return Bt(u(this)?this.valueSeq():this)},toString:function(){return\"[Iterable]\"},__toString:function(t,e){return 0===this.size?t+e:t+\" \"+this.toSeq().map(this.__toStringMapper).join(\", \")+\" \"+e},concat:function(){var t=sr.call(arguments,0);return be(this,ye(this,t))},includes:function(t){return this.some(function(e){return X(e,t)})},entries:function(){return this.__iterator(Sr)},every:function(t,e){ft(this.size);var r=!0;return this.__iterate(function(n,i,o){return t.call(e,n,i,o)?void 0:(r=!1,!1)}),r},filter:function(t,e){return be(this,fe(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?\"\"+t:\",\";var e=\"\",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!==n&&void 0!==n?\"\"+n:\"\"}),e},keys:function(){return this.__iterator(gr)},map:function(t,e){return be(this,ae(this,t,e))},reduce:function(t,e,r){ft(this.size);var n,i;return arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,u){i?(i=!1,n=e):n=t.call(r,n,e,o,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return be(this,he(this,!0))},slice:function(t,e){return be(this,pe(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return be(this,we(this,t))},values:function(){return this.__iterator(wr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return v(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return ce(this,t,e)},equals:function(t){return F(this,t)},entrySeq:function(){var t=this;if(t._cache)return new j(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){\nreturn this.filter($e(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate(function(r,i,o){return t.call(e,r,i,o)?(n=[i,r],!1):void 0}),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(y)},flatMap:function(t,e){return be(this,me(this,t,e))},flatten:function(t){return be(this,de(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,r){return X(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=ke(t);!(r=i.next()).done;){var o=r.value;if(n=n&&n.get?n.get(o,yr):yr,n===yr)return e}return n},groupBy:function(t,e){return _e(this,t,e)},has:function(t){return this.get(t,yr)!==yr},hasIn:function(t){return this.getIn(t,yr)!==yr},isSubset:function(t){return t=\"function\"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t=\"function\"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return X(e,t)})},keySeq:function(){return this.toSeq().map(Ge).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Se(this,t)},maxBy:function(t,e){return Se(this,e,t)},min:function(t){return Se(this,t?tr(t):nr)},minBy:function(t,e){return Se(this,e?tr(e):nr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return be(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return be(this,le(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return be(this,we(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return be(this,this.toSeq().reverse().take(t).reverse());\n},takeWhile:function(t,e){return be(this,ve(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ir(this))}});var sn=e.prototype;sn[ar]=!0,sn[br]=sn.values,sn.__toJS=sn.toArray,sn.__toStringMapper=er,sn.inspect=sn.toSource=function(){return\"\"+this},sn.chain=sn.flatMap,sn.contains=sn.includes,Fe(r,{flip:function(){return be(this,se(this))},mapEntries:function(t,e){var r=this,n=0;return be(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return be(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var an=r.prototype;an[hr]=!0,an[br]=sn.entries,an.__toJS=sn.toObject,an.__toStringMapper=function(t,e){return JSON.stringify(e)+\": \"+er(t)},Fe(n,{toKeyedSeq:function(){return new ne(this,!1)},filter:function(t,e){return be(this,fe(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return be(this,he(this,!1))},slice:function(t,e){return be(this,pe(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=m(t,0>t?this.count():this.size);var n=this.slice(0,t);return be(this,1===r?n:n.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return be(this,de(this,t,!1))},get:function(t,e){return t=l(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return t=l(this,t),t>=0&&(void 0!==this.size?this.size===1/0||this.size>t:-1!==this.indexOf(t))},interpose:function(t){return be(this,ge(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Ie(this.toSeq(),k.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),\nbe(this,r)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return be(this,le(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return be(this,Ie(this,rr,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,be(this,Ie(this,t,e))}}),n.prototype[fr]=!0,n.prototype[cr]=!0,Fe(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sn.includes,i.prototype.contains=i.prototype.includes,Fe(x,r.prototype),Fe(k,n.prototype),Fe(A,i.prototype),Fe(et,r.prototype),Fe(rt,n.prototype),Fe(nt,i.prototype);var hn={Iterable:e,Seq:O,Collection:tt,Map:ct,OrderedMap:Zt,List:Bt,Stack:Ve,Set:Le,OrderedSet:Je,Record:Ae,Range:$,Repeat:G,is:X,fromJS:H};return hn});","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.Redux=t.Redux||{})}(this,function(t){\"use strict\";function e(t){var e=h.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var o=v.call(t);return r&&(e?t[g]=n:delete t[g]),o}function n(t){return j.call(t)}function r(t){return null==t?void 0===t?m:w:O&&O in Object(t)?e(t):n(t)}function o(t){return null!=t&&\"object\"==typeof t}function i(t){if(!o(t)||r(t)!=E)return!1;var e=x(t);if(null===e)return!0;var n=N.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&S.call(n)==A}function u(t,e,n){function r(){p===l&&(p=l.slice())}function o(){return s}function c(t){if(\"function\"!=typeof t)throw Error(\"Expected listener to be a function.\");var e=!0;return r(),p.push(t),function(){if(e){e=!1,r();var n=p.indexOf(t);p.splice(n,1)}}}function a(t){if(!i(t))throw Error(\"Actions must be plain objects. Use custom middleware for async actions.\");if(void 0===t.type)throw Error('Actions may not have an undefined \"type\" property. Have you misspelled a constant?');if(y)throw Error(\"Reducers may not dispatch actions.\");try{y=!0,s=d(s,t)}finally{y=!1}for(var e=l=p,n=0;e.length>n;n++)(0,e[n])();return t}var f;if(\"function\"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if(\"function\"!=typeof n)throw Error(\"Expected the enhancer to be a function.\");return n(u)(t,e)}if(\"function\"!=typeof t)throw Error(\"Expected the reducer to be a function.\");var d=t,s=e,l=[],p=l,y=!1;return a({type:P.INIT}),f={dispatch:a,subscribe:c,getState:o,replaceReducer:function(t){if(\"function\"!=typeof t)throw Error(\"Expected the nextReducer to be a function.\");d=t,a({type:P.INIT})}},f[R]=function(){var t,e=c;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if(\"object\"!=typeof t)throw new TypeError(\"Expected the observer to be an object.\");return n(),{unsubscribe:e(n)}}},t[R]=function(){return this},t},f}function c(t,e){var n=e&&e.type;return\"Given action \"+(n&&'\"'+n+'\"'||\"an action\")+', reducer \"'+t+'\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:P.INIT}))throw Error('Reducer \"'+e+\"\\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.\");if(void 0===n(void 0,{type:\"@@redux/PROBE_UNKNOWN_ACTION_\"+Math.random().toString(36).substring(7).split(\"\").join(\".\")}))throw Error('Reducer \"'+e+\"\\\" returned undefined when probed with a random type. Don't try to handle \"+P.INIT+' or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function f(t,e){return function(){return e(t.apply(void 0,arguments))}}function d(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var s,l=\"object\"==typeof global&&global&&global.Object===Object&&global,p=\"object\"==typeof self&&self&&self.Object===Object&&self,y=(l||p||Function(\"return this\")()).Symbol,b=Object.prototype,h=b.hasOwnProperty,v=b.toString,g=y?y.toStringTag:void 0,j=Object.prototype.toString,w=\"[object Null]\",m=\"[object Undefined]\",O=y?y.toStringTag:void 0,x=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),E=\"[object Object]\",I=Function.prototype,T=Object.prototype,S=I.toString,N=T.hasOwnProperty,A=S.call(Object),R=function(t){var e,n=t.Symbol;return\"function\"==typeof n?n.observable?e=n.observable:(e=n(\"observable\"),n.observable=e):e=\"@@observable\",e}(s=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof module?module:Function(\"return this\")()),P={INIT:\"@@redux/INIT\"},k=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.createStore=u,t.combineReducers=function(t){for(var e=Object.keys(t),n={},r=0;e.length>r;r++){var o=e[r];\"function\"==typeof t[o]&&(n[o]=t[o])}var i=Object.keys(n),u=void 0;try{a(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;i.length>a;a++){var f=i[a],d=n[f],s=t[f],l=d(s,e);if(void 0===l){var p=c(f,e);throw Error(p)}o[f]=l,r=r||l!==s}return r?o:t}},t.bindActionCreators=function(t,e){if(\"function\"==typeof t)return f(t,e);if(\"object\"!=typeof t||null===t)throw Error(\"bindActionCreators expected an object or a function, instead received \"+(null===t?\"null\":typeof t)+'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');for(var n=Object.keys(t),r={},o=0;n.length>o;o++){var i=n[o],u=t[i];\"function\"==typeof u&&(r[i]=f(u,e))}return r},t.applyMiddleware=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var i=t(n,r,o),u=i.dispatch,c=[],a={getState:i.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(a)}),u=d.apply(void 0,c)(i.dispatch),k({},i,{dispatch:u})}}},t.compose=d,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.ReduxThunk=e():t.ReduxThunk=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e){\"use strict\";function n(t){return function(e){var n=e.dispatch,o=e.getState;return function(e){return function(r){return\"function\"==typeof r?r(n,o,t):e(r)}}}}e.__esModule=!0;var o=n();o.withExtraArgument=n,e.default=o}])});","/**\n * Swiper 4.5.0\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * http://www.idangero.us/swiper/\n *\n * Copyright 2014-2019 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: February 22, 2019\n */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).Swiper=t()}(this,function(){\"use strict\";var f=\"undefined\"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:\"\"},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:\"\"}}:document,J=\"undefined\"==typeof window?{document:f,navigator:{userAgent:\"\"},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return\"\"}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,l=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};function L(e,t){var a=[],i=0;if(e&&!t&&e instanceof l)return e;if(e)if(\"string\"==typeof e){var s,r,n=e.trim();if(0<=n.indexOf(\"<\")&&0<=n.indexOf(\">\")){var o=\"div\";for(0===n.indexOf(\"<li\")&&(o=\"ul\"),0===n.indexOf(\"<tr\")&&(o=\"tbody\"),0!==n.indexOf(\"<td\")&&0!==n.indexOf(\"<th\")||(o=\"tr\"),0===n.indexOf(\"<tbody\")&&(o=\"table\"),0===n.indexOf(\"<option\")&&(o=\"select\"),(r=f.createElement(o)).innerHTML=n,i=0;i<r.childNodes.length;i+=1)a.push(r.childNodes[i])}else for(s=t||\"#\"!==e[0]||e.match(/[ .<>:~]/)?(t||f).querySelectorAll(e.trim()):[f.getElementById(e.trim().split(\"#\")[1])],i=0;i<s.length;i+=1)s[i]&&a.push(s[i])}else if(e.nodeType||e===J||e===f)a.push(e);else if(0<e.length&&e[0].nodeType)for(i=0;i<e.length;i+=1)a.push(e[i]);return new l(a)}function r(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}L.fn=l.prototype,L.Class=l,L.Dom7=l;var t={addClass:function(e){if(void 0===e)return this;for(var t=e.split(\" \"),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(\" \"),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(\" \"),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.toggle(t[a]);return this},attr:function(e,t){var a=arguments;if(1===arguments.length&&\"string\"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===a.length)this[i].setAttribute(e,t);else for(var s in e)this[i][s]=e[s],this[i].setAttribute(s,e[s]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var a;if(void 0!==t){for(var i=0;i<this.length;i+=1)(a=this[i]).dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t;return this}if(a=this[0]){if(a.dom7ElementDataStorage&&e in a.dom7ElementDataStorage)return a.dom7ElementDataStorage[e];var s=a.getAttribute(\"data-\"+e);return s||void 0}},transform:function(e){for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}return this},transition:function(e){\"string\"!=typeof e&&(e+=\"ms\");for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}return this},on:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var i=t[0],r=t[1],n=t[2],s=t[3];function o(e){var t=e.target;if(t){var a=e.target.dom7EventData||[];if(a.indexOf(e)<0&&a.unshift(e),L(t).is(r))n.apply(t,a);else for(var i=L(t).parents(),s=0;s<i.length;s+=1)L(i[s]).is(r)&&n.apply(i[s],a)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),n.apply(this,t)}\"function\"==typeof t[1]&&(i=(e=t)[0],n=e[1],s=e[2],r=void 0),s||(s=!1);for(var d,p=i.split(\" \"),c=0;c<this.length;c+=1){var u=this[c];if(r)for(d=0;d<p.length;d+=1){var h=p[d];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:n,proxyListener:o}),u.addEventListener(h,o,s)}else for(d=0;d<p.length;d+=1){var v=p[d];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[v]||(u.dom7Listeners[v]=[]),u.dom7Listeners[v].push({listener:n,proxyListener:l}),u.addEventListener(v,l,s)}}return this},off:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];\"function\"==typeof t[1]&&(i=(e=t)[0],r=e[1],n=e[2],s=void 0),n||(n=!1);for(var o=i.split(\" \"),l=0;l<o.length;l+=1)for(var d=o[l],p=0;p<this.length;p+=1){var c=this[p],u=void 0;if(!s&&c.dom7Listeners?u=c.dom7Listeners[d]:s&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[d]),u&&u.length)for(var h=u.length-1;0<=h;h-=1){var v=u[h];r&&v.listener===r?(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1)):r&&v.listener&&v.listener.dom7proxy&&v.listener.dom7proxy===r?(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1)):r||(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1))}}return this},trigger:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=e[0].split(\" \"),i=e[1],s=0;s<a.length;s+=1)for(var r=a[s],n=0;n<this.length;n+=1){var o=this[n],l=void 0;try{l=new J.CustomEvent(r,{detail:i,bubbles:!0,cancelable:!0})}catch(e){(l=f.createEvent(\"Event\")).initEvent(r,!0,!0),l.detail=i}o.dom7EventData=e.filter(function(e,t){return 0<t}),o.dispatchEvent(l),o.dom7EventData=[],delete o.dom7EventData}return this},transitionEnd:function(t){var a,i=[\"webkitTransitionEnd\",\"transitionend\"],s=this;function r(e){if(e.target===this)for(t.call(this,e),a=0;a<i.length;a+=1)s.off(i[a],r)}if(t)for(a=0;a<i.length;a+=1)s.on(i[a],r);return this},outerWidth:function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue(\"margin-right\"))+parseFloat(t.getPropertyValue(\"margin-left\"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue(\"margin-top\"))+parseFloat(t.getPropertyValue(\"margin-bottom\"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var e=this[0],t=e.getBoundingClientRect(),a=f.body,i=e.clientTop||a.clientTop||0,s=e.clientLeft||a.clientLeft||0,r=e===J?J.scrollY:e.scrollTop,n=e===J?J.scrollX:e.scrollLeft;return{top:t.top+r-i,left:t.left+n-s}}return null},css:function(e,t){var a;if(1===arguments.length){if(\"string\"!=typeof e){for(a=0;a<this.length;a+=1)for(var i in e)this[a].style[i]=e[i];return this}if(this[0])return J.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&\"string\"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,a,i=this[0];if(!i||void 0===e)return!1;if(\"string\"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(t=L(e),a=0;a<t.length;a+=1)if(t[a]===i)return!0;return!1}if(e===f)return i===f;if(e===J)return i===J;if(e.nodeType||e instanceof l){for(t=e.nodeType?[e]:e,a=0;a<t.length;a+=1)if(t[a]===i)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,a=this.length;return new l(a-1<e?[]:e<0?(t=a+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];for(var i=0;i<t.length;i+=1){e=t[i];for(var s=0;s<this.length;s+=1)if(\"string\"==typeof e){var r=f.createElement(\"div\");for(r.innerHTML=e;r.firstChild;)this[s].appendChild(r.firstChild)}else if(e instanceof l)for(var n=0;n<e.length;n+=1)this[s].appendChild(e[n]);else this[s].appendChild(e)}return this},prepend:function(e){var t,a;for(t=0;t<this.length;t+=1)if(\"string\"==typeof e){var i=f.createElement(\"div\");for(i.innerHTML=e,a=i.childNodes.length-1;0<=a;a-=1)this[t].insertBefore(i.childNodes[a],this[t].childNodes[0])}else if(e instanceof l)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return 0<this.length?e?this[0].nextElementSibling&&L(this[0].nextElementSibling).is(e)?new l([this[0].nextElementSibling]):new l([]):this[0].nextElementSibling?new l([this[0].nextElementSibling]):new l([]):new l([])},nextAll:function(e){var t=[],a=this[0];if(!a)return new l([]);for(;a.nextElementSibling;){var i=a.nextElementSibling;e?L(i).is(e)&&t.push(i):t.push(i),a=i}return new l(t)},prev:function(e){if(0<this.length){var t=this[0];return e?t.previousElementSibling&&L(t.previousElementSibling).is(e)?new l([t.previousElementSibling]):new l([]):t.previousElementSibling?new l([t.previousElementSibling]):new l([])}return new l([])},prevAll:function(e){var t=[],a=this[0];if(!a)return new l([]);for(;a.previousElementSibling;){var i=a.previousElementSibling;e?L(i).is(e)&&t.push(i):t.push(i),a=i}return new l(t)},parent:function(e){for(var t=[],a=0;a<this.length;a+=1)null!==this[a].parentNode&&(e?L(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return L(r(t))},parents:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].parentNode;i;)e?L(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return L(r(t))},closest:function(e){var t=this;return void 0===e?new l([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].querySelectorAll(e),s=0;s<i.length;s+=1)t.push(i[s]);return new l(t)},children:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].childNodes,s=0;s<i.length;s+=1)e?1===i[s].nodeType&&L(i[s]).is(e)&&t.push(i[s]):1===i[s].nodeType&&t.push(i[s]);return new l(r(t))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,i;for(a=0;a<e.length;a+=1){var s=L(e[a]);for(i=0;i<s.length;i+=1)this[this.length]=s[i],this.length+=1}return this},styles:function(){return this[0]?J.getComputedStyle(this[0],null):{}}};Object.keys(t).forEach(function(e){L.fn[e]=t[e]});var e,a,i,s,ee={deleteProps:function(e){var t=e;Object.keys(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e,t){var a,i,s;void 0===t&&(t=\"x\");var r=J.getComputedStyle(e,null);return J.WebKitCSSMatrix?(6<(i=r.transform||r.webkitTransform).split(\",\").length&&(i=i.split(\", \").map(function(e){return e.replace(\",\",\".\")}).join(\", \")),s=new J.WebKitCSSMatrix(\"none\"===i?\"\":i)):a=(s=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue(\"transform\").replace(\"translate(\",\"matrix(1, 0, 0, 1,\")).toString().split(\",\"),\"x\"===t&&(i=J.WebKitCSSMatrix?s.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),\"y\"===t&&(i=J.WebKitCSSMatrix?s.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0},parseUrlQuery:function(e){var t,a,i,s,r={},n=e||J.location.href;if(\"string\"==typeof n&&n.length)for(s=(a=(n=-1<n.indexOf(\"?\")?n.replace(/\\S*\\?/,\"\"):\"\").split(\"&\").filter(function(e){return\"\"!==e})).length,t=0;t<s;t+=1)i=a[t].replace(/#\\S+/g,\"\").split(\"=\"),r[decodeURIComponent(i[0])]=void 0===i[1]?void 0:decodeURIComponent(i[1])||\"\";return r},isObject:function(e){return\"object\"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=Object(e[0]),i=1;i<e.length;i+=1){var s=e[i];if(null!=s)for(var r=Object.keys(Object(s)),n=0,o=r.length;n<o;n+=1){var l=r[n],d=Object.getOwnPropertyDescriptor(s,l);void 0!==d&&d.enumerable&&(ee.isObject(a[l])&&ee.isObject(s[l])?ee.extend(a[l],s[l]):!ee.isObject(a[l])&&ee.isObject(s[l])?(a[l]={},ee.extend(a[l],s[l])):a[l]=s[l])}}return a}},te=(i=f.createElement(\"div\"),{touch:J.Modernizr&&!0===J.Modernizr.touch||!!(0<J.navigator.maxTouchPoints||\"ontouchstart\"in J||J.DocumentTouch&&f instanceof J.DocumentTouch),pointerEvents:!!(J.navigator.pointerEnabled||J.PointerEvent||\"maxTouchPoints\"in J.navigator&&0<J.navigator.maxTouchPoints),prefixedPointerEvents:!!J.navigator.msPointerEnabled,transition:(a=i.style,\"transition\"in a||\"webkitTransition\"in a||\"MozTransition\"in a),transforms3d:J.Modernizr&&!0===J.Modernizr.csstransforms3d||(e=i.style,\"webkitPerspective\"in e||\"MozPerspective\"in e||\"OPerspective\"in e||\"MsPerspective\"in e||\"perspective\"in e),flexbox:function(){for(var e=i.style,t=\"alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient\".split(\" \"),a=0;a<t.length;a+=1)if(t[a]in e)return!0;return!1}(),observer:\"MutationObserver\"in J||\"WebkitMutationObserver\"in J,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},\"passive\",{get:function(){e=!0}});J.addEventListener(\"testPassiveListener\",null,t)}catch(e){}return e}(),gestures:\"ongesturestart\"in J}),I={isIE:!!J.navigator.userAgent.match(/Trident/g)||!!J.navigator.userAgent.match(/MSIE/g),isEdge:!!J.navigator.userAgent.match(/Edge/g),isSafari:(s=J.navigator.userAgent.toLowerCase(),0<=s.indexOf(\"safari\")&&s.indexOf(\"chrome\")<0&&s.indexOf(\"android\")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(J.navigator.userAgent)},n=function(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&Object.keys(t.params.on).forEach(function(e){t.on(e,t.params.on[e])})},o={components:{configurable:!0}};n.prototype.on=function(e,t,a){var i=this;if(\"function\"!=typeof t)return i;var s=a?\"unshift\":\"push\";return e.split(\" \").forEach(function(e){i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)}),i},n.prototype.once=function(a,i,e){var s=this;if(\"function\"!=typeof i)return s;function r(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];i.apply(s,e),s.off(a,r),r.f7proxy&&delete r.f7proxy}return r.f7proxy=i,s.on(a,r,e)},n.prototype.off=function(e,i){var s=this;return s.eventsListeners&&e.split(\" \").forEach(function(a){void 0===i?s.eventsListeners[a]=[]:s.eventsListeners[a]&&s.eventsListeners[a].length&&s.eventsListeners[a].forEach(function(e,t){(e===i||e.f7proxy&&e.f7proxy===i)&&s.eventsListeners[a].splice(t,1)})}),s},n.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,i,s,r=this;return r.eventsListeners&&(\"string\"==typeof e[0]||Array.isArray(e[0])?(a=e[0],i=e.slice(1,e.length),s=r):(a=e[0].events,i=e[0].data,s=e[0].context||r),(Array.isArray(a)?a:a.split(\" \")).forEach(function(e){if(r.eventsListeners&&r.eventsListeners[e]){var t=[];r.eventsListeners[e].forEach(function(e){t.push(e)}),t.forEach(function(e){e.apply(s,i)})}})),r},n.prototype.useModulesParams=function(a){var i=this;i.modules&&Object.keys(i.modules).forEach(function(e){var t=i.modules[e];t.params&&ee.extend(a,t.params)})},n.prototype.useModules=function(i){void 0===i&&(i={});var s=this;s.modules&&Object.keys(s.modules).forEach(function(e){var a=s.modules[e],t=i[e]||{};a.instance&&Object.keys(a.instance).forEach(function(e){var t=a.instance[e];s[e]=\"function\"==typeof t?t.bind(s):t}),a.on&&s.on&&Object.keys(a.on).forEach(function(e){s.on(e,a.on[e])}),a.create&&a.create.bind(s)(t)})},o.components.set=function(e){this.use&&this.use(e)},n.installModule=function(t){for(var e=[],a=arguments.length-1;0<a--;)e[a]=arguments[a+1];var i=this;i.prototype.modules||(i.prototype.modules={});var s=t.name||Object.keys(i.prototype.modules).length+\"_\"+ee.now();return(i.prototype.modules[s]=t).proto&&Object.keys(t.proto).forEach(function(e){i.prototype[e]=t.proto[e]}),t.static&&Object.keys(t.static).forEach(function(e){i[e]=t.static[e]}),t.install&&t.install.apply(i,e),i},n.use=function(e){for(var t=[],a=arguments.length-1;0<a--;)t[a]=arguments[a+1];var i=this;return Array.isArray(e)?(e.forEach(function(e){return i.installModule(e)}),i):i.installModule.apply(i,[e].concat(t))},Object.defineProperties(n,o);var d={updateSize:function(){var e,t,a=this,i=a.$el;e=void 0!==a.params.width?a.params.width:i[0].clientWidth,t=void 0!==a.params.height?a.params.height:i[0].clientHeight,0===e&&a.isHorizontal()||0===t&&a.isVertical()||(e=e-parseInt(i.css(\"padding-left\"),10)-parseInt(i.css(\"padding-right\"),10),t=t-parseInt(i.css(\"padding-top\"),10)-parseInt(i.css(\"padding-bottom\"),10),ee.extend(a,{width:e,height:t,size:a.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=e.params,a=e.$wrapperEl,i=e.size,s=e.rtlTranslate,r=e.wrongRTL,n=e.virtual&&t.virtual.enabled,o=n?e.virtual.slides.length:e.slides.length,l=a.children(\".\"+e.params.slideClass),d=n?e.virtual.slides.length:l.length,p=[],c=[],u=[],h=t.slidesOffsetBefore;\"function\"==typeof h&&(h=t.slidesOffsetBefore.call(e));var v=t.slidesOffsetAfter;\"function\"==typeof v&&(v=t.slidesOffsetAfter.call(e));var f=e.snapGrid.length,m=e.snapGrid.length,g=t.spaceBetween,b=-h,w=0,y=0;if(void 0!==i){var x,T;\"string\"==typeof g&&0<=g.indexOf(\"%\")&&(g=parseFloat(g.replace(\"%\",\"\"))/100*i),e.virtualSize=-g,s?l.css({marginLeft:\"\",marginTop:\"\"}):l.css({marginRight:\"\",marginBottom:\"\"}),1<t.slidesPerColumn&&(x=Math.floor(d/t.slidesPerColumn)===d/e.params.slidesPerColumn?d:Math.ceil(d/t.slidesPerColumn)*t.slidesPerColumn,\"auto\"!==t.slidesPerView&&\"row\"===t.slidesPerColumnFill&&(x=Math.max(x,t.slidesPerView*t.slidesPerColumn)));for(var E,S=t.slidesPerColumn,C=x/S,M=Math.floor(d/t.slidesPerColumn),z=0;z<d;z+=1){T=0;var P=l.eq(z);if(1<t.slidesPerColumn){var k=void 0,$=void 0,L=void 0;\"column\"===t.slidesPerColumnFill?(L=z-($=Math.floor(z/S))*S,(M<$||$===M&&L===S-1)&&S<=(L+=1)&&(L=0,$+=1),k=$+L*x/S,P.css({\"-webkit-box-ordinal-group\":k,\"-moz-box-ordinal-group\":k,\"-ms-flex-order\":k,\"-webkit-order\":k,order:k})):$=z-(L=Math.floor(z/C))*C,P.css(\"margin-\"+(e.isHorizontal()?\"top\":\"left\"),0!==L&&t.spaceBetween&&t.spaceBetween+\"px\").attr(\"data-swiper-column\",$).attr(\"data-swiper-row\",L)}if(\"none\"!==P.css(\"display\")){if(\"auto\"===t.slidesPerView){var I=J.getComputedStyle(P[0],null),D=P[0].style.transform,O=P[0].style.webkitTransform;if(D&&(P[0].style.transform=\"none\"),O&&(P[0].style.webkitTransform=\"none\"),t.roundLengths)T=e.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else if(e.isHorizontal()){var A=parseFloat(I.getPropertyValue(\"width\")),H=parseFloat(I.getPropertyValue(\"padding-left\")),N=parseFloat(I.getPropertyValue(\"padding-right\")),G=parseFloat(I.getPropertyValue(\"margin-left\")),B=parseFloat(I.getPropertyValue(\"margin-right\")),X=I.getPropertyValue(\"box-sizing\");T=X&&\"border-box\"===X?A+G+B:A+H+N+G+B}else{var Y=parseFloat(I.getPropertyValue(\"height\")),V=parseFloat(I.getPropertyValue(\"padding-top\")),F=parseFloat(I.getPropertyValue(\"padding-bottom\")),R=parseFloat(I.getPropertyValue(\"margin-top\")),q=parseFloat(I.getPropertyValue(\"margin-bottom\")),W=I.getPropertyValue(\"box-sizing\");T=W&&\"border-box\"===W?Y+R+q:Y+V+F+R+q}D&&(P[0].style.transform=D),O&&(P[0].style.webkitTransform=O),t.roundLengths&&(T=Math.floor(T))}else T=(i-(t.slidesPerView-1)*g)/t.slidesPerView,t.roundLengths&&(T=Math.floor(T)),l[z]&&(e.isHorizontal()?l[z].style.width=T+\"px\":l[z].style.height=T+\"px\");l[z]&&(l[z].swiperSlideSize=T),u.push(T),t.centeredSlides?(b=b+T/2+w/2+g,0===w&&0!==z&&(b=b-i/2-g),0===z&&(b=b-i/2-g),Math.abs(b)<.001&&(b=0),t.roundLengths&&(b=Math.floor(b)),y%t.slidesPerGroup==0&&p.push(b),c.push(b)):(t.roundLengths&&(b=Math.floor(b)),y%t.slidesPerGroup==0&&p.push(b),c.push(b),b=b+T+g),e.virtualSize+=T+g,w=T,y+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,s&&r&&(\"slide\"===t.effect||\"coverflow\"===t.effect)&&a.css({width:e.virtualSize+t.spaceBetween+\"px\"}),te.flexbox&&!t.setWrapperSize||(e.isHorizontal()?a.css({width:e.virtualSize+t.spaceBetween+\"px\"}):a.css({height:e.virtualSize+t.spaceBetween+\"px\"})),1<t.slidesPerColumn&&(e.virtualSize=(T+t.spaceBetween)*x,e.virtualSize=Math.ceil(e.virtualSize/t.slidesPerColumn)-t.spaceBetween,e.isHorizontal()?a.css({width:e.virtualSize+t.spaceBetween+\"px\"}):a.css({height:e.virtualSize+t.spaceBetween+\"px\"}),t.centeredSlides)){E=[];for(var j=0;j<p.length;j+=1){var U=p[j];t.roundLengths&&(U=Math.floor(U)),p[j]<e.virtualSize+p[0]&&E.push(U)}p=E}if(!t.centeredSlides){E=[];for(var K=0;K<p.length;K+=1){var _=p[K];t.roundLengths&&(_=Math.floor(_)),p[K]<=e.virtualSize-i&&E.push(_)}p=E,1<Math.floor(e.virtualSize-i)-Math.floor(p[p.length-1])&&p.push(e.virtualSize-i)}if(0===p.length&&(p=[0]),0!==t.spaceBetween&&(e.isHorizontal()?s?l.css({marginLeft:g+\"px\"}):l.css({marginRight:g+\"px\"}):l.css({marginBottom:g+\"px\"})),t.centerInsufficientSlides){var Z=0;if(u.forEach(function(e){Z+=e+(t.spaceBetween?t.spaceBetween:0)}),(Z-=t.spaceBetween)<i){var Q=(i-Z)/2;p.forEach(function(e,t){p[t]=e-Q}),c.forEach(function(e,t){c[t]=e+Q})}}ee.extend(e,{slides:l,snapGrid:p,slidesGrid:c,slidesSizesGrid:u}),d!==o&&e.emit(\"slidesLengthChange\"),p.length!==f&&(e.params.watchOverflow&&e.checkOverflow(),e.emit(\"snapGridLengthChange\")),c.length!==m&&e.emit(\"slidesGridLengthChange\"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=this,i=[],s=0;if(\"number\"==typeof e?a.setTransition(e):!0===e&&a.setTransition(a.params.speed),\"auto\"!==a.params.slidesPerView&&1<a.params.slidesPerView)for(t=0;t<Math.ceil(a.params.slidesPerView);t+=1){var r=a.activeIndex+t;if(r>a.slides.length)break;i.push(a.slides.eq(r)[0])}else i.push(a.slides.eq(a.activeIndex)[0]);for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var n=i[t].offsetHeight;s=s<n?n:s}s&&a.$wrapperEl.css(\"height\",s+\"px\")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,a=t.params,i=t.slides,s=t.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();var r=-e;s&&(r=e),i.removeClass(a.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var n=0;n<i.length;n+=1){var o=i[n],l=(r+(a.centeredSlides?t.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+a.spaceBetween);if(a.watchSlidesVisibility){var d=-(r-o.swiperSlideOffset),p=d+t.slidesSizesGrid[n];(0<=d&&d<t.size||0<p&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(n),i.eq(n).addClass(a.slideVisibleClass))}o.progress=s?-l:l}t.visibleSlides=L(t.visibleSlides)}},updateProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,a=t.params,i=t.maxTranslate()-t.minTranslate(),s=t.progress,r=t.isBeginning,n=t.isEnd,o=r,l=n;0===i?n=r=!(s=0):(r=(s=(e-t.minTranslate())/i)<=0,n=1<=s),ee.extend(t,{progress:s,isBeginning:r,isEnd:n}),(a.watchSlidesProgress||a.watchSlidesVisibility)&&t.updateSlidesProgress(e),r&&!o&&t.emit(\"reachBeginning toEdge\"),n&&!l&&t.emit(\"reachEnd toEdge\"),(o&&!r||l&&!n)&&t.emit(\"fromEdge\"),t.emit(\"progress\",s)},updateSlidesClasses:function(){var e,t=this,a=t.slides,i=t.params,s=t.$wrapperEl,r=t.activeIndex,n=t.realIndex,o=t.virtual&&i.virtual.enabled;a.removeClass(i.slideActiveClass+\" \"+i.slideNextClass+\" \"+i.slidePrevClass+\" \"+i.slideDuplicateActiveClass+\" \"+i.slideDuplicateNextClass+\" \"+i.slideDuplicatePrevClass),(e=o?t.$wrapperEl.find(\".\"+i.slideClass+'[data-swiper-slide-index=\"'+r+'\"]'):a.eq(r)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children(\".\"+i.slideClass+\":not(.\"+i.slideDuplicateClass+')[data-swiper-slide-index=\"'+n+'\"]').addClass(i.slideDuplicateActiveClass):s.children(\".\"+i.slideClass+\".\"+i.slideDuplicateClass+'[data-swiper-slide-index=\"'+n+'\"]').addClass(i.slideDuplicateActiveClass));var l=e.nextAll(\".\"+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=a.eq(0)).addClass(i.slideNextClass);var d=e.prevAll(\".\"+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===d.length&&(d=a.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children(\".\"+i.slideClass+\":not(.\"+i.slideDuplicateClass+')[data-swiper-slide-index=\"'+l.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicateNextClass):s.children(\".\"+i.slideClass+\".\"+i.slideDuplicateClass+'[data-swiper-slide-index=\"'+l.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicateNextClass),d.hasClass(i.slideDuplicateClass)?s.children(\".\"+i.slideClass+\":not(.\"+i.slideDuplicateClass+')[data-swiper-slide-index=\"'+d.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicatePrevClass):s.children(\".\"+i.slideClass+\".\"+i.slideDuplicateClass+'[data-swiper-slide-index=\"'+d.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,a=this,i=a.rtlTranslate?a.translate:-a.translate,s=a.slidesGrid,r=a.snapGrid,n=a.params,o=a.activeIndex,l=a.realIndex,d=a.snapIndex,p=e;if(void 0===p){for(var c=0;c<s.length;c+=1)void 0!==s[c+1]?i>=s[c]&&i<s[c+1]-(s[c+1]-s[c])/2?p=c:i>=s[c]&&i<s[c+1]&&(p=c+1):i>=s[c]&&(p=c);n.normalizeSlideIndex&&(p<0||void 0===p)&&(p=0)}if((t=0<=r.indexOf(i)?r.indexOf(i):Math.floor(p/n.slidesPerGroup))>=r.length&&(t=r.length-1),p!==o){var u=parseInt(a.slides.eq(p).attr(\"data-swiper-slide-index\")||p,10);ee.extend(a,{snapIndex:t,realIndex:u,previousIndex:o,activeIndex:p}),a.emit(\"activeIndexChange\"),a.emit(\"snapIndexChange\"),l!==u&&a.emit(\"realIndexChange\"),a.emit(\"slideChange\")}else t!==d&&(a.snapIndex=t,a.emit(\"snapIndexChange\"))},updateClickedSlide:function(e){var t=this,a=t.params,i=L(e.target).closest(\".\"+a.slideClass)[0],s=!1;if(i)for(var r=0;r<t.slides.length;r+=1)t.slides[r]===i&&(s=!0);if(!i||!s)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(L(i).attr(\"data-swiper-slide-index\"),10):t.clickedIndex=L(i).index(),a.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var p={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?\"x\":\"y\");var t=this.params,a=this.rtlTranslate,i=this.translate,s=this.$wrapperEl;if(t.virtualTranslate)return a?-i:i;var r=ee.getTranslate(s[0],e);return a&&(r=-r),r||0},setTranslate:function(e,t){var a=this,i=a.rtlTranslate,s=a.params,r=a.$wrapperEl,n=a.progress,o=0,l=0;a.isHorizontal()?o=i?-e:e:l=e,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),s.virtualTranslate||(te.transforms3d?r.transform(\"translate3d(\"+o+\"px, \"+l+\"px, 0px)\"):r.transform(\"translate(\"+o+\"px, \"+l+\"px)\")),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?o:l;var d=a.maxTranslate()-a.minTranslate();(0===d?0:(e-a.minTranslate())/d)!==n&&a.updateProgress(e),a.emit(\"setTranslate\",a.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}};var c={setTransition:function(e,t){this.$wrapperEl.transition(e),this.emit(\"setTransition\",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.params,r=a.previousIndex;s.autoHeight&&a.updateAutoHeight();var n=t;if(n||(n=r<i?\"next\":i<r?\"prev\":\"reset\"),a.emit(\"transitionStart\"),e&&i!==r){if(\"reset\"===n)return void a.emit(\"slideResetTransitionStart\");a.emit(\"slideChangeTransitionStart\"),\"next\"===n?a.emit(\"slideNextTransitionStart\"):a.emit(\"slidePrevTransitionStart\")}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.previousIndex;a.animating=!1,a.setTransition(0);var r=t;if(r||(r=s<i?\"next\":i<s?\"prev\":\"reset\"),a.emit(\"transitionEnd\"),e&&i!==s){if(\"reset\"===r)return void a.emit(\"slideResetTransitionEnd\");a.emit(\"slideChangeTransitionEnd\"),\"next\"===r?a.emit(\"slideNextTransitionEnd\"):a.emit(\"slidePrevTransitionEnd\")}}};var u={slideTo:function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=this,r=e;r<0&&(r=0);var n=s.params,o=s.snapGrid,l=s.slidesGrid,d=s.previousIndex,p=s.activeIndex,c=s.rtlTranslate;if(s.animating&&n.preventInteractionOnTransition)return!1;var u=Math.floor(r/n.slidesPerGroup);u>=o.length&&(u=o.length-1),(p||n.initialSlide||0)===(d||0)&&a&&s.emit(\"beforeSlideChangeStart\");var h,v=-o[u];if(s.updateProgress(v),n.normalizeSlideIndex)for(var f=0;f<l.length;f+=1)-Math.floor(100*v)>=Math.floor(100*l[f])&&(r=f);if(s.initialized&&r!==p){if(!s.allowSlideNext&&v<s.translate&&v<s.minTranslate())return!1;if(!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(p||0)!==r)return!1}return h=p<r?\"next\":r<p?\"prev\":\"reset\",c&&-v===s.translate||!c&&v===s.translate?(s.updateActiveIndex(r),n.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),\"slide\"!==n.effect&&s.setTranslate(v),\"reset\"!==h&&(s.transitionStart(a,h),s.transitionEnd(a,h)),!1):(0!==t&&te.transition?(s.setTransition(t),s.setTranslate(v),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit(\"beforeTransitionStart\",t,i),s.transitionStart(a,h),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener(\"transitionend\",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(a,h))}),s.$wrapperEl[0].addEventListener(\"transitionend\",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\",s.onSlideToWrapperTransitionEnd))):(s.setTransition(0),s.setTranslate(v),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit(\"beforeTransitionStart\",t,i),s.transitionStart(a,h),s.transitionEnd(a,h)),!0)},slideToLoop:function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=e;return this.params.loop&&(s+=this.loopedSlides),this.slideTo(s,t,a,i)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating;return s.loop?!r&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,i.slideTo(i.activeIndex+s.slidesPerGroup,e,t,a)):i.slideTo(i.activeIndex+s.slidesPerGroup,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating,n=i.snapGrid,o=i.slidesGrid,l=i.rtlTranslate;if(s.loop){if(r)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var p,c=d(l?i.translate:-i.translate),u=n.map(function(e){return d(e)}),h=(o.map(function(e){return d(e)}),n[u.indexOf(c)],n[u.indexOf(c)-1]);return void 0!==h&&(p=o.indexOf(h))<0&&(p=i.activeIndex-1),i.slideTo(p,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.activeIndex,r=Math.floor(s/i.params.slidesPerGroup);if(r<i.snapGrid.length-1){var n=i.rtlTranslate?i.translate:-i.translate,o=i.snapGrid[r];(i.snapGrid[r+1]-o)/2<n-o&&(s=i.params.slidesPerGroup)}return i.slideTo(s,e,t,a)},slideToClickedSlide:function(){var e,t=this,a=t.params,i=t.$wrapperEl,s=\"auto\"===a.slidesPerView?t.slidesPerViewDynamic():a.slidesPerView,r=t.clickedIndex;if(a.loop){if(t.animating)return;e=parseInt(L(t.clickedSlide).attr(\"data-swiper-slide-index\"),10),a.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=i.children(\".\"+a.slideClass+'[data-swiper-slide-index=\"'+e+'\"]:not(.'+a.slideDuplicateClass+\")\").eq(0).index(),ee.nextTick(function(){t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=i.children(\".\"+a.slideClass+'[data-swiper-slide-index=\"'+e+'\"]:not(.'+a.slideDuplicateClass+\")\").eq(0).index(),ee.nextTick(function(){t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}};var h={loopCreate:function(){var i=this,e=i.params,t=i.$wrapperEl;t.children(\".\"+e.slideClass+\".\"+e.slideDuplicateClass).remove();var s=t.children(\".\"+e.slideClass);if(e.loopFillGroupWithBlank){var a=e.slidesPerGroup-s.length%e.slidesPerGroup;if(a!==e.slidesPerGroup){for(var r=0;r<a;r+=1){var n=L(f.createElement(\"div\")).addClass(e.slideClass+\" \"+e.slideBlankClass);t.append(n)}s=t.children(\".\"+e.slideClass)}}\"auto\"!==e.slidesPerView||e.loopedSlides||(e.loopedSlides=s.length),i.loopedSlides=parseInt(e.loopedSlides||e.slidesPerView,10),i.loopedSlides+=e.loopAdditionalSlides,i.loopedSlides>s.length&&(i.loopedSlides=s.length);var o=[],l=[];s.each(function(e,t){var a=L(t);e<i.loopedSlides&&l.push(t),e<s.length&&e>=s.length-i.loopedSlides&&o.push(t),a.attr(\"data-swiper-slide-index\",e)});for(var d=0;d<l.length;d+=1)t.append(L(l[d].cloneNode(!0)).addClass(e.slideDuplicateClass));for(var p=o.length-1;0<=p;p-=1)t.prepend(L(o[p].cloneNode(!0)).addClass(e.slideDuplicateClass))},loopFix:function(){var e,t=this,a=t.params,i=t.activeIndex,s=t.slides,r=t.loopedSlides,n=t.allowSlidePrev,o=t.allowSlideNext,l=t.snapGrid,d=t.rtlTranslate;t.allowSlidePrev=!0,t.allowSlideNext=!0;var p=-l[i]-t.getTranslate();i<r?(e=s.length-3*r+i,e+=r,t.slideTo(e,0,!1,!0)&&0!==p&&t.setTranslate((d?-t.translate:t.translate)-p)):(\"auto\"===a.slidesPerView&&2*r<=i||i>=s.length-r)&&(e=-s.length+i+r,e+=r,t.slideTo(e,0,!1,!0)&&0!==p&&t.setTranslate((d?-t.translate:t.translate)-p));t.allowSlidePrev=n,t.allowSlideNext=o},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,a=this.slides;e.children(\".\"+t.slideClass+\".\"+t.slideDuplicateClass+\",.\"+t.slideClass+\".\"+t.slideBlankClass).remove(),a.removeAttr(\"data-swiper-slide-index\")}};var v={setGrabCursor:function(e){if(!(te.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var t=this.el;t.style.cursor=\"move\",t.style.cursor=e?\"-webkit-grabbing\":\"-webkit-grab\",t.style.cursor=e?\"-moz-grabbin\":\"-moz-grab\",t.style.cursor=e?\"grabbing\":\"grab\"}},unsetGrabCursor:function(){te.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor=\"\")}};var m={appendSlide:function(e){var t=this,a=t.$wrapperEl,i=t.params;if(i.loop&&t.loopDestroy(),\"object\"==typeof e&&\"length\"in e)for(var s=0;s<e.length;s+=1)e[s]&&a.append(e[s]);else a.append(e);i.loop&&t.loopCreate(),i.observer&&te.observer||t.update()},prependSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&t.loopDestroy();var r=s+1;if(\"object\"==typeof e&&\"length\"in e){for(var n=0;n<e.length;n+=1)e[n]&&i.prepend(e[n]);r=s+e.length}else i.prepend(e);a.loop&&t.loopCreate(),a.observer&&te.observer||t.update(),t.slideTo(r,0,!1)},addSlide:function(e,t){var a=this,i=a.$wrapperEl,s=a.params,r=a.activeIndex;s.loop&&(r-=a.loopedSlides,a.loopDestroy(),a.slides=i.children(\".\"+s.slideClass));var n=a.slides.length;if(e<=0)a.prependSlide(t);else if(n<=e)a.appendSlide(t);else{for(var o=e<r?r+1:r,l=[],d=n-1;e<=d;d-=1){var p=a.slides.eq(d);p.remove(),l.unshift(p)}if(\"object\"==typeof t&&\"length\"in t){for(var c=0;c<t.length;c+=1)t[c]&&i.append(t[c]);o=e<r?r+t.length:r}else i.append(t);for(var u=0;u<l.length;u+=1)i.append(l[u]);s.loop&&a.loopCreate(),s.observer&&te.observer||a.update(),s.loop?a.slideTo(o+a.loopedSlides,0,!1):a.slideTo(o,0,!1)}},removeSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=i.children(\".\"+a.slideClass));var r,n=s;if(\"object\"==typeof e&&\"length\"in e){for(var o=0;o<e.length;o+=1)r=e[o],t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1);n=Math.max(n,0)}else r=e,t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1),n=Math.max(n,0);a.loop&&t.loopCreate(),a.observer&&te.observer||t.update(),a.loop?t.slideTo(n+t.loopedSlides,0,!1):t.slideTo(n,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},g=function(){var e=J.navigator.userAgent,t={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:J.cordova||J.phonegap,phonegap:J.cordova||J.phonegap},a=e.match(/(Windows Phone);?[\\s\\/]+([\\d.]+)?/),i=e.match(/(Android);?[\\s\\/]+([\\d.]+)?/),s=e.match(/(iPad).*OS\\s([\\d_]+)/),r=e.match(/(iPod)(.*OS\\s([\\d_]+))?/),n=!s&&e.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);if(a&&(t.os=\"windows\",t.osVersion=a[2],t.windows=!0),i&&!a&&(t.os=\"android\",t.osVersion=i[2],t.android=!0,t.androidChrome=0<=e.toLowerCase().indexOf(\"chrome\")),(s||n||r)&&(t.os=\"ios\",t.ios=!0),n&&!r&&(t.osVersion=n[2].replace(/_/g,\".\"),t.iphone=!0),s&&(t.osVersion=s[2].replace(/_/g,\".\"),t.ipad=!0),r&&(t.osVersion=r[3]?r[3].replace(/_/g,\".\"):null,t.iphone=!0),t.ios&&t.osVersion&&0<=e.indexOf(\"Version/\")&&\"10\"===t.osVersion.split(\".\")[0]&&(t.osVersion=e.toLowerCase().split(\"version/\")[1].split(\" \")[0]),t.desktop=!(t.os||t.android||t.webView),t.webView=(n||s||r)&&e.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&\"ios\"===t.os){var o=t.osVersion.split(\".\"),l=f.querySelector('meta[name=\"viewport\"]');t.minimalUi=!t.webView&&(r||n)&&(1*o[0]==7?1<=1*o[1]:7<1*o[0])&&l&&0<=l.getAttribute(\"content\").indexOf(\"minimal-ui\")}return t.pixelRatio=J.devicePixelRatio||1,t}();function b(){var e=this,t=e.params,a=e.el;if(!a||0!==a.offsetWidth){t.breakpoints&&e.setBreakpoint();var i=e.allowSlideNext,s=e.allowSlidePrev,r=e.snapGrid;if(e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),t.freeMode){var n=Math.min(Math.max(e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses(),t.autoHeight&&e.updateAutoHeight()}else e.updateSlidesClasses(),(\"auto\"===t.slidesPerView||1<t.slidesPerView)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0);e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}}var w={init:!0,direction:\"horizontal\",touchEventsTarget:\"container\",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:\"slide\",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:\"column\",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:\"swiper-no-swiping\",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:\"swiper-container-\",slideClass:\"swiper-slide\",slideBlankClass:\"swiper-slide-invisible-blank\",slideActiveClass:\"swiper-slide-active\",slideDuplicateActiveClass:\"swiper-slide-duplicate-active\",slideVisibleClass:\"swiper-slide-visible\",slideDuplicateClass:\"swiper-slide-duplicate\",slideNextClass:\"swiper-slide-next\",slideDuplicateNextClass:\"swiper-slide-duplicate-next\",slidePrevClass:\"swiper-slide-prev\",slideDuplicatePrevClass:\"swiper-slide-duplicate-prev\",wrapperClass:\"swiper-wrapper\",runCallbacksOnInit:!0},y={update:d,translate:p,transition:c,slide:u,loop:h,grabCursor:v,manipulation:m,events:{attachEvents:function(){var e=this,t=e.params,a=e.touchEvents,i=e.el,s=e.wrapperEl;e.onTouchStart=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches;if(!t.animating||!i.preventInteractionOnTransition){var r=e;if(r.originalEvent&&(r=r.originalEvent),a.isTouchEvent=\"touchstart\"===r.type,(a.isTouchEvent||!(\"which\"in r)||3!==r.which)&&!(!a.isTouchEvent&&\"button\"in r&&0<r.button||a.isTouched&&a.isMoved))if(i.noSwiping&&L(r.target).closest(i.noSwipingSelector?i.noSwipingSelector:\".\"+i.noSwipingClass)[0])t.allowClick=!0;else if(!i.swipeHandler||L(r).closest(i.swipeHandler)[0]){s.currentX=\"touchstart\"===r.type?r.targetTouches[0].pageX:r.pageX,s.currentY=\"touchstart\"===r.type?r.targetTouches[0].pageY:r.pageY;var n=s.currentX,o=s.currentY,l=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,d=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(!l||!(n<=d||n>=J.screen.width-d)){if(ee.extend(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=n,s.startY=o,a.touchStartTime=ee.now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,0<i.threshold&&(a.allowThresholdMove=!1),\"touchstart\"!==r.type){var p=!0;L(r.target).is(a.formElements)&&(p=!1),f.activeElement&&L(f.activeElement).is(a.formElements)&&f.activeElement!==r.target&&f.activeElement.blur();var c=p&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||c)&&r.preventDefault()}t.emit(\"touchStart\",r)}}}}.bind(e),e.onTouchMove=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=e;if(n.originalEvent&&(n=n.originalEvent),a.isTouched){if(!a.isTouchEvent||\"mousemove\"!==n.type){var o=\"touchmove\"===n.type?n.targetTouches[0].pageX:n.pageX,l=\"touchmove\"===n.type?n.targetTouches[0].pageY:n.pageY;if(n.preventedByNestedSwiper)return s.startX=o,void(s.startY=l);if(!t.allowTouchMove)return t.allowClick=!1,void(a.isTouched&&(ee.extend(s,{startX:o,startY:l,currentX:o,currentY:l}),a.touchStartTime=ee.now()));if(a.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(l<s.startY&&t.translate<=t.maxTranslate()||l>s.startY&&t.translate>=t.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(o<s.startX&&t.translate<=t.maxTranslate()||o>s.startX&&t.translate>=t.minTranslate())return;if(a.isTouchEvent&&f.activeElement&&n.target===f.activeElement&&L(n.target).is(a.formElements))return a.isMoved=!0,void(t.allowClick=!1);if(a.allowTouchCallbacks&&t.emit(\"touchMove\",n),!(n.targetTouches&&1<n.targetTouches.length)){s.currentX=o,s.currentY=l;var d,p=s.currentX-s.startX,c=s.currentY-s.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(c,2))<t.params.threshold))if(void 0===a.isScrolling&&(t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?a.isScrolling=!1:25<=p*p+c*c&&(d=180*Math.atan2(Math.abs(c),Math.abs(p))/Math.PI,a.isScrolling=t.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle)),a.isScrolling&&t.emit(\"touchMoveOpposite\",n),void 0===a.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(a.startMoving=!0)),a.isScrolling)a.isTouched=!1;else if(a.startMoving){t.allowClick=!1,n.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&n.stopPropagation(),a.isMoved||(i.loop&&t.loopFix(),a.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger(\"webkitTransitionEnd transitionend\"),a.allowMomentumBounce=!1,!i.grabCursor||!0!==t.allowSlideNext&&!0!==t.allowSlidePrev||t.setGrabCursor(!0),t.emit(\"sliderFirstMove\",n)),t.emit(\"sliderMove\",n),a.isMoved=!0;var u=t.isHorizontal()?p:c;s.diff=u,u*=i.touchRatio,r&&(u=-u),t.swipeDirection=0<u?\"prev\":\"next\",a.currentTranslate=u+a.startTranslate;var h=!0,v=i.resistanceRatio;if(i.touchReleaseOnEdges&&(v=0),0<u&&a.currentTranslate>t.minTranslate()?(h=!1,i.resistance&&(a.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+a.startTranslate+u,v))):u<0&&a.currentTranslate<t.maxTranslate()&&(h=!1,i.resistance&&(a.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-a.startTranslate-u,v))),h&&(n.preventedByNestedSwiper=!0),!t.allowSlideNext&&\"next\"===t.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!t.allowSlidePrev&&\"prev\"===t.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),0<i.threshold){if(!(Math.abs(u)>i.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,a.currentTranslate=a.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&(0===a.velocities.length&&a.velocities.push({position:s[t.isHorizontal()?\"startX\":\"startY\"],time:a.touchStartTime}),a.velocities.push({position:s[t.isHorizontal()?\"currentX\":\"currentY\"],time:ee.now()})),t.updateProgress(a.currentTranslate),t.setTranslate(a.currentTranslate))}}}}else a.startMoving&&a.isScrolling&&t.emit(\"touchMoveOpposite\",n)}.bind(e),e.onTouchEnd=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit(\"touchEnd\",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&i.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);i.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var p,c=ee.now(),u=c-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit(\"tap\",d),u<300&&300<c-a.lastClickTime&&(a.clickTimeout&&clearTimeout(a.clickTimeout),a.clickTimeout=ee.nextTick(function(){t&&!t.destroyed&&t.emit(\"click\",d)},300)),u<300&&c-a.lastClickTime<300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),t.emit(\"doubleTap\",d))),a.lastClickTime=ee.now(),ee.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!a.isTouched||!a.isMoved||!t.swipeDirection||0===s.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,p=i.followFinger?r?t.translate:-t.translate:-a.currentTranslate,i.freeMode){if(p<-t.minTranslate())return void t.slideTo(t.activeIndex);if(p>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(1<a.velocities.length){var h=a.velocities.pop(),v=a.velocities.pop(),f=h.position-v.position,m=h.time-v.time;t.velocity=f/m,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(150<m||300<ee.now()-h.time)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,a.velocities.length=0;var g=1e3*i.freeModeMomentumRatio,b=t.velocity*g,w=t.translate+b;r&&(w=-w);var y,x,T=!1,E=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;if(w<t.maxTranslate())i.freeModeMomentumBounce?(w+t.maxTranslate()<-E&&(w=t.maxTranslate()-E),y=t.maxTranslate(),T=!0,a.allowMomentumBounce=!0):w=t.maxTranslate(),i.loop&&i.centeredSlides&&(x=!0);else if(w>t.minTranslate())i.freeModeMomentumBounce?(w-t.minTranslate()>E&&(w=t.minTranslate()+E),y=t.minTranslate(),T=!0,a.allowMomentumBounce=!0):w=t.minTranslate(),i.loop&&i.centeredSlides&&(x=!0);else if(i.freeModeSticky){for(var S,C=0;C<l.length;C+=1)if(l[C]>-w){S=C;break}w=-(w=Math.abs(l[S]-w)<Math.abs(l[S-1]-w)||\"next\"===t.swipeDirection?l[S]:l[S-1])}if(x&&t.once(\"transitionEnd\",function(){t.loopFix()}),0!==t.velocity)g=r?Math.abs((-w-t.translate)/t.velocity):Math.abs((w-t.translate)/t.velocity);else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&T?(t.updateProgress(y),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating=!0,n.transitionEnd(function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit(\"momentumBounce\"),t.setTransition(i.speed),t.setTranslate(y),n.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(w),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,n.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(w),t.updateActiveIndex(),t.updateSlidesClasses()}else if(i.freeModeSticky)return void t.slideToClosest();(!i.freeModeMomentum||u>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var M=0,z=t.slidesSizesGrid[0],P=0;P<o.length;P+=i.slidesPerGroup)void 0!==o[P+i.slidesPerGroup]?p>=o[P]&&p<o[P+i.slidesPerGroup]&&(z=o[(M=P)+i.slidesPerGroup]-o[P]):p>=o[P]&&(M=P,z=o[o.length-1]-o[o.length-2]);var k=(p-o[M])/z;if(u>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);\"next\"===t.swipeDirection&&(k>=i.longSwipesRatio?t.slideTo(M+i.slidesPerGroup):t.slideTo(M)),\"prev\"===t.swipeDirection&&(k>1-i.longSwipesRatio?t.slideTo(M+i.slidesPerGroup):t.slideTo(M))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);\"next\"===t.swipeDirection&&t.slideTo(M+i.slidesPerGroup),\"prev\"===t.swipeDirection&&t.slideTo(M)}}}.bind(e),e.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(e);var r=\"container\"===t.touchEventsTarget?i:s,n=!!t.nested;if(te.touch||!te.pointerEvents&&!te.prefixedPointerEvents){if(te.touch){var o=!(\"touchstart\"!==a.start||!te.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(a.start,e.onTouchStart,o),r.addEventListener(a.move,e.onTouchMove,te.passiveListener?{passive:!1,capture:n}:n),r.addEventListener(a.end,e.onTouchEnd,o)}(t.simulateTouch&&!g.ios&&!g.android||t.simulateTouch&&!te.touch&&g.ios)&&(r.addEventListener(\"mousedown\",e.onTouchStart,!1),f.addEventListener(\"mousemove\",e.onTouchMove,n),f.addEventListener(\"mouseup\",e.onTouchEnd,!1))}else r.addEventListener(a.start,e.onTouchStart,!1),f.addEventListener(a.move,e.onTouchMove,n),f.addEventListener(a.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener(\"click\",e.onClick,!0),e.on(g.ios||g.android?\"resize orientationchange observerUpdate\":\"resize observerUpdate\",b,!0)},detachEvents:function(){var e=this,t=e.params,a=e.touchEvents,i=e.el,s=e.wrapperEl,r=\"container\"===t.touchEventsTarget?i:s,n=!!t.nested;if(te.touch||!te.pointerEvents&&!te.prefixedPointerEvents){if(te.touch){var o=!(\"onTouchStart\"!==a.start||!te.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(a.start,e.onTouchStart,o),r.removeEventListener(a.move,e.onTouchMove,n),r.removeEventListener(a.end,e.onTouchEnd,o)}(t.simulateTouch&&!g.ios&&!g.android||t.simulateTouch&&!te.touch&&g.ios)&&(r.removeEventListener(\"mousedown\",e.onTouchStart,!1),f.removeEventListener(\"mousemove\",e.onTouchMove,n),f.removeEventListener(\"mouseup\",e.onTouchEnd,!1))}else r.removeEventListener(a.start,e.onTouchStart,!1),f.removeEventListener(a.move,e.onTouchMove,n),f.removeEventListener(a.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener(\"click\",e.onClick,!0),e.off(g.ios||g.android?\"resize orientationchange observerUpdate\":\"resize observerUpdate\",b)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,a=e.initialized,i=e.loopedSlides;void 0===i&&(i=0);var s=e.params,r=s.breakpoints;if(r&&(!r||0!==Object.keys(r).length)){var n=e.getBreakpoint(r);if(n&&e.currentBreakpoint!==n){var o=n in r?r[n]:void 0;o&&[\"slidesPerView\",\"spaceBetween\",\"slidesPerGroup\"].forEach(function(e){var t=o[e];void 0!==t&&(o[e]=\"slidesPerView\"!==e||\"AUTO\"!==t&&\"auto\"!==t?\"slidesPerView\"===e?parseFloat(t):parseInt(t,10):\"auto\")});var l=o||e.originalParams,d=l.direction&&l.direction!==s.direction,p=s.loop&&(l.slidesPerView!==s.slidesPerView||d);d&&a&&e.changeDirection(),ee.extend(e.params,l),ee.extend(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=n,p&&a&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit(\"breakpoint\",l)}}},getBreakpoint:function(e){if(e){var t=!1,a=[];Object.keys(e).forEach(function(e){a.push(e)}),a.sort(function(e,t){return parseInt(e,10)-parseInt(t,10)});for(var i=0;i<a.length;i+=1){var s=a[i];this.params.breakpointsInverse?s<=J.innerWidth&&(t=s):s>=J.innerWidth&&!t&&(t=s)}return t||\"max\"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked;e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,t!==e.isLocked&&e.emit(e.isLocked?\"lock\":\"unlock\"),t&&t!==e.isLocked&&(e.isEnd=!1,e.navigation.update())}},classes:{addClasses:function(){var t=this.classNames,a=this.params,e=this.rtl,i=this.$el,s=[];s.push(\"initialized\"),s.push(a.direction),a.freeMode&&s.push(\"free-mode\"),te.flexbox||s.push(\"no-flexbox\"),a.autoHeight&&s.push(\"autoheight\"),e&&s.push(\"rtl\"),1<a.slidesPerColumn&&s.push(\"multirow\"),g.android&&s.push(\"android\"),g.ios&&s.push(\"ios\"),(I.isIE||I.isEdge)&&(te.pointerEvents||te.prefixedPointerEvents)&&s.push(\"wp8-\"+a.direction),s.forEach(function(e){t.push(a.containerModifierClass+e)}),i.addClass(t.join(\" \"))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(\" \"))}},images:{loadImage:function(e,t,a,i,s,r){var n;function o(){r&&r()}e.complete&&s?o():t?((n=new J.Image).onload=o,n.onerror=o,i&&(n.sizes=i),a&&(n.srcset=a),t&&(n.src=t)):o()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit(\"imagesReady\")))}e.imagesToLoad=e.$el.find(\"img\");for(var a=0;a<e.imagesToLoad.length;a+=1){var i=e.imagesToLoad[a];e.loadImage(i,i.currentSrc||i.getAttribute(\"src\"),i.srcset||i.getAttribute(\"srcset\"),i.sizes||i.getAttribute(\"sizes\"),!0,t)}}}},x={},T=function(u){function h(){for(var e,t,s,a=[],i=arguments.length;i--;)a[i]=arguments[i];1===a.length&&a[0].constructor&&a[0].constructor===Object?s=a[0]:(t=(e=a)[0],s=e[1]),s||(s={}),s=ee.extend({},s),t&&!s.el&&(s.el=t),u.call(this,s),Object.keys(y).forEach(function(t){Object.keys(y[t]).forEach(function(e){h.prototype[e]||(h.prototype[e]=y[t][e])})});var r=this;void 0===r.modules&&(r.modules={}),Object.keys(r.modules).forEach(function(e){var t=r.modules[e];if(t.params){var a=Object.keys(t.params)[0],i=t.params[a];if(\"object\"!=typeof i||null===i)return;if(!(a in s&&\"enabled\"in i))return;!0===s[a]&&(s[a]={enabled:!0}),\"object\"!=typeof s[a]||\"enabled\"in s[a]||(s[a].enabled=!0),s[a]||(s[a]={enabled:!1})}});var n=ee.extend({},w);r.useModulesParams(n),r.params=ee.extend({},n,x,s),r.originalParams=ee.extend({},r.params),r.passedParams=ee.extend({},s);var o=(r.$=L)(r.params.el);if(t=o[0]){if(1<o.length){var l=[];return o.each(function(e,t){var a=ee.extend({},s,{el:t});l.push(new h(a))}),l}t.swiper=r,o.data(\"swiper\",r);var d,p,c=o.children(\".\"+r.params.wrapperClass);return ee.extend(r,{$el:o,el:t,$wrapperEl:c,wrapperEl:c[0],classNames:[],slides:L(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return\"horizontal\"===r.params.direction},isVertical:function(){return\"vertical\"===r.params.direction},rtl:\"rtl\"===t.dir.toLowerCase()||\"rtl\"===o.css(\"direction\"),rtlTranslate:\"horizontal\"===r.params.direction&&(\"rtl\"===t.dir.toLowerCase()||\"rtl\"===o.css(\"direction\")),wrongRTL:\"-webkit-box\"===c.css(\"display\"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:(d=[\"touchstart\",\"touchmove\",\"touchend\"],p=[\"mousedown\",\"mousemove\",\"mouseup\"],te.pointerEvents?p=[\"pointerdown\",\"pointermove\",\"pointerup\"]:te.prefixedPointerEvents&&(p=[\"MSPointerDown\",\"MSPointerMove\",\"MSPointerUp\"]),r.touchEventsTouch={start:d[0],move:d[1],end:d[2]},r.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},te.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:\"input, select, option, textarea, button, video\",lastClickTime:ee.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.useModules(),r.params.init&&r.init(),r}}u&&(h.__proto__=u);var e={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((h.prototype=Object.create(u&&u.prototype)).constructor=h).prototype.slidesPerViewDynamic=function(){var e=this,t=e.params,a=e.slides,i=e.slidesGrid,s=e.size,r=e.activeIndex,n=1;if(t.centeredSlides){for(var o,l=a[r].swiperSlideSize,d=r+1;d<a.length;d+=1)a[d]&&!o&&(n+=1,s<(l+=a[d].swiperSlideSize)&&(o=!0));for(var p=r-1;0<=p;p-=1)a[p]&&!o&&(n+=1,s<(l+=a[p].swiperSlideSize)&&(o=!0))}else for(var c=r+1;c<a.length;c+=1)i[c]-i[r]<s&&(n+=1);return n},h.prototype.update=function(){var a=this;if(a&&!a.destroyed){var e=a.snapGrid,t=a.params;t.breakpoints&&a.setBreakpoint(),a.updateSize(),a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.params.freeMode?(i(),a.params.autoHeight&&a.updateAutoHeight()):((\"auto\"===a.params.slidesPerView||1<a.params.slidesPerView)&&a.isEnd&&!a.params.centeredSlides?a.slideTo(a.slides.length-1,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0))||i(),t.watchOverflow&&e!==a.snapGrid&&a.checkOverflow(),a.emit(\"update\")}function i(){var e=a.rtlTranslate?-1*a.translate:a.translate,t=Math.min(Math.max(e,a.maxTranslate()),a.minTranslate());a.setTranslate(t),a.updateActiveIndex(),a.updateSlidesClasses()}},h.prototype.changeDirection=function(a,e){void 0===e&&(e=!0);var t=this,i=t.params.direction;return a||(a=\"horizontal\"===i?\"vertical\":\"horizontal\"),a===i||\"horizontal\"!==a&&\"vertical\"!==a||(\"vertical\"===i&&(t.$el.removeClass(t.params.containerModifierClass+\"vertical wp8-vertical\").addClass(\"\"+t.params.containerModifierClass+a),(I.isIE||I.isEdge)&&(te.pointerEvents||te.prefixedPointerEvents)&&t.$el.addClass(t.params.containerModifierClass+\"wp8-\"+a)),\"horizontal\"===i&&(t.$el.removeClass(t.params.containerModifierClass+\"horizontal wp8-horizontal\").addClass(\"\"+t.params.containerModifierClass+a),(I.isIE||I.isEdge)&&(te.pointerEvents||te.prefixedPointerEvents)&&t.$el.addClass(t.params.containerModifierClass+\"wp8-\"+a)),t.params.direction=a,t.slides.each(function(e,t){\"vertical\"===a?t.style.width=\"\":t.style.height=\"\"}),t.emit(\"changeDirection\"),e&&t.update()),t},h.prototype.init=function(){var e=this;e.initialized||(e.emit(\"beforeInit\"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit(\"init\"))},h.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=this,i=a.params,s=a.$el,r=a.$wrapperEl,n=a.slides;return void 0===a.params||a.destroyed||(a.emit(\"beforeDestroy\"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),t&&(a.removeClasses(),s.removeAttr(\"style\"),r.removeAttr(\"style\"),n&&n.length&&n.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(\" \")).removeAttr(\"style\").removeAttr(\"data-swiper-slide-index\").removeAttr(\"data-swiper-column\").removeAttr(\"data-swiper-row\")),a.emit(\"destroy\"),Object.keys(a.eventsListeners).forEach(function(e){a.off(e)}),!1!==e&&(a.$el[0].swiper=null,a.$el.data(\"swiper\",null),ee.deleteProps(a)),a.destroyed=!0),null},h.extendDefaults=function(e){ee.extend(x,e)},e.extendedDefaults.get=function(){return x},e.defaults.get=function(){return w},e.Class.get=function(){return u},e.$.get=function(){return L},Object.defineProperties(h,e),h}(n),E={name:\"device\",proto:{device:g},static:{device:g}},S={name:\"support\",proto:{support:te},static:{support:te}},C={name:\"browser\",proto:{browser:I},static:{browser:I}},M={name:\"resize\",create:function(){var e=this;ee.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit(\"beforeResize\"),e.emit(\"resize\"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit(\"orientationchange\")}}})},on:{init:function(){J.addEventListener(\"resize\",this.resize.resizeHandler),J.addEventListener(\"orientationchange\",this.resize.orientationChangeHandler)},destroy:function(){J.removeEventListener(\"resize\",this.resize.resizeHandler),J.removeEventListener(\"orientationchange\",this.resize.orientationChangeHandler)}}},z={func:J.MutationObserver||J.WebkitMutationObserver,attach:function(e,t){void 0===t&&(t={});var a=this,i=new z.func(function(e){if(1!==e.length){var t=function(){a.emit(\"observerUpdate\",e[0])};J.requestAnimationFrame?J.requestAnimationFrame(t):J.setTimeout(t,0)}else a.emit(\"observerUpdate\",e[0])});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.observer.observers.push(i)},init:function(){var e=this;if(te.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),a=0;a<t.length;a+=1)e.observer.attach(t[a]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},P={name:\"observer\",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){ee.extend(this,{observer:{init:z.init.bind(this),attach:z.attach.bind(this),destroy:z.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},k={update:function(e){var t=this,a=t.params,i=a.slidesPerView,s=a.slidesPerGroup,r=a.centeredSlides,n=t.params.virtual,o=n.addSlidesBefore,l=n.addSlidesAfter,d=t.virtual,p=d.from,c=d.to,u=d.slides,h=d.slidesGrid,v=d.renderSlide,f=d.offset;t.updateActiveIndex();var m,g,b,w=t.activeIndex||0;m=t.rtlTranslate?\"right\":t.isHorizontal()?\"left\":\"top\",r?(g=Math.floor(i/2)+s+o,b=Math.floor(i/2)+s+l):(g=i+(s-1)+o,b=s+l);var y=Math.max((w||0)-b,0),x=Math.min((w||0)+g,u.length-1),T=(t.slidesGrid[y]||0)-(t.slidesGrid[0]||0);function E(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(ee.extend(t.virtual,{from:y,to:x,offset:T,slidesGrid:t.slidesGrid}),p===y&&c===x&&!e)return t.slidesGrid!==h&&T!==f&&t.slides.css(m,T+\"px\"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:T,from:y,to:x,slides:function(){for(var e=[],t=y;t<=x;t+=1)e.push(u[t]);return e}()}),void E();var S=[],C=[];if(e)t.$wrapperEl.find(\".\"+t.params.slideClass).remove();else for(var M=p;M<=c;M+=1)(M<y||x<M)&&t.$wrapperEl.find(\".\"+t.params.slideClass+'[data-swiper-slide-index=\"'+M+'\"]').remove();for(var z=0;z<u.length;z+=1)y<=z&&z<=x&&(void 0===c||e?C.push(z):(c<z&&C.push(z),z<p&&S.push(z)));C.forEach(function(e){t.$wrapperEl.append(v(u[e],e))}),S.sort(function(e,t){return t-e}).forEach(function(e){t.$wrapperEl.prepend(v(u[e],e))}),t.$wrapperEl.children(\".swiper-slide\").css(m,T+\"px\"),E()},renderSlide:function(e,t){var a=this,i=a.params.virtual;if(i.cache&&a.virtual.cache[t])return a.virtual.cache[t];var s=i.renderSlide?L(i.renderSlide.call(a,e,t)):L('<div class=\"'+a.params.slideClass+'\" data-swiper-slide-index=\"'+t+'\">'+e+\"</div>\");return s.attr(\"data-swiper-slide-index\")||s.attr(\"data-swiper-slide-index\",t),i.cache&&(a.virtual.cache[t]=s),s},appendSlide:function(e){if(\"object\"==typeof e&&\"length\"in e)for(var t=0;t<e.length;t+=1)e[t]&&this.virtual.slides.push(e[t]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var t=this,a=t.activeIndex,i=a+1,s=1;if(Array.isArray(e)){for(var r=0;r<e.length;r+=1)e[r]&&t.virtual.slides.unshift(e[r]);i=a+e.length,s=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var n=t.virtual.cache,o={};Object.keys(n).forEach(function(e){o[parseInt(e,10)+s]=n[e]}),t.virtual.cache=o}t.virtual.update(!0),t.slideTo(i,0)},removeSlide:function(e){var t=this;if(null!=e){var a=t.activeIndex;if(Array.isArray(e))for(var i=e.length-1;0<=i;i-=1)t.virtual.slides.splice(e[i],1),t.params.virtual.cache&&delete t.virtual.cache[e[i]],e[i]<a&&(a-=1),a=Math.max(a,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<a&&(a-=1),a=Math.max(a,0);t.virtual.update(!0),t.slideTo(a,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},$={name:\"virtual\",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){var e=this;ee.extend(e,{virtual:{update:k.update.bind(e),appendSlide:k.appendSlide.bind(e),prependSlide:k.prependSlide.bind(e),removeSlide:k.removeSlide.bind(e),removeAllSlides:k.removeAllSlides.bind(e),renderSlide:k.renderSlide.bind(e),slides:e.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var e=this;if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+\"virtual\");var t={watchSlidesProgress:!0};ee.extend(e.params,t),ee.extend(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},D={handle:function(e){var t=this,a=t.rtlTranslate,i=e;i.originalEvent&&(i=i.originalEvent);var s=i.keyCode||i.charCode;if(!t.allowSlideNext&&(t.isHorizontal()&&39===s||t.isVertical()&&40===s))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&37===s||t.isVertical()&&38===s))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||f.activeElement&&f.activeElement.nodeName&&(\"input\"===f.activeElement.nodeName.toLowerCase()||\"textarea\"===f.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(37===s||39===s||38===s||40===s)){var r=!1;if(0<t.$el.parents(\".\"+t.params.slideClass).length&&0===t.$el.parents(\".\"+t.params.slideActiveClass).length)return;var n=J.innerWidth,o=J.innerHeight,l=t.$el.offset();a&&(l.left-=t.$el[0].scrollLeft);for(var d=[[l.left,l.top],[l.left+t.width,l.top],[l.left,l.top+t.height],[l.left+t.width,l.top+t.height]],p=0;p<d.length;p+=1){var c=d[p];0<=c[0]&&c[0]<=n&&0<=c[1]&&c[1]<=o&&(r=!0)}if(!r)return}t.isHorizontal()?(37!==s&&39!==s||(i.preventDefault?i.preventDefault():i.returnValue=!1),(39===s&&!a||37===s&&a)&&t.slideNext(),(37===s&&!a||39===s&&a)&&t.slidePrev()):(38!==s&&40!==s||(i.preventDefault?i.preventDefault():i.returnValue=!1),40===s&&t.slideNext(),38===s&&t.slidePrev()),t.emit(\"keyPress\",s)}},enable:function(){this.keyboard.enabled||(L(f).on(\"keydown\",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(L(f).off(\"keydown\",this.keyboard.handle),this.keyboard.enabled=!1)}},O={name:\"keyboard\",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){ee.extend(this,{keyboard:{enabled:!1,enable:D.enable.bind(this),disable:D.disable.bind(this),handle:D.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}};var A={lastScrollTime:ee.now(),event:-1<J.navigator.userAgent.indexOf(\"firefox\")?\"DOMMouseScroll\":function(){var e=\"onwheel\",t=e in f;if(!t){var a=f.createElement(\"div\");a.setAttribute(e,\"return;\"),t=\"function\"==typeof a[e]}return!t&&f.implementation&&f.implementation.hasFeature&&!0!==f.implementation.hasFeature(\"\",\"\")&&(t=f.implementation.hasFeature(\"Events.wheel\",\"3.0\")),t}()?\"wheel\":\"mousewheel\",normalize:function(e){var t=0,a=0,i=0,s=0;return\"detail\"in e&&(a=e.detail),\"wheelDelta\"in e&&(a=-e.wheelDelta/120),\"wheelDeltaY\"in e&&(a=-e.wheelDeltaY/120),\"wheelDeltaX\"in e&&(t=-e.wheelDeltaX/120),\"axis\"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),i=10*t,s=10*a,\"deltaY\"in e&&(s=e.deltaY),\"deltaX\"in e&&(i=e.deltaX),(i||s)&&e.deltaMode&&(1===e.deltaMode?(i*=40,s*=40):(i*=800,s*=800)),i&&!t&&(t=i<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:t,spinY:a,pixelX:i,pixelY:s}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,a=this,i=a.params.mousewheel;if(!a.mouseEntered&&!i.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var s=0,r=a.rtlTranslate?-1:1,n=A.normalize(t);if(i.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(n.pixelX)>Math.abs(n.pixelY)))return!0;s=n.pixelX*r}else{if(!(Math.abs(n.pixelY)>Math.abs(n.pixelX)))return!0;s=n.pixelY}else s=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*r:-n.pixelY;if(0===s)return!0;if(i.invert&&(s=-s),a.params.freeMode){a.params.loop&&a.loopFix();var o=a.getTranslate()+s*i.sensitivity,l=a.isBeginning,d=a.isEnd;if(o>=a.minTranslate()&&(o=a.minTranslate()),o<=a.maxTranslate()&&(o=a.maxTranslate()),a.setTransition(0),a.setTranslate(o),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!l&&a.isBeginning||!d&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky&&(clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=ee.nextTick(function(){a.slideToClosest()},300)),a.emit(\"scroll\",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.autoplay.stop(),o===a.minTranslate()||o===a.maxTranslate())return!0}else{if(60<ee.now()-a.mousewheel.lastScrollTime)if(s<0)if(a.isEnd&&!a.params.loop||a.animating){if(i.releaseOnEdges)return!0}else a.slideNext(),a.emit(\"scroll\",t);else if(a.isBeginning&&!a.params.loop||a.animating){if(i.releaseOnEdges)return!0}else a.slidePrev(),a.emit(\"scroll\",t);a.mousewheel.lastScrollTime=(new J.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},enable:function(){var e=this;if(!A.event)return!1;if(e.mousewheel.enabled)return!1;var t=e.$el;return\"container\"!==e.params.mousewheel.eventsTarged&&(t=L(e.params.mousewheel.eventsTarged)),t.on(\"mouseenter\",e.mousewheel.handleMouseEnter),t.on(\"mouseleave\",e.mousewheel.handleMouseLeave),t.on(A.event,e.mousewheel.handle),e.mousewheel.enabled=!0},disable:function(){var e=this;if(!A.event)return!1;if(!e.mousewheel.enabled)return!1;var t=e.$el;return\"container\"!==e.params.mousewheel.eventsTarged&&(t=L(e.params.mousewheel.eventsTarged)),t.off(A.event,e.mousewheel.handle),!(e.mousewheel.enabled=!1)}},H={update:function(){var e=this,t=e.params.navigation;if(!e.params.loop){var a=e.navigation,i=a.$nextEl,s=a.$prevEl;s&&0<s.length&&(e.isBeginning?s.addClass(t.disabledClass):s.removeClass(t.disabledClass),s[e.params.watchOverflow&&e.isLocked?\"addClass\":\"removeClass\"](t.lockClass)),i&&0<i.length&&(e.isEnd?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[e.params.watchOverflow&&e.isLocked?\"addClass\":\"removeClass\"](t.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,a=this,i=a.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(e=L(i.nextEl),a.params.uniqueNavElements&&\"string\"==typeof i.nextEl&&1<e.length&&1===a.$el.find(i.nextEl).length&&(e=a.$el.find(i.nextEl))),i.prevEl&&(t=L(i.prevEl),a.params.uniqueNavElements&&\"string\"==typeof i.prevEl&&1<t.length&&1===a.$el.find(i.prevEl).length&&(t=a.$el.find(i.prevEl))),e&&0<e.length&&e.on(\"click\",a.navigation.onNextClick),t&&0<t.length&&t.on(\"click\",a.navigation.onPrevClick),ee.extend(a.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this,t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a.length&&(a.off(\"click\",e.navigation.onNextClick),a.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off(\"click\",e.navigation.onPrevClick),i.removeClass(e.params.navigation.disabledClass))}},N={update:function(){var e=this,t=e.rtl,s=e.params.pagination;if(s.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,n=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>a-1-2*e.loopedSlides&&(r-=a-2*e.loopedSlides),n-1<r&&(r-=n),r<0&&\"bullets\"!==e.params.paginationType&&(r=n+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,\"bullets\"===s.type&&e.pagination.bullets&&0<e.pagination.bullets.length){var o,l,d,p=e.pagination.bullets;if(s.dynamicBullets&&(e.pagination.bulletSize=p.eq(0)[e.isHorizontal()?\"outerWidth\":\"outerHeight\"](!0),i.css(e.isHorizontal()?\"width\":\"height\",e.pagination.bulletSize*(s.dynamicMainBullets+4)+\"px\"),1<s.dynamicMainBullets&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>s.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=s.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),o=r-e.pagination.dynamicBulletIndex,d=((l=o+(Math.min(p.length,s.dynamicMainBullets)-1))+o)/2),p.removeClass(s.bulletActiveClass+\" \"+s.bulletActiveClass+\"-next \"+s.bulletActiveClass+\"-next-next \"+s.bulletActiveClass+\"-prev \"+s.bulletActiveClass+\"-prev-prev \"+s.bulletActiveClass+\"-main\"),1<i.length)p.each(function(e,t){var a=L(t),i=a.index();i===r&&a.addClass(s.bulletActiveClass),s.dynamicBullets&&(o<=i&&i<=l&&a.addClass(s.bulletActiveClass+\"-main\"),i===o&&a.prev().addClass(s.bulletActiveClass+\"-prev\").prev().addClass(s.bulletActiveClass+\"-prev-prev\"),i===l&&a.next().addClass(s.bulletActiveClass+\"-next\").next().addClass(s.bulletActiveClass+\"-next-next\"))});else if(p.eq(r).addClass(s.bulletActiveClass),s.dynamicBullets){for(var c=p.eq(o),u=p.eq(l),h=o;h<=l;h+=1)p.eq(h).addClass(s.bulletActiveClass+\"-main\");c.prev().addClass(s.bulletActiveClass+\"-prev\").prev().addClass(s.bulletActiveClass+\"-prev-prev\"),u.next().addClass(s.bulletActiveClass+\"-next\").next().addClass(s.bulletActiveClass+\"-next-next\")}if(s.dynamicBullets){var v=Math.min(p.length,s.dynamicMainBullets+4),f=(e.pagination.bulletSize*v-e.pagination.bulletSize)/2-d*e.pagination.bulletSize,m=t?\"right\":\"left\";p.css(e.isHorizontal()?m:\"top\",f+\"px\")}}if(\"fraction\"===s.type&&(i.find(\".\"+s.currentClass).text(s.formatFractionCurrent(r+1)),i.find(\".\"+s.totalClass).text(s.formatFractionTotal(n))),\"progressbar\"===s.type){var g;g=s.progressbarOpposite?e.isHorizontal()?\"vertical\":\"horizontal\":e.isHorizontal()?\"horizontal\":\"vertical\";var b=(r+1)/n,w=1,y=1;\"horizontal\"===g?w=b:y=b,i.find(\".\"+s.progressbarFillClass).transform(\"translate3d(0,0,0) scaleX(\"+w+\") scaleY(\"+y+\")\").transition(e.params.speed)}\"custom\"===s.type&&s.renderCustom?(i.html(s.renderCustom(e,r+1,n)),e.emit(\"paginationRender\",e,i[0])):e.emit(\"paginationUpdate\",e,i[0]),i[e.params.watchOverflow&&e.isLocked?\"addClass\":\"removeClass\"](s.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,s=\"\";if(\"bullets\"===t.type){for(var r=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,n=0;n<r;n+=1)t.renderBullet?s+=t.renderBullet.call(e,n,t.bulletClass):s+=\"<\"+t.bulletElement+' class=\"'+t.bulletClass+'\"></'+t.bulletElement+\">\";i.html(s),e.pagination.bullets=i.find(\".\"+t.bulletClass)}\"fraction\"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class=\"'+t.currentClass+'\"></span> / <span class=\"'+t.totalClass+'\"></span>',i.html(s)),\"progressbar\"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class=\"'+t.progressbarFillClass+'\"></span>',i.html(s)),\"custom\"!==t.type&&e.emit(\"paginationRender\",e.pagination.$el[0])}},init:function(){var a=this,e=a.params.pagination;if(e.el){var t=L(e.el);0!==t.length&&(a.params.uniqueNavElements&&\"string\"==typeof e.el&&1<t.length&&1===a.$el.find(e.el).length&&(t=a.$el.find(e.el)),\"bullets\"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),\"bullets\"===e.type&&e.dynamicBullets&&(t.addClass(\"\"+e.modifierClass+e.type+\"-dynamic\"),a.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),\"progressbar\"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on(\"click\",\".\"+e.bulletClass,function(e){e.preventDefault();var t=L(this).index()*a.params.slidesPerGroup;a.params.loop&&(t+=a.loopedSlides),a.slideTo(t)}),ee.extend(a.pagination,{$el:t,el:t[0]}))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.pagination.$el;a.removeClass(t.hiddenClass),a.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&a.off(\"click\",\".\"+t.bulletClass)}}},G={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=e.rtlTranslate,i=e.progress,s=t.dragSize,r=t.trackSize,n=t.$dragEl,o=t.$el,l=e.params.scrollbar,d=s,p=(r-s)*i;a?0<(p=-p)?(d=s-p,p=0):r<-p+s&&(d=r+p):p<0?(d=s+p,p=0):r<p+s&&(d=r-p),e.isHorizontal()?(te.transforms3d?n.transform(\"translate3d(\"+p+\"px, 0, 0)\"):n.transform(\"translateX(\"+p+\"px)\"),n[0].style.width=d+\"px\"):(te.transforms3d?n.transform(\"translate3d(0px, \"+p+\"px, 0)\"):n.transform(\"translateY(\"+p+\"px)\"),n[0].style.height=d+\"px\"),l.hide&&(clearTimeout(e.scrollbar.timeout),o[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){o[0].style.opacity=0,o.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=t.$dragEl,i=t.$el;a[0].style.width=\"\",a[0].style.height=\"\";var s,r=e.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,n=e.size/e.virtualSize,o=n*(r/e.size);s=\"auto\"===e.params.scrollbar.dragSize?r*n:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?a[0].style.width=s+\"px\":a[0].style.height=s+\"px\",i[0].style.display=1<=n?\"none\":\"\",e.params.scrollbar.hide&&(i[0].style.opacity=0),ee.extend(t,{trackSize:r,divider:n,moveDivider:o,dragSize:s}),t.$el[e.params.watchOverflow&&e.isLocked?\"addClass\":\"removeClass\"](e.params.scrollbar.lockClass)}},setDragPosition:function(e){var t,a=this,i=a.scrollbar,s=a.rtlTranslate,r=i.$el,n=i.dragSize,o=i.trackSize;t=((a.isHorizontal()?\"touchstart\"===e.type||\"touchmove\"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:\"touchstart\"===e.type||\"touchmove\"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-r.offset()[a.isHorizontal()?\"left\":\"top\"]-n/2)/(o-n),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var l=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*t;a.updateProgress(l),a.setTranslate(l),a.updateActiveIndex(),a.updateSlidesClasses()},onDragStart:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el,n=i.$dragEl;t.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),s.transition(100),n.transition(100),i.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),r.transition(0),a.hide&&r.css(\"opacity\",1),t.emit(\"scrollbarDragStart\",e)},onDragMove:function(e){var t=this.scrollbar,a=this.$wrapperEl,i=t.$el,s=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),a.transition(0),i.transition(0),s.transition(0),this.emit(\"scrollbarDragMove\",e))},onDragEnd:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,a.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=ee.nextTick(function(){i.css(\"opacity\",0),i.transition(400)},1e3)),t.emit(\"scrollbarDragEnd\",e),a.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.touchEventsTouch,i=e.touchEventsDesktop,s=e.params,r=t.$el[0],n=!(!te.passiveListener||!s.passiveListeners)&&{passive:!1,capture:!1},o=!(!te.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};te.touch?(r.addEventListener(a.start,e.scrollbar.onDragStart,n),r.addEventListener(a.move,e.scrollbar.onDragMove,n),r.addEventListener(a.end,e.scrollbar.onDragEnd,o)):(r.addEventListener(i.start,e.scrollbar.onDragStart,n),f.addEventListener(i.move,e.scrollbar.onDragMove,n),f.addEventListener(i.end,e.scrollbar.onDragEnd,o))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.touchEventsTouch,i=e.touchEventsDesktop,s=e.params,r=t.$el[0],n=!(!te.passiveListener||!s.passiveListeners)&&{passive:!1,capture:!1},o=!(!te.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};te.touch?(r.removeEventListener(a.start,e.scrollbar.onDragStart,n),r.removeEventListener(a.move,e.scrollbar.onDragMove,n),r.removeEventListener(a.end,e.scrollbar.onDragEnd,o)):(r.removeEventListener(i.start,e.scrollbar.onDragStart,n),f.removeEventListener(i.move,e.scrollbar.onDragMove,n),f.removeEventListener(i.end,e.scrollbar.onDragEnd,o))}},init:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.$el,i=e.params.scrollbar,s=L(i.el);e.params.uniqueNavElements&&\"string\"==typeof i.el&&1<s.length&&1===a.find(i.el).length&&(s=a.find(i.el));var r=s.find(\".\"+e.params.scrollbar.dragClass);0===r.length&&(r=L('<div class=\"'+e.params.scrollbar.dragClass+'\"></div>'),s.append(r)),ee.extend(t,{$el:s,el:s[0],$dragEl:r,dragEl:r[0]}),i.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},B={setTransform:function(e,t){var a=this.rtl,i=L(e),s=a?-1:1,r=i.attr(\"data-swiper-parallax\")||\"0\",n=i.attr(\"data-swiper-parallax-x\"),o=i.attr(\"data-swiper-parallax-y\"),l=i.attr(\"data-swiper-parallax-scale\"),d=i.attr(\"data-swiper-parallax-opacity\");if(n||o?(n=n||\"0\",o=o||\"0\"):this.isHorizontal()?(n=r,o=\"0\"):(o=r,n=\"0\"),n=0<=n.indexOf(\"%\")?parseInt(n,10)*t*s+\"%\":n*t*s+\"px\",o=0<=o.indexOf(\"%\")?parseInt(o,10)*t+\"%\":o*t+\"px\",null!=d){var p=d-(d-1)*(1-Math.abs(t));i[0].style.opacity=p}if(null==l)i.transform(\"translate3d(\"+n+\", \"+o+\", 0px)\");else{var c=l-(l-1)*(1-Math.abs(t));i.transform(\"translate3d(\"+n+\", \"+o+\", 0px) scale(\"+c+\")\")}},setTranslate:function(){var i=this,e=i.$el,t=i.slides,s=i.progress,r=i.snapGrid;e.children(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function(e,t){i.parallax.setTransform(t,s)}),t.each(function(e,t){var a=t.progress;1<i.params.slidesPerGroup&&\"auto\"!==i.params.slidesPerView&&(a+=Math.ceil(e/2)-s*(r.length-1)),a=Math.min(Math.max(a,-1),1),L(t).find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function(e,t){i.parallax.setTransform(t,a)})})},setTransition:function(s){void 0===s&&(s=this.params.speed);this.$el.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function(e,t){var a=L(t),i=parseInt(a.attr(\"data-swiper-parallax-duration\"),10)||s;0===s&&(i=0),a.transition(i)})}},X={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-a,2))},onGestureStart:function(e){var t=this,a=t.params.zoom,i=t.zoom,s=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!te.gestures){if(\"touchstart\"!==e.type||\"touchstart\"===e.type&&e.targetTouches.length<2)return;i.fakeGestureTouched=!0,s.scaleStart=X.getDistanceBetweenTouches(e)}s.$slideEl&&s.$slideEl.length||(s.$slideEl=L(e.target).closest(\".swiper-slide\"),0===s.$slideEl.length&&(s.$slideEl=t.slides.eq(t.activeIndex)),s.$imageEl=s.$slideEl.find(\"img, svg, canvas\"),s.$imageWrapEl=s.$imageEl.parent(\".\"+a.containerClass),s.maxRatio=s.$imageWrapEl.attr(\"data-swiper-zoom\")||a.maxRatio,0!==s.$imageWrapEl.length)?(s.$imageEl.transition(0),t.zoom.isScaling=!0):s.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,a=this.zoom,i=a.gesture;if(!te.gestures){if(\"touchmove\"!==e.type||\"touchmove\"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,i.scaleMove=X.getDistanceBetweenTouches(e)}i.$imageEl&&0!==i.$imageEl.length&&(a.scale=te.gestures?e.scale*a.currentScale:i.scaleMove/i.scaleStart*a.currentScale,a.scale>i.maxRatio&&(a.scale=i.maxRatio-1+Math.pow(a.scale-i.maxRatio+1,.5)),a.scale<t.minRatio&&(a.scale=t.minRatio+1-Math.pow(t.minRatio-a.scale+1,.5)),i.$imageEl.transform(\"translate3d(0,0,0) scale(\"+a.scale+\")\"))},onGestureEnd:function(e){var t=this.params.zoom,a=this.zoom,i=a.gesture;if(!te.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if(\"touchend\"!==e.type||\"touchend\"===e.type&&e.changedTouches.length<2&&!g.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,i.maxRatio),t.minRatio),i.$imageEl.transition(this.params.speed).transform(\"translate3d(0,0,0) scale(\"+a.scale+\")\"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(i.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,a=t.gesture,i=t.image;a.$imageEl&&0!==a.$imageEl.length&&(i.isTouched||(g.android&&e.preventDefault(),i.isTouched=!0,i.touchesStart.x=\"touchstart\"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesStart.y=\"touchstart\"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,a=t.zoom,i=a.gesture,s=a.image,r=a.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(t.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=ee.getTranslate(i.$imageWrapEl[0],\"x\")||0,s.startY=ee.getTranslate(i.$imageWrapEl[0],\"y\")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),t.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var n=s.width*a.scale,o=s.height*a.scale;if(!(n<i.slideWidth&&o<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-n/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-o/2,0),s.maxY=-s.minY,s.touchesCurrent.x=\"touchmove\"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y=\"touchmove\"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!a.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=s.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=s.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(s.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(s.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(s.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(s.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=s.touchesCurrent.x,r.prevPositionY=s.touchesCurrent.y,r.prevTime=Date.now(),i.$imageWrapEl.transform(\"translate3d(\"+s.currentX+\"px, \"+s.currentY+\"px,0)\")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,i=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var s=300,r=300,n=i.x*s,o=a.currentX+n,l=i.y*r,d=a.currentY+l;0!==i.x&&(s=Math.abs((o-a.currentX)/i.x)),0!==i.y&&(r=Math.abs((d-a.currentY)/i.y));var p=Math.max(s,r);a.currentX=o,a.currentY=d;var c=a.width*e.scale,u=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-u/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(p).transform(\"translate3d(\"+a.currentX+\"px, \"+a.currentY+\"px,0)\")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform(\"translate3d(0,0,0) scale(1)\"),t.$imageWrapEl.transform(\"translate3d(0,0,0)\"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,a,i,s,r,n,o,l,d,p,c,u,h,v,f,m,g=this,b=g.zoom,w=g.params.zoom,y=b.gesture,x=b.image;(y.$slideEl||(y.$slideEl=g.clickedSlide?L(g.clickedSlide):g.slides.eq(g.activeIndex),y.$imageEl=y.$slideEl.find(\"img, svg, canvas\"),y.$imageWrapEl=y.$imageEl.parent(\".\"+w.containerClass)),y.$imageEl&&0!==y.$imageEl.length)&&(y.$slideEl.addClass(\"\"+w.zoomedSlideClass),void 0===x.touchesStart.x&&e?(t=\"touchend\"===e.type?e.changedTouches[0].pageX:e.pageX,a=\"touchend\"===e.type?e.changedTouches[0].pageY:e.pageY):(t=x.touchesStart.x,a=x.touchesStart.y),b.scale=y.$imageWrapEl.attr(\"data-swiper-zoom\")||w.maxRatio,b.currentScale=y.$imageWrapEl.attr(\"data-swiper-zoom\")||w.maxRatio,e?(f=y.$slideEl[0].offsetWidth,m=y.$slideEl[0].offsetHeight,i=y.$slideEl.offset().left+f/2-t,s=y.$slideEl.offset().top+m/2-a,o=y.$imageEl[0].offsetWidth,l=y.$imageEl[0].offsetHeight,d=o*b.scale,p=l*b.scale,h=-(c=Math.min(f/2-d/2,0)),v=-(u=Math.min(m/2-p/2,0)),(r=i*b.scale)<c&&(r=c),h<r&&(r=h),(n=s*b.scale)<u&&(n=u),v<n&&(n=v)):n=r=0,y.$imageWrapEl.transition(300).transform(\"translate3d(\"+r+\"px, \"+n+\"px,0)\"),y.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\"+b.scale+\")\"))},out:function(){var e=this,t=e.zoom,a=e.params.zoom,i=t.gesture;i.$slideEl||(i.$slideEl=e.clickedSlide?L(e.clickedSlide):e.slides.eq(e.activeIndex),i.$imageEl=i.$slideEl.find(\"img, svg, canvas\"),i.$imageWrapEl=i.$imageEl.parent(\".\"+a.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform(\"translate3d(0,0,0)\"),i.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(1)\"),i.$slideEl.removeClass(\"\"+a.zoomedSlideClass),i.$slideEl=void 0)},enable:function(){var e=this,t=e.zoom;if(!t.enabled){t.enabled=!0;var a=!(\"touchstart\"!==e.touchEvents.start||!te.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};te.gestures?(e.$wrapperEl.on(\"gesturestart\",\".swiper-slide\",t.onGestureStart,a),e.$wrapperEl.on(\"gesturechange\",\".swiper-slide\",t.onGestureChange,a),e.$wrapperEl.on(\"gestureend\",\".swiper-slide\",t.onGestureEnd,a)):\"touchstart\"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,\".swiper-slide\",t.onGestureStart,a),e.$wrapperEl.on(e.touchEvents.move,\".swiper-slide\",t.onGestureChange,a),e.$wrapperEl.on(e.touchEvents.end,\".swiper-slide\",t.onGestureEnd,a)),e.$wrapperEl.on(e.touchEvents.move,\".\"+e.params.zoom.containerClass,t.onTouchMove)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){e.zoom.enabled=!1;var a=!(\"touchstart\"!==e.touchEvents.start||!te.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};te.gestures?(e.$wrapperEl.off(\"gesturestart\",\".swiper-slide\",t.onGestureStart,a),e.$wrapperEl.off(\"gesturechange\",\".swiper-slide\",t.onGestureChange,a),e.$wrapperEl.off(\"gestureend\",\".swiper-slide\",t.onGestureEnd,a)):\"touchstart\"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,\".swiper-slide\",t.onGestureStart,a),e.$wrapperEl.off(e.touchEvents.move,\".swiper-slide\",t.onGestureChange,a),e.$wrapperEl.off(e.touchEvents.end,\".swiper-slide\",t.onGestureEnd,a)),e.$wrapperEl.off(e.touchEvents.move,\".\"+e.params.zoom.containerClass,t.onTouchMove)}}},Y={loadInSlide:function(e,l){void 0===l&&(l=!0);var d=this,p=d.params.lazy;if(void 0!==e&&0!==d.slides.length){var c=d.virtual&&d.params.virtual.enabled?d.$wrapperEl.children(\".\"+d.params.slideClass+'[data-swiper-slide-index=\"'+e+'\"]'):d.slides.eq(e),t=c.find(\".\"+p.elementClass+\":not(.\"+p.loadedClass+\"):not(.\"+p.loadingClass+\")\");!c.hasClass(p.elementClass)||c.hasClass(p.loadedClass)||c.hasClass(p.loadingClass)||(t=t.add(c[0])),0!==t.length&&t.each(function(e,t){var i=L(t);i.addClass(p.loadingClass);var s=i.attr(\"data-background\"),r=i.attr(\"data-src\"),n=i.attr(\"data-srcset\"),o=i.attr(\"data-sizes\");d.loadImage(i[0],r||s,n,o,!1,function(){if(null!=d&&d&&(!d||d.params)&&!d.destroyed){if(s?(i.css(\"background-image\",'url(\"'+s+'\")'),i.removeAttr(\"data-background\")):(n&&(i.attr(\"srcset\",n),i.removeAttr(\"data-srcset\")),o&&(i.attr(\"sizes\",o),i.removeAttr(\"data-sizes\")),r&&(i.attr(\"src\",r),i.removeAttr(\"data-src\"))),i.addClass(p.loadedClass).removeClass(p.loadingClass),c.find(\".\"+p.preloaderClass).remove(),d.params.loop&&l){var e=c.attr(\"data-swiper-slide-index\");if(c.hasClass(d.params.slideDuplicateClass)){var t=d.$wrapperEl.children('[data-swiper-slide-index=\"'+e+'\"]:not(.'+d.params.slideDuplicateClass+\")\");d.lazy.loadInSlide(t.index(),!1)}else{var a=d.$wrapperEl.children(\".\"+d.params.slideDuplicateClass+'[data-swiper-slide-index=\"'+e+'\"]');d.lazy.loadInSlide(a.index(),!1)}}d.emit(\"lazyImageReady\",c[0],i[0])}}),d.emit(\"lazyImageLoad\",c[0],i[0])})}},load:function(){var i=this,t=i.$wrapperEl,a=i.params,s=i.slides,e=i.activeIndex,r=i.virtual&&a.virtual.enabled,n=a.lazy,o=a.slidesPerView;function l(e){if(r){if(t.children(\".\"+a.slideClass+'[data-swiper-slide-index=\"'+e+'\"]').length)return!0}else if(s[e])return!0;return!1}function d(e){return r?L(e).attr(\"data-swiper-slide-index\"):L(e).index()}if(\"auto\"===o&&(o=0),i.lazy.initialImageLoaded||(i.lazy.initialImageLoaded=!0),i.params.watchSlidesVisibility)t.children(\".\"+a.slideVisibleClass).each(function(e,t){var a=r?L(t).attr(\"data-swiper-slide-index\"):L(t).index();i.lazy.loadInSlide(a)});else if(1<o)for(var p=e;p<e+o;p+=1)l(p)&&i.lazy.loadInSlide(p);else i.lazy.loadInSlide(e);if(n.loadPrevNext)if(1<o||n.loadPrevNextAmount&&1<n.loadPrevNextAmount){for(var c=n.loadPrevNextAmount,u=o,h=Math.min(e+u+Math.max(c,u),s.length),v=Math.max(e-Math.max(u,c),0),f=e+o;f<h;f+=1)l(f)&&i.lazy.loadInSlide(f);for(var m=v;m<e;m+=1)l(m)&&i.lazy.loadInSlide(m)}else{var g=t.children(\".\"+a.slideNextClass);0<g.length&&i.lazy.loadInSlide(d(g));var b=t.children(\".\"+a.slidePrevClass);0<b.length&&i.lazy.loadInSlide(d(b))}}},V={LinearSpline:function(e,t){var a,i,s,r,n,o=function(e,t){for(i=-1,a=e.length;1<a-i;)e[s=a+i>>1]<=t?i=s:a=s;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=o(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new V.LinearSpline(t.slidesGrid,e.slidesGrid):new V.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var a,i,s=this,r=s.controller.control;function n(e){var t=s.rtlTranslate?-s.translate:s.translate;\"slide\"===s.params.controller.by&&(s.controller.getInterpolateFunction(e),i=-s.controller.spline.interpolate(-t)),i&&\"container\"!==s.params.controller.by||(a=(e.maxTranslate()-e.minTranslate())/(s.maxTranslate()-s.minTranslate()),i=(t-s.minTranslate())*a+e.minTranslate()),s.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,s),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(var o=0;o<r.length;o+=1)r[o]!==t&&r[o]instanceof T&&n(r[o]);else r instanceof T&&t!==r&&n(r)},setTransition:function(t,e){var a,i=this,s=i.controller.control;function r(e){e.setTransition(t,i),0!==t&&(e.transitionStart(),e.params.autoHeight&&ee.nextTick(function(){e.updateAutoHeight()}),e.$wrapperEl.transitionEnd(function(){s&&(e.params.loop&&\"slide\"===i.params.controller.by&&e.loopFix(),e.transitionEnd())}))}if(Array.isArray(s))for(a=0;a<s.length;a+=1)s[a]!==e&&s[a]instanceof T&&r(s[a]);else s instanceof T&&e!==s&&r(s)}},F={makeElFocusable:function(e){return e.attr(\"tabIndex\",\"0\"),e},addElRole:function(e,t){return e.attr(\"role\",t),e},addElLabel:function(e,t){return e.attr(\"aria-label\",t),e},disableEl:function(e){return e.attr(\"aria-disabled\",!0),e},enableEl:function(e){return e.attr(\"aria-disabled\",!1),e},onEnterKey:function(e){var t=this,a=t.params.a11y;if(13===e.keyCode){var i=L(e.target);t.navigation&&t.navigation.$nextEl&&i.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(a.lastSlideMessage):t.a11y.notify(a.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&i.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(a.firstSlideMessage):t.a11y.notify(a.prevSlideMessage)),t.pagination&&i.is(\".\"+t.params.pagination.bulletClass)&&i[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(\"\"),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;i&&0<i.length&&(e.isBeginning?e.a11y.disableEl(i):e.a11y.enableEl(i)),a&&0<a.length&&(e.isEnd?e.a11y.disableEl(a):e.a11y.enableEl(a))}},updatePagination:function(){var i=this,s=i.params.a11y;i.pagination&&i.params.pagination.clickable&&i.pagination.bullets&&i.pagination.bullets.length&&i.pagination.bullets.each(function(e,t){var a=L(t);i.a11y.makeElFocusable(a),i.a11y.addElRole(a,\"button\"),i.a11y.addElLabel(a,s.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},init:function(){var e=this;e.$el.append(e.a11y.liveRegion);var t,a,i=e.params.a11y;e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),t&&(e.a11y.makeElFocusable(t),e.a11y.addElRole(t,\"button\"),e.a11y.addElLabel(t,i.nextSlideMessage),t.on(\"keydown\",e.a11y.onEnterKey)),a&&(e.a11y.makeElFocusable(a),e.a11y.addElRole(a,\"button\"),e.a11y.addElLabel(a,i.prevSlideMessage),a.on(\"keydown\",e.a11y.onEnterKey)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on(\"keydown\",\".\"+e.params.pagination.bulletClass,e.a11y.onEnterKey)},destroy:function(){var e,t,a=this;a.a11y.liveRegion&&0<a.a11y.liveRegion.length&&a.a11y.liveRegion.remove(),a.navigation&&a.navigation.$nextEl&&(e=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(t=a.navigation.$prevEl),e&&e.off(\"keydown\",a.a11y.onEnterKey),t&&t.off(\"keydown\",a.a11y.onEnterKey),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.off(\"keydown\",\".\"+a.params.pagination.bulletClass,a.a11y.onEnterKey)}},R={init:function(){var e=this;if(e.params.history){if(!J.history||!J.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var t=e.history;t.initialized=!0,t.paths=R.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||J.addEventListener(\"popstate\",e.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||J.removeEventListener(\"popstate\",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=R.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=J.location.pathname.slice(1).split(\"/\").filter(function(e){return\"\"!==e}),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(this.history.initialized&&this.params.history.enabled){var a=this.slides.eq(t),i=R.slugify(a.attr(\"data-history\"));J.location.pathname.includes(e)||(i=e+\"/\"+i);var s=J.history.state;s&&s.value===i||(this.params.history.replaceState?J.history.replaceState({value:i},null,i):J.history.pushState({value:i},null,i))}},slugify:function(e){return e.toString().replace(/\\s+/g,\"-\").replace(/[^\\w-]+/g,\"\").replace(/--+/g,\"-\").replace(/^-+/,\"\").replace(/-+$/,\"\")},scrollToSlide:function(e,t,a){var i=this;if(t)for(var s=0,r=i.slides.length;s<r;s+=1){var n=i.slides.eq(s);if(R.slugify(n.attr(\"data-history\"))===t&&!n.hasClass(i.params.slideDuplicateClass)){var o=n.index();i.slideTo(o,e,a)}}else i.slideTo(0,e,a)}},q={onHashCange:function(){var e=this,t=f.location.hash.replace(\"#\",\"\");if(t!==e.slides.eq(e.activeIndex).attr(\"data-hash\")){var a=e.$wrapperEl.children(\".\"+e.params.slideClass+'[data-hash=\"'+t+'\"]').index();if(void 0===a)return;e.slideTo(a)}},setHash:function(){var e=this;if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&J.history&&J.history.replaceState)J.history.replaceState(null,null,\"#\"+e.slides.eq(e.activeIndex).attr(\"data-hash\")||\"\");else{var t=e.slides.eq(e.activeIndex),a=t.attr(\"data-hash\")||t.attr(\"data-history\");f.location.hash=a||\"\"}},init:function(){var e=this;if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var t=f.location.hash.replace(\"#\",\"\");if(t)for(var a=0,i=e.slides.length;a<i;a+=1){var s=e.slides.eq(a);if((s.attr(\"data-hash\")||s.attr(\"data-history\"))===t&&!s.hasClass(e.params.slideDuplicateClass)){var r=s.index();e.slideTo(r,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&L(J).on(\"hashchange\",e.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&L(J).off(\"hashchange\",this.hashNavigation.onHashCange)}},W={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr(\"data-swiper-autoplay\")&&(a=t.attr(\"data-swiper-autoplay\")||e.params.autoplay.delay),e.autoplay.timeout=ee.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit(\"autoplay\")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit(\"autoplay\")):(e.slidePrev(e.params.speed,!0,!0),e.emit(\"autoplay\")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit(\"autoplay\")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit(\"autoplay\")):(e.slideNext(e.params.speed,!0,!0),e.emit(\"autoplay\"))},a)},start:function(){var e=this;return void 0===e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit(\"autoplayStart\"),e.autoplay.run(),!0))},stop:function(){var e=this;return!!e.autoplay.running&&(void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit(\"autoplayStop\"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener(\"transitionend\",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))}},j={setTranslate:function(){for(var e=this,t=e.slides,a=0;a<t.length;a+=1){var i=e.slides.eq(a),s=-i[0].swiperSlideOffset;e.params.virtualTranslate||(s-=e.translate);var r=0;e.isHorizontal()||(r=s,s=0);var n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:n}).transform(\"translate3d(\"+s+\"px, \"+r+\"px, 0px)\")}},setTransition:function(e){var a=this,t=a.slides,i=a.$wrapperEl;if(t.transition(e),a.params.virtualTranslate&&0!==e){var s=!1;t.transitionEnd(function(){if(!s&&a&&!a.destroyed){s=!0,a.animating=!1;for(var e=[\"webkitTransitionEnd\",\"transitionend\"],t=0;t<e.length;t+=1)i.trigger(e[t])}})}}},U={setTranslate:function(){var e,t=this,a=t.$el,i=t.$wrapperEl,s=t.slides,r=t.width,n=t.height,o=t.rtlTranslate,l=t.size,d=t.params.cubeEffect,p=t.isHorizontal(),c=t.virtual&&t.params.virtual.enabled,u=0;d.shadow&&(p?(0===(e=i.find(\".swiper-cube-shadow\")).length&&(e=L('<div class=\"swiper-cube-shadow\"></div>'),i.append(e)),e.css({height:r+\"px\"})):0===(e=a.find(\".swiper-cube-shadow\")).length&&(e=L('<div class=\"swiper-cube-shadow\"></div>'),a.append(e)));for(var h=0;h<s.length;h+=1){var v=s.eq(h),f=h;c&&(f=parseInt(v.attr(\"data-swiper-slide-index\"),10));var m=90*f,g=Math.floor(m/360);o&&(m=-m,g=Math.floor(-m/360));var b=Math.max(Math.min(v[0].progress,1),-1),w=0,y=0,x=0;f%4==0?(w=4*-g*l,x=0):(f-1)%4==0?(w=0,x=4*-g*l):(f-2)%4==0?(w=l+4*g*l,x=l):(f-3)%4==0&&(w=-l,x=3*l+4*l*g),o&&(w=-w),p||(y=w,w=0);var T=\"rotateX(\"+(p?0:-m)+\"deg) rotateY(\"+(p?m:0)+\"deg) translate3d(\"+w+\"px, \"+y+\"px, \"+x+\"px)\";if(b<=1&&-1<b&&(u=90*f+90*b,o&&(u=90*-f-90*b)),v.transform(T),d.slideShadows){var E=p?v.find(\".swiper-slide-shadow-left\"):v.find(\".swiper-slide-shadow-top\"),S=p?v.find(\".swiper-slide-shadow-right\"):v.find(\".swiper-slide-shadow-bottom\");0===E.length&&(E=L('<div class=\"swiper-slide-shadow-'+(p?\"left\":\"top\")+'\"></div>'),v.append(E)),0===S.length&&(S=L('<div class=\"swiper-slide-shadow-'+(p?\"right\":\"bottom\")+'\"></div>'),v.append(S)),E.length&&(E[0].style.opacity=Math.max(-b,0)),S.length&&(S[0].style.opacity=Math.max(b,0))}}if(i.css({\"-webkit-transform-origin\":\"50% 50% -\"+l/2+\"px\",\"-moz-transform-origin\":\"50% 50% -\"+l/2+\"px\",\"-ms-transform-origin\":\"50% 50% -\"+l/2+\"px\",\"transform-origin\":\"50% 50% -\"+l/2+\"px\"}),d.shadow)if(p)e.transform(\"translate3d(0px, \"+(r/2+d.shadowOffset)+\"px, \"+-r/2+\"px) rotateX(90deg) rotateZ(0deg) scale(\"+d.shadowScale+\")\");else{var C=Math.abs(u)-90*Math.floor(Math.abs(u)/90),M=1.5-(Math.sin(2*C*Math.PI/360)/2+Math.cos(2*C*Math.PI/360)/2),z=d.shadowScale,P=d.shadowScale/M,k=d.shadowOffset;e.transform(\"scale3d(\"+z+\", 1, \"+P+\") translate3d(0px, \"+(n/2+k)+\"px, \"+-n/2/P+\"px) rotateX(-90deg)\")}var $=I.isSafari||I.isUiWebView?-l/2:0;i.transform(\"translate3d(0px,0,\"+$+\"px) rotateX(\"+(t.isHorizontal()?0:u)+\"deg) rotateY(\"+(t.isHorizontal()?-u:0)+\"deg)\")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(\".swiper-cube-shadow\").transition(e)}},K={setTranslate:function(){for(var e=this,t=e.slides,a=e.rtlTranslate,i=0;i<t.length;i+=1){var s=t.eq(i),r=s[0].progress;e.params.flipEffect.limitRotation&&(r=Math.max(Math.min(s[0].progress,1),-1));var n=-180*r,o=0,l=-s[0].swiperSlideOffset,d=0;if(e.isHorizontal()?a&&(n=-n):(d=l,o=-n,n=l=0),s[0].style.zIndex=-Math.abs(Math.round(r))+t.length,e.params.flipEffect.slideShadows){var p=e.isHorizontal()?s.find(\".swiper-slide-shadow-left\"):s.find(\".swiper-slide-shadow-top\"),c=e.isHorizontal()?s.find(\".swiper-slide-shadow-right\"):s.find(\".swiper-slide-shadow-bottom\");0===p.length&&(p=L('<div class=\"swiper-slide-shadow-'+(e.isHorizontal()?\"left\":\"top\")+'\"></div>'),s.append(p)),0===c.length&&(c=L('<div class=\"swiper-slide-shadow-'+(e.isHorizontal()?\"right\":\"bottom\")+'\"></div>'),s.append(c)),p.length&&(p[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}s.transform(\"translate3d(\"+l+\"px, \"+d+\"px, 0px) rotateX(\"+o+\"deg) rotateY(\"+n+\"deg)\")}},setTransition:function(e){var a=this,t=a.slides,i=a.activeIndex,s=a.$wrapperEl;if(t.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e),a.params.virtualTranslate&&0!==e){var r=!1;t.eq(i).transitionEnd(function(){if(!r&&a&&!a.destroyed){r=!0,a.animating=!1;for(var e=[\"webkitTransitionEnd\",\"transitionend\"],t=0;t<e.length;t+=1)s.trigger(e[t])}})}}},_={setTranslate:function(){for(var e=this,t=e.width,a=e.height,i=e.slides,s=e.$wrapperEl,r=e.slidesSizesGrid,n=e.params.coverflowEffect,o=e.isHorizontal(),l=e.translate,d=o?t/2-l:a/2-l,p=o?n.rotate:-n.rotate,c=n.depth,u=0,h=i.length;u<h;u+=1){var v=i.eq(u),f=r[u],m=(d-v[0].swiperSlideOffset-f/2)/f*n.modifier,g=o?p*m:0,b=o?0:p*m,w=-c*Math.abs(m),y=o?0:n.stretch*m,x=o?n.stretch*m:0;Math.abs(x)<.001&&(x=0),Math.abs(y)<.001&&(y=0),Math.abs(w)<.001&&(w=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0);var T=\"translate3d(\"+x+\"px,\"+y+\"px,\"+w+\"px)  rotateX(\"+b+\"deg) rotateY(\"+g+\"deg)\";if(v.transform(T),v[0].style.zIndex=1-Math.abs(Math.round(m)),n.slideShadows){var E=o?v.find(\".swiper-slide-shadow-left\"):v.find(\".swiper-slide-shadow-top\"),S=o?v.find(\".swiper-slide-shadow-right\"):v.find(\".swiper-slide-shadow-bottom\");0===E.length&&(E=L('<div class=\"swiper-slide-shadow-'+(o?\"left\":\"top\")+'\"></div>'),v.append(E)),0===S.length&&(S=L('<div class=\"swiper-slide-shadow-'+(o?\"right\":\"bottom\")+'\"></div>'),v.append(S)),E.length&&(E[0].style.opacity=0<m?m:0),S.length&&(S[0].style.opacity=0<-m?-m:0)}}(te.pointerEvents||te.prefixedPointerEvents)&&(s[0].style.perspectiveOrigin=d+\"px 50%\")},setTransition:function(e){this.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e)}},Z={init:function(){var e=this,t=e.params.thumbs,a=e.constructor;t.swiper instanceof a?(e.thumbs.swiper=t.swiper,ee.extend(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),ee.extend(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):ee.isObject(t.swiper)&&(e.thumbs.swiper=new a(ee.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on(\"tap\",e.thumbs.onThumbClick)},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var a=t.clickedIndex,i=t.clickedSlide;if(!(i&&L(i).hasClass(e.params.thumbs.slideThumbActiveClass)||null==a)){var s;if(s=t.params.loop?parseInt(L(t.clickedSlide).attr(\"data-swiper-slide-index\"),10):a,e.params.loop){var r=e.activeIndex;e.slides.eq(r).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,r=e.activeIndex);var n=e.slides.eq(r).prevAll('[data-swiper-slide-index=\"'+s+'\"]').eq(0).index(),o=e.slides.eq(r).nextAll('[data-swiper-slide-index=\"'+s+'\"]').eq(0).index();s=void 0===n?o:void 0===o?n:o-r<r-n?o:n}e.slideTo(s)}}},update:function(e){var t=this,a=t.thumbs.swiper;if(a){var i=\"auto\"===a.params.slidesPerView?a.slidesPerViewDynamic():a.params.slidesPerView;if(t.realIndex!==a.realIndex){var s,r=a.activeIndex;if(a.params.loop){a.slides.eq(r).hasClass(a.params.slideDuplicateClass)&&(a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft,r=a.activeIndex);var n=a.slides.eq(r).prevAll('[data-swiper-slide-index=\"'+t.realIndex+'\"]').eq(0).index(),o=a.slides.eq(r).nextAll('[data-swiper-slide-index=\"'+t.realIndex+'\"]').eq(0).index();s=void 0===n?o:void 0===o?n:o-r==r-n?r:o-r<r-n?o:n}else s=t.realIndex;a.visibleSlidesIndexes.indexOf(s)<0&&(a.params.centeredSlides?s=r<s?s-Math.floor(i/2)+1:s+Math.floor(i/2)-1:r<s&&(s=s-i+1),a.slideTo(s,e?0:void 0))}var l=1,d=t.params.thumbs.slideThumbActiveClass;if(1<t.params.slidesPerView&&!t.params.centeredSlides&&(l=t.params.slidesPerView),a.slides.removeClass(d),a.params.loop)for(var p=0;p<l;p+=1)a.$wrapperEl.children('[data-swiper-slide-index=\"'+(t.realIndex+p)+'\"]').addClass(d);else for(var c=0;c<l;c+=1)a.slides.eq(t.realIndex+c).addClass(d)}}},Q=[E,S,C,M,P,$,O,{name:\"mousewheel\",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:\"container\"}},create:function(){var e=this;ee.extend(e,{mousewheel:{enabled:!1,enable:A.enable.bind(e),disable:A.disable.bind(e),handle:A.handle.bind(e),handleMouseEnter:A.handleMouseEnter.bind(e),handleMouseLeave:A.handleMouseLeave.bind(e),lastScrollTime:ee.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:\"navigation\",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:\"swiper-button-disabled\",hiddenClass:\"swiper-button-hidden\",lockClass:\"swiper-button-lock\"}},create:function(){var e=this;ee.extend(e,{navigation:{init:H.init.bind(e),update:H.update.bind(e),destroy:H.destroy.bind(e),onNextClick:H.onNextClick.bind(e),onPrevClick:H.onPrevClick.bind(e)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(e){var t,a=this,i=a.navigation,s=i.$nextEl,r=i.$prevEl;!a.params.navigation.hideOnClick||L(e.target).is(r)||L(e.target).is(s)||(s?t=s.hasClass(a.params.navigation.hiddenClass):r&&(t=r.hasClass(a.params.navigation.hiddenClass)),!0===t?a.emit(\"navigationShow\",a):a.emit(\"navigationHide\",a),s&&s.toggleClass(a.params.navigation.hiddenClass),r&&r.toggleClass(a.params.navigation.hiddenClass))}}},{name:\"pagination\",params:{pagination:{el:null,bulletElement:\"span\",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:\"bullets\",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:\"swiper-pagination-bullet\",bulletActiveClass:\"swiper-pagination-bullet-active\",modifierClass:\"swiper-pagination-\",currentClass:\"swiper-pagination-current\",totalClass:\"swiper-pagination-total\",hiddenClass:\"swiper-pagination-hidden\",progressbarFillClass:\"swiper-pagination-progressbar-fill\",progressbarOppositeClass:\"swiper-pagination-progressbar-opposite\",clickableClass:\"swiper-pagination-clickable\",lockClass:\"swiper-pagination-lock\"}},create:function(){var e=this;ee.extend(e,{pagination:{init:N.init.bind(e),render:N.render.bind(e),update:N.update.bind(e),destroy:N.destroy.bind(e),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(e){var t=this;t.params.pagination.el&&t.params.pagination.hideOnClick&&0<t.pagination.$el.length&&!L(e.target).hasClass(t.params.pagination.bulletClass)&&(!0===t.pagination.$el.hasClass(t.params.pagination.hiddenClass)?t.emit(\"paginationShow\",t):t.emit(\"paginationHide\",t),t.pagination.$el.toggleClass(t.params.pagination.hiddenClass))}}},{name:\"scrollbar\",params:{scrollbar:{el:null,dragSize:\"auto\",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:\"swiper-scrollbar-lock\",dragClass:\"swiper-scrollbar-drag\"}},create:function(){var e=this;ee.extend(e,{scrollbar:{init:G.init.bind(e),destroy:G.destroy.bind(e),updateSize:G.updateSize.bind(e),setTranslate:G.setTranslate.bind(e),setTransition:G.setTransition.bind(e),enableDraggable:G.enableDraggable.bind(e),disableDraggable:G.disableDraggable.bind(e),setDragPosition:G.setDragPosition.bind(e),onDragStart:G.onDragStart.bind(e),onDragMove:G.onDragMove.bind(e),onDragEnd:G.onDragEnd.bind(e),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:\"parallax\",params:{parallax:{enabled:!1}},create:function(){ee.extend(this,{parallax:{setTransform:B.setTransform.bind(this),setTranslate:B.setTranslate.bind(this),setTransition:B.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax.enabled&&this.parallax.setTransition(e)}}},{name:\"zoom\",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:\"swiper-zoom-container\",zoomedSlideClass:\"swiper-slide-zoomed\"}},create:function(){var i=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};\"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out\".split(\" \").forEach(function(e){t[e]=X[e].bind(i)}),ee.extend(i,{zoom:t});var s=1;Object.defineProperty(i.zoom,\"scale\",{get:function(){return s},set:function(e){if(s!==e){var t=i.zoom.gesture.$imageEl?i.zoom.gesture.$imageEl[0]:void 0,a=i.zoom.gesture.$slideEl?i.zoom.gesture.$slideEl[0]:void 0;i.emit(\"zoomChange\",e,t,a)}s=e}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:\"lazy\",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:\"swiper-lazy\",loadingClass:\"swiper-lazy-loading\",loadedClass:\"swiper-lazy-loaded\",preloaderClass:\"swiper-lazy-preloader\"}},create:function(){ee.extend(this,{lazy:{initialImageLoaded:!1,load:Y.load.bind(this),loadInSlide:Y.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){var e=this;e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:\"controller\",params:{controller:{control:void 0,inverse:!1,by:\"slide\"}},create:function(){var e=this;ee.extend(e,{controller:{control:e.params.controller.control,getInterpolateFunction:V.getInterpolateFunction.bind(e),setTranslate:V.setTranslate.bind(e),setTransition:V.setTransition.bind(e)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:\"a11y\",params:{a11y:{enabled:!0,notificationClass:\"swiper-notification\",prevSlideMessage:\"Previous slide\",nextSlideMessage:\"Next slide\",firstSlideMessage:\"This is the first slide\",lastSlideMessage:\"This is the last slide\",paginationBulletMessage:\"Go to slide {{index}}\"}},create:function(){var t=this;ee.extend(t,{a11y:{liveRegion:L('<span class=\"'+t.params.a11y.notificationClass+'\" aria-live=\"assertive\" aria-atomic=\"true\"></span>')}}),Object.keys(F).forEach(function(e){t.a11y[e]=F[e].bind(t)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:\"history\",params:{history:{enabled:!1,replaceState:!1,key:\"slides\"}},create:function(){var e=this;ee.extend(e,{history:{init:R.init.bind(e),setHistory:R.setHistory.bind(e),setHistoryPopState:R.setHistoryPopState.bind(e),scrollToSlide:R.scrollToSlide.bind(e),destroy:R.destroy.bind(e)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:\"hash-navigation\",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){var e=this;ee.extend(e,{hashNavigation:{initialized:!1,init:q.init.bind(e),destroy:q.destroy.bind(e),setHash:q.setHash.bind(e),onHashCange:q.onHashCange.bind(e)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:\"autoplay\",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var t=this;ee.extend(t,{autoplay:{running:!1,paused:!1,run:W.run.bind(t),start:W.start.bind(t),stop:W.stop.bind(t),pause:W.pause.bind(t),onTransitionEnd:function(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===this&&(t.$wrapperEl[0].removeEventListener(\"transitionend\",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:\"effect-fade\",params:{fadeEffect:{crossFade:!1}},create:function(){ee.extend(this,{fadeEffect:{setTranslate:j.setTranslate.bind(this),setTransition:j.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;if(\"fade\"===e.params.effect){e.classNames.push(e.params.containerModifierClass+\"fade\");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};ee.extend(e.params,t),ee.extend(e.originalParams,t)}},setTranslate:function(){\"fade\"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){\"fade\"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:\"effect-cube\",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){ee.extend(this,{cubeEffect:{setTranslate:U.setTranslate.bind(this),setTransition:U.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;if(\"cube\"===e.params.effect){e.classNames.push(e.params.containerModifierClass+\"cube\"),e.classNames.push(e.params.containerModifierClass+\"3d\");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};ee.extend(e.params,t),ee.extend(e.originalParams,t)}},setTranslate:function(){\"cube\"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){\"cube\"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:\"effect-flip\",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){ee.extend(this,{flipEffect:{setTranslate:K.setTranslate.bind(this),setTransition:K.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;if(\"flip\"===e.params.effect){e.classNames.push(e.params.containerModifierClass+\"flip\"),e.classNames.push(e.params.containerModifierClass+\"3d\");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};ee.extend(e.params,t),ee.extend(e.originalParams,t)}},setTranslate:function(){\"flip\"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){\"flip\"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:\"effect-coverflow\",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){ee.extend(this,{coverflowEffect:{setTranslate:_.setTranslate.bind(this),setTransition:_.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;\"coverflow\"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+\"coverflow\"),e.classNames.push(e.params.containerModifierClass+\"3d\"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(){\"coverflow\"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){\"coverflow\"===this.params.effect&&this.coverflowEffect.setTransition(e)}}},{name:\"thumbs\",params:{thumbs:{swiper:null,slideThumbActiveClass:\"swiper-slide-thumb-active\",thumbsContainerClass:\"swiper-container-thumbs\"}},create:function(){ee.extend(this,{thumbs:{swiper:null,init:Z.init.bind(this),update:Z.update.bind(this),onThumbClick:Z.onThumbClick.bind(this)}})},on:{beforeInit:function(){var e=this.params.thumbs;e&&e.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(e){var t=this.thumbs.swiper;t&&t.setTransition(e)},beforeDestroy:function(){var e=this.thumbs.swiper;e&&this.thumbs.swiperCreated&&e&&e.destroy()}}}];return void 0===T.use&&(T.use=T.Class.use,T.installModule=T.Class.installModule),T.use(Q),T});\n//# sourceMappingURL=swiper.min.js.map\n"]}