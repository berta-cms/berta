window.Berta={},function(e,t){"use strict";e.sync=function(e,t,n){return n=n||"PATCH",fetch(e,{method:n,headers:{Accept:"application/json","Content-Type":"application/json"},body:"GET"===n?void 0:JSON.stringify(t)}).then(function(e){return e.json()})["catch"](function(e){console.log("Request failed:",e.message)})},e.getQueryParams=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e[0]&&(e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||""))}),t},e.getCurrentSite=function(){var e=getQueryParams();return void 0===e.site?"":e.site},e.escapeHTML=function(e){var n=t.createElement("div"),i=t.createTextNode(e);return n.appendChild(i),n.innerHTML},e.getAllTemplates=function(){var e=redux_store.getState().siteTemplates.toJSON();return Object.getOwnPropertyNames(e)};var n={templates:{}};n.load=function(){var e=t.getElementById("templateList");if(e){var n=Array.prototype.slice.call(e.querySelectorAll("script"),0);n.forEach(function(e,t){"text/template"===e.getAttribute("type")&&(this.templates[e.getAttribute("id")]=e.innerHTML)}.bind(this))}}.bind(n),n.get=function(e,t){var n=this.templates[e];return n.replace(/<\%=([^%>]+)\%>/g,function(e,n){return t[n]})}.bind(n),e.Templates=n,e.domReady=function(n){var i=!1,T=function(){t.addEventListener?(t.removeEventListener("DOMContentLoaded",E),e.removeEventListener("load",E)):(t.detachEvent("onreadystatechange",E),e.detachEvent("onload",E))},E=function(){i||!t.addEventListener&&"load"!==event.type&&"complete"!==t.readyState||(i=!0,T(),n())};if("complete"===t.readyState)n();else if(t.addEventListener)t.addEventListener("DOMContentLoaded",E),e.addEventListener("load",E);else{t.attachEvent("onreadystatechange",E),e.attachEvent("onload",E);var s=!1;try{s=null===e.frameElement&&t.documentElement}catch(r){}s&&s.doScroll&&!function S(){if(!i){try{s.doScroll("left")}catch(e){return setTimeout(S,50)}i=!0,T(),n()}}()}}}(window,document),function(e,t){"use strict";e.editables={xEditable:"xEditable",xEditableColor:"xEditableColor",xEditableSelect:"xEditableSelect",xEditableSelectRC:"xEditableSelectRC",xEditableFontSelect:"xEditableFontSelect",xEditableImage:"xEditableImage",xEditableICO:"xEditableICO",xEditableTA:"xEditableTA",xEditableMCE:"xEditableMCE",xEditableMCESimple:"xEditableMCESimple",xEditableRC:"xEditableRC",xEditableYesNo:"xEditableYesNo",xEmpty:"xEmpty"},e.formats={text:editables.xEditable,longtext:editables.xEditableTA,richtext:editables.xEditableMCESimple,color:editables.xEditableColor,image:editables.xEditableImage,icon:editables.xEditableICO,select:editables.xEditableSelectRC,fontselect:editables.xEditableFontSelect}}(window,document),function(e,t){"use strict";e.ActionTypes={GET_STATE:"GET_STATE",SET_STATE:"SET_STATE",INIT_CREATE_SITE:"INIT_CREATE_SITE",CREATE_SITE:"CREATE_SITE",INIT_UPDATE_SITE:"INIT_UPDATE_SITE",UPDATE_SITE:"UPDATE_SITE",INIT_ORDER_SITES:"INIT_ORDER_SITES",ORDER_SITES:"ORDER_SITES",INIT_DELETE_SITE:"INIT_DELETE_SITE",DELETE_SITE:"DELETE_SITE",CREATE_SITE_SETTINGS:"CREATE_SITE_SETTINGS",INIT_UPDATE_SITE_SETTINGS:"INIT_UPDATE_SITE_SETTINGS",UPDATE_SITE_SETTINGS:"UPDATE_SITE_SETTINGS",RENAME_SITE_SETTINGS_SITENAME:"RENAME_SITE_SETTINGS_SITENAME",INIT_DELETE_SITE_SETTINGS:"INIT_DELETE_SITE_SETTINGS",DELETE_SITE_SETTINGS:"DELETE_SITE_SETTINGS",CREATE_SITE_TEMPLATE_SETTINGS:"CREATE_SITE_TEMPLATE_SETTINGS",INIT_UPDATE_SITE_TEMPLATE_SETTINGS:"INIT_UPDATE_SITE_TEMPLATE_SETTINGS",UPDATE_SITE_TEMPLATE_SETTINGS:"UPDATE_SITE_TEMPLATE_SETTINGS",RENAME_SITE_TEMPLATE_SETTINGS_SITENAME:"RENAME_SITE_TEMPLATE_SETTINGS_SITENAME",INIT_DELETE_SITE_TEMPLATE_SETTINGS:"INIT_DELETE_SITE_TEMPLATE_SETTINGS",DELETE_SITE_TEMPLATE_SETTINGS:"DELETE_SITE_TEMPLATE_SETTINGS",INIT_CREATE_SITE_SECTION:"INIT_CREATE_SITE_SECTION",CREATE_SITE_SECTION:"CREATE_SITE_SECTION",INIT_UPDATE_SITE_SECTION:"INIT_UPDATE_SITE_SECTION",UPDATE_SITE_SECTION:"UPDATE_SITE_SECTION",RENAME_SITE_SECTIONS_SITENAME:"RENAME_SITE_SECTIONS_SITENAME",RESET_SITE_SECTION:"RESET_SITE_SECTION",INIT_ORDER_SITE_SECTIONS:"INIT_ORDER_SITE_SECTIONS",ORDER_SITE_SECTIONS:"ORDER_SITE_SECTIONS",INIT_DELETE_SITE_SECTION:"INIT_DELETE_SITE_SECTION",DELETE_SITE_SECTION:"DELETE_SITE_SECTION",INIT_DELETE_SITE_SECTIONS:"INIT_DELETE_SITE_SECTIONS",DELETE_SITE_SECTIONS:"DELETE_SITE_SECTIONS",INIT_ORDER_SITE_SECTION_BACKGROUNDS:"INIT_ORDER_SITE_SECTION_BACKGROUNDS",ORDER_SITE_SECTION_BACKGROUNDS:"ORDER_SITE_SECTION_BACKGROUNDS",INIT_DELETE_SITE_SECTION_BACKGROUND:"INIT_DELETE_SITE_SECTION_BACKGROUND",DELETE_SITE_SECTION_BACKGROUND:"DELETE_SITE_SECTION_BACKGROUND",ADD_SECTION_TAGS:"ADD_SECTION_TAGS",ADD_SITE_SECTIONS_TAGS:"ADD_SITE_SECTIONS_TAGS",INIT_UPDATE_SECTION_TAGS:"INIT_UPDATE_SECTION_TAGS",RENAME_SECTION_TAGS:"RENAME_SECTION_TAGS",RENAME_SECTION_TAGS_SITENAME:"RENAME_SECTION_TAGS_SITENAME",DELETE_SECTION_TAGS:"DELETE_SECTION_TAGS",INIT_DELETE_SITE_SECTIONS_TAGS:"INIT_DELETE_SITE_SECTIONS_TAGS",DELETE_SITE_SECTIONS_TAGS:"DELETE_SITE_SECTIONS_TAGS"}}(window,document),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{getState:function(e){e=e?e:"0";var t="/_api/v1/state/"+e;return function(e,n){e({type:ActionTypes.GET_STATE}),sync(t,{},"GET").then(function(t){t.error_message||e(Actions.setState(t))})}},setState:function(e){return t.urls=e.urls,{type:ActionTypes.SET_STATE,state:e}}})}(window,Berta),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{initCreateSite:function(t,n){return function(i,T){i({type:ActionTypes.INIT_CREATE_SITE}),sync(e.Berta.urls.sites,{site:t},"POST").then(function(e){if(e.error_message);else{if(i(Actions.createSite(e.site)),e.settings&&i(Actions.createSiteSettings(e.site.name,e.settings)),e.sections&&e.sections.length)for(var t=0;t<e.sections.length;t++)i(Actions.createSiteSection(e.sections[t]));e.tags&&e.tags.section&&i(Actions.addSiteSectionsTags({site_name:e.site.name,tags:e.tags})),e.siteTemplateSettings&&i(Actions.createSiteTemplateSettings(e.site.name,e.siteTemplateSettings))}n(e.site)})}},createSite:function(e){return{type:ActionTypes.CREATE_SITE,data:e}},initUpdateSite:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_UPDATE_SITE}),sync(e.Berta.urls.sites,{path:t,value:n}).then(function(e){e.error_message||T(Actions.updateSite(e)),i(e)})}},updateSite:function(e){return{type:ActionTypes.UPDATE_SITE,resp:e}},renameSite:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_UPDATE_SITE}),T({type:ActionTypes.INIT_UPDATE_SITE_SECTION}),T({type:ActionTypes.INIT_UPDATE_SITE_SETTINGS}),T({type:ActionTypes.INIT_UPDATE_SITE_TEMPLATE_SETTINGS}),T({type:ActionTypes.INIT_UPDATE_SECTION_TAGS}),sync(e.Berta.urls.sites,{path:t,value:n}).then(function(e){if(e.error_message);else{t=t.split("/");var n=parseInt(t[1],10),s=E().sites.find(function(e){return e.get("order")===n});T(Actions.updateSite(e)),T(Actions.renameSiteSectionsSitename({site:s,site_name:e.value})),T(Actions.renameSiteSettingsSitename({site:s,site_name:e.value})),T(Actions.renameSiteTemplateSettingsSitename({site:s,site_name:e.value})),T(Actions.renameSectionTagsSitename({site:s,site_name:e.value}))}i(e)})}},initOrderSites:function(t,n){return function(i,T){i({type:ActionTypes.INIT_ORDER_SITES}),sync(e.Berta.urls.sites,t,"PUT").then(function(e){e.error_message||i(Actions.orderSites(t)),n(e)})}},orderSites:function(e){return{type:ActionTypes.ORDER_SITES,resp:e}},initdeleteSite:function(t,n){return function(i,T){i({type:ActionTypes.INIT_DELETE_SITE}),i({type:ActionTypes.INIT_DELETE_SITE_SECTIONS}),i({type:ActionTypes.INIT_DELETE_SITE_SETTINGS}),i({type:ActionTypes.INIT_DELETE_SITE_TEMPLATE_SETTINGS}),i({type:ActionTypes.INIT_DELETE_SITE_SECTIONS_TAGS}),sync(e.Berta.urls.sites,{site:t},"DELETE").then(function(e){e.error_message||(i(Actions.deleteSite(e)),i(Actions.deleteSiteSections({site_name:e.name})),i(Actions.deleteSiteSettings({site_name:e.name})),i(Actions.deleteSiteTemplateSettings({site_name:e.name})),i(Actions.deleteSiteSectionsTags({site_name:e.name}))),n(e)})}},deleteSite:function(e){return{type:ActionTypes.DELETE_SITE,resp:e}}})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{sites:function(e,t){var n,i,T;switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Sites SET_STATE reducer:",t),Immutable.fromJS(t.state.sites);case ActionTypes.CREATE_SITE:return console.log("Sites reducer:",t),e.set(e.size,Immutable.fromJS(t.data));case ActionTypes.UPDATE_SITE:console.log("Sites reducer:",t),n=t.resp.path.split("/"),T=parseInt(n[1],10),i=t.resp.value;var E=n.slice(2);return e.map(function(e){return e.get("order")===T&&e.getIn(E)!==i?e.setIn(E,i):e});case ActionTypes.ORDER_SITES:return e.map(function(e){var n=e.get("name");""===n&&(n="0");var i=t.resp.indexOf(n);return e.get("order")!==i?e.set("order",i):e});case ActionTypes.DELETE_SITE:return console.log("Sites reducer:",t),e.filter(function(e){return e.get("name")!==t.resp.name}).map(function(e,t){return e.get("order")!==t?e.set("order",t):e});default:return e}}})}(window,document),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{createSiteSettings:function(e,t){return{type:ActionTypes.CREATE_SITE_SETTINGS,site_name:e,data:t}},initUpdateSiteSettings:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_UPDATE_SITE_SETTINGS}),sync(e.Berta.urls.siteSettings,{path:t,value:n}).then(function(e){e.error_message||T(Actions.updateSiteSettings(e)),i(e)})}},updateSiteSettings:function(e){return{type:ActionTypes.UPDATE_SITE_SETTINGS,resp:e}},renameSiteSettingsSitename:function(e){return{type:ActionTypes.RENAME_SITE_SETTINGS_SITENAME,data:e}},deleteSiteSettings:function(e){return{type:ActionTypes.DELETE_SITE_SETTINGS,data:e}}})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{siteSettings:function(e,t){switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Site settings reducer:",t),Immutable.fromJS(t.state.site_settings);case ActionTypes.CREATE_SITE_SETTINGS:return e.setIn([t.site_name],Immutable.fromJS(t.data));case ActionTypes.UPDATE_SITE_SETTINGS:console.log("Settings reducer:",t);var n=t.resp.path.split("/").slice(2),i=t.resp.value;return e.setIn([t.resp.site,n[0],n[1]],i);case ActionTypes.RENAME_SITE_SETTINGS_SITENAME:var T=t.data.site.get("name");return e.mapKeys(function(e){return e===T?t.data.site_name:e});case ActionTypes.DELETE_SITE_SETTINGS:return e.filter(function(e,n){return n!==t.data.site_name});default:return e}}})}(window,document),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{createSiteTemplateSettings:function(e,t){return{type:ActionTypes.CREATE_SITE_TEMPLATE_SETTINGS,site_name:e,data:t}},initUpdateSiteTemplateSettings:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_UPDATE_SITE_TEMPLATE_SETTINGS}),sync(e.Berta.urls.siteTemplateSettings,{path:t,value:n}).then(function(e){e.error_message||T(Actions.updateSiteTemplateSettings(e)),i(e)})}},updateSiteTemplateSettings:function(e){return{type:ActionTypes.UPDATE_SITE_TEMPLATE_SETTINGS,resp:e}},renameSiteTemplateSettingsSitename:function(e){return{type:ActionTypes.RENAME_SITE_TEMPLATE_SETTINGS_SITENAME,data:e}},deleteSiteTemplateSettings:function(e){return{type:ActionTypes.DELETE_SITE_TEMPLATE_SETTINGS,data:e}}})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{siteTemplateSettings:function(e,t){switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Site template settings reducer:",t),Immutable.fromJS(t.state.site_template_settings);case ActionTypes.CREATE_SITE_TEMPLATE_SETTINGS:return e.setIn([t.site_name],Immutable.fromJS(t.data));case ActionTypes.UPDATE_SITE_TEMPLATE_SETTINGS:console.log("Template settings reducer:",t);var n=t.resp.path.split("/").slice(2),i=t.resp.value;return e.setIn([t.resp.site,n[0],n[1],n[2]],i);case ActionTypes.RENAME_SITE_TEMPLATE_SETTINGS_SITENAME:var T=t.data.site.get("name");return e.mapKeys(function(e){return e===T?t.data.site_name:e});case ActionTypes.DELETE_SITE_TEMPLATE_SETTINGS:return e.filter(function(e,n){return n!==t.data.site_name});default:return e}}})}(window,document),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{initCreateSiteSection:function(t,n,i,T){return function(E,s){E({type:ActionTypes.INIT_CREATE_SITE_SECTION}),E({type:ActionTypes.INIT_UPDATE_SECTION_TAGS}),sync(e.Berta.urls.siteSections,{site:t,name:n,title:i},"POST").then(function(e){e.error_message||(E(Actions.createSiteSection(e.section)),e.tags&&E(Actions.addSectionTags({site_name:t,tags:e.tags}))),T(e.section)})}},createSiteSection:function(e){return{type:ActionTypes.CREATE_SITE_SECTION,resp:e}},initUpdateSiteSection:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_UPDATE_SITE_SECTION}),sync(e.Berta.urls.siteSections,{path:t,value:n}).then(function(e){e.error_message||T(Actions.updateSiteSection(e)),i(e)})}},updateSiteSection:function(e){return{type:ActionTypes.UPDATE_SITE_SECTION,resp:e}},initRenameSiteSection:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_UPDATE_SITE_SECTION}),T({type:ActionTypes.INIT_UPDATE_SECTION_TAGS}),sync(e.Berta.urls.siteSections,{path:t,value:n}).then(function(e){e.error_message||(T(Actions.updateSiteSection(e)),T(Actions.renameSectionTags({site_name:e.site,section_name:e.section.name,section_old_name:e.old_name}))),i(e)})}},renameSiteSectionsSitename:function(e){return{type:ActionTypes.RENAME_SITE_SECTIONS_SITENAME,data:e}},resetSiteSection:function(t,n){return function(i,T){i({type:ActionTypes.RESET_SITE_SECTION,path:t}),sync(e.Berta.urls.siteSectionsReset,{path:t}).then(function(e){e.error_message,n(e)})}},initOrderSiteSections:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_ORDER_SITE_SECTIONS}),sync(e.Berta.urls.siteSections,{site:t,sections:n},"PUT").then(function(e){e.error_message||T(Actions.orderSiteSections({site:t,sections:n})),i(e)})}},orderSiteSections:function(e){return{type:ActionTypes.ORDER_SITE_SECTIONS,resp:e}},initDeleteSiteSection:function(t,n,i){return function(T,E){T({type:ActionTypes.INIT_DELETE_SITE_SECTION}),T({type:ActionTypes.INIT_UPDATE_SECTION_TAGS}),sync(e.Berta.urls.siteSections,{site:t,section:n},"DELETE").then(function(e){e.error_message||(T(Actions.deleteSiteSection(e)),T(Actions.deleteSectionTags({site_name:e.site,section_name:e.name}))),i(e)})}},deleteSiteSection:function(e){return{type:ActionTypes.DELETE_SITE_SECTION,resp:e}},deleteSiteSections:function(e){return{type:ActionTypes.DELETE_SITE_SECTIONS,data:e}},initOrderSiteSectionBackgrounds:function(t,n,i,T){return function(E,s){E({type:ActionTypes.INIT_ORDER_SITE_SECTION_BACKGROUNDS}),sync(e.Berta.urls.siteSectionBackgrounds,{site:t,section:n,files:i},"PUT").then(function(e){e.error_message||E(Actions.orderSiteSectionBackgrounds(e)),T(e)})}},orderSiteSectionBackgrounds:function(e){return{type:ActionTypes.ORDER_SITE_SECTION_BACKGROUNDS,resp:e}},initDeleteSiteSectionBackground:function(t,n,i,T){return function(E,s){E({type:ActionTypes.INIT_DELETE_SITE_SECTION_BACKGROUND}),sync(e.Berta.urls.siteSectionBackgrounds,{site:t,section:n,file:i},"DELETE").then(function(e){e.error_message||E(Actions.deleteSiteSectionBackground(e)),T(e)})}},deleteSiteSectionBackground:function(e){return{type:ActionTypes.DELETE_SITE_SECTION_BACKGROUND,resp:e}}})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{siteSections:function(e,t){var n,i,T,E,s;switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Sections reducer:",t),Immutable.fromJS(t.state.site_sections);case ActionTypes.CREATE_SITE_SECTION:return e.set(e.size,Immutable.fromJS(t.resp));case ActionTypes.UPDATE_SITE_SECTION:return console.log("Sections reducer:",t),n=t.resp.path.split("/"),i="0"===n[0]?"":n[0],T=parseInt(n[2],10),s=t.resp.value,E=n.slice(3),e.map(function(e){return e.get("site_name")===i&&e.get("order")===T&&e.getIn(E)!==s?e.merge(t.resp.section):e});case ActionTypes.RENAME_SITE_SECTIONS_SITENAME:var r=t.data.site.get("name");return s=t.data.site_name,e.map(function(e){return e.get("site_name")===r?e.set("site_name",s):e});case ActionTypes.RESET_SITE_SECTION:return console.log("Sections reducer:",t),n=t.path.split("/"),i="0"===n[0]?"":n[0],T=parseInt(n[2],10),E=n.slice(3),e.map(function(e){return e.get("site_name")===i&&e.get("order")===T?e.deleteIn(E):e});case ActionTypes.ORDER_SITE_SECTIONS:return e.map(function(e){if(e.get("site_name")===t.resp.site){var n=t.resp.sections.indexOf(e.get("name"));if(e.get("order")!==n)return e.set("order",n)}return e});case ActionTypes.DELETE_SITE_SECTION:return console.log("Sections reducer:",t,e),i="0"===t.resp.site?"":t.resp.site,T=-1,e.filter(function(e){return!(e.get("name")===t.resp.name&&e.get("site_name")===i)}).map(function(e){return e.get("site_name")===i&&(T++,e.get("order")!==T)?e.set("order",T):e});case ActionTypes.DELETE_SITE_SECTIONS:return e.filter(function(e){return e.get("site_name")!==t.data.site_name});case ActionTypes.ORDER_SITE_SECTION_BACKGROUNDS:return e.map(function(e){return e.get("site_name")===t.resp.site&&e.get("name")===t.resp.section?e.set("mediafolder",t.resp.mediafolder).setIn(["mediaCacheData","file"],t.resp.files):e});default:return e}}})}(window,document),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{addSiteSectionsTags:function(e){return{type:ActionTypes.ADD_SITE_SECTIONS_TAGS,data:e}},addSectionTags:function(e){return{type:ActionTypes.ADD_SECTION_TAGS,data:e}},renameSectionTags:function(e){return{type:ActionTypes.RENAME_SECTION_TAGS,data:e}},renameSectionTagsSitename:function(e){return{type:ActionTypes.RENAME_SECTION_TAGS_SITENAME,data:e}},deleteSectionTags:function(e){return{type:ActionTypes.DELETE_SECTION_TAGS,data:e}},deleteSiteSectionsTags:function(e){return{type:ActionTypes.DELETE_SITE_SECTIONS_TAGS,data:e}}})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{sectionTags:function(e,t){var n=[];switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Tags reducer:",t),Immutable.fromJS(t.state.section_tags);case ActionTypes.ADD_SITE_SECTIONS_TAGS:return e.set(t.data.site_name,t.data.tags);case ActionTypes.ADD_SECTION_TAGS:return n=t.data.site_name,e.map(function(e,i){return n===i?e.map(function(e){return e.set(e.size,Immutable.fromJS(t.data.tags))}):e});case ActionTypes.RENAME_SECTION_TAGS:return n="0"===t.data.site_name?"":t.data.site_name,e.map(function(e,i){return n===i?e.map(function(e){return e.map(function(e){return e.getIn(["@attributes","name"])===t.data.section_old_name?e.setIn(["@attributes","name"],t.data.section_name):e})}):e});case ActionTypes.RENAME_SECTION_TAGS_SITENAME:var i=t.data.site.get("name");return e.mapKeys(function(e){return e===i?t.data.site_name:e});case ActionTypes.DELETE_SECTION_TAGS:return n="0"===t.data.site_name?"":t.data.site_name,e.map(function(e,i){return n===i?e.map(function(e){return e.filter(function(e){return e.getIn(["@attributes","name"])!==t.data.section_name})}):e});case ActionTypes.DELETE_SITE_SECTIONS_TAGS:return e.filter(function(e,n){return n!==t.data.site_name});default:return e}}})}(window,document),function(e,t){"use strict";e.Actions=e.Actions||{},Object.assign(e.Actions,{})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{sectionEntries:function(e,t){switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Entries reducer:",t),Immutable.fromJS(t.state.section_entries);default:return e}}})}(window,document),function(e,t){"use strict";e.reducers=e.reducers||{},Object.assign(e.reducers,{siteTemplates:function(e,t){switch(void 0===e&&(e=Immutable.Map()),t.type){case ActionTypes.SET_STATE:return console.log("Template settings reducer:",t),Immutable.fromJS(t.state.siteTemplates);default:return e}}})}(window,document),function(e,t){"use strict";e.root_reducer=Redux.combineReducers(reducers)}(window,document),function(e,t){"use strict";domReady(Templates.load);var n=e.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Redux.compose;e.redux_store=Redux.createStore(root_reducer,{},n(Redux.applyMiddleware(ReduxThunk["default"])));var i=getCurrentSite();redux_store.dispatch(Actions.getState(i))}(window,document);
//# sourceMappingURL=maps/ng-backend.min.js.map
